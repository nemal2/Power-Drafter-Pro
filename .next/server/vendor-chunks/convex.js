"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/convex";
exports.ids = ["vendor-chunks/convex"];
exports.modules = {

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/http_client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/http_client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexHttpClient: () => (/* binding */ ConvexHttpClient),\n/* harmony export */   STATUS_CODE_BAD_REQUEST: () => (/* binding */ STATUS_CODE_BAD_REQUEST),\n/* harmony export */   STATUS_CODE_OK: () => (/* binding */ STATUS_CODE_OK),\n/* harmony export */   STATUS_CODE_UDF_FAILED: () => (/* binding */ STATUS_CODE_UDF_FAILED),\n/* harmony export */   setFetch: () => (/* binding */ setFetch)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\n\n\n\n\n\nconst STATUS_CODE_OK = 200;\nconst STATUS_CODE_BAD_REQUEST = 400;\nconst STATUS_CODE_UDF_FAILED = 560;\nlet specifiedFetch = void 0;\nfunction setFetch(f) {\n    specifiedFetch = f;\n}\nclass ConvexHttpClient {\n    /**\n   * Create a new {@link ConvexHttpClient}.\n   *\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   */ constructor(address){\n        (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.validateDeploymentUrl)(address);\n        this.address = `${address}/api`;\n        this.debug = true;\n    }\n    /**\n   * Obtain the {@link ConvexHttpClient}'s URL to its backend.\n   *\n   * @returns The URL to the Convex backend, including the client's API version.\n   */ backendUrl() {\n        return this.address;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   *\n   * Should be called whenever the token changes (i.e. due to expiration and refresh).\n   *\n   * @param value - JWT-encoded OpenID Connect identity token.\n   */ setAuth(value) {\n        this.clearAuth();\n        this.auth = value;\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token) {\n        this.clearAuth();\n        this.adminAuth = token;\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.auth = void 0;\n        this.adminAuth = void 0;\n    }\n    /**\n   * Sets whether the result log lines should be printed on the console or not.\n   *\n   * @internal\n   */ setDebug(debug) {\n        this.debug = debug;\n    }\n    /**\n   * Used to customize the fetch behavior in some runtimes.\n   *\n   * @internal\n   */ setFetchOptions(fetchOptions) {\n        this.fetchOptions = fetchOptions;\n    }\n    /**\n   * Execute a Convex query function.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ async query(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(queryArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/query`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logToConsole)(\"info\", \"query\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value, true);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex mutation function.\n   *\n   * @param name - The name of the mutation.\n   * @param args - The arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, ...args) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(mutation);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(mutationArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/mutation`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logToConsole)(\"info\", \"mutation\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value, true);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex action function.\n   *\n   * @param name - The name of the action.\n   * @param args - The arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(action, ...args) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(action);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(actionArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/action`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logToConsole)(\"info\", \"action\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value, true);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex function of an unknown type.\n   *\n   * @param name - The name of the function.\n   * @param args - The arguments object for the function. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the function's result.\n   *\n   * @internal\n   */ async function(anyFunction, ...args) {\n        const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = typeof anyFunction === \"string\" ? anyFunction : (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(anyFunction);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(functionArgs)\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/function`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logToConsole)(\"info\", \"any\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value, true);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n}\nfunction forwardErrorData(errorData, error) {\n    error.data = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(errorData);\n    return error;\n} //# sourceMappingURL=http_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaHR0cF9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFhO0FBR2E7QUFDNEM7QUFDaEM7QUFLVjtBQUNnQjtBQUNyQyxNQUFNUSxpQkFBaUIsSUFBSTtBQUMzQixNQUFNQywwQkFBMEIsSUFBSTtBQUNwQyxNQUFNQyx5QkFBeUIsSUFBSTtBQUMxQyxJQUFJQyxpQkFBaUIsS0FBSztBQUNuQixTQUFTQyxTQUFTQyxDQUFDO0lBQ3hCRixpQkFBaUJFO0FBQ25CO0FBQ08sTUFBTUM7SUFDWDs7Ozs7R0FLQyxHQUNEQyxZQUFZQyxPQUFPLENBQUU7UUFDbkJkLHVFQUFxQkEsQ0FBQ2M7UUFDdEIsSUFBSSxDQUFDQSxPQUFPLEdBQUcsQ0FBQyxFQUFFQSxRQUFRLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUNDLEtBQUssR0FBRztJQUNmO0lBQ0E7Ozs7R0FJQyxHQUNEQyxhQUFhO1FBQ1gsT0FBTyxJQUFJLENBQUNGLE9BQU87SUFDckI7SUFDQTs7Ozs7O0dBTUMsR0FDREcsUUFBUUMsS0FBSyxFQUFFO1FBQ2IsSUFBSSxDQUFDQyxTQUFTO1FBQ2QsSUFBSSxDQUFDQyxJQUFJLEdBQUdGO0lBQ2Q7SUFDQTs7R0FFQyxHQUNERyxhQUFhQyxLQUFLLEVBQUU7UUFDbEIsSUFBSSxDQUFDSCxTQUFTO1FBQ2QsSUFBSSxDQUFDSSxTQUFTLEdBQUdEO0lBQ25CO0lBQ0E7O0dBRUMsR0FDREgsWUFBWTtRQUNWLElBQUksQ0FBQ0MsSUFBSSxHQUFHLEtBQUs7UUFDakIsSUFBSSxDQUFDRyxTQUFTLEdBQUcsS0FBSztJQUN4QjtJQUNBOzs7O0dBSUMsR0FDREMsU0FBU1QsS0FBSyxFQUFFO1FBQ2QsSUFBSSxDQUFDQSxLQUFLLEdBQUdBO0lBQ2Y7SUFDQTs7OztHQUlDLEdBQ0RVLGdCQUFnQkMsWUFBWSxFQUFFO1FBQzVCLElBQUksQ0FBQ0EsWUFBWSxHQUFHQTtJQUN0QjtJQUNB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c20vYnJvd3Nlci9odHRwX2NsaWVudC5qcz82MTZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lXG59IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MsIHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIENvbnZleEVycm9yLFxuICBjb252ZXhUb0pzb24sXG4gIGpzb25Ub0NvbnZleFxufSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsb2dUb0NvbnNvbGUgfSBmcm9tIFwiLi9sb2dnaW5nLmpzXCI7XG5leHBvcnQgY29uc3QgU1RBVFVTX0NPREVfT0sgPSAyMDA7XG5leHBvcnQgY29uc3QgU1RBVFVTX0NPREVfQkFEX1JFUVVFU1QgPSA0MDA7XG5leHBvcnQgY29uc3QgU1RBVFVTX0NPREVfVURGX0ZBSUxFRCA9IDU2MDtcbmxldCBzcGVjaWZpZWRGZXRjaCA9IHZvaWQgMDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRGZXRjaChmKSB7XG4gIHNwZWNpZmllZEZldGNoID0gZjtcbn1cbmV4cG9ydCBjbGFzcyBDb252ZXhIdHRwQ2xpZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgQ29udmV4SHR0cENsaWVudH0uXG4gICAqXG4gICAqIEBwYXJhbSBhZGRyZXNzIC0gVGhlIHVybCBvZiB5b3VyIENvbnZleCBkZXBsb3ltZW50LCBvZnRlbiBwcm92aWRlZFxuICAgKiBieSBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS4gRS5nLiBgaHR0cHM6Ly9zbWFsbC1tb3VzZS0xMjMuY29udmV4LmNsb3VkYC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3MpIHtcbiAgICB2YWxpZGF0ZURlcGxveW1lbnRVcmwoYWRkcmVzcyk7XG4gICAgdGhpcy5hZGRyZXNzID0gYCR7YWRkcmVzc30vYXBpYDtcbiAgICB0aGlzLmRlYnVnID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogT2J0YWluIHRoZSB7QGxpbmsgQ29udmV4SHR0cENsaWVudH0ncyBVUkwgdG8gaXRzIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBVUkwgdG8gdGhlIENvbnZleCBiYWNrZW5kLCBpbmNsdWRpbmcgdGhlIGNsaWVudCdzIEFQSSB2ZXJzaW9uLlxuICAgKi9cbiAgYmFja2VuZFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKlxuICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSB0b2tlbiBjaGFuZ2VzIChpLmUuIGR1ZSB0byBleHBpcmF0aW9uIGFuZCByZWZyZXNoKS5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIC0gSldULWVuY29kZWQgT3BlbklEIENvbm5lY3QgaWRlbnRpdHkgdG9rZW4uXG4gICAqL1xuICBzZXRBdXRoKHZhbHVlKSB7XG4gICAgdGhpcy5jbGVhckF1dGgoKTtcbiAgICB0aGlzLmF1dGggPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRBZG1pbkF1dGgodG9rZW4pIHtcbiAgICB0aGlzLmNsZWFyQXV0aCgpO1xuICAgIHRoaXMuYWRtaW5BdXRoID0gdG9rZW47XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHRva2VuIGlmIHNldC5cbiAgICovXG4gIGNsZWFyQXV0aCgpIHtcbiAgICB0aGlzLmF1dGggPSB2b2lkIDA7XG4gICAgdGhpcy5hZG1pbkF1dGggPSB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciB0aGUgcmVzdWx0IGxvZyBsaW5lcyBzaG91bGQgYmUgcHJpbnRlZCBvbiB0aGUgY29uc29sZSBvciBub3QuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0RGVidWcoZGVidWcpIHtcbiAgICB0aGlzLmRlYnVnID0gZGVidWc7XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgdG8gY3VzdG9taXplIHRoZSBmZXRjaCBiZWhhdmlvciBpbiBzb21lIHJ1bnRpbWVzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEZldGNoT3B0aW9ucyhmZXRjaE9wdGlvbnMpIHtcbiAgICB0aGlzLmZldGNoT3B0aW9ucyA9IGZldGNoT3B0aW9ucztcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIENvbnZleCBxdWVyeSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcXVlcnkuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBxdWVyeSdzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIHF1ZXJ5KHF1ZXJ5LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24ocXVlcnlBcmdzKV1cbiAgICB9KTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YFxuICAgIH07XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBDb252ZXggJHt0aGlzLmFkbWluQXV0aH1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0aGlzLmF1dGh9YDtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChgJHt0aGlzLmFkZHJlc3N9L3F1ZXJ5YCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCJcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nVG9Db25zb2xlKFwiaW5mb1wiLCBcInF1ZXJ5XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSwgdHJ1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgbXV0YXRpb24obXV0YXRpb24sIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBtdXRhdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShtdXRhdGlvbik7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHBhdGg6IG5hbWUsXG4gICAgICBmb3JtYXQ6IFwiY29udmV4X2VuY29kZWRfanNvblwiLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXVxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgfTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYENvbnZleCAke3RoaXMuYWRtaW5BdXRofWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3RoaXMuYXV0aH1gO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2NhbEZldGNoKGAke3RoaXMuYWRkcmVzc30vbXV0YXRpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIlxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2sgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSBTVEFUVVNfQ09ERV9VREZfRkFJTEVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcEpTT04gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiByZXNwSlNPTi5sb2dMaW5lcyA/PyBbXSkge1xuICAgICAgICBsb2dUb0NvbnNvbGUoXCJpbmZvXCIsIFwibXV0YXRpb25cIiwgbmFtZSwgbGluZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAocmVzcEpTT04uc3RhdHVzKSB7XG4gICAgICBjYXNlIFwic3VjY2Vzc1wiOlxuICAgICAgICByZXR1cm4ganNvblRvQ29udmV4KHJlc3BKU09OLnZhbHVlLCB0cnVlKTtcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICBpZiAocmVzcEpTT04uZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBmb3J3YXJkRXJyb3JEYXRhKFxuICAgICAgICAgICAgcmVzcEpTT04uZXJyb3JEYXRhLFxuICAgICAgICAgICAgbmV3IENvbnZleEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgYWN0aW9uKGFjdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IGFjdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShhY3Rpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oYWN0aW9uQXJncyldXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWBcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hY3Rpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIlxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2sgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSBTVEFUVVNfQ09ERV9VREZfRkFJTEVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcEpTT04gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiByZXNwSlNPTi5sb2dMaW5lcyA/PyBbXSkge1xuICAgICAgICBsb2dUb0NvbnNvbGUoXCJpbmZvXCIsIFwiYWN0aW9uXCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSwgdHJ1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IGZ1bmN0aW9uIG9mIGFuIHVua25vd24gdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBmdW5jdGlvbi4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBmdW5jdGlvbidzIHJlc3VsdC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbihhbnlGdW5jdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IGZ1bmN0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIGFueUZ1bmN0aW9uID09PSBcInN0cmluZ1wiID8gYW55RnVuY3Rpb24gOiBnZXRGdW5jdGlvbk5hbWUoYW55RnVuY3Rpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IGNvbnZleFRvSnNvbihmdW5jdGlvbkFyZ3MpXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWBcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9mdW5jdGlvbmAsIHtcbiAgICAgIC4uLnRoaXMuZmV0Y2hPcHRpb25zLFxuICAgICAgYm9keSxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzLFxuICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vayAmJiByZXNwb25zZS5zdGF0dXMgIT09IFNUQVRVU19DT0RFX1VERl9GQUlMRUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIHJlc3BKU09OLmxvZ0xpbmVzID8/IFtdKSB7XG4gICAgICAgIGxvZ1RvQ29uc29sZShcImluZm9cIiwgXCJhbnlcIiwgbmFtZSwgbGluZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAocmVzcEpTT04uc3RhdHVzKSB7XG4gICAgICBjYXNlIFwic3VjY2Vzc1wiOlxuICAgICAgICByZXR1cm4ganNvblRvQ29udmV4KHJlc3BKU09OLnZhbHVlLCB0cnVlKTtcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICBpZiAocmVzcEpTT04uZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBmb3J3YXJkRXJyb3JEYXRhKFxuICAgICAgICAgICAgcmVzcEpTT04uZXJyb3JEYXRhLFxuICAgICAgICAgICAgbmV3IENvbnZleEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGZvcndhcmRFcnJvckRhdGEoZXJyb3JEYXRhLCBlcnJvcikge1xuICBlcnJvci5kYXRhID0ganNvblRvQ29udmV4KGVycm9yRGF0YSk7XG4gIHJldHVybiBlcnJvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBfY2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbImdldEZ1bmN0aW9uTmFtZSIsInBhcnNlQXJncyIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsInZlcnNpb24iLCJDb252ZXhFcnJvciIsImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsImxvZ1RvQ29uc29sZSIsIlNUQVRVU19DT0RFX09LIiwiU1RBVFVTX0NPREVfQkFEX1JFUVVFU1QiLCJTVEFUVVNfQ09ERV9VREZfRkFJTEVEIiwic3BlY2lmaWVkRmV0Y2giLCJzZXRGZXRjaCIsImYiLCJDb252ZXhIdHRwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJhZGRyZXNzIiwiZGVidWciLCJiYWNrZW5kVXJsIiwic2V0QXV0aCIsInZhbHVlIiwiY2xlYXJBdXRoIiwiYXV0aCIsInNldEFkbWluQXV0aCIsInRva2VuIiwiYWRtaW5BdXRoIiwic2V0RGVidWciLCJzZXRGZXRjaE9wdGlvbnMiLCJmZXRjaE9wdGlvbnMiLCJxdWVyeSIsImFyZ3MiLCJxdWVyeUFyZ3MiLCJuYW1lIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoIiwiZm9ybWF0IiwiaGVhZGVycyIsImxvY2FsRmV0Y2giLCJmZXRjaCIsInJlc3BvbnNlIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJvayIsInN0YXR1cyIsIkVycm9yIiwidGV4dCIsInJlc3BKU09OIiwianNvbiIsImxpbmUiLCJsb2dMaW5lcyIsImVycm9yRGF0YSIsImZvcndhcmRFcnJvckRhdGEiLCJlcnJvck1lc3NhZ2UiLCJtdXRhdGlvbiIsIm11dGF0aW9uQXJncyIsImFjdGlvbiIsImFjdGlvbkFyZ3MiLCJmdW5jdGlvbiIsImFueUZ1bmN0aW9uIiwiZnVuY3Rpb25BcmdzIiwiZXJyb3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* reexport safe */ _sync_client_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient),\n/* harmony export */   ConvexClient: () => (/* reexport safe */ _simple_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexClient),\n/* harmony export */   ConvexHttpClient: () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_2__.ConvexHttpClient)\n/* harmony export */ });\n/* harmony import */ var _sync_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sync/client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\");\n/* harmony import */ var _simple_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simple_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\");\n/* harmony import */ var _http_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\");\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7QUFDdUM7QUFDRjtBQUNFLENBQ3BELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9pbmRleC5qcz81ZjJlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IHsgQmFzZUNvbnZleENsaWVudCB9IGZyb20gXCIuL3N5bmMvY2xpZW50LmpzXCI7XG5leHBvcnQgeyBDb252ZXhDbGllbnQgfSBmcm9tIFwiLi9zaW1wbGVfY2xpZW50LmpzXCI7XG5leHBvcnQgeyBDb252ZXhIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cF9jbGllbnQuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2VDb252ZXhDbGllbnQiLCJDb252ZXhDbGllbnQiLCJDb252ZXhIdHRwQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHybridErrorStacktrace: () => (/* binding */ createHybridErrorStacktrace),\n/* harmony export */   forwardData: () => (/* binding */ forwardData),\n/* harmony export */   logFatalError: () => (/* binding */ logFatalError),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole)\n/* harmony export */ });\n\nconst INFO_COLOR = \"color:rgb(0, 145, 255)\";\nfunction prefix_for_source(source) {\n    switch(source){\n        case \"query\":\n            return \"Q\";\n        case \"mutation\":\n            return \"M\";\n        case \"action\":\n            return \"A\";\n        case \"any\":\n            return \"?\";\n    }\n}\nfunction logToConsole(type, source, udfPath, message) {\n    const prefix = prefix_for_source(source);\n    if (typeof message === \"object\") {\n        message = `ConvexError ${JSON.stringify(message.errorData, null, 2)}`;\n    }\n    if (type === \"info\") {\n        const match = message.match(/^\\[.*?\\] /);\n        if (match === null) {\n            console.error(`[CONVEX ${prefix}(${udfPath})] Could not parse console.log`);\n            return;\n        }\n        const level = message.slice(1, match[0].length - 2);\n        const args = message.slice(match[0].length);\n        console.log(`%c[CONVEX ${prefix}(${udfPath})] [${level}]`, INFO_COLOR, args);\n    } else {\n        console.error(`[CONVEX ${prefix}(${udfPath})] ${message}`);\n    }\n}\nfunction logFatalError(message) {\n    const errorMessage = `[CONVEX FATAL ERROR] ${message}`;\n    console.error(errorMessage);\n    return new Error(errorMessage);\n}\nfunction createHybridErrorStacktrace(source, udfPath, result) {\n    const prefix = prefix_for_source(source);\n    return `[CONVEX ${prefix}(${udfPath})] ${result.errorMessage}\n  Called by client`;\n}\nfunction forwardData(result, error) {\n    error.data = result.errorData;\n    return error;\n} //# sourceMappingURL=logging.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFDYixNQUFNQSxhQUFhO0FBQ25CLFNBQVNDLGtCQUFrQkMsTUFBTTtJQUMvQixPQUFRQTtRQUNOLEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO0lBQ1g7QUFDRjtBQUNPLFNBQVNDLGFBQWFDLElBQUksRUFBRUYsTUFBTSxFQUFFRyxPQUFPLEVBQUVDLE9BQU87SUFDekQsTUFBTUMsU0FBU04sa0JBQWtCQztJQUNqQyxJQUFJLE9BQU9JLFlBQVksVUFBVTtRQUMvQkEsVUFBVSxDQUFDLFlBQVksRUFBRUUsS0FBS0MsU0FBUyxDQUFDSCxRQUFRSSxTQUFTLEVBQUUsTUFBTSxHQUFHLENBQUM7SUFDdkU7SUFDQSxJQUFJTixTQUFTLFFBQVE7UUFDbkIsTUFBTU8sUUFBUUwsUUFBUUssS0FBSyxDQUFDO1FBQzVCLElBQUlBLFVBQVUsTUFBTTtZQUNsQkMsUUFBUUMsS0FBSyxDQUNYLENBQUMsUUFBUSxFQUFFTixPQUFPLENBQUMsRUFBRUYsUUFBUSw4QkFBOEIsQ0FBQztZQUU5RDtRQUNGO1FBQ0EsTUFBTVMsUUFBUVIsUUFBUVMsS0FBSyxDQUFDLEdBQUdKLEtBQUssQ0FBQyxFQUFFLENBQUNLLE1BQU0sR0FBRztRQUNqRCxNQUFNQyxPQUFPWCxRQUFRUyxLQUFLLENBQUNKLEtBQUssQ0FBQyxFQUFFLENBQUNLLE1BQU07UUFDMUNKLFFBQVFNLEdBQUcsQ0FDVCxDQUFDLFVBQVUsRUFBRVgsT0FBTyxDQUFDLEVBQUVGLFFBQVEsSUFBSSxFQUFFUyxNQUFNLENBQUMsQ0FBQyxFQUM3Q2QsWUFDQWlCO0lBRUosT0FBTztRQUNMTCxRQUFRQyxLQUFLLENBQUMsQ0FBQyxRQUFRLEVBQUVOLE9BQU8sQ0FBQyxFQUFFRixRQUFRLEdBQUcsRUFBRUMsUUFBUSxDQUFDO0lBQzNEO0FBQ0Y7QUFDTyxTQUFTYSxjQUFjYixPQUFPO0lBQ25DLE1BQU1jLGVBQWUsQ0FBQyxxQkFBcUIsRUFBRWQsUUFBUSxDQUFDO0lBQ3RETSxRQUFRQyxLQUFLLENBQUNPO0lBQ2QsT0FBTyxJQUFJQyxNQUFNRDtBQUNuQjtBQUNPLFNBQVNFLDRCQUE0QnBCLE1BQU0sRUFBRUcsT0FBTyxFQUFFa0IsTUFBTTtJQUNqRSxNQUFNaEIsU0FBU04sa0JBQWtCQztJQUNqQyxPQUFPLENBQUMsUUFBUSxFQUFFSyxPQUFPLENBQUMsRUFBRUYsUUFBUSxHQUFHLEVBQUVrQixPQUFPSCxZQUFZLENBQUM7a0JBQzdDLENBQUM7QUFDbkI7QUFDTyxTQUFTSSxZQUFZRCxNQUFNLEVBQUVWLEtBQUs7SUFDdkNBLE1BQU1ZLElBQUksR0FBR0YsT0FBT2IsU0FBUztJQUM3QixPQUFPRztBQUNULEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL2xvZ2dpbmcuanM/NWJlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IElORk9fQ09MT1IgPSBcImNvbG9yOnJnYigwLCAxNDUsIDI1NSlcIjtcbmZ1bmN0aW9uIHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSkge1xuICBzd2l0Y2ggKHNvdXJjZSkge1xuICAgIGNhc2UgXCJxdWVyeVwiOlxuICAgICAgcmV0dXJuIFwiUVwiO1xuICAgIGNhc2UgXCJtdXRhdGlvblwiOlxuICAgICAgcmV0dXJuIFwiTVwiO1xuICAgIGNhc2UgXCJhY3Rpb25cIjpcbiAgICAgIHJldHVybiBcIkFcIjtcbiAgICBjYXNlIFwiYW55XCI6XG4gICAgICByZXR1cm4gXCI/XCI7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dUb0NvbnNvbGUodHlwZSwgc291cmNlLCB1ZGZQYXRoLCBtZXNzYWdlKSB7XG4gIGNvbnN0IHByZWZpeCA9IHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSk7XG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIikge1xuICAgIG1lc3NhZ2UgPSBgQ29udmV4RXJyb3IgJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLmVycm9yRGF0YSwgbnVsbCwgMil9YDtcbiAgfVxuICBpZiAodHlwZSA9PT0gXCJpbmZvXCIpIHtcbiAgICBjb25zdCBtYXRjaCA9IG1lc3NhZ2UubWF0Y2goL15cXFsuKj9cXF0gLyk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIENvdWxkIG5vdCBwYXJzZSBjb25zb2xlLmxvZ2BcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gbWVzc2FnZS5zbGljZSgxLCBtYXRjaFswXS5sZW5ndGggLSAyKTtcbiAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYCVjW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIFske2xldmVsfV1gLFxuICAgICAgSU5GT19DT0xPUixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoYFtDT05WRVggJHtwcmVmaXh9KCR7dWRmUGF0aH0pXSAke21lc3NhZ2V9YCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dGYXRhbEVycm9yKG1lc3NhZ2UpIHtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gYFtDT05WRVggRkFUQUwgRVJST1JdICR7bWVzc2FnZX1gO1xuICBjb25zb2xlLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gIHJldHVybiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2Uoc291cmNlLCB1ZGZQYXRoLCByZXN1bHQpIHtcbiAgY29uc3QgcHJlZml4ID0gcHJlZml4X2Zvcl9zb3VyY2Uoc291cmNlKTtcbiAgcmV0dXJuIGBbQ09OVkVYICR7cHJlZml4fSgke3VkZlBhdGh9KV0gJHtyZXN1bHQuZXJyb3JNZXNzYWdlfVxuICBDYWxsZWQgYnkgY2xpZW50YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3J3YXJkRGF0YShyZXN1bHQsIGVycm9yKSB7XG4gIGVycm9yLmRhdGEgPSByZXN1bHQuZXJyb3JEYXRhO1xuICByZXR1cm4gZXJyb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnaW5nLmpzLm1hcFxuIl0sIm5hbWVzIjpbIklORk9fQ09MT1IiLCJwcmVmaXhfZm9yX3NvdXJjZSIsInNvdXJjZSIsImxvZ1RvQ29uc29sZSIsInR5cGUiLCJ1ZGZQYXRoIiwibWVzc2FnZSIsInByZWZpeCIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJtYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImxldmVsIiwic2xpY2UiLCJsZW5ndGgiLCJhcmdzIiwibG9nIiwibG9nRmF0YWxFcnJvciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwiY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlIiwicmVzdWx0IiwiZm9yd2FyZERhdGEiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/logging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/long.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/long.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Long: () => (/* binding */ Long)\n/* harmony export */ });\n\nclass Long {\n    static isLong(obj) {\n        return (obj && obj.__isUnsignedLong__) === true;\n    }\n    constructor(low, high){\n        this.low = low | 0;\n        this.high = high | 0;\n        this.__isUnsignedLong__ = true;\n    }\n    // prettier-ignore\n    static fromBytesLE(bytes) {\n        return new Long(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24);\n    }\n    // prettier-ignore\n    toBytesLE() {\n        const hi = this.high;\n        const lo = this.low;\n        return [\n            lo & 255,\n            lo >>> 8 & 255,\n            lo >>> 16 & 255,\n            lo >>> 24,\n            hi & 255,\n            hi >>> 8 & 255,\n            hi >>> 16 & 255,\n            hi >>> 24\n        ];\n    }\n    static fromNumber(value) {\n        if (isNaN(value)) return UZERO;\n        if (value < 0) return UZERO;\n        if (value >= TWO_PWR_64_DBL) return MAX_UNSIGNED_VALUE;\n        return new Long(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0);\n    }\n    toString() {\n        return (BigInt(this.high) * BigInt(TWO_PWR_32_DBL) + BigInt(this.low)).toString();\n    }\n    equals(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.high >>> 31 === 1 && other.high >>> 31 === 1) return false;\n        return this.high === other.high && this.low === other.low;\n    }\n    notEquals(other) {\n        return !this.equals(other);\n    }\n    comp(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.equals(other)) return 0;\n        return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n    }\n    lessThanOrEqual(other) {\n        return this.comp(/* validates */ other) <= 0;\n    }\n    static fromValue(val) {\n        if (typeof val === \"number\") return Long.fromNumber(val);\n        return new Long(val.low, val.high);\n    }\n}\nconst UZERO = new Long(0, 0);\nconst TWO_PWR_16_DBL = 1 << 16;\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nconst MAX_UNSIGNED_VALUE = new Long(4294967295 | 0, 4294967295 | 0); //# sourceMappingURL=long.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9uZy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDTixNQUFNQTtJQUNYLE9BQU9DLE9BQU9DLEdBQUcsRUFBRTtRQUNqQixPQUFPLENBQUNBLE9BQU9BLElBQUlDLGtCQUFrQixNQUFNO0lBQzdDO0lBQ0FDLFlBQVlDLEdBQUcsRUFBRUMsSUFBSSxDQUFFO1FBQ3JCLElBQUksQ0FBQ0QsR0FBRyxHQUFHQSxNQUFNO1FBQ2pCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxPQUFPO1FBQ25CLElBQUksQ0FBQ0gsa0JBQWtCLEdBQUc7SUFDNUI7SUFDQSxrQkFBa0I7SUFDbEIsT0FBT0ksWUFBWUMsS0FBSyxFQUFFO1FBQ3hCLE9BQU8sSUFBSVIsS0FDVFEsS0FBSyxDQUFDLEVBQUUsR0FBR0EsS0FBSyxDQUFDLEVBQUUsSUFBSSxJQUFJQSxLQUFLLENBQUMsRUFBRSxJQUFJLEtBQUtBLEtBQUssQ0FBQyxFQUFFLElBQUksSUFDeERBLEtBQUssQ0FBQyxFQUFFLEdBQUdBLEtBQUssQ0FBQyxFQUFFLElBQUksSUFBSUEsS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLQSxLQUFLLENBQUMsRUFBRSxJQUFJO0lBRTVEO0lBQ0Esa0JBQWtCO0lBQ2xCQyxZQUFZO1FBQ1YsTUFBTUMsS0FBSyxJQUFJLENBQUNKLElBQUk7UUFDcEIsTUFBTUssS0FBSyxJQUFJLENBQUNOLEdBQUc7UUFDbkIsT0FBTztZQUNMTSxLQUFLO1lBQ0xBLE9BQU8sSUFBSTtZQUNYQSxPQUFPLEtBQUs7WUFDWkEsT0FBTztZQUNQRCxLQUFLO1lBQ0xBLE9BQU8sSUFBSTtZQUNYQSxPQUFPLEtBQUs7WUFDWkEsT0FBTztTQUNSO0lBQ0g7SUFDQSxPQUFPRSxXQUFXQyxLQUFLLEVBQUU7UUFDdkIsSUFBSUMsTUFBTUQsUUFDUixPQUFPRTtRQUNULElBQUlGLFFBQVEsR0FDVixPQUFPRTtRQUNULElBQUlGLFNBQVNHLGdCQUNYLE9BQU9DO1FBQ1QsT0FBTyxJQUFJakIsS0FBS2EsUUFBUUssaUJBQWlCLEdBQUdMLFFBQVFLLGlCQUFpQjtJQUN2RTtJQUNBQyxXQUFXO1FBQ1QsT0FBTyxDQUFDQyxPQUFPLElBQUksQ0FBQ2QsSUFBSSxJQUFJYyxPQUFPRixrQkFBa0JFLE9BQU8sSUFBSSxDQUFDZixHQUFHLEdBQUdjLFFBQVE7SUFDakY7SUFDQUUsT0FBT0MsS0FBSyxFQUFFO1FBQ1osSUFBSSxDQUFDdEIsS0FBS0MsTUFBTSxDQUFDcUIsUUFDZkEsUUFBUXRCLEtBQUt1QixTQUFTLENBQUNEO1FBQ3pCLElBQUksSUFBSSxDQUFDaEIsSUFBSSxLQUFLLE9BQU8sS0FBS2dCLE1BQU1oQixJQUFJLEtBQUssT0FBTyxHQUNsRCxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUNBLElBQUksS0FBS2dCLE1BQU1oQixJQUFJLElBQUksSUFBSSxDQUFDRCxHQUFHLEtBQUtpQixNQUFNakIsR0FBRztJQUMzRDtJQUNBbUIsVUFBVUYsS0FBSyxFQUFFO1FBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQ0QsTUFBTSxDQUFDQztJQUN0QjtJQUNBRyxLQUFLSCxLQUFLLEVBQUU7UUFDVixJQUFJLENBQUN0QixLQUFLQyxNQUFNLENBQUNxQixRQUNmQSxRQUFRdEIsS0FBS3VCLFNBQVMsQ0FBQ0Q7UUFDekIsSUFBSSxJQUFJLENBQUNELE1BQU0sQ0FBQ0MsUUFDZCxPQUFPO1FBQ1QsT0FBT0EsTUFBTWhCLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQ0EsSUFBSSxLQUFLLEtBQUtnQixNQUFNaEIsSUFBSSxLQUFLLElBQUksQ0FBQ0EsSUFBSSxJQUFJZ0IsTUFBTWpCLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxLQUFLLElBQUksQ0FBQyxJQUFJO0lBQ25IO0lBQ0FxQixnQkFBZ0JKLEtBQUssRUFBRTtRQUNyQixPQUFPLElBQUksQ0FBQ0csSUFBSSxDQUNkLGFBQWEsR0FDYkgsVUFDRztJQUNQO0lBQ0EsT0FBT0MsVUFBVUksR0FBRyxFQUFFO1FBQ3BCLElBQUksT0FBT0EsUUFBUSxVQUNqQixPQUFPM0IsS0FBS1ksVUFBVSxDQUFDZTtRQUN6QixPQUFPLElBQUkzQixLQUFLMkIsSUFBSXRCLEdBQUcsRUFBRXNCLElBQUlyQixJQUFJO0lBQ25DO0FBQ0Y7QUFDQSxNQUFNUyxRQUFRLElBQUlmLEtBQUssR0FBRztBQUMxQixNQUFNNEIsaUJBQWlCLEtBQUs7QUFDNUIsTUFBTVYsaUJBQWlCVSxpQkFBaUJBO0FBQ3hDLE1BQU1aLGlCQUFpQkUsaUJBQWlCQTtBQUN4QyxNQUFNRCxxQkFBcUIsSUFBSWpCLEtBQUssYUFBYSxHQUFHLGFBQWEsSUFDakUsZ0NBQWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL2xvbmcuanM/MmIzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBjbGFzcyBMb25nIHtcbiAgc3RhdGljIGlzTG9uZyhvYmopIHtcbiAgICByZXR1cm4gKG9iaiAmJiBvYmouX19pc1Vuc2lnbmVkTG9uZ19fKSA9PT0gdHJ1ZTtcbiAgfVxuICBjb25zdHJ1Y3Rvcihsb3csIGhpZ2gpIHtcbiAgICB0aGlzLmxvdyA9IGxvdyB8IDA7XG4gICAgdGhpcy5oaWdoID0gaGlnaCB8IDA7XG4gICAgdGhpcy5fX2lzVW5zaWduZWRMb25nX18gPSB0cnVlO1xuICB9XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICBzdGF0aWMgZnJvbUJ5dGVzTEUoYnl0ZXMpIHtcbiAgICByZXR1cm4gbmV3IExvbmcoXG4gICAgICBieXRlc1swXSB8IGJ5dGVzWzFdIDw8IDggfCBieXRlc1syXSA8PCAxNiB8IGJ5dGVzWzNdIDw8IDI0LFxuICAgICAgYnl0ZXNbNF0gfCBieXRlc1s1XSA8PCA4IHwgYnl0ZXNbNl0gPDwgMTYgfCBieXRlc1s3XSA8PCAyNFxuICAgICk7XG4gIH1cbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIHRvQnl0ZXNMRSgpIHtcbiAgICBjb25zdCBoaSA9IHRoaXMuaGlnaDtcbiAgICBjb25zdCBsbyA9IHRoaXMubG93O1xuICAgIHJldHVybiBbXG4gICAgICBsbyAmIDI1NSxcbiAgICAgIGxvID4+PiA4ICYgMjU1LFxuICAgICAgbG8gPj4+IDE2ICYgMjU1LFxuICAgICAgbG8gPj4+IDI0LFxuICAgICAgaGkgJiAyNTUsXG4gICAgICBoaSA+Pj4gOCAmIDI1NSxcbiAgICAgIGhpID4+PiAxNiAmIDI1NSxcbiAgICAgIGhpID4+PiAyNFxuICAgIF07XG4gIH1cbiAgc3RhdGljIGZyb21OdW1iZXIodmFsdWUpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKVxuICAgICAgcmV0dXJuIFVaRVJPO1xuICAgIGlmICh2YWx1ZSA8IDApXG4gICAgICByZXR1cm4gVVpFUk87XG4gICAgaWYgKHZhbHVlID49IFRXT19QV1JfNjRfREJMKVxuICAgICAgcmV0dXJuIE1BWF9VTlNJR05FRF9WQUxVRTtcbiAgICByZXR1cm4gbmV3IExvbmcodmFsdWUgJSBUV09fUFdSXzMyX0RCTCB8IDAsIHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwgfCAwKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gKEJpZ0ludCh0aGlzLmhpZ2gpICogQmlnSW50KFRXT19QV1JfMzJfREJMKSArIEJpZ0ludCh0aGlzLmxvdykpLnRvU3RyaW5nKCk7XG4gIH1cbiAgZXF1YWxzKG90aGVyKSB7XG4gICAgaWYgKCFMb25nLmlzTG9uZyhvdGhlcikpXG4gICAgICBvdGhlciA9IExvbmcuZnJvbVZhbHVlKG90aGVyKTtcbiAgICBpZiAodGhpcy5oaWdoID4+PiAzMSA9PT0gMSAmJiBvdGhlci5oaWdoID4+PiAzMSA9PT0gMSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5oaWdoID09PSBvdGhlci5oaWdoICYmIHRoaXMubG93ID09PSBvdGhlci5sb3c7XG4gIH1cbiAgbm90RXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuICF0aGlzLmVxdWFscyhvdGhlcik7XG4gIH1cbiAgY29tcChvdGhlcikge1xuICAgIGlmICghTG9uZy5pc0xvbmcob3RoZXIpKVxuICAgICAgb3RoZXIgPSBMb25nLmZyb21WYWx1ZShvdGhlcik7XG4gICAgaWYgKHRoaXMuZXF1YWxzKG90aGVyKSlcbiAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8IG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiBvdGhlci5sb3cgPj4+IDAgPiB0aGlzLmxvdyA+Pj4gMCA/IC0xIDogMTtcbiAgfVxuICBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wKFxuICAgICAgLyogdmFsaWRhdGVzICovXG4gICAgICBvdGhlclxuICAgICkgPD0gMDtcbiAgfVxuICBzdGF0aWMgZnJvbVZhbHVlKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIExvbmcuZnJvbU51bWJlcih2YWwpO1xuICAgIHJldHVybiBuZXcgTG9uZyh2YWwubG93LCB2YWwuaGlnaCk7XG4gIH1cbn1cbmNvbnN0IFVaRVJPID0gbmV3IExvbmcoMCwgMCk7XG5jb25zdCBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XG5jb25zdCBUV09fUFdSXzMyX0RCTCA9IFRXT19QV1JfMTZfREJMICogVFdPX1BXUl8xNl9EQkw7XG5jb25zdCBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XG5jb25zdCBNQVhfVU5TSUdORURfVkFMVUUgPSBuZXcgTG9uZyg0Mjk0OTY3Mjk1IHwgMCwgNDI5NDk2NzI5NSB8IDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9uZy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJMb25nIiwiaXNMb25nIiwib2JqIiwiX19pc1Vuc2lnbmVkTG9uZ19fIiwiY29uc3RydWN0b3IiLCJsb3ciLCJoaWdoIiwiZnJvbUJ5dGVzTEUiLCJieXRlcyIsInRvQnl0ZXNMRSIsImhpIiwibG8iLCJmcm9tTnVtYmVyIiwidmFsdWUiLCJpc05hTiIsIlVaRVJPIiwiVFdPX1BXUl82NF9EQkwiLCJNQVhfVU5TSUdORURfVkFMVUUiLCJUV09fUFdSXzMyX0RCTCIsInRvU3RyaW5nIiwiQmlnSW50IiwiZXF1YWxzIiwib3RoZXIiLCJmcm9tVmFsdWUiLCJub3RFcXVhbHMiLCJjb21wIiwibGVzc1RoYW5PckVxdWFsIiwidmFsIiwiVFdPX1BXUl8xNl9EQkwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/long.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/simple_client.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexClient: () => (/* binding */ ConvexClient),\n/* harmony export */   setDefaultWebSocketConstructor: () => (/* binding */ setDefaultWebSocketConstructor)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\n\n\n\nlet defaultWebSocketConstructor;\nfunction setDefaultWebSocketConstructor(ws) {\n    defaultWebSocketConstructor = ws;\n}\nclass ConvexClient {\n    /**\n   * Once closed no registered callbacks will fire again.\n   */ get closed() {\n        return this._closed;\n    }\n    get client() {\n        if (this._client) return this._client;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    /**\n   * Construct a client and immediately initiate a WebSocket connection to the passed address.\n   *\n   * @public\n   */ constructor(address, options = {}){\n        (0,_common_index_js__WEBPACK_IMPORTED_MODULE_0__.validateDeploymentUrl)(address);\n        const { disabled, ...baseOptions } = options;\n        this._closed = false;\n        this.disabled = !!disabled;\n        if (defaultWebSocketConstructor && !(\"webSocketConstructor\" in baseOptions) && typeof WebSocket === \"undefined\") {\n            baseOptions.webSocketConstructor = defaultWebSocketConstructor;\n        }\n        if ( true && !(\"unsavedChangesWarning\" in baseOptions)) {\n            baseOptions.unsavedChangesWarning = false;\n        }\n        if (!this.disabled) {\n            this._client = new _index_js__WEBPACK_IMPORTED_MODULE_1__.BaseConvexClient(address, (updatedQueries)=>this._transition(updatedQueries), baseOptions);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    /**\n   * Call a callback whenever a new result for a query is received. The callback\n   * will run soon after being registered if a result for the query is already\n   * in memory.\n   *\n   * The return value is an {@link Unsubscribe} object which is both a function\n   * an an object with properties. Both of the patterns below work with this object:\n   *\n   *```ts\n   * // call the return value as a function\n   * const unsubscribe = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   * unsubscribe();\n   *\n   * // unpack the return value into its properties\n   * const {\n   *   getCurrentValue,\n   *   unsubscribe,\n   * } = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   *```\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   * If not provided, errors will be thrown instead of calling the callback.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the onUpdate function.\n   */ onUpdate(query, args, callback, onError) {\n        if (this.disabled) {\n            const disabledUnsubscribe = ()=>{};\n            const unsubscribeProps2 = {\n                unsubscribe: disabledUnsubscribe,\n                getCurrentValue: ()=>void 0,\n                getQueryLogs: ()=>void 0\n            };\n            Object.assign(disabledUnsubscribe, unsubscribeProps2);\n            return disabledUnsubscribe;\n        }\n        const { queryToken, unsubscribe } = this.client.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        const queryInfo = {\n            queryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args\n        };\n        this.listeners.add(queryInfo);\n        if (this.queryResultReady(queryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>this.client.localQueryResultByToken(queryToken),\n            getQueryLogs: ()=>this.client.localQueryLogs(queryToken)\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    // Run all callbacks that have never been run before if they have a query\n    // result available now.\n    callNewListenersWithCurrentValues() {\n        this.callNewListenersWithCurrentValuesTimer = void 0;\n        this._transition([], true);\n    }\n    queryResultReady(queryToken) {\n        return this.client.hasLocalQueryResultByToken(queryToken);\n    }\n    async close() {\n        if (this.disabled) return;\n        this.listeners.clear();\n        this._closed = true;\n        return this.client.close();\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        this.client.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        if (this.closed) {\n            throw new Error(\"ConvexClient has already been closed.\");\n        }\n        if (this.disabled) return;\n        this.client.setAdminAuth(token, identity);\n    }\n    /**\n   * @internal\n   */ _transition(updatedQueries, callNewListeners = false) {\n        for (const queryInfo of this.listeners){\n            const { callback, queryToken, onError, hasEverRun } = queryInfo;\n            if (updatedQueries.includes(queryToken) || callNewListeners && !hasEverRun && this.client.hasLocalQueryResultByToken(queryToken)) {\n                queryInfo.hasEverRun = true;\n                let newValue;\n                try {\n                    newValue = this.client.localQueryResultByToken(queryToken);\n                } catch (error) {\n                    if (!(error instanceof Error)) throw error;\n                    if (onError) {\n                        onError(error, \"Second argument to onUpdate onError is reserved for later use\");\n                    } else {\n                        void Promise.reject(error);\n                    }\n                    continue;\n                }\n                callback(newValue, \"Second argument to onUpdate callback is reserved for later use\");\n            }\n        }\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.mutation((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(mutation), args);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action.\n   * @returns A promise of the action's result.\n   */ async action(action, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.action((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(action), args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query.\n   * @returns A promise of the query's result.\n   */ async query(query, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        const value = this.client.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        if (value !== void 0) return value;\n        return new Promise((resolve, reject)=>{\n            const { unsubscribe } = this.onUpdate(query, args, (value2)=>{\n                unsubscribe();\n                resolve(value2);\n            }, (e)=>{\n                unsubscribe();\n                reject(e);\n            });\n        });\n    }\n} //# sourceMappingURL=simple_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQzhDO0FBR3ZDO0FBQytCO0FBQ25ELElBQUlHO0FBQ0csU0FBU0MsK0JBQStCQyxFQUFFO0lBQy9DRiw4QkFBOEJFO0FBQ2hDO0FBQ08sTUFBTUM7SUFDWDs7R0FFQyxHQUNELElBQUlDLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ0MsT0FBTztJQUNyQjtJQUNBLElBQUlDLFNBQVM7UUFDWCxJQUFJLElBQUksQ0FBQ0MsT0FBTyxFQUNkLE9BQU8sSUFBSSxDQUFDQSxPQUFPO1FBQ3JCLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBOzs7O0dBSUMsR0FDREMsWUFBWUMsT0FBTyxFQUFFQyxVQUFVLENBQUMsQ0FBQyxDQUFFO1FBQ2pDZCx1RUFBcUJBLENBQUNhO1FBQ3RCLE1BQU0sRUFBRUUsUUFBUSxFQUFFLEdBQUdDLGFBQWEsR0FBR0Y7UUFDckMsSUFBSSxDQUFDTixPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNPLFFBQVEsR0FBRyxDQUFDLENBQUNBO1FBQ2xCLElBQUlaLCtCQUErQixDQUFFLDJCQUEwQmEsV0FBVSxLQUFNLE9BQU9DLGNBQWMsYUFBYTtZQUMvR0QsWUFBWUUsb0JBQW9CLEdBQUdmO1FBQ3JDO1FBQ0EsSUFBSSxLQUE2QixJQUFJLENBQUUsNEJBQTJCYSxXQUFVLEdBQUk7WUFDOUVBLFlBQVlHLHFCQUFxQixHQUFHO1FBQ3RDO1FBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ0osUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQ0wsT0FBTyxHQUFHLElBQUlULHVEQUFnQkEsQ0FDakNZLFNBQ0EsQ0FBQ08saUJBQW1CLElBQUksQ0FBQ0MsV0FBVyxDQUFDRCxpQkFDckNKO1FBRUo7UUFDQSxJQUFJLENBQUNNLFNBQVMsR0FBRyxhQUFhLEdBQUcsSUFBSUM7SUFDdkM7SUFDQTs7Ozs7Ozs7Ozs7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RSxJQUFJeUMsVUFBVSxLQUFLLEdBQ2pCLE9BQU9BO1FBQ1QsT0FBTyxJQUFJSixRQUFRLENBQUNNLFNBQVNMO1lBQzNCLE1BQU0sRUFBRWpDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQ1AsUUFBUSxDQUNuQ0MsT0FDQUMsTUFDQSxDQUFDNEM7Z0JBQ0N2QztnQkFDQXNDLFFBQVFDO1lBQ1YsR0FDQSxDQUFDQztnQkFDQ3hDO2dCQUNBaUMsT0FBT087WUFDVDtRQUVKO0lBQ0Y7QUFDRixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zaW1wbGVfY2xpZW50LmpzPzMyM2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBCYXNlQ29udmV4Q2xpZW50XG59IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xubGV0IGRlZmF1bHRXZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3Iod3MpIHtcbiAgZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yID0gd3M7XG59XG5leHBvcnQgY2xhc3MgQ29udmV4Q2xpZW50IHtcbiAgLyoqXG4gICAqIE9uY2UgY2xvc2VkIG5vIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIHdpbGwgZmlyZSBhZ2Fpbi5cbiAgICovXG4gIGdldCBjbG9zZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZDtcbiAgfVxuICBnZXQgY2xpZW50KCkge1xuICAgIGlmICh0aGlzLl9jbGllbnQpXG4gICAgICByZXR1cm4gdGhpcy5fY2xpZW50O1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgY2xpZW50IGFuZCBpbW1lZGlhdGVseSBpbml0aWF0ZSBhIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwYXNzZWQgYWRkcmVzcy5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFsaWRhdGVEZXBsb3ltZW50VXJsKGFkZHJlc3MpO1xuICAgIGNvbnN0IHsgZGlzYWJsZWQsIC4uLmJhc2VPcHRpb25zIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuX2Nsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSAhIWRpc2FibGVkO1xuICAgIGlmIChkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IgJiYgIShcIndlYlNvY2tldENvbnN0cnVjdG9yXCIgaW4gYmFzZU9wdGlvbnMpICYmIHR5cGVvZiBXZWJTb2NrZXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGJhc2VPcHRpb25zLndlYlNvY2tldENvbnN0cnVjdG9yID0gZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiAmJiAhKFwidW5zYXZlZENoYW5nZXNXYXJuaW5nXCIgaW4gYmFzZU9wdGlvbnMpKSB7XG4gICAgICBiYXNlT3B0aW9ucy51bnNhdmVkQ2hhbmdlc1dhcm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLl9jbGllbnQgPSBuZXcgQmFzZUNvbnZleENsaWVudChcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgKHVwZGF0ZWRRdWVyaWVzKSA9PiB0aGlzLl90cmFuc2l0aW9uKHVwZGF0ZWRRdWVyaWVzKSxcbiAgICAgICAgYmFzZU9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBhIGNhbGxiYWNrIHdoZW5ldmVyIGEgbmV3IHJlc3VsdCBmb3IgYSBxdWVyeSBpcyByZWNlaXZlZC4gVGhlIGNhbGxiYWNrXG4gICAqIHdpbGwgcnVuIHNvb24gYWZ0ZXIgYmVpbmcgcmVnaXN0ZXJlZCBpZiBhIHJlc3VsdCBmb3IgdGhlIHF1ZXJ5IGlzIGFscmVhZHlcbiAgICogaW4gbWVtb3J5LlxuICAgKlxuICAgKiBUaGUgcmV0dXJuIHZhbHVlIGlzIGFuIHtAbGluayBVbnN1YnNjcmliZX0gb2JqZWN0IHdoaWNoIGlzIGJvdGggYSBmdW5jdGlvblxuICAgKiBhbiBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzLiBCb3RoIG9mIHRoZSBwYXR0ZXJucyBiZWxvdyB3b3JrIHdpdGggdGhpcyBvYmplY3Q6XG4gICAqXG4gICAqYGBgdHNcbiAgICogLy8gY2FsbCB0aGUgcmV0dXJuIHZhbHVlIGFzIGEgZnVuY3Rpb25cbiAgICogY29uc3QgdW5zdWJzY3JpYmUgPSBjbGllbnQub25VcGRhdGUoYXBpLm1lc3NhZ2VzLmxpc3QsIHt9LCAobWVzc2FnZXMpID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhtZXNzYWdlcyk7XG4gICAqIH0pO1xuICAgKiB1bnN1YnNjcmliZSgpO1xuICAgKlxuICAgKiAvLyB1bnBhY2sgdGhlIHJldHVybiB2YWx1ZSBpbnRvIGl0cyBwcm9wZXJ0aWVzXG4gICAqIGNvbnN0IHtcbiAgICogICBnZXRDdXJyZW50VmFsdWUsXG4gICAqICAgdW5zdWJzY3JpYmUsXG4gICAqIH0gPSBjbGllbnQub25VcGRhdGUoYXBpLm1lc3NhZ2VzLmxpc3QsIHt9LCAobWVzc2FnZXMpID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhtZXNzYWdlcyk7XG4gICAqIH0pO1xuICAgKmBgYFxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5IHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHJ1biB0aGUgcXVlcnkgd2l0aC5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBxdWVyeSByZXN1bHQgdXBkYXRlcy5cbiAgICogQHBhcmFtIG9uRXJyb3IgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCB1cGRhdGVzIHdpdGggYW4gZXJyb3IuXG4gICAqIElmIG5vdCBwcm92aWRlZCwgZXJyb3JzIHdpbGwgYmUgdGhyb3duIGluc3RlYWQgb2YgY2FsbGluZyB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIEByZXR1cm4gYW4ge0BsaW5rIFVuc3Vic2NyaWJlfSBmdW5jdGlvbiB0byBzdG9wIGNhbGxpbmcgdGhlIG9uVXBkYXRlIGZ1bmN0aW9uLlxuICAgKi9cbiAgb25VcGRhdGUocXVlcnksIGFyZ3MsIGNhbGxiYWNrLCBvbkVycm9yKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRpc2FibGVkVW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICB9O1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wczIgPSB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBkaXNhYmxlZFVuc3Vic2NyaWJlLFxuICAgICAgICBnZXRDdXJyZW50VmFsdWU6ICgpID0+IHZvaWQgMCxcbiAgICAgICAgZ2V0UXVlcnlMb2dzOiAoKSA9PiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBPYmplY3QuYXNzaWduKGRpc2FibGVkVW5zdWJzY3JpYmUsIHVuc3Vic2NyaWJlUHJvcHMyKTtcbiAgICAgIHJldHVybiBkaXNhYmxlZFVuc3Vic2NyaWJlO1xuICAgIH1cbiAgICBjb25zdCB7IHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoXG4gICAgICBnZXRGdW5jdGlvbk5hbWUocXVlcnkpLFxuICAgICAgYXJnc1xuICAgICk7XG4gICAgY29uc3QgcXVlcnlJbmZvID0ge1xuICAgICAgcXVlcnlUb2tlbixcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgb25FcnJvcixcbiAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgaGFzRXZlclJ1bjogZmFsc2UsXG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3NcbiAgICB9O1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChxdWVyeUluZm8pO1xuICAgIGlmICh0aGlzLnF1ZXJ5UmVzdWx0UmVhZHkocXVlcnlUb2tlbikgJiYgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9PT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgKCkgPT4gdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXMoKSxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wcyA9IHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUocXVlcnlJbmZvKTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIH0sXG4gICAgICBnZXRDdXJyZW50VmFsdWU6ICgpID0+IHRoaXMuY2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pLFxuICAgICAgZ2V0UXVlcnlMb2dzOiAoKSA9PiB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5TG9ncyhxdWVyeVRva2VuKVxuICAgIH07XG4gICAgY29uc3QgcmV0ID0gdW5zdWJzY3JpYmVQcm9wcy51bnN1YnNjcmliZTtcbiAgICBPYmplY3QuYXNzaWduKHJldCwgdW5zdWJzY3JpYmVQcm9wcyk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICAvLyBSdW4gYWxsIGNhbGxiYWNrcyB0aGF0IGhhdmUgbmV2ZXIgYmVlbiBydW4gYmVmb3JlIGlmIHRoZXkgaGF2ZSBhIHF1ZXJ5XG4gIC8vIHJlc3VsdCBhdmFpbGFibGUgbm93LlxuICBjYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXMoKSB7XG4gICAgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9IHZvaWQgMDtcbiAgICB0aGlzLl90cmFuc2l0aW9uKFtdLCB0cnVlKTtcbiAgfVxuICBxdWVyeVJlc3VsdFJlYWR5KHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKTtcbiAgICB0aGlzLl9jbG9zZWQgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlblxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpIHtcbiAgICB0aGlzLmNsaWVudC5zZXRBdXRoKFxuICAgICAgZmV0Y2hUb2tlbixcbiAgICAgIG9uQ2hhbmdlID8/ICgoKSA9PiB7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5jbGllbnQuc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3RyYW5zaXRpb24odXBkYXRlZFF1ZXJpZXMsIGNhbGxOZXdMaXN0ZW5lcnMgPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3QgcXVlcnlJbmZvIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCB7IGNhbGxiYWNrLCBxdWVyeVRva2VuLCBvbkVycm9yLCBoYXNFdmVyUnVuIH0gPSBxdWVyeUluZm87XG4gICAgICBpZiAodXBkYXRlZFF1ZXJpZXMuaW5jbHVkZXMocXVlcnlUb2tlbikgfHwgY2FsbE5ld0xpc3RlbmVycyAmJiAhaGFzRXZlclJ1biAmJiB0aGlzLmNsaWVudC5oYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKSkge1xuICAgICAgICBxdWVyeUluZm8uaGFzRXZlclJ1biA9IHRydWU7XG4gICAgICAgIGxldCBuZXdWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMuY2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICBcIlNlY29uZCBhcmd1bWVudCB0byBvblVwZGF0ZSBvbkVycm9yIGlzIHJlc2VydmVkIGZvciBsYXRlciB1c2VcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm9pZCBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIFwiU2Vjb25kIGFyZ3VtZW50IHRvIG9uVXBkYXRlIGNhbGxiYWNrIGlzIHJlc2VydmVkIGZvciBsYXRlciB1c2VcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb24gLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIG11dGF0aW9uXG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgTXV0YXRpb25PcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgbXV0YXRpb24obXV0YXRpb24sIGFyZ3MpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQubXV0YXRpb24oZ2V0RnVuY3Rpb25OYW1lKG11dGF0aW9uKSwgYXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgYWN0aW9uKGFjdGlvbiwgYXJncykge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5hY3Rpb24oZ2V0RnVuY3Rpb25OYW1lKGFjdGlvbiksIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHF1ZXJ5IHJlc3VsdCBvbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5XG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBxdWVyeShxdWVyeSwgYXJncykge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jbGllbnQubG9jYWxRdWVyeVJlc3VsdChnZXRGdW5jdGlvbk5hbWUocXVlcnkpLCBhcmdzKTtcbiAgICBpZiAodmFsdWUgIT09IHZvaWQgMClcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdGhpcy5vblVwZGF0ZShcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFyZ3MsXG4gICAgICAgICh2YWx1ZTIpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUyKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxlX2NsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0ZURlcGxveW1lbnRVcmwiLCJCYXNlQ29udmV4Q2xpZW50IiwiZ2V0RnVuY3Rpb25OYW1lIiwiZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yIiwic2V0RGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yIiwid3MiLCJDb252ZXhDbGllbnQiLCJjbG9zZWQiLCJfY2xvc2VkIiwiY2xpZW50IiwiX2NsaWVudCIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJhZGRyZXNzIiwib3B0aW9ucyIsImRpc2FibGVkIiwiYmFzZU9wdGlvbnMiLCJXZWJTb2NrZXQiLCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvciIsInVuc2F2ZWRDaGFuZ2VzV2FybmluZyIsInVwZGF0ZWRRdWVyaWVzIiwiX3RyYW5zaXRpb24iLCJsaXN0ZW5lcnMiLCJTZXQiLCJvblVwZGF0ZSIsInF1ZXJ5IiwiYXJncyIsImNhbGxiYWNrIiwib25FcnJvciIsImRpc2FibGVkVW5zdWJzY3JpYmUiLCJ1bnN1YnNjcmliZVByb3BzMiIsInVuc3Vic2NyaWJlIiwiZ2V0Q3VycmVudFZhbHVlIiwiZ2V0UXVlcnlMb2dzIiwiT2JqZWN0IiwiYXNzaWduIiwicXVlcnlUb2tlbiIsInN1YnNjcmliZSIsInF1ZXJ5SW5mbyIsImhhc0V2ZXJSdW4iLCJhZGQiLCJxdWVyeVJlc3VsdFJlYWR5IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIiLCJzZXRUaW1lb3V0IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzIiwidW5zdWJzY3JpYmVQcm9wcyIsImRlbGV0ZSIsImxvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwibG9jYWxRdWVyeUxvZ3MiLCJyZXQiLCJoYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbiIsImNsb3NlIiwiY2xlYXIiLCJzZXRBdXRoIiwiZmV0Y2hUb2tlbiIsIm9uQ2hhbmdlIiwic2V0QWRtaW5BdXRoIiwidG9rZW4iLCJpZGVudGl0eSIsImNhbGxOZXdMaXN0ZW5lcnMiLCJpbmNsdWRlcyIsIm5ld1ZhbHVlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwibXV0YXRpb24iLCJhY3Rpb24iLCJ2YWx1ZSIsImxvY2FsUXVlcnlSZXN1bHQiLCJyZXNvbHZlIiwidmFsdWUyIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/authentication_manager.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationManager: () => (/* binding */ AuthenticationManager)\n/* harmony export */ });\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jwt-decode */ \"(ssr)/./node_modules/jwt-decode/build/jwt-decode.esm.js\");\n\n\nclass AuthenticationManager {\n    constructor(syncState, { authenticate, pauseSocket: pause, resumeSocket: resume, clearAuth, verbose }){\n        this.authState = {\n            state: \"noAuth\"\n        };\n        // Used to detect races involving `setConfig` calls\n        // while a token is being fetched.\n        this.configVersion = 0;\n        this.syncState = syncState;\n        this.authenticate = authenticate;\n        this.pauseSocket = pause;\n        this.resumeSocket = resume;\n        this.clearAuth = clearAuth;\n        this.verbose = verbose;\n    }\n    async setConfig(fetchToken, onChange) {\n        this.resetAuthState();\n        const token = await this.fetchTokenAndGuardAgainstRace(fetchToken, {\n            forceRefreshToken: false\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfCachedToken\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                },\n                hasRetried: false\n            });\n            this.authenticate(token.value);\n        } else {\n            this.setAuthState({\n                state: \"initialRefetch\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                }\n            });\n            await this.refetchToken();\n        }\n    }\n    onTransition(serverMessage) {\n        if (!this.syncState.isCurrentOrNewerAuthVersion(serverMessage.endVersion.identity)) {\n            return;\n        }\n        if (serverMessage.endVersion.identity <= serverMessage.startVersion.identity) {\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfCachedToken\") {\n            this._logVerbose(\"server confirmed auth token is valid\");\n            void this.refetchToken();\n            this.authState.config.onAuthChange(true);\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this._logVerbose(\"server confirmed new auth token is valid\");\n            this.scheduleTokenRefetch(this.authState.token);\n            if (!this.authState.hadAuth) {\n                this.authState.config.onAuthChange(true);\n            }\n        }\n    }\n    onAuthError(serverMessage) {\n        const { baseVersion } = serverMessage;\n        if (baseVersion !== null && baseVersion !== void 0) {\n            if (!this.syncState.isCurrentOrNewerAuthVersion(baseVersion + 1)) {\n                this._logVerbose(\"ignoring auth error for previous auth attempt\");\n                return;\n            }\n            void this.tryToReauthenticate(serverMessage);\n            return;\n        }\n        void this.tryToReauthenticate(serverMessage);\n    }\n    // This is similar to `refetchToken` defined below, in fact we\n    // don't represent them as different states, but it is different\n    // in that we pause the WebSocket so that mutations\n    // don't retry with bad auth.\n    async tryToReauthenticate(serverMessage) {\n        if (// No way to fetch another token, kaboom\n        this.authState.state === \"noAuth\" || // We failed on a fresh token, trying another one won't help\n        this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            console.error(`Failed to authenticate: \"${serverMessage.error}\", check your server auth config`);\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            if (this.authState.state !== \"noAuth\") {\n                this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n            }\n            return;\n        }\n        this._logVerbose(\"attempting to reauthenticate\");\n        await this.pauseSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            await this.resumeSocket();\n            return;\n        }\n        if (token.value && this.syncState.isNewAuth(token.value)) {\n            this.syncState.setAuth(token.value);\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfFreshToken\",\n                config: this.authState.config,\n                token: token.value,\n                hadAuth: this.authState.state === \"notRefetching\" || this.authState.state === \"waitingForScheduledRefetch\"\n            });\n        } else {\n            this._logVerbose(\"reauthentication failed, could not fetch a new token\");\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        await this.resumeSocket();\n    }\n    // Force refetch the token and schedule another refetch\n    // before the token expires - an active client should never\n    // need to reauthenticate.\n    async refetchToken() {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        this._logVerbose(\"refetching auth token\");\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            if (this.syncState.isNewAuth(token.value)) {\n                this.setAuthState({\n                    state: \"waitingForServerConfirmationOfFreshToken\",\n                    hadAuth: this.syncState.hasAuth(),\n                    token: token.value,\n                    config: this.authState.config\n                });\n                this.authenticate(token.value);\n            } else {\n                this.setAuthState({\n                    state: \"notRefetching\",\n                    config: this.authState.config\n                });\n            }\n        } else {\n            this._logVerbose(\"refetching token failed\");\n            if (this.syncState.hasAuth()) {\n                this.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n    }\n    scheduleTokenRefetch(token) {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        const decodedToken = this.decodeToken(token);\n        if (!decodedToken) {\n            console.error(\"Auth token is not a valid JWT, cannot refetch the token\");\n            return;\n        }\n        const { iat, exp } = decodedToken;\n        if (!iat || !exp) {\n            console.error(\"Auth token does not have required fields, cannot refetch the token\");\n            return;\n        }\n        const leewaySeconds = 2;\n        const delay = (exp - iat - leewaySeconds) * 1e3;\n        if (delay <= 0) {\n            console.error(\"Auth token does not live long enough, cannot refetch the token\");\n            return;\n        }\n        const refetchTokenTimeoutId = setTimeout(()=>{\n            void this.refetchToken();\n        }, delay);\n        this.setAuthState({\n            state: \"waitingForScheduledRefetch\",\n            refetchTokenTimeoutId,\n            config: this.authState.config\n        });\n        this._logVerbose(`scheduled preemptive auth token refetching in ${delay}ms`);\n    }\n    // Protects against simultaneous calls to `setConfig`\n    // while we're fetching a token\n    async fetchTokenAndGuardAgainstRace(fetchToken, fetchArgs) {\n        const originalConfigVersion = ++this.configVersion;\n        const token = await fetchToken(fetchArgs);\n        if (this.configVersion !== originalConfigVersion) {\n            return {\n                isFromOutdatedConfig: true\n            };\n        }\n        return {\n            isFromOutdatedConfig: false,\n            value: token\n        };\n    }\n    stop() {\n        this.resetAuthState();\n        this.configVersion++;\n    }\n    setAndReportAuthFailed(onAuthChange) {\n        onAuthChange(false);\n        this.resetAuthState();\n    }\n    resetAuthState() {\n        this.setAuthState({\n            state: \"noAuth\"\n        });\n    }\n    setAuthState(newAuth) {\n        if (this.authState.state === \"waitingForScheduledRefetch\") {\n            clearTimeout(this.authState.refetchTokenTimeoutId);\n            this.syncState.markAuthCompletion();\n        }\n        this.authState = newAuth;\n    }\n    decodeToken(token) {\n        try {\n            return (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(token);\n        } catch (e) {\n            return null;\n        }\n    }\n    _logVerbose(message) {\n        if (this.verbose) {\n            console.debug(`${/* @__PURE__ */ new Date().toISOString()} ${message} [v${this.configVersion}]`);\n        }\n    }\n} //# sourceMappingURL=authentication_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDc0I7QUFDNUIsTUFBTUM7SUFDWEMsWUFBWUMsU0FBUyxFQUFFLEVBQ3JCQyxZQUFZLEVBQ1pDLGFBQWFDLEtBQUssRUFDbEJDLGNBQWNDLE1BQU0sRUFDcEJDLFNBQVMsRUFDVEMsT0FBTyxFQUNSLENBQUU7UUFDRCxJQUFJLENBQUNDLFNBQVMsR0FBRztZQUFFQyxPQUFPO1FBQVM7UUFDbkMsbURBQW1EO1FBQ25ELGtDQUFrQztRQUNsQyxJQUFJLENBQUNDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNWLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQztRQUNuQixJQUFJLENBQUNDLFlBQVksR0FBR0M7UUFDcEIsSUFBSSxDQUFDQyxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0MsT0FBTyxHQUFHQTtJQUNqQjtJQUNBLE1BQU1JLFVBQVVDLFVBQVUsRUFBRUMsUUFBUSxFQUFFO1FBQ3BDLElBQUksQ0FBQ0MsY0FBYztRQUNuQixNQUFNQyxRQUFRLE1BQU0sSUFBSSxDQUFDQyw2QkFBNkIsQ0FBQ0osWUFBWTtZQUNqRUssbUJBQW1CO1FBQ3JCO1FBQ0EsSUFBSUYsTUFBTUcsb0JBQW9CLEVBQUU7WUFDOUI7UUFDRjtRQUNBLElBQUlILE1BQU1JLEtBQUssRUFBRTtZQUNmLElBQUksQ0FBQ0MsWUFBWSxDQUFDO2dCQUNoQlgsT0FBTztnQkFDUFksUUFBUTtvQkFBRVQ7b0JBQVlVLGNBQWNUO2dCQUFTO2dCQUM3Q1UsWUFBWTtZQUNkO1lBQ0EsSUFBSSxDQUFDdEIsWUFBWSxDQUFDYyxNQUFNSSxLQUFLO1FBQy9CLE9BQU87WUFDTCxJQUFJLENBQUNDLFlBQVksQ0FBQztnQkFDaEJYLE9BQU87Z0JBQ1BZLFFB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TyxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDbkQsT0FBTyxFQUFFO1lBQ2hCOEIsUUFBUXNCLEtBQUssQ0FDWCxDQUFDLEVBQUUsYUFBYyxHQUFHLElBQUlDLE9BQVFDLFdBQVcsR0FBRyxDQUFDLEVBQUVILFFBQVEsR0FBRyxFQUFFLElBQUksQ0FBQ2hELGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFFdkY7SUFDRjtBQUNGLEVBQ0Esa0RBQWtEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvYXV0aGVudGljYXRpb25fbWFuYWdlci5qcz81MWIzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IGp3dERlY29kZSBmcm9tIFwiand0LWRlY29kZVwiO1xuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHN5bmNTdGF0ZSwge1xuICAgIGF1dGhlbnRpY2F0ZSxcbiAgICBwYXVzZVNvY2tldDogcGF1c2UsXG4gICAgcmVzdW1lU29ja2V0OiByZXN1bWUsXG4gICAgY2xlYXJBdXRoLFxuICAgIHZlcmJvc2VcbiAgfSkge1xuICAgIHRoaXMuYXV0aFN0YXRlID0geyBzdGF0ZTogXCJub0F1dGhcIiB9O1xuICAgIC8vIFVzZWQgdG8gZGV0ZWN0IHJhY2VzIGludm9sdmluZyBgc2V0Q29uZmlnYCBjYWxsc1xuICAgIC8vIHdoaWxlIGEgdG9rZW4gaXMgYmVpbmcgZmV0Y2hlZC5cbiAgICB0aGlzLmNvbmZpZ1ZlcnNpb24gPSAwO1xuICAgIHRoaXMuc3luY1N0YXRlID0gc3luY1N0YXRlO1xuICAgIHRoaXMuYXV0aGVudGljYXRlID0gYXV0aGVudGljYXRlO1xuICAgIHRoaXMucGF1c2VTb2NrZXQgPSBwYXVzZTtcbiAgICB0aGlzLnJlc3VtZVNvY2tldCA9IHJlc3VtZTtcbiAgICB0aGlzLmNsZWFyQXV0aCA9IGNsZWFyQXV0aDtcbiAgICB0aGlzLnZlcmJvc2UgPSB2ZXJib3NlO1xuICB9XG4gIGFzeW5jIHNldENvbmZpZyhmZXRjaFRva2VuLCBvbkNoYW5nZSkge1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoZmV0Y2hUb2tlbiwge1xuICAgICAgZm9yY2VSZWZyZXNoVG9rZW46IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiLFxuICAgICAgICBjb25maWc6IHsgZmV0Y2hUb2tlbiwgb25BdXRoQ2hhbmdlOiBvbkNoYW5nZSB9LFxuICAgICAgICBoYXNSZXRyaWVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXV0aFN0YXRlKHtcbiAgICAgICAgc3RhdGU6IFwiaW5pdGlhbFJlZmV0Y2hcIixcbiAgICAgICAgY29uZmlnOiB7IGZldGNoVG9rZW4sIG9uQXV0aENoYW5nZTogb25DaGFuZ2UgfVxuICAgICAgfSk7XG4gICAgICBhd2FpdCB0aGlzLnJlZmV0Y2hUb2tlbigpO1xuICAgIH1cbiAgfVxuICBvblRyYW5zaXRpb24oc2VydmVyTWVzc2FnZSkge1xuICAgIGlmICghdGhpcy5zeW5jU3RhdGUuaXNDdXJyZW50T3JOZXdlckF1dGhWZXJzaW9uKFxuICAgICAgc2VydmVyTWVzc2FnZS5lbmRWZXJzaW9uLmlkZW50aXR5XG4gICAgKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2VydmVyTWVzc2FnZS5lbmRWZXJzaW9uLmlkZW50aXR5IDw9IHNlcnZlck1lc3NhZ2Uuc3RhcnRWZXJzaW9uLmlkZW50aXR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiKSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwic2VydmVyIGNvbmZpcm1lZCBhdXRoIHRva2VuIGlzIHZhbGlkXCIpO1xuICAgICAgdm9pZCB0aGlzLnJlZmV0Y2hUb2tlbigpO1xuICAgICAgdGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIikge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcInNlcnZlciBjb25maXJtZWQgbmV3IGF1dGggdG9rZW4gaXMgdmFsaWRcIik7XG4gICAgICB0aGlzLnNjaGVkdWxlVG9rZW5SZWZldGNoKHRoaXMuYXV0aFN0YXRlLnRva2VuKTtcbiAgICAgIGlmICghdGhpcy5hdXRoU3RhdGUuaGFkQXV0aCkge1xuICAgICAgICB0aGlzLmF1dGhTdGF0ZS5jb25maWcub25BdXRoQ2hhbmdlKHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvbkF1dGhFcnJvcihzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgY29uc3QgeyBiYXNlVmVyc2lvbiB9ID0gc2VydmVyTWVzc2FnZTtcbiAgICBpZiAoYmFzZVZlcnNpb24gIT09IG51bGwgJiYgYmFzZVZlcnNpb24gIT09IHZvaWQgMCkge1xuICAgICAgaWYgKCF0aGlzLnN5bmNTdGF0ZS5pc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24oYmFzZVZlcnNpb24gKyAxKSkge1xuICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwiaWdub3JpbmcgYXV0aCBlcnJvciBmb3IgcHJldmlvdXMgYXV0aCBhdHRlbXB0XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2b2lkIHRoaXMudHJ5VG9SZWF1dGhlbnRpY2F0ZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm9pZCB0aGlzLnRyeVRvUmVhdXRoZW50aWNhdGUoc2VydmVyTWVzc2FnZSk7XG4gIH1cbiAgLy8gVGhpcyBpcyBzaW1pbGFyIHRvIGByZWZldGNoVG9rZW5gIGRlZmluZWQgYmVsb3csIGluIGZhY3Qgd2VcbiAgLy8gZG9uJ3QgcmVwcmVzZW50IHRoZW0gYXMgZGlmZmVyZW50IHN0YXRlcywgYnV0IGl0IGlzIGRpZmZlcmVudFxuICAvLyBpbiB0aGF0IHdlIHBhdXNlIHRoZSBXZWJTb2NrZXQgc28gdGhhdCBtdXRhdGlvbnNcbiAgLy8gZG9uJ3QgcmV0cnkgd2l0aCBiYWQgYXV0aC5cbiAgYXN5bmMgdHJ5VG9SZWF1dGhlbnRpY2F0ZShzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgaWYgKFxuICAgICAgLy8gTm8gd2F5IHRvIGZldGNoIGFub3RoZXIgdG9rZW4sIGthYm9vbVxuICAgICAgdGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwibm9BdXRoXCIgfHwgLy8gV2UgZmFpbGVkIG9uIGEgZnJlc2ggdG9rZW4sIHRyeWluZyBhbm90aGVyIG9uZSB3b24ndCBoZWxwXG4gICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCJcbiAgICApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gYXV0aGVudGljYXRlOiBcIiR7c2VydmVyTWVzc2FnZS5lcnJvcn1cIiwgY2hlY2sgeW91ciBzZXJ2ZXIgYXV0aCBjb25maWdgXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmhhc0F1dGgoKSkge1xuICAgICAgICB0aGlzLnN5bmNTdGF0ZS5jbGVhckF1dGgoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSAhPT0gXCJub0F1dGhcIikge1xuICAgICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJhdHRlbXB0aW5nIHRvIHJlYXV0aGVudGljYXRlXCIpO1xuICAgIGF3YWl0IHRoaXMucGF1c2VTb2NrZXQoKTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoXG4gICAgICB0aGlzLmF1dGhTdGF0ZS5jb25maWcuZmV0Y2hUb2tlbixcbiAgICAgIHtcbiAgICAgICAgZm9yY2VSZWZyZXNoVG9rZW46IHRydWVcbiAgICAgIH1cbiAgICApO1xuICAgIGlmICh0b2tlbi5pc0Zyb21PdXRkYXRlZENvbmZpZykge1xuICAgICAgYXdhaXQgdGhpcy5yZXN1bWVTb2NrZXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRva2VuLnZhbHVlICYmIHRoaXMuc3luY1N0YXRlLmlzTmV3QXV0aCh0b2tlbi52YWx1ZSkpIHtcbiAgICAgIHRoaXMuc3luY1N0YXRlLnNldEF1dGgodG9rZW4udmFsdWUpO1xuICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIsXG4gICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnLFxuICAgICAgICB0b2tlbjogdG9rZW4udmFsdWUsXG4gICAgICAgIGhhZEF1dGg6IHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIm5vdFJlZmV0Y2hpbmdcIiB8fCB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2NoZWR1bGVkUmVmZXRjaFwiXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcInJlYXV0aGVudGljYXRpb24gZmFpbGVkLCBjb3VsZCBub3QgZmV0Y2ggYSBuZXcgdG9rZW5cIik7XG4gICAgICBpZiAodGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpKSB7XG4gICAgICAgIHRoaXMuc3luY1N0YXRlLmNsZWFyQXV0aCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRBbmRSZXBvcnRBdXRoRmFpbGVkKHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5vbkF1dGhDaGFuZ2UpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnJlc3VtZVNvY2tldCgpO1xuICB9XG4gIC8vIEZvcmNlIHJlZmV0Y2ggdGhlIHRva2VuIGFuZCBzY2hlZHVsZSBhbm90aGVyIHJlZmV0Y2hcbiAgLy8gYmVmb3JlIHRoZSB0b2tlbiBleHBpcmVzIC0gYW4gYWN0aXZlIGNsaWVudCBzaG91bGQgbmV2ZXJcbiAgLy8gbmVlZCB0byByZWF1dGhlbnRpY2F0ZS5cbiAgYXN5bmMgcmVmZXRjaFRva2VuKCkge1xuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyBhdXRoIHRva2VuXCIpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmlzTmV3QXV0aCh0b2tlbi52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgICBoYWRBdXRoOiB0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCksXG4gICAgICAgICAgdG9rZW46IHRva2VuLnZhbHVlLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgICAgc3RhdGU6IFwibm90UmVmZXRjaGluZ1wiLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyB0b2tlbiBmYWlsZWRcIik7XG4gICAgICBpZiAodGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpKSB7XG4gICAgICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICB9XG4gIHNjaGVkdWxlVG9rZW5SZWZldGNoKHRva2VuKSB7XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIm5vQXV0aFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHRoaXMuZGVjb2RlVG9rZW4odG9rZW4pO1xuICAgIGlmICghZGVjb2RlZFRva2VuKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXV0aCB0b2tlbiBpcyBub3QgYSB2YWxpZCBKV1QsIGNhbm5vdCByZWZldGNoIHRoZSB0b2tlblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBpYXQsIGV4cCB9ID0gZGVjb2RlZFRva2VuO1xuICAgIGlmICghaWF0IHx8ICFleHApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiQXV0aCB0b2tlbiBkb2VzIG5vdCBoYXZlIHJlcXVpcmVkIGZpZWxkcywgY2Fubm90IHJlZmV0Y2ggdGhlIHRva2VuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxlZXdheVNlY29uZHMgPSAyO1xuICAgIGNvbnN0IGRlbGF5ID0gKGV4cCAtIGlhdCAtIGxlZXdheVNlY29uZHMpICogMWUzO1xuICAgIGlmIChkZWxheSA8PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gZG9lcyBub3QgbGl2ZSBsb25nIGVub3VnaCwgY2Fubm90IHJlZmV0Y2ggdGhlIHRva2VuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlZmV0Y2hUb2tlblRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdm9pZCB0aGlzLnJlZmV0Y2hUb2tlbigpO1xuICAgIH0sIGRlbGF5KTtcbiAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2NoZWR1bGVkUmVmZXRjaFwiLFxuICAgICAgcmVmZXRjaFRva2VuVGltZW91dElkLFxuICAgICAgY29uZmlnOiB0aGlzLmF1dGhTdGF0ZS5jb25maWdcbiAgICB9KTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHNjaGVkdWxlZCBwcmVlbXB0aXZlIGF1dGggdG9rZW4gcmVmZXRjaGluZyBpbiAke2RlbGF5fW1zYFxuICAgICk7XG4gIH1cbiAgLy8gUHJvdGVjdHMgYWdhaW5zdCBzaW11bHRhbmVvdXMgY2FsbHMgdG8gYHNldENvbmZpZ2BcbiAgLy8gd2hpbGUgd2UncmUgZmV0Y2hpbmcgYSB0b2tlblxuICBhc3luYyBmZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShmZXRjaFRva2VuLCBmZXRjaEFyZ3MpIHtcbiAgICBjb25zdCBvcmlnaW5hbENvbmZpZ1ZlcnNpb24gPSArK3RoaXMuY29uZmlnVmVyc2lvbjtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGZldGNoVG9rZW4oZmV0Y2hBcmdzKTtcbiAgICBpZiAodGhpcy5jb25maWdWZXJzaW9uICE9PSBvcmlnaW5hbENvbmZpZ1ZlcnNpb24pIHtcbiAgICAgIHJldHVybiB7IGlzRnJvbU91dGRhdGVkQ29uZmlnOiB0cnVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IGlzRnJvbU91dGRhdGVkQ29uZmlnOiBmYWxzZSwgdmFsdWU6IHRva2VuIH07XG4gIH1cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnJlc2V0QXV0aFN0YXRlKCk7XG4gICAgdGhpcy5jb25maWdWZXJzaW9uKys7XG4gIH1cbiAgc2V0QW5kUmVwb3J0QXV0aEZhaWxlZChvbkF1dGhDaGFuZ2UpIHtcbiAgICBvbkF1dGhDaGFuZ2UoZmFsc2UpO1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgfVxuICByZXNldEF1dGhTdGF0ZSgpIHtcbiAgICB0aGlzLnNldEF1dGhTdGF0ZSh7IHN0YXRlOiBcIm5vQXV0aFwiIH0pO1xuICB9XG4gIHNldEF1dGhTdGF0ZShuZXdBdXRoKSB7XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoXCIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmF1dGhTdGF0ZS5yZWZldGNoVG9rZW5UaW1lb3V0SWQpO1xuICAgICAgdGhpcy5zeW5jU3RhdGUubWFya0F1dGhDb21wbGV0aW9uKCk7XG4gICAgfVxuICAgIHRoaXMuYXV0aFN0YXRlID0gbmV3QXV0aDtcbiAgfVxuICBkZWNvZGVUb2tlbih0b2tlbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gand0RGVjb2RlKHRva2VuKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgX2xvZ1ZlcmJvc2UobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLnZlcmJvc2UpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXG4gICAgICAgIGAkeygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKX0gJHttZXNzYWdlfSBbdiR7dGhpcy5jb25maWdWZXJzaW9ufV1gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aGVudGljYXRpb25fbWFuYWdlci5qcy5tYXBcbiJdLCJuYW1lcyI6WyJqd3REZWNvZGUiLCJBdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInN5bmNTdGF0ZSIsImF1dGhlbnRpY2F0ZSIsInBhdXNlU29ja2V0IiwicGF1c2UiLCJyZXN1bWVTb2NrZXQiLCJyZXN1bWUiLCJjbGVhckF1dGgiLCJ2ZXJib3NlIiwiYXV0aFN0YXRlIiwic3RhdGUiLCJjb25maWdWZXJzaW9uIiwic2V0Q29uZmlnIiwiZmV0Y2hUb2tlbiIsIm9uQ2hhbmdlIiwicmVzZXRBdXRoU3RhdGUiLCJ0b2tlbiIsImZldGNoVG9rZW5BbmRHdWFyZEFnYWluc3RSYWNlIiwiZm9yY2VSZWZyZXNoVG9rZW4iLCJpc0Zyb21PdXRkYXRlZENvbmZpZyIsInZhbHVlIiwic2V0QXV0aFN0YXRlIiwiY29uZmlnIiwib25BdXRoQ2hhbmdlIiwiaGFzUmV0cmllZCIsInJlZmV0Y2hUb2tlbiIsIm9uVHJhbnNpdGlvbiIsInNlcnZlck1lc3NhZ2UiLCJpc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24iLCJlbmRWZXJzaW9uIiwiaWRlbnRpdHkiLCJzdGFydFZlcnNpb24iLCJfbG9nVmVyYm9zZSIsInNjaGVkdWxlVG9rZW5SZWZldGNoIiwiaGFkQXV0aCIsIm9uQXV0aEVycm9yIiwiYmFzZVZlcnNpb24iLCJ0cnlUb1JlYXV0aGVudGljYXRlIiwiY29uc29sZSIsImVycm9yIiwiaGFzQXV0aCIsInNldEFuZFJlcG9ydEF1dGhGYWlsZWQiLCJpc05ld0F1dGgiLCJzZXRBdXRoIiwiZGVjb2RlZFRva2VuIiwiZGVjb2RlVG9rZW4iLCJpYXQiLCJleHAiLCJsZWV3YXlTZWNvbmRzIiwiZGVsYXkiLCJyZWZldGNoVG9rZW5UaW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiZmV0Y2hBcmdzIiwib3JpZ2luYWxDb25maWdWZXJzaW9uIiwic3RvcCIsIm5ld0F1dGgiLCJjbGVhclRpbWVvdXQiLCJtYXJrQXV0aENvbXBsZXRpb24iLCJlIiwibWVzc2FnZSIsImRlYnVnIiwiRGF0ZSIsInRvSVNPU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* binding */ BaseConvexClient)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _local_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local_state.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\");\n/* harmony import */ var _request_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\");\n/* harmony import */ var _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./optimistic_updates_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\");\n/* harmony import */ var _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remote_query_set.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web_socket_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./session.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\");\n/* harmony import */ var _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./authentication_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\");\n/* harmony import */ var _metrics_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./metrics.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass BaseConvexClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param onTransition - A callback receiving an array of query tokens\n   * corresponding to query results that have changed.\n   * @param options - See {@link BaseConvexClientOptions} for a full description.\n   */ constructor(address, onTransition, options){\n        this.firstMessageReceived = false;\n        // Instance property so that `mark()` doesn't need to be called as a method.\n        this.mark = (name)=>{\n            if (this.debug) {\n                (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.mark)(name, this.sessionId);\n            }\n        };\n        if (typeof address === \"object\") {\n            throw new Error(\"Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.\");\n        }\n        (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.validateDeploymentUrl)(address);\n        options = {\n            ...options\n        };\n        let webSocketConstructor = options.webSocketConstructor;\n        if (!webSocketConstructor && typeof WebSocket === \"undefined\") {\n            throw new Error(\"No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient\");\n        }\n        webSocketConstructor = webSocketConstructor || WebSocket;\n        this.verbose = options.verbose ?? false;\n        this.debug = options.reportDebugInfoToConvex ?? false;\n        this.address = address;\n        const i = address.search(\"://\");\n        if (i === -1) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        const origin = address.substring(i + 3);\n        const protocol = address.substring(0, i);\n        let wsProtocol;\n        if (protocol === \"http\") {\n            wsProtocol = \"ws\";\n        } else if (protocol === \"https\") {\n            wsProtocol = \"wss\";\n        } else {\n            throw new Error(`Unknown parent protocol ${protocol}`);\n        }\n        const wsUri = `${wsProtocol}://${origin}/api/${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}/sync`;\n        this.state = new _local_state_js__WEBPACK_IMPORTED_MODULE_3__.LocalSyncState();\n        this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId));\n        this.requestManager = new _request_manager_js__WEBPACK_IMPORTED_MODULE_4__.RequestManager();\n        this.authenticationManager = new _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__.AuthenticationManager(this.state, {\n            authenticate: (token)=>{\n                const message = this.state.setAuth(token);\n                this.webSocketManager.sendMessage(message);\n            },\n            pauseSocket: ()=>this.webSocketManager.pause(),\n            resumeSocket: ()=>this.webSocketManager.resume(),\n            clearAuth: ()=>{\n                this.clearAuth();\n            },\n            verbose: this.verbose\n        });\n        this.optimisticQueryResults = new _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__.OptimisticQueryResults();\n        this.onTransition = onTransition;\n        this.nextRequestId = 0;\n        this.sessionId = (0,_session_js__WEBPACK_IMPORTED_MODULE_9__.newSessionId)();\n        const { unsavedChangesWarning } = options;\n        if (true) {\n            if (unsavedChangesWarning === true) {\n                throw new Error(\"unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.\");\n            }\n        } else {}\n        this.webSocketManager = new _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__.WebSocketManager(wsUri, (reconnectMetadata)=>{\n            this.mark(\"convexWebSocketOpen\");\n            this.webSocketManager.sendMessage({\n                ...reconnectMetadata,\n                type: \"Connect\",\n                sessionId: this.sessionId,\n                maxObservedTimestamp: this.maxObservedTimestamp\n            });\n            const oldRemoteQueryResults = new Set(this.remoteQuerySet.remoteQueryResults().keys());\n            this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId));\n            const [querySetModification, authModification] = this.state.restart(oldRemoteQueryResults);\n            if (authModification) {\n                this.webSocketManager.sendMessage(authModification);\n            }\n            this.webSocketManager.sendMessage(querySetModification);\n            for (const message of this.requestManager.restart()){\n                this.webSocketManager.sendMessage(message);\n            }\n        }, (serverMessage)=>{\n            if (!this.firstMessageReceived) {\n                this.firstMessageReceived = true;\n                this.mark(\"convexFirstMessageReceived\");\n                this.reportMarks();\n            }\n            switch(serverMessage.type){\n                case \"Transition\":\n                    {\n                        this.observedTimestamp(serverMessage.endVersion.ts);\n                        this.authenticationManager.onTransition(serverMessage);\n                        this.remoteQuerySet.transition(serverMessage);\n                        this.state.transition(serverMessage);\n                        const completedRequests = this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());\n                        this.notifyOnQueryResultChanges(completedRequests);\n                        break;\n                    }\n                case \"MutationResponse\":\n                    {\n                        if (serverMessage.success) {\n                            this.observedTimestamp(serverMessage.ts);\n                        }\n                        const completedMutationId = this.requestManager.onResponse(serverMessage);\n                        if (completedMutationId) {\n                            this.notifyOnQueryResultChanges(/* @__PURE__ */ new Set([\n                                completedMutationId\n                            ]));\n                        }\n                        break;\n                    }\n                case \"ActionResponse\":\n                    {\n                        this.requestManager.onResponse(serverMessage);\n                        break;\n                    }\n                case \"AuthError\":\n                    {\n                        this.authenticationManager.onAuthError(serverMessage);\n                        break;\n                    }\n                case \"FatalError\":\n                    {\n                        const error = (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logFatalError)(serverMessage.error);\n                        void this.webSocketManager.stop();\n                        throw error;\n                    }\n                case \"Ping\":\n                    break;\n                default:\n                    {\n                        const _typeCheck = serverMessage;\n                    }\n            }\n            return {\n                hasSyncedPastLastReconnect: this.hasSyncedPastLastReconnect()\n            };\n        }, webSocketConstructor, this.verbose);\n        this.mark(\"convexClientConstructed\");\n    }\n    /**\n   * Return true if there is outstanding work from prior to the time of the most recent restart.\n   * This indicates that the client has not proven itself to have gotten past the issue that\n   * potentially led to the restart. Use this to influence when to reset backoff after a failure.\n   */ hasSyncedPastLastReconnect() {\n        const hasSyncedPastLastReconnect = this.requestManager.hasSyncedPastLastReconnect() || this.state.hasSyncedPastLastReconnect();\n        return hasSyncedPastLastReconnect;\n    }\n    observedTimestamp(observedTs) {\n        if (this.maxObservedTimestamp === void 0 || this.maxObservedTimestamp.lessThanOrEqual(observedTs)) {\n            this.maxObservedTimestamp = observedTs;\n        }\n    }\n    getMaxObservedTimestamp() {\n        return this.maxObservedTimestamp;\n    }\n    /**\n   * Compute the current query results based on the remoteQuerySet and the\n   * current optimistic updates and call `onTransition` for all the changed\n   * queries.\n   *\n   * @param completedMutations - A set of mutation IDs whose optimistic updates\n   * are no longer needed.\n   */ notifyOnQueryResultChanges(completedRequest) {\n        const remoteQueryResults = this.remoteQuerySet.remoteQueryResults();\n        const queryTokenToValue = /* @__PURE__ */ new Map();\n        for (const [queryId, result] of remoteQueryResults){\n            const queryToken = this.state.queryToken(queryId);\n            if (queryToken !== null) {\n                const query = {\n                    result,\n                    udfPath: this.state.queryPath(queryId),\n                    args: this.state.queryArgs(queryId)\n                };\n                queryTokenToValue.set(queryToken, query);\n            }\n        }\n        this.onTransition(this.optimisticQueryResults.ingestQueryResultsFromServer(queryTokenToValue, completedRequest));\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        void this.authenticationManager.setConfig(fetchToken, onChange);\n    }\n    hasAuth() {\n        return this.state.hasAuth();\n    }\n    /** @internal */ setAdminAuth(value, fakeUserIdentity) {\n        const message = this.state.setAdminAuth(value, fakeUserIdentity);\n        this.webSocketManager.sendMessage(message);\n    }\n    clearAuth() {\n        const message = this.state.clearAuth();\n        this.webSocketManager.sendMessage(message);\n    }\n    /**\n     * Subscribe to a query function.\n     *\n     * Whenever this query's result changes, the `onTransition` callback\n     * passed into the constructor will be called.\n     *\n     * @param name - The name of the query.\n     * @param args - An arguments object for the query. If this is omitted, the\n     * arguments will be `{}`.\n     * @param options - A {@link SubscribeOptions} options object for this query.\n  \n     * @returns An object containing a {@link QueryToken} corresponding to this\n     * query and an `unsubscribe` callback.\n     */ subscribe(name, args, options) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const { modification, queryToken, unsubscribe } = this.state.subscribe(name, argsObject, options?.journal);\n        if (modification !== null) {\n            this.webSocketManager.sendMessage(modification);\n        }\n        return {\n            queryToken,\n            unsubscribe: ()=>{\n                const modification2 = unsubscribe();\n                if (modification2) {\n                    this.webSocketManager.sendMessage(modification2);\n                }\n            }\n        };\n    }\n    /**\n   * A query result based only on the current, local state.\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   */ localQueryResult(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Get query result by query token based on current, local state\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   *\n   * @internal\n   */ localQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Whether local query result is available for a toke.\n   *\n   * This method does not throw if the result is an error.\n   *\n   * @internal\n   */ hasLocalQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.hasQueryResult(queryToken);\n    }\n    /**\n   * @internal\n   */ localQueryLogs(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryLogs(queryToken);\n    }\n    /**\n   * Retrieve the current {@link QueryJournal} for this query function.\n   *\n   * If we have not yet received a result for this query, this will be `undefined`.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for this query.\n   * @returns The query's {@link QueryJournal} or `undefined`.\n   */ queryJournal(name, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(name, argsObject);\n        return this.state.queryJournal(queryToken);\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return {\n            hasInflightRequests: this.requestManager.hasInflightRequests(),\n            isWebSocketConnected: this.webSocketManager.socketState() === \"ready\",\n            timeOfOldestInflightRequest: this.requestManager.timeOfOldestInflightRequest()\n        };\n    }\n    /**\n     * Execute a mutation function.\n     *\n     * @param name - The name of the mutation.\n     * @param args - An arguments object for the mutation. If this is omitted,\n     * the arguments will be `{}`.\n     * @param options - A {@link MutationOptions} options object for this mutation.\n  \n     * @returns - A promise of the mutation's result.\n     */ async mutation(name, args, options) {\n        const result = await this.mutationInternal(name, args, options);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async mutationInternal(udfPath, args, options) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        this.tryReportLongDisconnect();\n        const requestId = this.nextRequestId;\n        this.nextRequestId++;\n        if (options !== void 0) {\n            const optimisticUpdate = options.optimisticUpdate;\n            if (optimisticUpdate !== void 0) {\n                const wrappedUpdate = (localQueryStore)=>{\n                    optimisticUpdate(localQueryStore, mutationArgs);\n                };\n                const changedQueries = this.optimisticQueryResults.applyOptimisticUpdate(wrappedUpdate, requestId);\n                this.onTransition(changedQueries);\n            }\n        }\n        const message = {\n            type: \"Mutation\",\n            requestId,\n            udfPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(mutationArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        return this.requestManager.request(message, mightBeSent);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param name - The name of the action.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(name, args) {\n        const result = await this.actionInternal(name, args);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async actionInternal(udfPath, args) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const requestId = this.nextRequestId;\n        this.nextRequestId++;\n        this.tryReportLongDisconnect();\n        const message = {\n            type: \"Action\",\n            requestId,\n            udfPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(actionArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        return this.requestManager.request(message, mightBeSent);\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with an {@link BaseConvexClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.authenticationManager.stop();\n        return this.webSocketManager.stop();\n    }\n    _logVerbose(message) {\n        if (this.verbose) {\n            console.debug(`${/* @__PURE__ */ new Date().toISOString()} ${message}`);\n        }\n    }\n    /**\n   * Reports performance marks to the server. This should only be called when\n   * we have a functional websocket.\n   */ reportMarks() {\n        if (this.debug) {\n            const report = (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.getMarksReport)(this.sessionId);\n            this.webSocketManager.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientConnect\",\n                event: report\n            });\n        }\n    }\n    tryReportLongDisconnect() {\n        if (!this.debug) {\n            return;\n        }\n        const timeOfOldestRequest = this.connectionState().timeOfOldestInflightRequest;\n        if (timeOfOldestRequest === null || Date.now() - timeOfOldestRequest.getTime() <= 60 * 1e3) {\n            return;\n        }\n        const endpoint = `${this.address}/api/debug_event`;\n        fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}`\n            },\n            body: JSON.stringify({\n                event: \"LongWebsocketDisconnect\"\n            })\n        }).then((response)=>{\n            if (!response.ok) {\n                console.warn(\"Analytics request failed with response:\", response.body);\n            }\n        }).catch((error)=>{\n            console.warn(\"Analytics response failed with error:\", error);\n        });\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDNEI7QUFDWTtBQUs5QjtBQUMyQjtBQUNJO0FBR2hCO0FBQ2lCO0FBQ0k7QUFDQTtBQUNmO0FBR1A7QUFDUTtBQUNPO0FBQ3FCO0FBQ3BCO0FBQzlDLE1BQU1rQjtJQUNYOzs7Ozs7R0FNQyxHQUNEQyxZQUFZQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxDQUFFO1FBQzFDLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUc7UUFDNUIsNEVBQTRFO1FBQzVFLElBQUksQ0FBQ1QsSUFBSSxHQUFHLENBQUNVO1lBQ1gsSUFBSSxJQUFJLENBQUNDLEtBQUssRUFBRTtnQkFDZFgsa0RBQUlBLENBQUNVLE1BQU0sSUFBSSxDQUFDRSxTQUFTO1lBQzNCO1FBQ0Y7UUFDQSxJQUFJLE9BQU9OLFlBQVksVUFBVTtZQUMvQixNQUFNLElBQUlPLE1BQ1I7UUFFSjtRQUNBWCx3RUFBcUJBLENBQUNJO1FBQ3RCRSxVQUFVO1lBQUUsR0FBR0EsT0FBTztRQUFDO1FBQ3ZCLElBQUlNLHVCQUF1Qk4sUUFBUU0sb0JBQW9CO1FBQ3ZELElBQUksQ0FBQ0Esd0JBQXdCLE9BQU9DLGNBQWMsYUFBYTtZQUM3RCxNQUFNLElBQUlGLE1BQ1I7UUFFSjtRQUNBQyx1QkFBdUJBLHdCQUF3QkM7UUFDL0MsSUFBSSxDQUFDQyxPQUFPLEdBQUdSLFFBQVFRLE9BQU8sSUFBSTtRQUNsQyxJQUFJLENBQUNMLEtBQUssR0FBR0gsUUFBUVMsdUJBQXVCLElBQUk7UUFDaEQsSUFBSSxDQUFDWCxPQUFPLEdBQUdBO1FBQ2YsTUFBTVksSUFBSVosUUFBUWEsTUFBTSxDQUFDO1FBQ3pCLElBQUlELE1BQU0sQ0FBQyxHQUFHO1lBQ1osTUFBTSxJQUFJTCxNQUFNO1FBQ2xCO1FBQ0EsTUFBTU8sU0FBU2QsUUFBUWUsU0FBUyxDQUFDSCxJQUFJ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QztZQUNuQztZQUNBcUssTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUFFdEcsT0FBTztZQUEwQjtRQUMxRCxHQUFHdUcsSUFBSSxDQUFDLENBQUNDO1lBQ1AsSUFBSSxDQUFDQSxTQUFTQyxFQUFFLEVBQUU7Z0JBQ2hCakIsUUFBUWtCLElBQUksQ0FDViwyQ0FDQUYsU0FBU0osSUFBSTtZQUVqQjtRQUNGLEdBQUdPLEtBQUssQ0FBQyxDQUFDakY7WUFDUjhELFFBQVFrQixJQUFJLENBQUMseUNBQXlDaEY7UUFDeEQ7SUFDRjtBQUNGLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvY2xpZW50LmpzPzlmYzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UsXG4gIGZvcndhcmREYXRhLFxuICBsb2dGYXRhbEVycm9yXG59IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5pbXBvcnQgeyBMb2NhbFN5bmNTdGF0ZSB9IGZyb20gXCIuL2xvY2FsX3N0YXRlLmpzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0TWFuYWdlciB9IGZyb20gXCIuL3JlcXVlc3RfbWFuYWdlci5qc1wiO1xuaW1wb3J0IHtcbiAgT3B0aW1pc3RpY1F1ZXJ5UmVzdWx0c1xufSBmcm9tIFwiLi9vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qc1wiO1xuaW1wb3J0IHsgUmVtb3RlUXVlcnlTZXQgfSBmcm9tIFwiLi9yZW1vdGVfcXVlcnlfc2V0LmpzXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVQYXRoQW5kQXJncyB9IGZyb20gXCIuL3VkZl9wYXRoX3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBXZWJTb2NrZXRNYW5hZ2VyIH0gZnJvbSBcIi4vd2ViX3NvY2tldF9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBuZXdTZXNzaW9uSWQgfSBmcm9tIFwiLi9zZXNzaW9uLmpzXCI7XG5pbXBvcnQge1xuICBBdXRoZW50aWNhdGlvbk1hbmFnZXJcbn0gZnJvbSBcIi4vYXV0aGVudGljYXRpb25fbWFuYWdlci5qc1wiO1xuZXhwb3J0IHt9IGZyb20gXCIuL2F1dGhlbnRpY2F0aW9uX21hbmFnZXIuanNcIjtcbmltcG9ydCB7IGdldE1hcmtzUmVwb3J0LCBtYXJrIH0gZnJvbSBcIi4vbWV0cmljcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzLCB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDb252ZXhFcnJvciB9IGZyb20gXCIuLi8uLi92YWx1ZXMvZXJyb3JzLmpzXCI7XG5leHBvcnQgY2xhc3MgQmFzZUNvbnZleENsaWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSB1cmwgb2YgeW91ciBDb252ZXggZGVwbG95bWVudCwgb2Z0ZW4gcHJvdmlkZWRcbiAgICogYnkgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuIEUuZy4gYGh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZGAuXG4gICAqIEBwYXJhbSBvblRyYW5zaXRpb24gLSBBIGNhbGxiYWNrIHJlY2VpdmluZyBhbiBhcnJheSBvZiBxdWVyeSB0b2tlbnNcbiAgICogY29ycmVzcG9uZGluZyB0byBxdWVyeSByZXN1bHRzIHRoYXQgaGF2ZSBjaGFuZ2VkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgQmFzZUNvbnZleENsaWVudE9wdGlvbnN9IGZvciBhIGZ1bGwgZGVzY3JpcHRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBvblRyYW5zaXRpb24sIG9wdGlvbnMpIHtcbiAgICB0aGlzLmZpcnN0TWVzc2FnZVJlY2VpdmVkID0gZmFsc2U7XG4gICAgLy8gSW5zdGFuY2UgcHJvcGVydHkgc28gdGhhdCBgbWFyaygpYCBkb2Vzbid0IG5lZWQgdG8gYmUgY2FsbGVkIGFzIGEgbWV0aG9kLlxuICAgIHRoaXMubWFyayA9IChuYW1lKSA9PiB7XG4gICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICBtYXJrKG5hbWUsIHRoaXMuc2Vzc2lvbklkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh0eXBlb2YgYWRkcmVzcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlBhc3NpbmcgYSBDbGllbnRDb25maWcgb2JqZWN0IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBhc3MgdGhlIFVSTCBvZiB0aGUgQ29udmV4IGRlcGxveW1lbnQgYXMgYSBzdHJpbmcgZGlyZWN0bHkuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICBvcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgbGV0IHdlYlNvY2tldENvbnN0cnVjdG9yID0gb3B0aW9ucy53ZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbiAgICBpZiAoIXdlYlNvY2tldENvbnN0cnVjdG9yICYmIHR5cGVvZiBXZWJTb2NrZXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBXZWJTb2NrZXQgZ2xvYmFsIHZhcmlhYmxlIGRlZmluZWQhIFRvIHVzZSBDb252ZXggaW4gYW4gZW52aXJvbm1lbnQgd2l0aG91dCBXZWJTb2NrZXQgdHJ5IHRoZSBIVFRQIGNsaWVudDogaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvYXBpL2NsYXNzZXMvYnJvd3Nlci5Db252ZXhIdHRwQ2xpZW50XCJcbiAgICAgICk7XG4gICAgfVxuICAgIHdlYlNvY2tldENvbnN0cnVjdG9yID0gd2ViU29ja2V0Q29uc3RydWN0b3IgfHwgV2ViU29ja2V0O1xuICAgIHRoaXMudmVyYm9zZSA9IG9wdGlvbnMudmVyYm9zZSA/PyBmYWxzZTtcbiAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5yZXBvcnREZWJ1Z0luZm9Ub0NvbnZleCA/PyBmYWxzZTtcbiAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIGNvbnN0IGkgPSBhZGRyZXNzLnNlYXJjaChcIjovL1wiKTtcbiAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVkIGFkZHJlc3Mgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwuXCIpO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW4gPSBhZGRyZXNzLnN1YnN0cmluZyhpICsgMyk7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBhZGRyZXNzLnN1YnN0cmluZygwLCBpKTtcbiAgICBsZXQgd3NQcm90b2NvbDtcbiAgICBpZiAocHJvdG9jb2wgPT09IFwiaHR0cFwiKSB7XG4gICAgICB3c1Byb3RvY29sID0gXCJ3c1wiO1xuICAgIH0gZWxzZSBpZiAocHJvdG9jb2wgPT09IFwiaHR0cHNcIikge1xuICAgICAgd3NQcm90b2NvbCA9IFwid3NzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYXJlbnQgcHJvdG9jb2wgJHtwcm90b2NvbH1gKTtcbiAgICB9XG4gICAgY29uc3Qgd3NVcmkgPSBgJHt3c1Byb3RvY29sfTovLyR7b3JpZ2lufS9hcGkvJHt2ZXJzaW9ufS9zeW5jYDtcbiAgICB0aGlzLnN0YXRlID0gbmV3IExvY2FsU3luY1N0YXRlKCk7XG4gICAgdGhpcy5yZW1vdGVRdWVyeVNldCA9IG5ldyBSZW1vdGVRdWVyeVNldChcbiAgICAgIChxdWVyeUlkKSA9PiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKVxuICAgICk7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG5ldyBSZXF1ZXN0TWFuYWdlcigpO1xuICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyID0gbmV3IEF1dGhlbnRpY2F0aW9uTWFuYWdlcih0aGlzLnN0YXRlLCB7XG4gICAgICBhdXRoZW50aWNhdGU6ICh0b2tlbikgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5zZXRBdXRoKHRva2VuKTtcbiAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICAgIHBhdXNlU29ja2V0OiAoKSA9PiB0aGlzLndlYlNvY2tldE1hbmFnZXIucGF1c2UoKSxcbiAgICAgIHJlc3VtZVNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnJlc3VtZSgpLFxuICAgICAgY2xlYXJBdXRoOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgICB9LFxuICAgICAgdmVyYm9zZTogdGhpcy52ZXJib3NlXG4gICAgfSk7XG4gICAgdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzID0gbmV3IE9wdGltaXN0aWNRdWVyeVJlc3VsdHMoKTtcbiAgICB0aGlzLm9uVHJhbnNpdGlvbiA9IG9uVHJhbnNpdGlvbjtcbiAgICB0aGlzLm5leHRSZXF1ZXN0SWQgPSAwO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gbmV3U2Vzc2lvbklkKCk7XG4gICAgY29uc3QgeyB1bnNhdmVkQ2hhbmdlc1dhcm5pbmcgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInVuc2F2ZWRDaGFuZ2VzV2FybmluZyByZXF1ZXN0ZWQsIGJ1dCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBub3QgZm91bmQhIFJlbW92ZSB7dW5zYXZlZENoYW5nZXNXYXJuaW5nOiB0cnVlfSBmcm9tIENvbnZleCBjbGllbnQgb3B0aW9ucy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nICE9PSBmYWxzZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdE1hbmFnZXIuaGFzSW5jb21wbGV0ZVJlcXVlc3RzKCkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uTWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyBZb3VyIGNoYW5nZXMgbWF5IG5vdCBiZSBzYXZlZC5cIjtcbiAgICAgICAgICAoZSB8fCB3aW5kb3cuZXZlbnQpLnJldHVyblZhbHVlID0gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlciA9IG5ldyBXZWJTb2NrZXRNYW5hZ2VyKFxuICAgICAgd3NVcmksXG4gICAgICAocmVjb25uZWN0TWV0YWRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5tYXJrKFwiY29udmV4V2ViU29ja2V0T3BlblwiKTtcbiAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAuLi5yZWNvbm5lY3RNZXRhZGF0YSxcbiAgICAgICAgICB0eXBlOiBcIkNvbm5lY3RcIixcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIG1heE9ic2VydmVkVGltZXN0YW1wOiB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvbGRSZW1vdGVRdWVyeVJlc3VsdHMgPSBuZXcgU2V0KFxuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQucmVtb3RlUXVlcnlSZXN1bHRzKCkua2V5cygpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQgPSBuZXcgUmVtb3RlUXVlcnlTZXQoXG4gICAgICAgICAgKHF1ZXJ5SWQpID0+IHRoaXMuc3RhdGUucXVlcnlQYXRoKHF1ZXJ5SWQpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IFtxdWVyeVNldE1vZGlmaWNhdGlvbiwgYXV0aE1vZGlmaWNhdGlvbl0gPSB0aGlzLnN0YXRlLnJlc3RhcnQoXG4gICAgICAgICAgb2xkUmVtb3RlUXVlcnlSZXN1bHRzXG4gICAgICAgICk7XG4gICAgICAgIGlmIChhdXRoTW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKGF1dGhNb2RpZmljYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShxdWVyeVNldE1vZGlmaWNhdGlvbik7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnJlc3RhcnQoKSkge1xuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChzZXJ2ZXJNZXNzYWdlKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5maXJzdE1lc3NhZ2VSZWNlaXZlZCkge1xuICAgICAgICAgIHRoaXMuZmlyc3RNZXNzYWdlUmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubWFyayhcImNvbnZleEZpcnN0TWVzc2FnZVJlY2VpdmVkXCIpO1xuICAgICAgICAgIHRoaXMucmVwb3J0TWFya3MoKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHNlcnZlck1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZWRUaW1lc3RhbXAoc2VydmVyTWVzc2FnZS5lbmRWZXJzaW9uLnRzKTtcbiAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLm9uVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFJlcXVlc3RzID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5yZW1vdmVDb21wbGV0ZWQoXG4gICAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudGltZXN0YW1wKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKGNvbXBsZXRlZFJlcXVlc3RzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiTXV0YXRpb25SZXNwb25zZVwiOiB7XG4gICAgICAgICAgICBpZiAoc2VydmVyTWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZWRUaW1lc3RhbXAoc2VydmVyTWVzc2FnZS50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRNdXRhdGlvbklkID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5vblJlc3BvbnNlKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZE11dGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcygvKiBAX19QVVJFX18gKi8gbmV3IFNldChbY29tcGxldGVkTXV0YXRpb25JZF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiQWN0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5vblJlc3BvbnNlKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJBdXRoRXJyb3JcIjoge1xuICAgICAgICAgICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIub25BdXRoRXJyb3Ioc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIkZhdGFsRXJyb3JcIjoge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBsb2dGYXRhbEVycm9yKHNlcnZlck1lc3NhZ2UuZXJyb3IpO1xuICAgICAgICAgICAgdm9pZCB0aGlzLndlYlNvY2tldE1hbmFnZXIuc3RvcCgpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJQaW5nXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBfdHlwZUNoZWNrID0gc2VydmVyTWVzc2FnZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDogdGhpcy5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd2ViU29ja2V0Q29uc3RydWN0b3IsXG4gICAgICB0aGlzLnZlcmJvc2VcbiAgICApO1xuICAgIHRoaXMubWFyayhcImNvbnZleENsaWVudENvbnN0cnVjdGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGVyZSBpcyBvdXRzdGFuZGluZyB3b3JrIGZyb20gcHJpb3IgdG8gdGhlIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50IHJlc3RhcnQuXG4gICAqIFRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IHByb3ZlbiBpdHNlbGYgdG8gaGF2ZSBnb3R0ZW4gcGFzdCB0aGUgaXNzdWUgdGhhdFxuICAgKiBwb3RlbnRpYWxseSBsZWQgdG8gdGhlIHJlc3RhcnQuIFVzZSB0aGlzIHRvIGluZmx1ZW5jZSB3aGVuIHRvIHJlc2V0IGJhY2tvZmYgYWZ0ZXIgYSBmYWlsdXJlLlxuICAgKi9cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKSB7XG4gICAgY29uc3QgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QgPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkgfHwgdGhpcy5zdGF0ZS5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpO1xuICAgIHJldHVybiBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDtcbiAgfVxuICBvYnNlcnZlZFRpbWVzdGFtcChvYnNlcnZlZFRzKSB7XG4gICAgaWYgKHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXAgPT09IHZvaWQgMCB8fCB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wLmxlc3NUaGFuT3JFcXVhbChvYnNlcnZlZFRzKSkge1xuICAgICAgdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcCA9IG9ic2VydmVkVHM7XG4gICAgfVxuICB9XG4gIGdldE1heE9ic2VydmVkVGltZXN0YW1wKCkge1xuICAgIHJldHVybiB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBjdXJyZW50IHF1ZXJ5IHJlc3VsdHMgYmFzZWQgb24gdGhlIHJlbW90ZVF1ZXJ5U2V0IGFuZCB0aGVcbiAgICogY3VycmVudCBvcHRpbWlzdGljIHVwZGF0ZXMgYW5kIGNhbGwgYG9uVHJhbnNpdGlvbmAgZm9yIGFsbCB0aGUgY2hhbmdlZFxuICAgKiBxdWVyaWVzLlxuICAgKlxuICAgKiBAcGFyYW0gY29tcGxldGVkTXV0YXRpb25zIC0gQSBzZXQgb2YgbXV0YXRpb24gSURzIHdob3NlIG9wdGltaXN0aWMgdXBkYXRlc1xuICAgKiBhcmUgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICovXG4gIG5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKGNvbXBsZXRlZFJlcXVlc3QpIHtcbiAgICBjb25zdCByZW1vdGVRdWVyeVJlc3VsdHMgPSB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnJlbW90ZVF1ZXJ5UmVzdWx0cygpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW5Ub1ZhbHVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IFtxdWVyeUlkLCByZXN1bHRdIG9mIHJlbW90ZVF1ZXJ5UmVzdWx0cykge1xuICAgICAgY29uc3QgcXVlcnlUb2tlbiA9IHRoaXMuc3RhdGUucXVlcnlUb2tlbihxdWVyeUlkKTtcbiAgICAgIGlmIChxdWVyeVRva2VuICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB1ZGZQYXRoOiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKSxcbiAgICAgICAgICBhcmdzOiB0aGlzLnN0YXRlLnF1ZXJ5QXJncyhxdWVyeUlkKVxuICAgICAgICB9O1xuICAgICAgICBxdWVyeVRva2VuVG9WYWx1ZS5zZXQocXVlcnlUb2tlbiwgcXVlcnkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm9uVHJhbnNpdGlvbihcbiAgICAgIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5pbmdlc3RRdWVyeVJlc3VsdHNGcm9tU2VydmVyKFxuICAgICAgICBxdWVyeVRva2VuVG9WYWx1ZSxcbiAgICAgICAgY29tcGxldGVkUmVxdWVzdFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4gdG8gYmUgdXNlZCBmb3Igc3Vic2VxdWVudCBxdWVyaWVzIGFuZCBtdXRhdGlvbnMuXG4gICAqIGBmZXRjaFRva2VuYCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGFnYWluIGlmIGEgdG9rZW4gZXhwaXJlcy5cbiAgICogYGZldGNoVG9rZW5gIHNob3VsZCByZXR1cm4gYG51bGxgIGlmIHRoZSB0b2tlbiBjYW5ub3QgYmUgcmV0cmlldmVkLCBmb3IgZXhhbXBsZVxuICAgKiB3aGVuIHRoZSB1c2VyJ3MgcmlnaHRzIHdlcmUgcGVybWFuZW50bHkgcmV2b2tlZC5cbiAgICogQHBhcmFtIGZldGNoVG9rZW4gLSBhbiBhc3luYyBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIEpXVC1lbmNvZGVkIE9wZW5JRCBDb25uZWN0IElkZW50aXR5IFRva2VuXG4gICAqIEBwYXJhbSBvbkNoYW5nZSAtIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0dXMgY2hhbmdlc1xuICAgKi9cbiAgc2V0QXV0aChmZXRjaFRva2VuLCBvbkNoYW5nZSkge1xuICAgIHZvaWQgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIuc2V0Q29uZmlnKGZldGNoVG9rZW4sIG9uQ2hhbmdlKTtcbiAgfVxuICBoYXNBdXRoKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmhhc0F1dGgoKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHNldEFkbWluQXV0aCh2YWx1ZSwgZmFrZVVzZXJJZGVudGl0eSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLnNldEFkbWluQXV0aCh2YWx1ZSwgZmFrZVVzZXJJZGVudGl0eSk7XG4gICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG4gIGNsZWFyQXV0aCgpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5jbGVhckF1dGgoKTtcbiAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbiAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIGEgcXVlcnkgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBXaGVuZXZlciB0aGlzIHF1ZXJ5J3MgcmVzdWx0IGNoYW5nZXMsIHRoZSBgb25UcmFuc2l0aW9uYCBjYWxsYmFja1xuICAgICAqIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciB3aWxsIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsIHRoZVxuICAgICAqIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBTdWJzY3JpYmVPcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBxdWVyeS5cbiAgXG4gICAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSB7QGxpbmsgUXVlcnlUb2tlbn0gY29ycmVzcG9uZGluZyB0byB0aGlzXG4gICAgICogcXVlcnkgYW5kIGFuIGB1bnN1YnNjcmliZWAgY2FsbGJhY2suXG4gICAgICovXG4gIHN1YnNjcmliZShuYW1lLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgYXJnc09iamVjdCA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiwgcXVlcnlUb2tlbiwgdW5zdWJzY3JpYmUgfSA9IHRoaXMuc3RhdGUuc3Vic2NyaWJlKFxuICAgICAgbmFtZSxcbiAgICAgIGFyZ3NPYmplY3QsXG4gICAgICBvcHRpb25zPy5qb3VybmFsXG4gICAgKTtcbiAgICBpZiAobW9kaWZpY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobW9kaWZpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5VG9rZW4sXG4gICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RpZmljYXRpb24yID0gdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKG1vZGlmaWNhdGlvbjIpIHtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobW9kaWZpY2F0aW9uMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBIHF1ZXJ5IHJlc3VsdCBiYXNlZCBvbmx5IG9uIHRoZSBjdXJyZW50LCBsb2NhbCBzdGF0ZS5cbiAgICpcbiAgICogVGhlIG9ubHkgd2F5IHRoaXMgd2lsbCByZXR1cm4gYSB2YWx1ZSBpcyBpZiB3ZSdyZSBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhlXG4gICAqIHF1ZXJ5IG9yIGl0cyB2YWx1ZSBoYXMgYmVlbiBzZXQgb3B0aW1pc3RpY2FsbHkuXG4gICAqL1xuICBsb2NhbFF1ZXJ5UmVzdWx0KHVkZlBhdGgsIGFyZ3MpIHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzT2JqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcXVlcnkgcmVzdWx0IGJ5IHF1ZXJ5IHRva2VuIGJhc2VkIG9uIGN1cnJlbnQsIGxvY2FsIHN0YXRlXG4gICAqXG4gICAqIFRoZSBvbmx5IHdheSB0aGlzIHdpbGwgcmV0dXJuIGEgdmFsdWUgaXMgaWYgd2UncmUgYWxyZWFkeSBzdWJzY3JpYmVkIHRvIHRoZVxuICAgKiBxdWVyeSBvciBpdHMgdmFsdWUgaGFzIGJlZW4gc2V0IG9wdGltaXN0aWNhbGx5LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIGxvY2FsIHF1ZXJ5IHJlc3VsdCBpcyBhdmFpbGFibGUgZm9yIGEgdG9rZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cgaWYgdGhlIHJlc3VsdCBpcyBhbiBlcnJvci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBoYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5oYXNRdWVyeVJlc3VsdChxdWVyeVRva2VuKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBsb2NhbFF1ZXJ5TG9ncyh1ZGZQYXRoLCBhcmdzKSB7XG4gICAgY29uc3QgYXJnc09iamVjdCA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3ModWRmUGF0aCwgYXJnc09iamVjdCk7XG4gICAgcmV0dXJuIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5xdWVyeUxvZ3MocXVlcnlUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBjdXJyZW50IHtAbGluayBRdWVyeUpvdXJuYWx9IGZvciB0aGlzIHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiBJZiB3ZSBoYXZlIG5vdCB5ZXQgcmVjZWl2ZWQgYSByZXN1bHQgZm9yIHRoaXMgcXVlcnksIHRoaXMgd2lsbCBiZSBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcXVlcnkuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoaXMgcXVlcnkuXG4gICAqIEByZXR1cm5zIFRoZSBxdWVyeSdzIHtAbGluayBRdWVyeUpvdXJuYWx9IG9yIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgcXVlcnlKb3VybmFsKG5hbWUsIGFyZ3MpIHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhuYW1lLCBhcmdzT2JqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5xdWVyeUpvdXJuYWwocXVlcnlUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBDb25uZWN0aW9uU3RhdGV9IHdpdGggdGhlIENvbnZleCBiYWNrZW5kLlxuICAgKi9cbiAgY29ubmVjdGlvblN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoYXNJbmZsaWdodFJlcXVlc3RzOiB0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc0luZmxpZ2h0UmVxdWVzdHMoKSxcbiAgICAgIGlzV2ViU29ja2V0Q29ubmVjdGVkOiB0aGlzLndlYlNvY2tldE1hbmFnZXIuc29ja2V0U3RhdGUoKSA9PT0gXCJyZWFkeVwiLFxuICAgICAgdGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0OiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdCgpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICAgKiBFeGVjdXRlIGEgbXV0YXRpb24gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgTXV0YXRpb25PcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBtdXRhdGlvbi5cbiAgXG4gICAgICogQHJldHVybnMgLSBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgICAqL1xuICBhc3luYyBtdXRhdGlvbihuYW1lLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tdXRhdGlvbkludGVybmFsKG5hbWUsIGFyZ3MsIG9wdGlvbnMpO1xuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgZm9yd2FyZERhdGEoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJtdXRhdGlvblwiLCBuYW1lLCByZXN1bHQpKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcIm11dGF0aW9uXCIsIG5hbWUsIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIG11dGF0aW9uSW50ZXJuYWwodWRmUGF0aCwgYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IG11dGF0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICB0aGlzLnRyeVJlcG9ydExvbmdEaXNjb25uZWN0KCk7XG4gICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy5uZXh0UmVxdWVzdElkO1xuICAgIHRoaXMubmV4dFJlcXVlc3RJZCsrO1xuICAgIGlmIChvcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IG9wdGltaXN0aWNVcGRhdGUgPSBvcHRpb25zLm9wdGltaXN0aWNVcGRhdGU7XG4gICAgICBpZiAob3B0aW1pc3RpY1VwZGF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRVcGRhdGUgPSAobG9jYWxRdWVyeVN0b3JlKSA9PiB7XG4gICAgICAgICAgb3B0aW1pc3RpY1VwZGF0ZShsb2NhbFF1ZXJ5U3RvcmUsIG11dGF0aW9uQXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5nZWRRdWVyaWVzID0gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLmFwcGx5T3B0aW1pc3RpY1VwZGF0ZShcbiAgICAgICAgICB3cmFwcGVkVXBkYXRlLFxuICAgICAgICAgIHJlcXVlc3RJZFxuICAgICAgICApO1xuICAgICAgICB0aGlzLm9uVHJhbnNpdGlvbihjaGFuZ2VkUXVlcmllcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiBcIk11dGF0aW9uXCIsXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICB1ZGZQYXRoLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXVxuICAgIH07XG4gICAgY29uc3QgbWlnaHRCZVNlbnQgPSB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdE1hbmFnZXIucmVxdWVzdChtZXNzYWdlLCBtaWdodEJlU2VudCk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGFjdGlvbi4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBhY3Rpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBhY3Rpb24obmFtZSwgYXJncykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYWN0aW9uSW50ZXJuYWwobmFtZSwgYXJncyk7XG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgaWYgKHJlc3VsdC5lcnJvckRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBmb3J3YXJkRGF0YShcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgbmV3IENvbnZleEVycm9yKGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcImFjdGlvblwiLCBuYW1lLCByZXN1bHQpKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcImFjdGlvblwiLCBuYW1lLCByZXN1bHQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhc3luYyBhY3Rpb25JbnRlcm5hbCh1ZGZQYXRoLCBhcmdzKSB7XG4gICAgY29uc3QgYWN0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCByZXF1ZXN0SWQgPSB0aGlzLm5leHRSZXF1ZXN0SWQ7XG4gICAgdGhpcy5uZXh0UmVxdWVzdElkKys7XG4gICAgdGhpcy50cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiBcIkFjdGlvblwiLFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgdWRmUGF0aCxcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oYWN0aW9uQXJncyldXG4gICAgfTtcbiAgICBjb25zdCBtaWdodEJlU2VudCA9IHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXF1ZXN0KG1lc3NhZ2UsIG1pZ2h0QmVTZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgYW55IG5ldHdvcmsgaGFuZGxlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGllbnQgYW5kIHN0b3AgYWxsIHN1YnNjcmlwdGlvbnMuXG4gICAqXG4gICAqIENhbGwgdGhpcyBtZXRob2Qgd2hlbiB5b3UncmUgZG9uZSB3aXRoIGFuIHtAbGluayBCYXNlQ29udmV4Q2xpZW50fSB0b1xuICAgKiBkaXNwb3NlIG9mIGl0cyBzb2NrZXRzIGFuZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgYFByb21pc2VgIGZ1bGZpbGxlZCB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIGNvbXBsZXRlbHkgY2xvc2VkLlxuICAgKi9cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIuc3RvcCgpO1xuICAgIHJldHVybiB0aGlzLndlYlNvY2tldE1hbmFnZXIuc3RvcCgpO1xuICB9XG4gIF9sb2dWZXJib3NlKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy52ZXJib3NlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGAkeygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKX0gJHttZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwb3J0cyBwZXJmb3JtYW5jZSBtYXJrcyB0byB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gICAqIHdlIGhhdmUgYSBmdW5jdGlvbmFsIHdlYnNvY2tldC5cbiAgICovXG4gIHJlcG9ydE1hcmtzKCkge1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBnZXRNYXJrc1JlcG9ydCh0aGlzLnNlc3Npb25JZCk7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcIkV2ZW50XCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJDbGllbnRDb25uZWN0XCIsXG4gICAgICAgIGV2ZW50OiByZXBvcnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB0cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpIHtcbiAgICBpZiAoIXRoaXMuZGVidWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGltZU9mT2xkZXN0UmVxdWVzdCA9IHRoaXMuY29ubmVjdGlvblN0YXRlKCkudGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0O1xuICAgIGlmICh0aW1lT2ZPbGRlc3RSZXF1ZXN0ID09PSBudWxsIHx8IERhdGUubm93KCkgLSB0aW1lT2ZPbGRlc3RSZXF1ZXN0LmdldFRpbWUoKSA8PSA2MCAqIDFlMykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYWRkcmVzc30vYXBpL2RlYnVnX2V2ZW50YDtcbiAgICBmZXRjaChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudDogXCJMb25nV2Vic29ja2V0RGlzY29ubmVjdFwiIH0pXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiQW5hbHl0aWNzIHJlcXVlc3QgZmFpbGVkIHdpdGggcmVzcG9uc2U6XCIsXG4gICAgICAgICAgcmVzcG9uc2UuYm9keVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS53YXJuKFwiQW5hbHl0aWNzIHJlc3BvbnNlIGZhaWxlZCB3aXRoIGVycm9yOlwiLCBlcnJvcik7XG4gICAgfSk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ2ZXJzaW9uIiwiY29udmV4VG9Kc29uIiwiY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlIiwiZm9yd2FyZERhdGEiLCJsb2dGYXRhbEVycm9yIiwiTG9jYWxTeW5jU3RhdGUiLCJSZXF1ZXN0TWFuYWdlciIsIk9wdGltaXN0aWNRdWVyeVJlc3VsdHMiLCJSZW1vdGVRdWVyeVNldCIsInNlcmlhbGl6ZVBhdGhBbmRBcmdzIiwiV2ViU29ja2V0TWFuYWdlciIsIm5ld1Nlc3Npb25JZCIsIkF1dGhlbnRpY2F0aW9uTWFuYWdlciIsImdldE1hcmtzUmVwb3J0IiwibWFyayIsInBhcnNlQXJncyIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsIkNvbnZleEVycm9yIiwiQmFzZUNvbnZleENsaWVudCIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsIm9uVHJhbnNpdGlvbiIsIm9wdGlvbnMiLCJmaXJzdE1lc3NhZ2VSZWNlaXZlZCIsIm5hbWUiLCJkZWJ1ZyIsInNlc3Npb25JZCIsIkVycm9yIiwid2ViU29ja2V0Q29uc3RydWN0b3IiLCJXZWJTb2NrZXQiLCJ2ZXJib3NlIiwicmVwb3J0RGVidWdJbmZvVG9Db252ZXgiLCJpIiwic2VhcmNoIiwib3JpZ2luIiwic3Vic3RyaW5nIiwicHJvdG9jb2wiLCJ3c1Byb3RvY29sIiwid3NVcmkiLCJzdGF0ZSIsInJlbW90ZVF1ZXJ5U2V0IiwicXVlcnlJZCIsInF1ZXJ5UGF0aCIsInJlcXVlc3RNYW5hZ2VyIiwiYXV0aGVudGljYXRpb25NYW5hZ2VyIiwiYXV0aGVudGljYXRlIiwidG9rZW4iLCJtZXNzYWdlIiwic2V0QXV0aCIsIndlYlNvY2tldE1hbmFnZXIiLCJzZW5kTWVzc2FnZSIsInBhdXNlU29ja2V0IiwicGF1c2UiLCJyZXN1bWVTb2NrZXQiLCJyZXN1bWUiLCJjbGVhckF1dGgiLCJvcHRpbWlzdGljUXVlcnlSZXN1bHRzIiwibmV4dFJlcXVlc3RJZCIsInVuc2F2ZWRDaGFuZ2VzV2FybmluZyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiaGFzSW5jb21wbGV0ZVJlcXVlc3RzIiwicHJldmVudERlZmF1bHQiLCJjb25maXJtYXRpb25NZXNzYWdlIiwiZXZlbnQiLCJyZXR1cm5WYWx1ZSIsInJlY29ubmVjdE1ldGFkYXRhIiwidHlwZSIsIm1heE9ic2VydmVkVGltZXN0YW1wIiwib2xkUmVtb3RlUXVlcnlSZXN1bHRzIiwiU2V0IiwicmVtb3RlUXVlcnlSZXN1bHRzIiwia2V5cyIsInF1ZXJ5U2V0TW9kaWZpY2F0aW9uIiwiYXV0aE1vZGlmaWNhdGlvbiIsInJlc3RhcnQiLCJzZXJ2ZXJNZXNzYWdlIiwicmVwb3J0TWFya3MiLCJvYnNlcnZlZFRpbWVzdGFtcCIsImVuZFZlcnNpb24iLCJ0cyIsInRyYW5zaXRpb24iLCJjb21wbGV0ZWRSZXF1ZXN0cyIsInJlbW92ZUNvbXBsZXRlZCIsInRpbWVzdGFtcCIsIm5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzIiwic3VjY2VzcyIsImNvbXBsZXRlZE11dGF0aW9uSWQiLCJvblJlc3BvbnNlIiwib25BdXRoRXJyb3IiLCJlcnJvciIsInN0b3AiLCJfdHlwZUNoZWNrIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJvYnNlcnZlZFRzIiwibGVzc1RoYW5PckVxdWFsIiwiZ2V0TWF4T2JzZXJ2ZWRUaW1lc3RhbXAiLCJjb21wbGV0ZWRSZXF1ZXN0IiwicXVlcnlUb2tlblRvVmFsdWUiLCJNYXAiLCJyZXN1bHQiLCJxdWVyeVRva2VuIiwicXVlcnkiLCJ1ZGZQYXRoIiwiYXJncyIsInF1ZXJ5QXJncyIsInNldCIsImluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIiLCJmZXRjaFRva2VuIiwib25DaGFuZ2UiLCJzZXRDb25maWciLCJoYXNBdXRoIiwic2V0QWRtaW5BdXRoIiwidmFsdWUiLCJmYWtlVXNlcklkZW50aXR5Iiwic3Vic2NyaWJlIiwiYXJnc09iamVjdCIsIm1vZGlmaWNhdGlvbiIsInVuc3Vic2NyaWJlIiwiam91cm5hbCIsIm1vZGlmaWNhdGlvbjIiLCJsb2NhbFF1ZXJ5UmVzdWx0IiwicXVlcnlSZXN1bHQiLCJsb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbiIsImhhc0xvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwiaGFzUXVlcnlSZXN1bHQiLCJsb2NhbFF1ZXJ5TG9ncyIsInF1ZXJ5TG9ncyIsInF1ZXJ5Sm91cm5hbCIsImNvbm5lY3Rpb25TdGF0ZSIsImhhc0luZmxpZ2h0UmVxdWVzdHMiLCJpc1dlYlNvY2tldENvbm5lY3RlZCIsInNvY2tldFN0YXRlIiwidGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0IiwibXV0YXRpb24iLCJtdXRhdGlvbkludGVybmFsIiwiZXJyb3JEYXRhIiwibXV0YXRpb25BcmdzIiwidHJ5UmVwb3J0TG9uZ0Rpc2Nvbm5lY3QiLCJyZXF1ZXN0SWQiLCJvcHRpbWlzdGljVXBkYXRlIiwid3JhcHBlZFVwZGF0ZSIsImxvY2FsUXVlcnlTdG9yZSIsImNoYW5nZWRRdWVyaWVzIiwiYXBwbHlPcHRpbWlzdGljVXBkYXRlIiwibWlnaHRCZVNlbnQiLCJyZXF1ZXN0IiwiYWN0aW9uIiwiYWN0aW9uSW50ZXJuYWwiLCJhY3Rpb25BcmdzIiwiY2xvc2UiLCJfbG9nVmVyYm9zZSIsImNvbnNvbGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXBvcnQiLCJldmVudFR5cGUiLCJ0aW1lT2ZPbGRlc3RSZXF1ZXN0Iiwibm93IiwiZ2V0VGltZSIsImVuZHBvaW50IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsIndhcm4iLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/local_state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSyncState: () => (/* binding */ LocalSyncState)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\n\n\nclass LocalSyncState {\n    constructor(){\n        this.nextQueryId = 0;\n        this.querySetVersion = 0;\n        this.identityVersion = 0;\n        this.querySet = /* @__PURE__ */ new Map();\n        this.queryIdToToken = /* @__PURE__ */ new Map();\n        this.outstandingQueriesOlderThanRestart = /* @__PURE__ */ new Set();\n        this.outstandingAuthOlderThanRestart = false;\n    }\n    hasSyncedPastLastReconnect() {\n        return this.outstandingQueriesOlderThanRestart.size === 0 && !this.outstandingAuthOlderThanRestart;\n    }\n    markAuthCompletion() {\n        this.outstandingAuthOlderThanRestart = false;\n    }\n    subscribe(udfPath, args, journal) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            existingEntry.numSubscribers += 1;\n            return {\n                queryToken,\n                modification: null,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        } else {\n            const queryId = this.nextQueryId++;\n            const query = {\n                id: queryId,\n                canonicalizedUdfPath,\n                args,\n                numSubscribers: 1,\n                journal\n            };\n            this.querySet.set(queryToken, query);\n            this.queryIdToToken.set(queryId, queryToken);\n            const baseVersion = this.querySetVersion;\n            const newVersion = ++this.querySetVersion;\n            const add = {\n                type: \"Add\",\n                queryId,\n                udfPath: canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n                ],\n                journal\n            };\n            const modification = {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    add\n                ]\n            };\n            return {\n                queryToken,\n                modification,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        }\n    }\n    transition(transition) {\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                case \"QueryFailed\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        const journal = modification.journal;\n                        if (journal !== void 0) {\n                            const queryToken = this.queryIdToToken.get(modification.queryId);\n                            if (queryToken !== void 0) {\n                                this.querySet.get(queryToken).journal = journal;\n                            }\n                        }\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        const _ = modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n    }\n    queryId(udfPath, args) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            return existingEntry.id;\n        }\n        return null;\n    }\n    isCurrentOrNewerAuthVersion(version) {\n        return version >= this.identityVersion;\n    }\n    setAuth(value) {\n        this.auth = {\n            tokenType: \"User\",\n            value\n        };\n        const baseVersion = this.identityVersion++;\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...this.auth\n        };\n    }\n    setAdminAuth(value, actingAs) {\n        const auth = {\n            tokenType: \"Admin\",\n            value,\n            impersonating: actingAs\n        };\n        this.auth = auth;\n        const baseVersion = this.identityVersion++;\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...auth\n        };\n    }\n    clearAuth() {\n        this.auth = void 0;\n        this.markAuthCompletion();\n        const baseVersion = this.identityVersion++;\n        return {\n            type: \"Authenticate\",\n            tokenType: \"None\",\n            baseVersion\n        };\n    }\n    hasAuth() {\n        return !!this.auth;\n    }\n    isNewAuth(value) {\n        return this.auth?.value !== value;\n    }\n    queryPath(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).canonicalizedUdfPath;\n        }\n        return null;\n    }\n    queryArgs(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).args;\n        }\n        return null;\n    }\n    queryToken(queryId) {\n        return this.queryIdToToken.get(queryId) ?? null;\n    }\n    queryJournal(queryToken) {\n        return this.querySet.get(queryToken)?.journal;\n    }\n    restart(oldRemoteQueryResults) {\n        this.outstandingQueriesOlderThanRestart.clear();\n        const modifications = [];\n        for (const localQuery of this.querySet.values()){\n            const add = {\n                type: \"Add\",\n                queryId: localQuery.id,\n                udfPath: localQuery.canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(localQuery.args)\n                ],\n                journal: localQuery.journal\n            };\n            modifications.push(add);\n            if (!oldRemoteQueryResults.has(localQuery.id)) {\n                this.outstandingQueriesOlderThanRestart.add(localQuery.id);\n            }\n        }\n        this.querySetVersion = 1;\n        const querySet = {\n            type: \"ModifyQuerySet\",\n            baseVersion: 0,\n            newVersion: 1,\n            modifications\n        };\n        if (!this.auth) {\n            this.identityVersion = 0;\n            return [\n                querySet,\n                void 0\n            ];\n        }\n        this.outstandingAuthOlderThanRestart = true;\n        const authenticate = {\n            type: \"Authenticate\",\n            baseVersion: 0,\n            ...this.auth\n        };\n        this.identityVersion = 1;\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    removeSubscriber(queryToken) {\n        const localQuery = this.querySet.get(queryToken);\n        if (localQuery.numSubscribers > 1) {\n            localQuery.numSubscribers -= 1;\n            return null;\n        } else {\n            this.querySet.delete(queryToken);\n            this.queryIdToToken.delete(localQuery.id);\n            this.outstandingQueriesOlderThanRestart.delete(localQuery.id);\n            const baseVersion = this.querySetVersion;\n            const newVersion = ++this.querySetVersion;\n            const remove = {\n                type: \"Remove\",\n                queryId: localQuery.id\n            };\n            return {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    remove\n                ]\n            };\n        }\n    }\n} //# sourceMappingURL=local_state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9sb2NhbF9zdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUN3QztBQUl4QjtBQUN0QixNQUFNRztJQUNYQyxhQUFjO1FBQ1osSUFBSSxDQUFDQyxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQ3BDLElBQUksQ0FBQ0MsY0FBYyxHQUFHLGFBQWEsR0FBRyxJQUFJRDtRQUMxQyxJQUFJLENBQUNFLGtDQUFrQyxHQUFHLGFBQWEsR0FBRyxJQUFJQztRQUM5RCxJQUFJLENBQUNDLCtCQUErQixHQUFHO0lBQ3pDO0lBQ0FDLDZCQUE2QjtRQUMzQixPQUFPLElBQUksQ0FBQ0gsa0NBQWtDLENBQUNJLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDRiwrQkFBK0I7SUFDcEc7SUFDQUcscUJBQXFCO1FBQ25CLElBQUksQ0FBQ0gsK0JBQStCLEdBQUc7SUFDekM7SUFDQUksVUFBVUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNoQyxNQUFNQyx1QkFBdUJwQix1RUFBbUJBLENBQUNpQjtRQUNqRCxNQUFNSSxhQUFhcEIsd0VBQW9CQSxDQUFDbUIsc0JBQXNCRjtRQUM5RCxNQUFNSSxnQkFBZ0IsSUFBSSxDQUFDZixRQUFRLENBQUNnQixHQUFHLENBQUNGO1FBQ3hDLElBQUlDLGtCQUFrQixLQUFLLEdBQUc7WUFDNUJBLGNBQWNFLGNBQWMsSUFBSTtZQUNoQyxPQUFPO2dCQUNMSDtnQkFDQUksY0FBYztnQkFDZEMsYUFBYSxJQUFNLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNOO1lBQzNDO1FBQ0YsT0FBTztZQUNMLE1BQU1PLFVBQVUsSUFBSSxDQUFDeEIsV0FBVztZQUNoQyxNQUFNeUIsUUFBUTtnQkFD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QUFJLENBQUNwQixrQ0FBa0MsQ0FBQzRCLE1BQU0sQ0FBQ3NCLFdBQVc5QixFQUFFO1lBQzVELE1BQU1FLGNBQWMsSUFBSSxDQUFDM0IsZUFBZTtZQUN4QyxNQUFNNEIsYUFBYSxFQUFFLElBQUksQ0FBQzVCLGVBQWU7WUFDekMsTUFBTTRELFNBQVM7Z0JBQ2I5QixNQUFNO2dCQUNOUCxTQUFTZ0MsV0FBVzlCLEVBQUU7WUFDeEI7WUFDQSxPQUFPO2dCQUNMSyxNQUFNO2dCQUNOSDtnQkFDQUM7Z0JBQ0FHLGVBQWU7b0JBQUM2QjtpQkFBTztZQUN6QjtRQUNGO0lBQ0Y7QUFDRixFQUNBLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2xvY2FsX3N0YXRlLmpzPzRiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBjYW5vbmljYWxpemVVZGZQYXRoLFxuICBzZXJpYWxpemVQYXRoQW5kQXJnc1xufSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuZXhwb3J0IGNsYXNzIExvY2FsU3luY1N0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5uZXh0UXVlcnlJZCA9IDA7XG4gICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSAwO1xuICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMDtcbiAgICB0aGlzLnF1ZXJ5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnF1ZXJ5SWRUb1Rva2VuID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IGZhbHNlO1xuICB9XG4gIGhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuc2l6ZSA9PT0gMCAmJiAhdGhpcy5vdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0O1xuICB9XG4gIG1hcmtBdXRoQ29tcGxldGlvbigpIHtcbiAgICB0aGlzLm91dHN0YW5kaW5nQXV0aE9sZGVyVGhhblJlc3RhcnQgPSBmYWxzZTtcbiAgfVxuICBzdWJzY3JpYmUodWRmUGF0aCwgYXJncywgam91cm5hbCkge1xuICAgIGNvbnN0IGNhbm9uaWNhbGl6ZWRVZGZQYXRoID0gY2Fub25pY2FsaXplVWRmUGF0aCh1ZGZQYXRoKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3MoY2Fub25pY2FsaXplZFVkZlBhdGgsIGFyZ3MpO1xuICAgIGNvbnN0IGV4aXN0aW5nRW50cnkgPSB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAoZXhpc3RpbmdFbnRyeSAhPT0gdm9pZCAwKSB7XG4gICAgICBleGlzdGluZ0VudHJ5Lm51bVN1YnNjcmliZXJzICs9IDE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeVRva2VuLFxuICAgICAgICBtb2RpZmljYXRpb246IG51bGwsXG4gICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB0aGlzLnJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbilcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHF1ZXJ5SWQgPSB0aGlzLm5leHRRdWVyeUlkKys7XG4gICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgaWQ6IHF1ZXJ5SWQsXG4gICAgICAgIGNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAgICBhcmdzLFxuICAgICAgICBudW1TdWJzY3JpYmVyczogMSxcbiAgICAgICAgam91cm5hbFxuICAgICAgfTtcbiAgICAgIHRoaXMucXVlcnlTZXQuc2V0KHF1ZXJ5VG9rZW4sIHF1ZXJ5KTtcbiAgICAgIHRoaXMucXVlcnlJZFRvVG9rZW4uc2V0KHF1ZXJ5SWQsIHF1ZXJ5VG9rZW4pO1xuICAgICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLnF1ZXJ5U2V0VmVyc2lvbjtcbiAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSArK3RoaXMucXVlcnlTZXRWZXJzaW9uO1xuICAgICAgY29uc3QgYWRkID0ge1xuICAgICAgICB0eXBlOiBcIkFkZFwiLFxuICAgICAgICBxdWVyeUlkLFxuICAgICAgICB1ZGZQYXRoOiBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJnczogW2NvbnZleFRvSnNvbihhcmdzKV0sXG4gICAgICAgIGpvdXJuYWxcbiAgICAgIH07XG4gICAgICBjb25zdCBtb2RpZmljYXRpb24gPSB7XG4gICAgICAgIHR5cGU6IFwiTW9kaWZ5UXVlcnlTZXRcIixcbiAgICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAgIG5ld1ZlcnNpb24sXG4gICAgICAgIG1vZGlmaWNhdGlvbnM6IFthZGRdXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnlUb2tlbixcbiAgICAgICAgbW9kaWZpY2F0aW9uLFxuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4gdGhpcy5yZW1vdmVTdWJzY3JpYmVyKHF1ZXJ5VG9rZW4pXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICB0cmFuc2l0aW9uKHRyYW5zaXRpb24pIHtcbiAgICBmb3IgKGNvbnN0IG1vZGlmaWNhdGlvbiBvZiB0cmFuc2l0aW9uLm1vZGlmaWNhdGlvbnMpIHtcbiAgICAgIHN3aXRjaCAobW9kaWZpY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5VXBkYXRlZFwiOlxuICAgICAgICBjYXNlIFwiUXVlcnlGYWlsZWRcIjoge1xuICAgICAgICAgIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGNvbnN0IGpvdXJuYWwgPSBtb2RpZmljYXRpb24uam91cm5hbDtcbiAgICAgICAgICBpZiAoam91cm5hbCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVRva2VuID0gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgICAgaWYgKHF1ZXJ5VG9rZW4gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKS5qb3VybmFsID0gam91cm5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlF1ZXJ5UmVtb3ZlZFwiOiB7XG4gICAgICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF8gPSBtb2RpZmljYXRpb247XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1vZGlmaWNhdGlvbiAke21vZGlmaWNhdGlvbi50eXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHF1ZXJ5SWQodWRmUGF0aCwgYXJncykge1xuICAgIGNvbnN0IGNhbm9uaWNhbGl6ZWRVZGZQYXRoID0gY2Fub25pY2FsaXplVWRmUGF0aCh1ZGZQYXRoKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3MoY2Fub25pY2FsaXplZFVkZlBhdGgsIGFyZ3MpO1xuICAgIGNvbnN0IGV4aXN0aW5nRW50cnkgPSB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAoZXhpc3RpbmdFbnRyeSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdFbnRyeS5pZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaXNDdXJyZW50T3JOZXdlckF1dGhWZXJzaW9uKHZlcnNpb24pIHtcbiAgICByZXR1cm4gdmVyc2lvbiA+PSB0aGlzLmlkZW50aXR5VmVyc2lvbjtcbiAgfVxuICBzZXRBdXRoKHZhbHVlKSB7XG4gICAgdGhpcy5hdXRoID0ge1xuICAgICAgdG9rZW5UeXBlOiBcIlVzZXJcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgICBjb25zdCBiYXNlVmVyc2lvbiA9IHRoaXMuaWRlbnRpdHlWZXJzaW9uKys7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICBiYXNlVmVyc2lvbixcbiAgICAgIC4uLnRoaXMuYXV0aFxuICAgIH07XG4gIH1cbiAgc2V0QWRtaW5BdXRoKHZhbHVlLCBhY3RpbmdBcykge1xuICAgIGNvbnN0IGF1dGggPSB7XG4gICAgICB0b2tlblR5cGU6IFwiQWRtaW5cIixcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wZXJzb25hdGluZzogYWN0aW5nQXNcbiAgICB9O1xuICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbisrO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAuLi5hdXRoXG4gICAgfTtcbiAgfVxuICBjbGVhckF1dGgoKSB7XG4gICAgdGhpcy5hdXRoID0gdm9pZCAwO1xuICAgIHRoaXMubWFya0F1dGhDb21wbGV0aW9uKCk7XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbisrO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgdG9rZW5UeXBlOiBcIk5vbmVcIixcbiAgICAgIGJhc2VWZXJzaW9uXG4gICAgfTtcbiAgfVxuICBoYXNBdXRoKCkge1xuICAgIHJldHVybiAhIXRoaXMuYXV0aDtcbiAgfVxuICBpc05ld0F1dGgodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoPy52YWx1ZSAhPT0gdmFsdWU7XG4gIH1cbiAgcXVlcnlQYXRoKHF1ZXJ5SWQpIHtcbiAgICBjb25zdCBwYXRoQW5kQXJncyA9IHRoaXMucXVlcnlJZFRvVG9rZW4uZ2V0KHF1ZXJ5SWQpO1xuICAgIGlmIChwYXRoQW5kQXJncykge1xuICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZXQuZ2V0KHBhdGhBbmRBcmdzKS5jYW5vbmljYWxpemVkVWRmUGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcXVlcnlBcmdzKHF1ZXJ5SWQpIHtcbiAgICBjb25zdCBwYXRoQW5kQXJncyA9IHRoaXMucXVlcnlJZFRvVG9rZW4uZ2V0KHF1ZXJ5SWQpO1xuICAgIGlmIChwYXRoQW5kQXJncykge1xuICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZXQuZ2V0KHBhdGhBbmRBcmdzKS5hcmdzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBxdWVyeVRva2VuKHF1ZXJ5SWQpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCkgPz8gbnVsbDtcbiAgfVxuICBxdWVyeUpvdXJuYWwocXVlcnlUb2tlbikge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKT8uam91cm5hbDtcbiAgfVxuICByZXN0YXJ0KG9sZFJlbW90ZVF1ZXJ5UmVzdWx0cykge1xuICAgIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5jbGVhcigpO1xuICAgIGNvbnN0IG1vZGlmaWNhdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGxvY2FsUXVlcnkgb2YgdGhpcy5xdWVyeVNldC52YWx1ZXMoKSkge1xuICAgICAgY29uc3QgYWRkID0ge1xuICAgICAgICB0eXBlOiBcIkFkZFwiLFxuICAgICAgICBxdWVyeUlkOiBsb2NhbFF1ZXJ5LmlkLFxuICAgICAgICB1ZGZQYXRoOiBsb2NhbFF1ZXJ5LmNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAgICBhcmdzOiBbY29udmV4VG9Kc29uKGxvY2FsUXVlcnkuYXJncyldLFxuICAgICAgICBqb3VybmFsOiBsb2NhbFF1ZXJ5LmpvdXJuYWxcbiAgICAgIH07XG4gICAgICBtb2RpZmljYXRpb25zLnB1c2goYWRkKTtcbiAgICAgIGlmICghb2xkUmVtb3RlUXVlcnlSZXN1bHRzLmhhcyhsb2NhbFF1ZXJ5LmlkKSkge1xuICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuYWRkKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnF1ZXJ5U2V0VmVyc2lvbiA9IDE7XG4gICAgY29uc3QgcXVlcnlTZXQgPSB7XG4gICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICBiYXNlVmVyc2lvbjogMCxcbiAgICAgIG5ld1ZlcnNpb246IDEsXG4gICAgICBtb2RpZmljYXRpb25zXG4gICAgfTtcbiAgICBpZiAoIXRoaXMuYXV0aCkge1xuICAgICAgdGhpcy5pZGVudGl0eVZlcnNpb24gPSAwO1xuICAgICAgcmV0dXJuIFtxdWVyeVNldCwgdm9pZCAwXTtcbiAgICB9XG4gICAgdGhpcy5vdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0ID0gdHJ1ZTtcbiAgICBjb25zdCBhdXRoZW50aWNhdGUgPSB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb246IDAsXG4gICAgICAuLi50aGlzLmF1dGhcbiAgICB9O1xuICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMTtcbiAgICByZXR1cm4gW3F1ZXJ5U2V0LCBhdXRoZW50aWNhdGVdO1xuICB9XG4gIHJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbikge1xuICAgIGNvbnN0IGxvY2FsUXVlcnkgPSB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAobG9jYWxRdWVyeS5udW1TdWJzY3JpYmVycyA+IDEpIHtcbiAgICAgIGxvY2FsUXVlcnkubnVtU3Vic2NyaWJlcnMgLT0gMTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXJ5U2V0LmRlbGV0ZShxdWVyeVRva2VuKTtcbiAgICAgIHRoaXMucXVlcnlJZFRvVG9rZW4uZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShsb2NhbFF1ZXJ5LmlkKTtcbiAgICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb247XG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gKyt0aGlzLnF1ZXJ5U2V0VmVyc2lvbjtcbiAgICAgIGNvbnN0IHJlbW92ZSA9IHtcbiAgICAgICAgdHlwZTogXCJSZW1vdmVcIixcbiAgICAgICAgcXVlcnlJZDogbG9jYWxRdWVyeS5pZFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiTW9kaWZ5UXVlcnlTZXRcIixcbiAgICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAgIG5ld1ZlcnNpb24sXG4gICAgICAgIG1vZGlmaWNhdGlvbnM6IFtyZW1vdmVdXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxfc3RhdGUuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwiY2Fub25pY2FsaXplVWRmUGF0aCIsInNlcmlhbGl6ZVBhdGhBbmRBcmdzIiwiTG9jYWxTeW5jU3RhdGUiLCJjb25zdHJ1Y3RvciIsIm5leHRRdWVyeUlkIiwicXVlcnlTZXRWZXJzaW9uIiwiaWRlbnRpdHlWZXJzaW9uIiwicXVlcnlTZXQiLCJNYXAiLCJxdWVyeUlkVG9Ub2tlbiIsIm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQiLCJTZXQiLCJvdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0IiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJzaXplIiwibWFya0F1dGhDb21wbGV0aW9uIiwic3Vic2NyaWJlIiwidWRmUGF0aCIsImFyZ3MiLCJqb3VybmFsIiwiY2Fub25pY2FsaXplZFVkZlBhdGgiLCJxdWVyeVRva2VuIiwiZXhpc3RpbmdFbnRyeSIsImdldCIsIm51bVN1YnNjcmliZXJzIiwibW9kaWZpY2F0aW9uIiwidW5zdWJzY3JpYmUiLCJyZW1vdmVTdWJzY3JpYmVyIiwicXVlcnlJZCIsInF1ZXJ5IiwiaWQiLCJzZXQiLCJiYXNlVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJhZGQiLCJ0eXBlIiwibW9kaWZpY2F0aW9ucyIsInRyYW5zaXRpb24iLCJkZWxldGUiLCJfIiwiRXJyb3IiLCJpc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24iLCJ2ZXJzaW9uIiwic2V0QXV0aCIsInZhbHVlIiwiYXV0aCIsInRva2VuVHlwZSIsInNldEFkbWluQXV0aCIsImFjdGluZ0FzIiwiaW1wZXJzb25hdGluZyIsImNsZWFyQXV0aCIsImhhc0F1dGgiLCJpc05ld0F1dGgiLCJxdWVyeVBhdGgiLCJwYXRoQW5kQXJncyIsInF1ZXJ5QXJncyIsInF1ZXJ5Sm91cm5hbCIsInJlc3RhcnQiLCJvbGRSZW1vdGVRdWVyeVJlc3VsdHMiLCJjbGVhciIsImxvY2FsUXVlcnkiLCJ2YWx1ZXMiLCJwdXNoIiwiaGFzIiwiYXV0aGVudGljYXRlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/metrics.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMarksReport: () => (/* binding */ getMarksReport),\n/* harmony export */   mark: () => (/* binding */ mark)\n/* harmony export */ });\n\nconst markNames = [\n    \"convexClientConstructed\",\n    \"convexWebSocketOpen\",\n    \"convexFirstMessageReceived\"\n];\nfunction mark(name, sessionId) {\n    const detail = {\n        sessionId\n    };\n    if (typeof performance === \"undefined\" || !performance.mark) return;\n    performance.mark(name, {\n        detail\n    });\n}\nfunction performanceMarkToJson(mark2) {\n    let name = mark2.name.slice(\"convex\".length);\n    name = name.charAt(0).toLowerCase() + name.slice(1);\n    return {\n        name,\n        startTime: mark2.startTime\n    };\n}\nfunction getMarksReport(sessionId) {\n    if (typeof performance === \"undefined\" || !performance.getEntriesByName) {\n        return [];\n    }\n    const allMarks = [];\n    for (const name of markNames){\n        const marks = performance.getEntriesByName(name).filter((entry)=>entry.entryType === \"mark\").filter((mark2)=>mark2.detail.sessionId === sessionId);\n        allMarks.push(...marks);\n    }\n    return allMarks.map(performanceMarkToJson);\n} //# sourceMappingURL=metrics.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9tZXRyaWNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDYixNQUFNQSxZQUFZO0lBQ2hCO0lBQ0E7SUFDQTtDQUNEO0FBQ00sU0FBU0MsS0FBS0MsSUFBSSxFQUFFQyxTQUFTO0lBQ2xDLE1BQU1DLFNBQVM7UUFBRUQ7SUFBVTtJQUMzQixJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlKLElBQUksRUFDekQ7SUFDRkksWUFBWUosSUFBSSxDQUFDQyxNQUFNO1FBQUVFO0lBQU87QUFDbEM7QUFDQSxTQUFTRSxzQkFBc0JDLEtBQUs7SUFDbEMsSUFBSUwsT0FBT0ssTUFBTUwsSUFBSSxDQUFDTSxLQUFLLENBQUMsU0FBU0MsTUFBTTtJQUMzQ1AsT0FBT0EsS0FBS1EsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1QsS0FBS00sS0FBSyxDQUFDO0lBQ2pELE9BQU87UUFDTE47UUFDQVUsV0FBV0wsTUFBTUssU0FBUztJQUM1QjtBQUNGO0FBQ08sU0FBU0MsZUFBZVYsU0FBUztJQUN0QyxJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlTLGdCQUFnQixFQUFFO1FBQ3ZFLE9BQU8sRUFBRTtJQUNYO0lBQ0EsTUFBTUMsV0FBVyxFQUFFO0lBQ25CLEtBQUssTUFBTWIsUUFBUUYsVUFBVztRQUM1QixNQUFNZ0IsUUFBUVgsWUFBWVMsZ0JBQWdCLENBQUNaLE1BQU1lLE1BQU0sQ0FBQyxDQUFDQyxRQUFVQSxNQUFNQyxTQUFTLEtBQUssUUFBUUYsTUFBTSxDQUFDLENBQUNWLFFBQVVBLE1BQU1ILE1BQU0sQ0FBQ0QsU0FBUyxLQUFLQTtRQUM1SVksU0FBU0ssSUFBSSxJQUFJSjtJQUNuQjtJQUNBLE9BQU9ELFNBQVNNLEdBQUcsQ0FBQ2Y7QUFDdEIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9tZXRyaWNzLmpzPzNmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBtYXJrTmFtZXMgPSBbXG4gIFwiY29udmV4Q2xpZW50Q29uc3RydWN0ZWRcIixcbiAgXCJjb252ZXhXZWJTb2NrZXRPcGVuXCIsXG4gIFwiY29udmV4Rmlyc3RNZXNzYWdlUmVjZWl2ZWRcIlxuXTtcbmV4cG9ydCBmdW5jdGlvbiBtYXJrKG5hbWUsIHNlc3Npb25JZCkge1xuICBjb25zdCBkZXRhaWwgPSB7IHNlc3Npb25JZCB9O1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5tYXJrKVxuICAgIHJldHVybjtcbiAgcGVyZm9ybWFuY2UubWFyayhuYW1lLCB7IGRldGFpbCB9KTtcbn1cbmZ1bmN0aW9uIHBlcmZvcm1hbmNlTWFya1RvSnNvbihtYXJrMikge1xuICBsZXQgbmFtZSA9IG1hcmsyLm5hbWUuc2xpY2UoXCJjb252ZXhcIi5sZW5ndGgpO1xuICBuYW1lID0gbmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBzdGFydFRpbWU6IG1hcmsyLnN0YXJ0VGltZVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmtzUmVwb3J0KHNlc3Npb25JZCkge1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGFsbE1hcmtzID0gW107XG4gIGZvciAoY29uc3QgbmFtZSBvZiBtYXJrTmFtZXMpIHtcbiAgICBjb25zdCBtYXJrcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUobmFtZSkuZmlsdGVyKChlbnRyeSkgPT4gZW50cnkuZW50cnlUeXBlID09PSBcIm1hcmtcIikuZmlsdGVyKChtYXJrMikgPT4gbWFyazIuZGV0YWlsLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKTtcbiAgICBhbGxNYXJrcy5wdXNoKC4uLm1hcmtzKTtcbiAgfVxuICByZXR1cm4gYWxsTWFya3MubWFwKHBlcmZvcm1hbmNlTWFya1RvSnNvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRyaWNzLmpzLm1hcFxuIl0sIm5hbWVzIjpbIm1hcmtOYW1lcyIsIm1hcmsiLCJuYW1lIiwic2Vzc2lvbklkIiwiZGV0YWlsIiwicGVyZm9ybWFuY2UiLCJwZXJmb3JtYW5jZU1hcmtUb0pzb24iLCJtYXJrMiIsInNsaWNlIiwibGVuZ3RoIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzdGFydFRpbWUiLCJnZXRNYXJrc1JlcG9ydCIsImdldEVudHJpZXNCeU5hbWUiLCJhbGxNYXJrcyIsIm1hcmtzIiwiZmlsdGVyIiwiZW50cnkiLCJlbnRyeVR5cGUiLCJwdXNoIiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptimisticQueryResults: () => (/* binding */ OptimisticQueryResults)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\n\n\n\n\n\nclass OptimisticLocalStoreImpl {\n    constructor(queryResults){\n        this.queryResults = queryResults;\n        this.modifiedQueries = [];\n    }\n    getQuery(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const queryResult = this.queryResults.get((0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs));\n        if (queryResult === void 0) {\n            return void 0;\n        }\n        return OptimisticLocalStoreImpl.queryValue(queryResult.result);\n    }\n    getAllQueries(query) {\n        const queriesWithName = [];\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        for (const queryResult of this.queryResults.values()){\n            if (queryResult.udfPath === (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.canonicalizeUdfPath)(name)) {\n                queriesWithName.push({\n                    args: queryResult.args,\n                    value: OptimisticLocalStoreImpl.queryValue(queryResult.result)\n                });\n            }\n        }\n        return queriesWithName;\n    }\n    setQuery(queryReference, args, value) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(queryReference);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs);\n        let result;\n        if (value === void 0) {\n            result = void 0;\n        } else {\n            result = {\n                success: true,\n                value,\n                // It's an optimistic update, so there are no function logs to show.\n                logLines: []\n            };\n        }\n        const query = {\n            udfPath: name,\n            args: queryArgs,\n            result\n        };\n        this.queryResults.set(queryToken, query);\n        this.modifiedQueries.push(queryToken);\n    }\n    static queryValue(result) {\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            return void 0;\n        }\n    }\n}\nclass OptimisticQueryResults {\n    constructor(){\n        this.queryResults = /* @__PURE__ */ new Map();\n        this.optimisticUpdates = [];\n    }\n    ingestQueryResultsFromServer(serverQueryResults, optimisticUpdatesToDrop) {\n        this.optimisticUpdates = this.optimisticUpdates.filter((updateAndId)=>{\n            return !optimisticUpdatesToDrop.has(updateAndId.mutationId);\n        });\n        const oldQueryResults = this.queryResults;\n        this.queryResults = new Map(serverQueryResults);\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        for (const updateAndId of this.optimisticUpdates){\n            updateAndId.update(localStore);\n        }\n        const changedQueries = [];\n        for (const [queryToken, query] of this.queryResults){\n            const oldQuery = oldQueryResults.get(queryToken);\n            if (oldQuery === void 0 || oldQuery.result !== query.result) {\n                changedQueries.push(queryToken);\n            }\n        }\n        return changedQueries;\n    }\n    applyOptimisticUpdate(update, mutationId) {\n        this.optimisticUpdates.push({\n            update,\n            mutationId\n        });\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        update(localStore);\n        return localStore.modifiedQueries;\n    }\n    queryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        const result = query.result;\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result));\n        }\n    }\n    hasQueryResult(queryToken) {\n        return this.queryResults.get(queryToken) !== void 0;\n    }\n    /**\n   * @internal\n   */ queryLogs(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        return query?.result?.logLines;\n    }\n} //# sourceMappingURL=optimistic_updates_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUdnQjtBQUNxQjtBQUN1QjtBQUk1QztBQUN3QjtBQUNyRCxNQUFNTztJQUNKQyxZQUFZQyxZQUFZLENBQUU7UUFDeEIsSUFBSSxDQUFDQSxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLEVBQUU7SUFDM0I7SUFDQUMsU0FBU0MsS0FBSyxFQUFFLEdBQUdDLElBQUksRUFBRTtRQUN2QixNQUFNQyxZQUFZYiwyREFBU0EsQ0FBQ1ksSUFBSSxDQUFDLEVBQUU7UUFDbkMsTUFBTUUsT0FBT2YsK0RBQWVBLENBQUNZO1FBQzdCLE1BQU1JLGNBQWMsSUFBSSxDQUFDUCxZQUFZLENBQUNRLEdBQUcsQ0FDdkNaLHdFQUFvQkEsQ0FBQ1UsTUFBTUQ7UUFFN0IsSUFBSUUsZ0JBQWdCLEtBQUssR0FBRztZQUMxQixPQUFPLEtBQUs7UUFDZDtRQUNBLE9BQU9ULHlCQUF5QlcsVUFBVSxDQUFDRixZQUFZRyxNQUFNO0lBQy9EO0lBQ0FDLGNBQWNSLEtBQUssRUFBRTtRQUNuQixNQUFNUyxrQkFBa0IsRUFBRTtRQUMxQixNQUFNTixPQUFPZiwrREFBZUEsQ0FBQ1k7UUFDN0IsS0FBSyxNQUFNSSxlQUFlLElBQUksQ0FBQ1AsWUFBWSxDQUFDYSxNQUFNLEdBQUk7WUFDcEQsSUFBSU4sWUFBWU8sT0FBTyxLQUFLbkIsdUVBQW1CQSxDQUFDVyxPQUFPO2dCQUNyRE0sZ0JBQWdCRyxJQUFJLENBQUM7b0JBQ25CWCxNQUFNRyxZQUFZSCxJQUFJO29CQUN0QlksT0FBT2xCLHlCQUF5QlcsVUFBVSxDQUFDRixZQUFZRyxNQUFNO2dCQUMvRDtZQUNGO1FBQ0Y7UUFDQSxPQUFPRTtJQUNUO0lBQ0FLLFNBQVNDLGNBQWMsRUFBRWQsSUFBSSxFQUFFWSxLQUFLLEVBQUU7UUFDcEMsTUFB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VyxPQUFPLEVBQUVKO1lBRzFEO1lBQ0EsTUFBTSxJQUFJOEIsTUFDUi9DLHdFQUEyQkEsQ0FBQyxTQUFTVSxNQUFNVyxPQUFPLEVBQUVKO1FBRXhEO0lBQ0Y7SUFDQStCLGVBQWV0QixVQUFVLEVBQUU7UUFDekIsT0FBTyxJQUFJLENBQUNuQixZQUFZLENBQUNRLEdBQUcsQ0FBQ1csZ0JBQWdCLEtBQUs7SUFDcEQ7SUFDQTs7R0FFQyxHQUNEdUIsVUFBVXZCLFVBQVUsRUFBRTtRQUNwQixNQUFNaEIsUUFBUSxJQUFJLENBQUNILFlBQVksQ0FBQ1EsR0FBRyxDQUFDVztRQUNwQyxPQUFPaEIsT0FBT08sUUFBUVc7SUFDeEI7QUFDRixFQUNBLG1EQUFtRCIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL29wdGltaXN0aWNfdXBkYXRlc19pbXBsLmpzPzQ1YTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbk5hbWVcbn0gZnJvbSBcIi4uLy4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSwgZm9yd2FyZERhdGEgfSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHtcbiAgY2Fub25pY2FsaXplVWRmUGF0aCxcbiAgc2VyaWFsaXplUGF0aEFuZEFyZ3Ncbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmNsYXNzIE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5UmVzdWx0cykge1xuICAgIHRoaXMucXVlcnlSZXN1bHRzID0gcXVlcnlSZXN1bHRzO1xuICAgIHRoaXMubW9kaWZpZWRRdWVyaWVzID0gW107XG4gIH1cbiAgZ2V0UXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBxdWVyeUFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgY29uc3QgcXVlcnlSZXN1bHQgPSB0aGlzLnF1ZXJ5UmVzdWx0cy5nZXQoXG4gICAgICBzZXJpYWxpemVQYXRoQW5kQXJncyhuYW1lLCBxdWVyeUFyZ3MpXG4gICAgKTtcbiAgICBpZiAocXVlcnlSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbC5xdWVyeVZhbHVlKHF1ZXJ5UmVzdWx0LnJlc3VsdCk7XG4gIH1cbiAgZ2V0QWxsUXVlcmllcyhxdWVyeSkge1xuICAgIGNvbnN0IHF1ZXJpZXNXaXRoTmFtZSA9IFtdO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgIGZvciAoY29uc3QgcXVlcnlSZXN1bHQgb2YgdGhpcy5xdWVyeVJlc3VsdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChxdWVyeVJlc3VsdC51ZGZQYXRoID09PSBjYW5vbmljYWxpemVVZGZQYXRoKG5hbWUpKSB7XG4gICAgICAgIHF1ZXJpZXNXaXRoTmFtZS5wdXNoKHtcbiAgICAgICAgICBhcmdzOiBxdWVyeVJlc3VsdC5hcmdzLFxuICAgICAgICAgIHZhbHVlOiBPcHRpbWlzdGljTG9jYWxTdG9yZUltcGwucXVlcnlWYWx1ZShxdWVyeVJlc3VsdC5yZXN1bHQpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcmllc1dpdGhOYW1lO1xuICB9XG4gIHNldFF1ZXJ5KHF1ZXJ5UmVmZXJlbmNlLCBhcmdzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5UmVmZXJlbmNlKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3MobmFtZSwgcXVlcnlBcmdzKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXN1bHQgPSB2b2lkIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIC8vIEl0J3MgYW4gb3B0aW1pc3RpYyB1cGRhdGUsIHNvIHRoZXJlIGFyZSBubyBmdW5jdGlvbiBsb2dzIHRvIHNob3cuXG4gICAgICAgIGxvZ0xpbmVzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICB1ZGZQYXRoOiBuYW1lLFxuICAgICAgYXJnczogcXVlcnlBcmdzLFxuICAgICAgcmVzdWx0XG4gICAgfTtcbiAgICB0aGlzLnF1ZXJ5UmVzdWx0cy5zZXQocXVlcnlUb2tlbiwgcXVlcnkpO1xuICAgIHRoaXMubW9kaWZpZWRRdWVyaWVzLnB1c2gocXVlcnlUb2tlbik7XG4gIH1cbiAgc3RhdGljIHF1ZXJ5VmFsdWUocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5leHBvcnQgY2xhc3MgT3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucXVlcnlSZXN1bHRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLm9wdGltaXN0aWNVcGRhdGVzID0gW107XG4gIH1cbiAgaW5nZXN0UXVlcnlSZXN1bHRzRnJvbVNlcnZlcihzZXJ2ZXJRdWVyeVJlc3VsdHMsIG9wdGltaXN0aWNVcGRhdGVzVG9Ecm9wKSB7XG4gICAgdGhpcy5vcHRpbWlzdGljVXBkYXRlcyA9IHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMuZmlsdGVyKCh1cGRhdGVBbmRJZCkgPT4ge1xuICAgICAgcmV0dXJuICFvcHRpbWlzdGljVXBkYXRlc1RvRHJvcC5oYXModXBkYXRlQW5kSWQubXV0YXRpb25JZCk7XG4gICAgfSk7XG4gICAgY29uc3Qgb2xkUXVlcnlSZXN1bHRzID0gdGhpcy5xdWVyeVJlc3VsdHM7XG4gICAgdGhpcy5xdWVyeVJlc3VsdHMgPSBuZXcgTWFwKHNlcnZlclF1ZXJ5UmVzdWx0cyk7XG4gICAgY29uc3QgbG9jYWxTdG9yZSA9IG5ldyBPcHRpbWlzdGljTG9jYWxTdG9yZUltcGwodGhpcy5xdWVyeVJlc3VsdHMpO1xuICAgIGZvciAoY29uc3QgdXBkYXRlQW5kSWQgb2YgdGhpcy5vcHRpbWlzdGljVXBkYXRlcykge1xuICAgICAgdXBkYXRlQW5kSWQudXBkYXRlKGxvY2FsU3RvcmUpO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VkUXVlcmllcyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3F1ZXJ5VG9rZW4sIHF1ZXJ5XSBvZiB0aGlzLnF1ZXJ5UmVzdWx0cykge1xuICAgICAgY29uc3Qgb2xkUXVlcnkgPSBvbGRRdWVyeVJlc3VsdHMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgICAgaWYgKG9sZFF1ZXJ5ID09PSB2b2lkIDAgfHwgb2xkUXVlcnkucmVzdWx0ICE9PSBxdWVyeS5yZXN1bHQpIHtcbiAgICAgICAgY2hhbmdlZFF1ZXJpZXMucHVzaChxdWVyeVRva2VuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWRRdWVyaWVzO1xuICB9XG4gIGFwcGx5T3B0aW1pc3RpY1VwZGF0ZSh1cGRhdGUsIG11dGF0aW9uSWQpIHtcbiAgICB0aGlzLm9wdGltaXN0aWNVcGRhdGVzLnB1c2goe1xuICAgICAgdXBkYXRlLFxuICAgICAgbXV0YXRpb25JZFxuICAgIH0pO1xuICAgIGNvbnN0IGxvY2FsU3RvcmUgPSBuZXcgT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsKHRoaXMucXVlcnlSZXN1bHRzKTtcbiAgICB1cGRhdGUobG9jYWxTdG9yZSk7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmUubW9kaWZpZWRRdWVyaWVzO1xuICB9XG4gIHF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAocXVlcnkgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gcXVlcnkucmVzdWx0O1xuICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVzdWx0LmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IGZvcndhcmREYXRhKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBuZXcgQ29udmV4RXJyb3IoXG4gICAgICAgICAgICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJxdWVyeVwiLCBxdWVyeS51ZGZQYXRoLCByZXN1bHQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJxdWVyeVwiLCBxdWVyeS51ZGZQYXRoLCByZXN1bHQpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBoYXNRdWVyeVJlc3VsdChxdWVyeVRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKSAhPT0gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHF1ZXJ5TG9ncyhxdWVyeVRva2VuKSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5UmVzdWx0cy5nZXQocXVlcnlUb2tlbik7XG4gICAgcmV0dXJuIHF1ZXJ5Py5yZXN1bHQ/LmxvZ0xpbmVzO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJnZXRGdW5jdGlvbk5hbWUiLCJwYXJzZUFyZ3MiLCJjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UiLCJmb3J3YXJkRGF0YSIsImNhbm9uaWNhbGl6ZVVkZlBhdGgiLCJzZXJpYWxpemVQYXRoQW5kQXJncyIsIkNvbnZleEVycm9yIiwiT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsIiwiY29uc3RydWN0b3IiLCJxdWVyeVJlc3VsdHMiLCJtb2RpZmllZFF1ZXJpZXMiLCJnZXRRdWVyeSIsInF1ZXJ5IiwiYXJncyIsInF1ZXJ5QXJncyIsIm5hbWUiLCJxdWVyeVJlc3VsdCIsImdldCIsInF1ZXJ5VmFsdWUiLCJyZXN1bHQiLCJnZXRBbGxRdWVyaWVzIiwicXVlcmllc1dpdGhOYW1lIiwidmFsdWVzIiwidWRmUGF0aCIsInB1c2giLCJ2YWx1ZSIsInNldFF1ZXJ5IiwicXVlcnlSZWZlcmVuY2UiLCJxdWVyeVRva2VuIiwic3VjY2VzcyIsImxvZ0xpbmVzIiwic2V0IiwiT3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyIsIk1hcCIsIm9wdGltaXN0aWNVcGRhdGVzIiwiaW5nZXN0UXVlcnlSZXN1bHRzRnJvbVNlcnZlciIsInNlcnZlclF1ZXJ5UmVzdWx0cyIsIm9wdGltaXN0aWNVcGRhdGVzVG9Ecm9wIiwiZmlsdGVyIiwidXBkYXRlQW5kSWQiLCJoYXMiLCJtdXRhdGlvbklkIiwib2xkUXVlcnlSZXN1bHRzIiwibG9jYWxTdG9yZSIsInVwZGF0ZSIsImNoYW5nZWRRdWVyaWVzIiwib2xkUXVlcnkiLCJhcHBseU9wdGltaXN0aWNVcGRhdGUiLCJlcnJvckRhdGEiLCJFcnJvciIsImhhc1F1ZXJ5UmVzdWx0IiwicXVlcnlMb2dzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/protocol.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeClientMessage: () => (/* binding */ encodeClientMessage),\n/* harmony export */   longToU64: () => (/* binding */ longToU64),\n/* harmony export */   parseServerMessage: () => (/* binding */ parseServerMessage),\n/* harmony export */   u64ToLong: () => (/* binding */ u64ToLong)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../long.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/long.js\");\n\n\n\nfunction u64ToLong(encoded) {\n    const integerBytes = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.toByteArray(encoded);\n    return _long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromBytesLE(Array.from(integerBytes));\n}\nfunction longToU64(raw) {\n    const integerBytes = new Uint8Array(raw.toBytesLE());\n    return _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.fromByteArray(integerBytes);\n}\nfunction parseServerMessage(encoded) {\n    switch(encoded.type){\n        case \"FatalError\":\n        case \"AuthError\":\n        case \"ActionResponse\":\n        case \"Ping\":\n            {\n                return {\n                    ...encoded\n                };\n            }\n        case \"MutationResponse\":\n            {\n                if (encoded.success) {\n                    return {\n                        ...encoded,\n                        ts: u64ToLong(encoded.ts)\n                    };\n                } else {\n                    return {\n                        ...encoded\n                    };\n                }\n            }\n        case \"Transition\":\n            {\n                return {\n                    ...encoded,\n                    startVersion: {\n                        ...encoded.startVersion,\n                        ts: u64ToLong(encoded.startVersion.ts)\n                    },\n                    endVersion: {\n                        ...encoded.endVersion,\n                        ts: u64ToLong(encoded.endVersion.ts)\n                    }\n                };\n            }\n        default:\n            {\n                const _exhaustivenessCheck = encoded;\n            }\n    }\n    return void 0;\n}\nfunction encodeClientMessage(message) {\n    switch(message.type){\n        case \"Authenticate\":\n        case \"ModifyQuerySet\":\n        case \"Mutation\":\n        case \"Action\":\n        case \"Event\":\n            {\n                return {\n                    ...message\n                };\n            }\n        case \"Connect\":\n            {\n                if (message.maxObservedTimestamp !== void 0) {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: longToU64(message.maxObservedTimestamp)\n                    };\n                } else {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: void 0\n                    };\n                }\n            }\n        default:\n            {\n                const _exhaustivenessCheck = message;\n            }\n    }\n    return void 0;\n} //# sourceMappingURL=protocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wcm90b2NvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNrQztBQUNiO0FBQzNCLFNBQVNFLFVBQVVDLE9BQU87SUFDL0IsTUFBTUMsZUFBZUosZ0VBQWtCLENBQUNHO0lBQ3hDLE9BQU9GLDBDQUFJQSxDQUFDSyxXQUFXLENBQUNDLE1BQU1DLElBQUksQ0FBQ0o7QUFDckM7QUFDTyxTQUFTSyxVQUFVQyxHQUFHO0lBQzNCLE1BQU1OLGVBQWUsSUFBSU8sV0FBV0QsSUFBSUUsU0FBUztJQUNqRCxPQUFPWixrRUFBb0IsQ0FBQ0k7QUFDOUI7QUFDTyxTQUFTVSxtQkFBbUJYLE9BQU87SUFDeEMsT0FBUUEsUUFBUVksSUFBSTtRQUNsQixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQVE7Z0JBQ1gsT0FBTztvQkFBRSxHQUFHWixPQUFPO2dCQUFDO1lBQ3RCO1FBQ0EsS0FBSztZQUFvQjtnQkFDdkIsSUFBSUEsUUFBUWEsT0FBTyxFQUFFO29CQUNuQixPQUFPO3dCQUFFLEdBQUdiLE9BQU87d0JBQUVjLElBQUlmLFVBQVVDLFFBQVFjLEVBQUU7b0JBQUU7Z0JBQ2pELE9BQU87b0JBQ0wsT0FBTzt3QkFBRSxHQUFHZCxPQUFPO29CQUFDO2dCQUN0QjtZQUNGO1FBQ0EsS0FBSztZQUFjO2dCQUNqQixPQUFPO29CQUNMLEdBQUdBLE9BQU87b0JBQ1ZlLGNBQWM7d0JBQ1osR0FBR2YsUUFBUWUsWUFBWTt3QkFDdkJELElBQUlmLFVBQVVDLFFBQVFlLFlBQVksQ0FBQ0QsRUFBRTtvQkFDdkM7b0JBQ0FFLFlBQVk7d0JBQ1YsR0FBR2hCLFFBQVFnQixVQUFVO3dCQUNyQkYsSUFBSWYsVUFBVUMsUUFBUWdCLFVBQVUsQ0FBQ0YsRUFBRTtvQkFDckM7Z0JBQ0Y7WUFDRjtRQUNBO1lBQVM7Z0JBQ1AsTUFBTUcsdUJBQXVCakI7WUFDL0I7SUFDRjtJQUNBLE9BQU8sS0FBSztBQUNkO0FBQ08sU0FBU2tCLG9CQUFvQkMsT0FBTztJQUN6QyxPQUFRQSxRQUFRUCxJQUFJO1FBQ2xCLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQVM7Z0JBQ1osT0FBTztvQkFBRSxHQUFHTyxPQUFPO2dCQUFDO1lBQ3RCO1FBQ0EsS0FBSztZQUFXO2dCQUNkLElBQUlBLFFBQVFDLG9CQUFvQixLQUFLLEtBQUssR0FBRztvQkFDM0MsT0FBTzt3QkFDTCxHQUFHRCxPQUFPO3dCQUNWQyxzQkFBc0JkLFVBQVVhLFFBQVFDLG9CQUFvQjtvQkFDOUQ7Z0JBQ0YsT0FBTztvQkFDTCxPQUFPO3dCQUFFLEdBQUdELE9BQU87d0JBQUVDLHNCQUFzQixLQUFLO29CQUFFO2dCQUNwRDtZQUNGO1FBQ0E7WUFBUztnQkFDUCxNQUFNSCx1QkFBdUJFO1lBQy9CO0lBQ0Y7SUFDQSxPQUFPLEtBQUs7QUFDZCxFQUNBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3Byb3RvY29sLmpzPzI1MjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBCYXNlNjQgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uL2xvbmcuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1NjRUb0xvbmcoZW5jb2RlZCkge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkoZW5jb2RlZCk7XG4gIHJldHVybiBMb25nLmZyb21CeXRlc0xFKEFycmF5LmZyb20oaW50ZWdlckJ5dGVzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9uZ1RvVTY0KHJhdykge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBuZXcgVWludDhBcnJheShyYXcudG9CeXRlc0xFKCkpO1xuICByZXR1cm4gQmFzZTY0LmZyb21CeXRlQXJyYXkoaW50ZWdlckJ5dGVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNlcnZlck1lc3NhZ2UoZW5jb2RlZCkge1xuICBzd2l0Y2ggKGVuY29kZWQudHlwZSkge1xuICAgIGNhc2UgXCJGYXRhbEVycm9yXCI6XG4gICAgY2FzZSBcIkF1dGhFcnJvclwiOlxuICAgIGNhc2UgXCJBY3Rpb25SZXNwb25zZVwiOlxuICAgIGNhc2UgXCJQaW5nXCI6IHtcbiAgICAgIHJldHVybiB7IC4uLmVuY29kZWQgfTtcbiAgICB9XG4gICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgaWYgKGVuY29kZWQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkLCB0czogdTY0VG9Mb25nKGVuY29kZWQudHMpIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkIH07XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVuY29kZWQsXG4gICAgICAgIHN0YXJ0VmVyc2lvbjoge1xuICAgICAgICAgIC4uLmVuY29kZWQuc3RhcnRWZXJzaW9uLFxuICAgICAgICAgIHRzOiB1NjRUb0xvbmcoZW5jb2RlZC5zdGFydFZlcnNpb24udHMpXG4gICAgICAgIH0sXG4gICAgICAgIGVuZFZlcnNpb246IHtcbiAgICAgICAgICAuLi5lbmNvZGVkLmVuZFZlcnNpb24sXG4gICAgICAgICAgdHM6IHU2NFRvTG9uZyhlbmNvZGVkLmVuZFZlcnNpb24udHMpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlbmVzc0NoZWNrID0gZW5jb2RlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVDbGllbnRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICBjYXNlIFwiQXV0aGVudGljYXRlXCI6XG4gICAgY2FzZSBcIk1vZGlmeVF1ZXJ5U2V0XCI6XG4gICAgY2FzZSBcIk11dGF0aW9uXCI6XG4gICAgY2FzZSBcIkFjdGlvblwiOlxuICAgIGNhc2UgXCJFdmVudFwiOiB7XG4gICAgICByZXR1cm4geyAuLi5tZXNzYWdlIH07XG4gICAgfVxuICAgIGNhc2UgXCJDb25uZWN0XCI6IHtcbiAgICAgIGlmIChtZXNzYWdlLm1heE9ic2VydmVkVGltZXN0YW1wICE9PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgIG1heE9ic2VydmVkVGltZXN0YW1wOiBsb25nVG9VNjQobWVzc2FnZS5tYXhPYnNlcnZlZFRpbWVzdGFtcClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLm1lc3NhZ2UsIG1heE9ic2VydmVkVGltZXN0YW1wOiB2b2lkIDAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVuZXNzQ2hlY2sgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdG9jb2wuanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZTY0IiwiTG9uZyIsInU2NFRvTG9uZyIsImVuY29kZWQiLCJpbnRlZ2VyQnl0ZXMiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlc0xFIiwiQXJyYXkiLCJmcm9tIiwibG9uZ1RvVTY0IiwicmF3IiwiVWludDhBcnJheSIsInRvQnl0ZXNMRSIsImZyb21CeXRlQXJyYXkiLCJwYXJzZVNlcnZlck1lc3NhZ2UiLCJ0eXBlIiwic3VjY2VzcyIsInRzIiwic3RhcnRWZXJzaW9uIiwiZW5kVmVyc2lvbiIsIl9leGhhdXN0aXZlbmVzc0NoZWNrIiwiZW5jb2RlQ2xpZW50TWVzc2FnZSIsIm1lc3NhZ2UiLCJtYXhPYnNlcnZlZFRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/remote_query_set.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoteQuerySet: () => (/* binding */ RemoteQuerySet)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../long.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/long.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\n\n\n\nclass RemoteQuerySet {\n    constructor(queryPath){\n        this.version = {\n            querySet: 0,\n            ts: _long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromNumber(0),\n            identity: 0\n        };\n        this.remoteQuerySet = /* @__PURE__ */ new Map();\n        this.queryPath = queryPath;\n    }\n    transition(transition) {\n        const start = transition.startVersion;\n        if (this.version.querySet !== start.querySet || this.version.ts.notEquals(start.ts) || this.version.identity !== start.identity) {\n            throw new Error(`Invalid start version: ${start.ts.toString()}:${start.querySet}`);\n        }\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logToConsole)(\"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const value = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(modification.value ?? null, true);\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: true,\n                            value,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryFailed\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logToConsole)(\"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const { errorData } = modification;\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: false,\n                            errorMessage: modification.errorMessage,\n                            errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.remoteQuerySet.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        const _ = modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n        this.version = transition.endVersion;\n    }\n    remoteQueryResults() {\n        return this.remoteQuerySet;\n    }\n    timestamp() {\n        return this.version.ts;\n    }\n} //# sourceMappingURL=remote_query_set.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZW1vdGVfcXVlcnlfc2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUN3QztBQUNuQjtBQUNXO0FBQ3RDLE1BQU1HO0lBQ1hDLFlBQVlDLFNBQVMsQ0FBRTtRQUNyQixJQUFJLENBQUNDLE9BQU8sR0FBRztZQUFFQyxVQUFVO1lBQUdDLElBQUlQLDBDQUFJQSxDQUFDUSxVQUFVLENBQUM7WUFBSUMsVUFBVTtRQUFFO1FBQ2xFLElBQUksQ0FBQ0MsY0FBYyxHQUFHLGFBQWEsR0FBRyxJQUFJQztRQUMxQyxJQUFJLENBQUNQLFNBQVMsR0FBR0E7SUFDbkI7SUFDQVEsV0FBV0EsVUFBVSxFQUFFO1FBQ3JCLE1BQU1DLFFBQVFELFdBQVdFLFlBQVk7UUFDckMsSUFBSSxJQUFJLENBQUNULE9BQU8sQ0FBQ0MsUUFBUSxLQUFLTyxNQUFNUCxRQUFRLElBQUksSUFBSSxDQUFDRCxPQUFPLENBQUNFLEVBQUUsQ0FBQ1EsU0FBUyxDQUFDRixNQUFNTixFQUFFLEtBQUssSUFBSSxDQUFDRixPQUFPLENBQUNJLFFBQVEsS0FBS0ksTUFBTUosUUFBUSxFQUFFO1lBQy9ILE1BQU0sSUFBSU8sTUFDUixDQUFDLHVCQUF1QixFQUFFSCxNQUFNTixFQUFFLENBQUNVLFFBQVEsR0FBRyxDQUFDLEVBQUVKLE1BQU1QLFFBQVEsQ0FBQyxDQUFDO1FBRXJFO1FBQ0EsS0FBSyxNQUFNWSxnQkFBZ0JOLFdBQVdPLGFBQWEsQ0FBRTtZQUNuRCxPQUFRRCxhQUFhRSxJQUFJO2dCQUN2QixLQUFLO29CQUFnQjt3QkFDbkIsTUFBTWhCLFlBQVksSUFBSSxDQUFDQSxTQUFTLENBQUNjLGFBQWFHLE9BQU87d0JBQ3JELElBQUlqQixXQUFXOzRCQUNiLEtBQUssTUFBTWtCLFFBQVFKLGFBQWFLLFFBQVEsQ0FBRTtnQ0FDeEN0Qix5REFBWUEsQ0FBQyxRQUFRLFNBQVNHLFdBQVdrQjs0QkFDM0M7d0JBQ0Y7d0JBQ0EsTUFBTUUsUUFBUXpCLDhEQUFZQSxDQUFDbUIsYUFBYU0sS0FBSyxJQUFJLE1BQU07d0JBQ3ZELElBQUksQ0FBQ2QsY0FBYyxDQUFDZSxHQUFHLENBQUNQLGFBQWFHLE9BQU8sRUFBRTs0QkFDNUNLLFNBQVM7NEJBQ1RGOzRCQUNBRCxVQUFVTCxhQUFhSyxRQUFRO3dCQUNqQzt3QkFDQTtvQkFDRjtnQkFDQSxLQUFLO29CQUFlO3dCQUNsQixNQUFNbkIsWUFBWSxJQUFJLENBQUNBLFNBQVMsQ0FBQ2MsYUFBYUcsT0FBTzt3QkFDckQsSUFBSWpCLFdBQVc7NEJBQ2IsS0FBSyxNQUFNa0IsUUFBUUosYUFBYUssUUFBUSxDQUFFO2dDQUN4Q3RCLHlEQUFZQSxDQUFDLFFBQVEsU0FBU0csV0FBV2tCOzRCQUMzQzt3QkFDRjt3QkFDQSxNQUFNLEVBQUVLLFNBQVMsRUFBRSxHQUFHVDt3QkFDdEIsSUFBSSxDQUFDUixjQUFjLENBQUNlLEdBQUcsQ0FBQ1AsYUFBYUcsT0FBTyxFQUFFOzRCQUM1Q0ssU0FBUzs0QkFDVEUsY0FBY1YsYUFBYVUsWUFBWTs0QkFDdkNELFdBQVdBLGNBQWMsS0FBSyxJQUFJNUIsOERBQVlBLENBQUM0QixhQUFhLEtBQUs7NEJBQ2pFSixVQUFVTCxhQUFhSyxRQUFRO3dCQUNqQzt3QkFDQTtvQkFDRjtnQkFDQSxLQUFLO29CQUFnQjt3QkFDbkIsSUFBSSxDQUFDYixjQUFjLENBQUNtQixNQUFNLENBQUNYLGFBQWFHLE9BQU87d0JBQy9DO29CQUNGO2dCQUNBO29CQUFTO3dCQUNQLE1BQU1TLElBQUlaO3dCQUNWLE1BQU0sSUFBSUYsTUFBTSxDQUFDLHFCQUFxQixFQUFFRSxhQUFhRSxJQUFJLENBQUMsQ0FBQztvQkFDN0Q7WUFDRjtRQUNGO1FBQ0EsSUFBSSxDQUFDZixPQUFPLEdBQUdPLFdBQVdtQixVQUFVO0lBQ3RDO0lBQ0FDLHFCQUFxQjtRQUNuQixPQUFPLElBQUksQ0FBQ3RCLGNBQWM7SUFDNUI7SUFDQXVCLFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQzVCLE9BQU8sQ0FBQ0UsRUFBRTtJQUN4QjtBQUNGLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvcmVtb3RlX3F1ZXJ5X3NldC5qcz9hY2E1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTG9uZyB9IGZyb20gXCIuLi9sb25nLmpzXCI7XG5pbXBvcnQgeyBsb2dUb0NvbnNvbGUgfSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuZXhwb3J0IGNsYXNzIFJlbW90ZVF1ZXJ5U2V0IHtcbiAgY29uc3RydWN0b3IocXVlcnlQYXRoKSB7XG4gICAgdGhpcy52ZXJzaW9uID0geyBxdWVyeVNldDogMCwgdHM6IExvbmcuZnJvbU51bWJlcigwKSwgaWRlbnRpdHk6IDAgfTtcbiAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnF1ZXJ5UGF0aCA9IHF1ZXJ5UGF0aDtcbiAgfVxuICB0cmFuc2l0aW9uKHRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBzdGFydCA9IHRyYW5zaXRpb24uc3RhcnRWZXJzaW9uO1xuICAgIGlmICh0aGlzLnZlcnNpb24ucXVlcnlTZXQgIT09IHN0YXJ0LnF1ZXJ5U2V0IHx8IHRoaXMudmVyc2lvbi50cy5ub3RFcXVhbHMoc3RhcnQudHMpIHx8IHRoaXMudmVyc2lvbi5pZGVudGl0eSAhPT0gc3RhcnQuaWRlbnRpdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgc3RhcnQgdmVyc2lvbjogJHtzdGFydC50cy50b1N0cmluZygpfToke3N0YXJ0LnF1ZXJ5U2V0fWBcbiAgICAgICk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbW9kaWZpY2F0aW9uIG9mIHRyYW5zaXRpb24ubW9kaWZpY2F0aW9ucykge1xuICAgICAgc3dpdGNoIChtb2RpZmljYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiUXVlcnlVcGRhdGVkXCI6IHtcbiAgICAgICAgICBjb25zdCBxdWVyeVBhdGggPSB0aGlzLnF1ZXJ5UGF0aChtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgaWYgKHF1ZXJ5UGF0aCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIG1vZGlmaWNhdGlvbi5sb2dMaW5lcykge1xuICAgICAgICAgICAgICBsb2dUb0NvbnNvbGUoXCJpbmZvXCIsIFwicXVlcnlcIiwgcXVlcnlQYXRoLCBsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBqc29uVG9Db252ZXgobW9kaWZpY2F0aW9uLnZhbHVlID8/IG51bGwsIHRydWUpO1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQuc2V0KG1vZGlmaWNhdGlvbi5xdWVyeUlkLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBsb2dMaW5lczogbW9kaWZpY2F0aW9uLmxvZ0xpbmVzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlF1ZXJ5RmFpbGVkXCI6IHtcbiAgICAgICAgICBjb25zdCBxdWVyeVBhdGggPSB0aGlzLnF1ZXJ5UGF0aChtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgaWYgKHF1ZXJ5UGF0aCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIG1vZGlmaWNhdGlvbi5sb2dMaW5lcykge1xuICAgICAgICAgICAgICBsb2dUb0NvbnNvbGUoXCJpbmZvXCIsIFwicXVlcnlcIiwgcXVlcnlQYXRoLCBsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgeyBlcnJvckRhdGEgfSA9IG1vZGlmaWNhdGlvbjtcbiAgICAgICAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnNldChtb2RpZmljYXRpb24ucXVlcnlJZCwge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IG1vZGlmaWNhdGlvbi5lcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvckRhdGE6IGVycm9yRGF0YSAhPT0gdm9pZCAwID8ganNvblRvQ29udmV4KGVycm9yRGF0YSkgOiB2b2lkIDAsXG4gICAgICAgICAgICBsb2dMaW5lczogbW9kaWZpY2F0aW9uLmxvZ0xpbmVzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlF1ZXJ5UmVtb3ZlZFwiOiB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5kZWxldGUobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfID0gbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb2RpZmljYXRpb24gJHttb2RpZmljYXRpb24udHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZlcnNpb24gPSB0cmFuc2l0aW9uLmVuZFZlcnNpb247XG4gIH1cbiAgcmVtb3RlUXVlcnlSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZVF1ZXJ5U2V0O1xuICB9XG4gIHRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uLnRzO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdGVfcXVlcnlfc2V0LmpzLm1hcFxuIl0sIm5hbWVzIjpbImpzb25Ub0NvbnZleCIsIkxvbmciLCJsb2dUb0NvbnNvbGUiLCJSZW1vdGVRdWVyeVNldCIsImNvbnN0cnVjdG9yIiwicXVlcnlQYXRoIiwidmVyc2lvbiIsInF1ZXJ5U2V0IiwidHMiLCJmcm9tTnVtYmVyIiwiaWRlbnRpdHkiLCJyZW1vdGVRdWVyeVNldCIsIk1hcCIsInRyYW5zaXRpb24iLCJzdGFydCIsInN0YXJ0VmVyc2lvbiIsIm5vdEVxdWFscyIsIkVycm9yIiwidG9TdHJpbmciLCJtb2RpZmljYXRpb24iLCJtb2RpZmljYXRpb25zIiwidHlwZSIsInF1ZXJ5SWQiLCJsaW5lIiwibG9nTGluZXMiLCJ2YWx1ZSIsInNldCIsInN1Y2Nlc3MiLCJlcnJvckRhdGEiLCJlcnJvck1lc3NhZ2UiLCJkZWxldGUiLCJfIiwiZW5kVmVyc2lvbiIsInJlbW90ZVF1ZXJ5UmVzdWx0cyIsInRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/request_manager.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestManager: () => (/* binding */ RequestManager)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\n\n\nclass RequestManager {\n    constructor(){\n        this.inflightRequests = /* @__PURE__ */ new Map();\n        this.requestsOlderThanRestart = /* @__PURE__ */ new Set();\n    }\n    request(message, sent) {\n        const result = new Promise((resolve)=>{\n            const status = sent ? \"Requested\" : \"NotSent\";\n            this.inflightRequests.set(message.requestId, {\n                message,\n                status: {\n                    status,\n                    requestedAt: /* @__PURE__ */ new Date(),\n                    onResult: resolve\n                }\n            });\n        });\n        return result;\n    }\n    /**\n   * Update the state after receiving a response.\n   *\n   * @returns A RequestId if the request is complete and its optimistic update\n   * can be dropped, null otherwise.\n   */ onResponse(response) {\n        const requestInfo = this.inflightRequests.get(response.requestId);\n        if (requestInfo === void 0) {\n            return null;\n        }\n        if (requestInfo.status.status === \"Completed\") {\n            return null;\n        }\n        const udfType = requestInfo.message.type === \"Mutation\" ? \"mutation\" : \"action\";\n        const udfPath = requestInfo.message.udfPath;\n        for (const line of response.logLines){\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logToConsole)(\"info\", udfType, udfPath, line);\n        }\n        const status = requestInfo.status;\n        let onResolve;\n        if (response.success) {\n            onResolve = ()=>status.onResult({\n                    success: true,\n                    logLines: response.logLines,\n                    value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(response.result, true)\n                });\n        } else {\n            const errorMessage = response.result;\n            const { errorData } = response;\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logToConsole)(\"error\", udfType, udfPath, errorMessage);\n            onResolve = ()=>status.onResult({\n                    success: false,\n                    errorMessage,\n                    errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                    logLines: response.logLines\n                });\n        }\n        if (response.type === \"ActionResponse\" || !response.success) {\n            onResolve();\n            this.inflightRequests.delete(response.requestId);\n            this.requestsOlderThanRestart.delete(response.requestId);\n            return response.requestId;\n        }\n        requestInfo.status = {\n            status: \"Completed\",\n            ts: response.ts,\n            onResolve\n        };\n        return null;\n    }\n    // Remove and returns completed requests.\n    removeCompleted(ts) {\n        const completeRequests = /* @__PURE__ */ new Set();\n        for (const [requestId, requestInfo] of this.inflightRequests.entries()){\n            const status = requestInfo.status;\n            if (status.status === \"Completed\" && status.ts.lessThanOrEqual(ts)) {\n                status.onResolve();\n                completeRequests.add(requestId);\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n            }\n        }\n        return completeRequests;\n    }\n    restart() {\n        this.requestsOlderThanRestart = new Set(this.inflightRequests.keys());\n        const allMessages = [];\n        for (const [requestId, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n            if (value.message.type === \"Mutation\") {\n                allMessages.push(value.message);\n            } else {\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n                if (value.status.status === \"Completed\") {\n                    throw new Error(\"Action should never be in 'Completed' state\");\n                }\n                value.status.onResult({\n                    success: false,\n                    errorMessage: \"Connection lost while action was in flight\",\n                    logLines: []\n                });\n            }\n        }\n        return allMessages;\n    }\n    /**\n   * @returns true if there are any requests that have been requested but have\n   * not be completed yet.\n   */ hasIncompleteRequests() {\n        for (const requestInfo of this.inflightRequests.values()){\n            if (requestInfo.status.status === \"Requested\") {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n   * @returns true if there are any inflight requests, including ones that have\n   * completed on the server, but have not been applied.\n   */ hasInflightRequests() {\n        return this.inflightRequests.size > 0;\n    }\n    /**\n   * @returns true if there are any inflight requests, that have been hanging around\n   * since prior to the most recent restart.\n   */ hasSyncedPastLastReconnect() {\n        return this.requestsOlderThanRestart.size === 0;\n    }\n    timeOfOldestInflightRequest() {\n        if (this.inflightRequests.size === 0) {\n            return null;\n        }\n        let oldestInflightRequest = Date.now();\n        for (const request of this.inflightRequests.values()){\n            if (request.status.status !== \"Completed\") {\n                if (request.status.requestedAt.getTime() < oldestInflightRequest) {\n                    oldestInflightRequest = request.status.requestedAt.getTime();\n                }\n            }\n        }\n        return new Date(oldestInflightRequest);\n    }\n} //# sourceMappingURL=request_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZXF1ZXN0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDd0M7QUFDUjtBQUN0QyxNQUFNRTtJQUNYQyxhQUFjO1FBQ1osSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxhQUFhLEdBQUcsSUFBSUM7UUFDNUMsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxhQUFhLEdBQUcsSUFBSUM7SUFDdEQ7SUFDQUMsUUFBUUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7UUFDckIsTUFBTUMsU0FBUyxJQUFJQyxRQUFRLENBQUNDO1lBQzFCLE1BQU1DLFNBQVNKLE9BQU8sY0FBYztZQUNwQyxJQUFJLENBQUNOLGdCQUFnQixDQUFDVyxHQUFHLENBQUNOLFFBQVFPLFNBQVMsRUFBRTtnQkFDM0NQO2dCQUNBSyxRQUFRO29CQUFFQTtvQkFBUUcsYUFBYSxhQUFhLEdBQUcsSUFBSUM7b0JBQVFDLFVBQVVOO2dCQUFRO1lBQy9FO1FBQ0Y7UUFDQSxPQUFPRjtJQUNUO0lBQ0E7Ozs7O0dBS0MsR0FDRFMsV0FBV0MsUUFBUSxFQUFFO1FBQ25CLE1BQU1DLGNBQWMsSUFBSSxDQUFDbEIsZ0JBQWdCLENBQUNtQixHQUFHLENBQUNGLFNBQVNMLFNBQVM7UUFDaEUsSUFBSU0sZ0JBQWdCLEtBQUssR0FBRztZQUMxQixPQUFPO1FBQ1Q7UUFDQSxJQUFJQSxZQUFZUixNQUFNLENBQUNBLE1BQU0sS0FBSyxhQUFhO1lBQzdDLE9BQU87UUFDVDtRQUNBLE1BQU1VLFVBQVVGLFlBQVliLE9BQU8sQ0FBQ2dCLElBQUksS0FBSyxhQUFhLGFBQWE7UUFDdkUsTUFBTUMsVUFBVUosWUFBWWIsT0FBTyxDQUFDaUIsT0FBTztRQUMzQyxLQUFLLE1BQU1DLFFBQVFOLFNBQVNPLFFBQVEsQ0FBRTtZQUNwQzNCLHlEQUFZQSxDQUFDLFFBQVF1QixTQUFTRSxTQUFTQztRQUN6QztRQUNBLE1BQU1iLFNBQVNRLFlB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Q0RHLHdCQUF3QjtRQUN0QixLQUFLLE1BQU14QixlQUFlLElBQUksQ0FBQ2xCLGdCQUFnQixDQUFDMkMsTUFBTSxHQUFJO1lBQ3hELElBQUl6QixZQUFZUixNQUFNLENBQUNBLE1BQU0sS0FBSyxhQUFhO2dCQUM3QyxPQUFPO1lBQ1Q7UUFDRjtRQUNBLE9BQU87SUFDVDtJQUNBOzs7R0FHQyxHQUNEa0Msc0JBQXNCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDNUMsZ0JBQWdCLENBQUM2QyxJQUFJLEdBQUc7SUFDdEM7SUFDQTs7O0dBR0MsR0FDREMsNkJBQTZCO1FBQzNCLE9BQU8sSUFBSSxDQUFDNUMsd0JBQXdCLENBQUMyQyxJQUFJLEtBQUs7SUFDaEQ7SUFDQUUsOEJBQThCO1FBQzVCLElBQUksSUFBSSxDQUFDL0MsZ0JBQWdCLENBQUM2QyxJQUFJLEtBQUssR0FBRztZQUNwQyxPQUFPO1FBQ1Q7UUFDQSxJQUFJRyx3QkFBd0JsQyxLQUFLbUMsR0FBRztRQUNwQyxLQUFLLE1BQU03QyxXQUFXLElBQUksQ0FBQ0osZ0JBQWdCLENBQUMyQyxNQUFNLEdBQUk7WUFDcEQsSUFBSXZDLFFBQVFNLE1BQU0sQ0FBQ0EsTUFBTSxLQUFLLGFBQWE7Z0JBQ3pDLElBQUlOLFFBQVFNLE1BQU0sQ0FBQ0csV0FBVyxDQUFDcUMsT0FBTyxLQUFLRix1QkFBdUI7b0JBQ2hFQSx3QkFBd0I1QyxRQUFRTSxNQUFNLENBQUNHLFdBQVcsQ0FBQ3FDLE9BQU87Z0JBQzVEO1lBQ0Y7UUFDRjtRQUNBLE9BQU8sSUFBSXBDLEtBQUtrQztJQUNsQjtBQUNGLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvcmVxdWVzdF9tYW5hZ2VyLmpzPzI3NjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsb2dUb0NvbnNvbGUgfSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuZXhwb3J0IGNsYXNzIFJlcXVlc3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgcmVxdWVzdChtZXNzYWdlLCBzZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHNlbnQgPyBcIlJlcXVlc3RlZFwiIDogXCJOb3RTZW50XCI7XG4gICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuc2V0KG1lc3NhZ2UucmVxdWVzdElkLCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogeyBzdGF0dXMsIHJlcXVlc3RlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgb25SZXN1bHQ6IHJlc29sdmUgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzdGF0ZSBhZnRlciByZWNlaXZpbmcgYSByZXNwb25zZS5cbiAgICpcbiAgICogQHJldHVybnMgQSBSZXF1ZXN0SWQgaWYgdGhlIHJlcXVlc3QgaXMgY29tcGxldGUgYW5kIGl0cyBvcHRpbWlzdGljIHVwZGF0ZVxuICAgKiBjYW4gYmUgZHJvcHBlZCwgbnVsbCBvdGhlcndpc2UuXG4gICAqL1xuICBvblJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZ2V0KHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgaWYgKHJlcXVlc3RJbmZvID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdEluZm8uc3RhdHVzLnN0YXR1cyA9PT0gXCJDb21wbGV0ZWRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVkZlR5cGUgPSByZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIiA/IFwibXV0YXRpb25cIiA6IFwiYWN0aW9uXCI7XG4gICAgY29uc3QgdWRmUGF0aCA9IHJlcXVlc3RJbmZvLm1lc3NhZ2UudWRmUGF0aDtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcG9uc2UubG9nTGluZXMpIHtcbiAgICAgIGxvZ1RvQ29uc29sZShcImluZm9cIiwgdWRmVHlwZSwgdWRmUGF0aCwgbGluZSk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXR1cyA9IHJlcXVlc3RJbmZvLnN0YXR1cztcbiAgICBsZXQgb25SZXNvbHZlO1xuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBsb2dMaW5lczogcmVzcG9uc2UubG9nTGluZXMsXG4gICAgICAgIHZhbHVlOiBqc29uVG9Db252ZXgocmVzcG9uc2UucmVzdWx0LCB0cnVlKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLnJlc3VsdDtcbiAgICAgIGNvbnN0IHsgZXJyb3JEYXRhIH0gPSByZXNwb25zZTtcbiAgICAgIGxvZ1RvQ29uc29sZShcImVycm9yXCIsIHVkZlR5cGUsIHVkZlBhdGgsIGVycm9yTWVzc2FnZSk7XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgICBlcnJvckRhdGE6IGVycm9yRGF0YSAhPT0gdm9pZCAwID8ganNvblRvQ29udmV4KGVycm9yRGF0YSkgOiB2b2lkIDAsXG4gICAgICAgIGxvZ0xpbmVzOiByZXNwb25zZS5sb2dMaW5lc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS50eXBlID09PSBcIkFjdGlvblJlc3BvbnNlXCIgfHwgIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIG9uUmVzb2x2ZSgpO1xuICAgICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmRlbGV0ZShyZXNwb25zZS5yZXF1ZXN0SWQpO1xuICAgICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UucmVxdWVzdElkO1xuICAgIH1cbiAgICByZXF1ZXN0SW5mby5zdGF0dXMgPSB7XG4gICAgICBzdGF0dXM6IFwiQ29tcGxldGVkXCIsXG4gICAgICB0czogcmVzcG9uc2UudHMsXG4gICAgICBvblJlc29sdmVcbiAgICB9O1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIFJlbW92ZSBhbmQgcmV0dXJucyBjb21wbGV0ZWQgcmVxdWVzdHMuXG4gIHJlbW92ZUNvbXBsZXRlZCh0cykge1xuICAgIGNvbnN0IGNvbXBsZXRlUmVxdWVzdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgW3JlcXVlc3RJZCwgcmVxdWVzdEluZm9dIG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHJlcXVlc3RJbmZvLnN0YXR1cztcbiAgICAgIGlmIChzdGF0dXMuc3RhdHVzID09PSBcIkNvbXBsZXRlZFwiICYmIHN0YXR1cy50cy5sZXNzVGhhbk9yRXF1YWwodHMpKSB7XG4gICAgICAgIHN0YXR1cy5vblJlc29sdmUoKTtcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0cy5hZGQocmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbXBsZXRlUmVxdWVzdHM7XG4gIH1cbiAgcmVzdGFydCgpIHtcbiAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydCA9IG5ldyBTZXQodGhpcy5pbmZsaWdodFJlcXVlc3RzLmtleXMoKSk7XG4gICAgY29uc3QgYWxsTWVzc2FnZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtyZXF1ZXN0SWQsIHZhbHVlXSBvZiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMpIHtcbiAgICAgIGlmICh2YWx1ZS5zdGF0dXMuc3RhdHVzID09PSBcIk5vdFNlbnRcIikge1xuICAgICAgICB2YWx1ZS5zdGF0dXMuc3RhdHVzID0gXCJSZXF1ZXN0ZWRcIjtcbiAgICAgICAgYWxsTWVzc2FnZXMucHVzaCh2YWx1ZS5tZXNzYWdlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUubWVzc2FnZS50eXBlID09PSBcIk11dGF0aW9uXCIpIHtcbiAgICAgICAgYWxsTWVzc2FnZXMucHVzaCh2YWx1ZS5tZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgIGlmICh2YWx1ZS5zdGF0dXMuc3RhdHVzID09PSBcIkNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWN0aW9uIHNob3VsZCBuZXZlciBiZSBpbiAnQ29tcGxldGVkJyBzdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZS5zdGF0dXMub25SZXN1bHQoe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJDb25uZWN0aW9uIGxvc3Qgd2hpbGUgYWN0aW9uIHdhcyBpbiBmbGlnaHRcIixcbiAgICAgICAgICBsb2dMaW5lczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbGxNZXNzYWdlcztcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IHJlcXVlc3RzIHRoYXQgaGF2ZSBiZWVuIHJlcXVlc3RlZCBidXQgaGF2ZVxuICAgKiBub3QgYmUgY29tcGxldGVkIHlldC5cbiAgICovXG4gIGhhc0luY29tcGxldGVSZXF1ZXN0cygpIHtcbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RJbmZvIG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHJlcXVlc3RJbmZvLnN0YXR1cy5zdGF0dXMgPT09IFwiUmVxdWVzdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IGluZmxpZ2h0IHJlcXVlc3RzLCBpbmNsdWRpbmcgb25lcyB0aGF0IGhhdmVcbiAgICogY29tcGxldGVkIG9uIHRoZSBzZXJ2ZXIsIGJ1dCBoYXZlIG5vdCBiZWVuIGFwcGxpZWQuXG4gICAqL1xuICBoYXNJbmZsaWdodFJlcXVlc3RzKCkge1xuICAgIHJldHVybiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuc2l6ZSA+IDA7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGFueSBpbmZsaWdodCByZXF1ZXN0cywgdGhhdCBoYXZlIGJlZW4gaGFuZ2luZyBhcm91bmRcbiAgICogc2luY2UgcHJpb3IgdG8gdGhlIG1vc3QgcmVjZW50IHJlc3RhcnQuXG4gICAqL1xuICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuc2l6ZSA9PT0gMDtcbiAgfVxuICB0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QoKSB7XG4gICAgaWYgKHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IG9sZGVzdEluZmxpZ2h0UmVxdWVzdCA9IERhdGUubm93KCk7XG4gICAgZm9yIChjb25zdCByZXF1ZXN0IG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzLnN0YXR1cyAhPT0gXCJDb21wbGV0ZWRcIikge1xuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMucmVxdWVzdGVkQXQuZ2V0VGltZSgpIDwgb2xkZXN0SW5mbGlnaHRSZXF1ZXN0KSB7XG4gICAgICAgICAgb2xkZXN0SW5mbGlnaHRSZXF1ZXN0ID0gcmVxdWVzdC5zdGF0dXMucmVxdWVzdGVkQXQuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShvbGRlc3RJbmZsaWdodFJlcXVlc3QpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0X21hbmFnZXIuanMubWFwXG4iXSwibmFtZXMiOlsianNvblRvQ29udmV4IiwibG9nVG9Db25zb2xlIiwiUmVxdWVzdE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImluZmxpZ2h0UmVxdWVzdHMiLCJNYXAiLCJyZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQiLCJTZXQiLCJyZXF1ZXN0IiwibWVzc2FnZSIsInNlbnQiLCJyZXN1bHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN0YXR1cyIsInNldCIsInJlcXVlc3RJZCIsInJlcXVlc3RlZEF0IiwiRGF0ZSIsIm9uUmVzdWx0Iiwib25SZXNwb25zZSIsInJlc3BvbnNlIiwicmVxdWVzdEluZm8iLCJnZXQiLCJ1ZGZUeXBlIiwidHlwZSIsInVkZlBhdGgiLCJsaW5lIiwibG9nTGluZXMiLCJvblJlc29sdmUiLCJzdWNjZXNzIiwidmFsdWUiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRhdGEiLCJkZWxldGUiLCJ0cyIsInJlbW92ZUNvbXBsZXRlZCIsImNvbXBsZXRlUmVxdWVzdHMiLCJlbnRyaWVzIiwibGVzc1RoYW5PckVxdWFsIiwiYWRkIiwicmVzdGFydCIsImtleXMiLCJhbGxNZXNzYWdlcyIsInB1c2giLCJFcnJvciIsImhhc0luY29tcGxldGVSZXF1ZXN0cyIsInZhbHVlcyIsImhhc0luZmxpZ2h0UmVxdWVzdHMiLCJzaXplIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJ0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJvbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJub3ciLCJnZXRUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/session.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newSessionId: () => (/* binding */ newSessionId)\n/* harmony export */ });\n\nfunction newSessionId() {\n    return uuidv4();\n}\nfunction uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0, v = c === \"x\" ? r : r & 3 | 8;\n        return v.toString(16);\n    });\n} //# sourceMappingURL=session.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLFNBQVNBO0lBQ2QsT0FBT0M7QUFDVDtBQUNBLFNBQVNBO0lBQ1AsT0FBTyx1Q0FBdUNDLE9BQU8sQ0FBQyxTQUFTLENBQUNDO1FBQzlELE1BQU1DLElBQUlDLEtBQUtDLE1BQU0sS0FBSyxLQUFLLEdBQUdDLElBQUlKLE1BQU0sTUFBTUMsSUFBSUEsSUFBSSxJQUFJO1FBQzlELE9BQU9HLEVBQUVDLFFBQVEsQ0FBQztJQUNwQjtBQUNGLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvc2Vzc2lvbi5qcz9lMTAyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Nlc3Npb25JZCgpIHtcbiAgcmV0dXJuIHV1aWR2NCgpO1xufVxuZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XG4gICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSBcInhcIiA/IHIgOiByICYgMyB8IDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwXG4iXSwibmFtZXMiOlsibmV3U2Vzc2lvbklkIiwidXVpZHY0IiwicmVwbGFjZSIsImMiLCJyIiwiTWF0aCIsInJhbmRvbSIsInYiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canonicalizeUdfPath: () => (/* binding */ canonicalizeUdfPath),\n/* harmony export */   serializePathAndArgs: () => (/* binding */ serializePathAndArgs)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\nfunction canonicalizeUdfPath(udfPath) {\n    const pieces = udfPath.split(\":\");\n    let moduleName;\n    let functionName;\n    if (pieces.length === 1) {\n        moduleName = pieces[0];\n        functionName = \"default\";\n    } else {\n        moduleName = pieces.slice(0, pieces.length - 1).join(\":\");\n        functionName = pieces[pieces.length - 1];\n    }\n    if (moduleName.endsWith(\".js\")) {\n        moduleName = moduleName.slice(0, -3);\n    }\n    return `${moduleName}:${functionName}`;\n}\nfunction serializePathAndArgs(udfPath, args) {\n    return JSON.stringify({\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n    });\n} //# sourceMappingURL=udf_path_utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy91ZGZfcGF0aF91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUN3QztBQUM5QyxTQUFTQyxvQkFBb0JDLE9BQU87SUFDekMsTUFBTUMsU0FBU0QsUUFBUUUsS0FBSyxDQUFDO0lBQzdCLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJSCxPQUFPSSxNQUFNLEtBQUssR0FBRztRQUN2QkYsYUFBYUYsTUFBTSxDQUFDLEVBQUU7UUFDdEJHLGVBQWU7SUFDakIsT0FBTztRQUNMRCxhQUFhRixPQUFPSyxLQUFLLENBQUMsR0FBR0wsT0FBT0ksTUFBTSxHQUFHLEdBQUdFLElBQUksQ0FBQztRQUNyREgsZUFBZUgsTUFBTSxDQUFDQSxPQUFPSSxNQUFNLEdBQUcsRUFBRTtJQUMxQztJQUNBLElBQUlGLFdBQVdLLFFBQVEsQ0FBQyxRQUFRO1FBQzlCTCxhQUFhQSxXQUFXRyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQ3BDO0lBQ0EsT0FBTyxDQUFDLEVBQUVILFdBQVcsQ0FBQyxFQUFFQyxhQUFhLENBQUM7QUFDeEM7QUFDTyxTQUFTSyxxQkFBcUJULE9BQU8sRUFBRVUsSUFBSTtJQUNoRCxPQUFPQyxLQUFLQyxTQUFTLENBQUM7UUFDcEJaLFNBQVNELG9CQUFvQkM7UUFDN0JVLE1BQU1aLDhEQUFZQSxDQUFDWTtJQUNyQjtBQUNGLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvdWRmX3BhdGhfdXRpbHMuanM/MDVhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpIHtcbiAgY29uc3QgcGllY2VzID0gdWRmUGF0aC5zcGxpdChcIjpcIik7XG4gIGxldCBtb2R1bGVOYW1lO1xuICBsZXQgZnVuY3Rpb25OYW1lO1xuICBpZiAocGllY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgIG1vZHVsZU5hbWUgPSBwaWVjZXNbMF07XG4gICAgZnVuY3Rpb25OYW1lID0gXCJkZWZhdWx0XCI7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlTmFtZSA9IHBpZWNlcy5zbGljZSgwLCBwaWVjZXMubGVuZ3RoIC0gMSkuam9pbihcIjpcIik7XG4gICAgZnVuY3Rpb25OYW1lID0gcGllY2VzW3BpZWNlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBpZiAobW9kdWxlTmFtZS5lbmRzV2l0aChcIi5qc1wiKSkge1xuICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnNsaWNlKDAsIC0zKTtcbiAgfVxuICByZXR1cm4gYCR7bW9kdWxlTmFtZX06JHtmdW5jdGlvbk5hbWV9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgdWRmUGF0aDogY2Fub25pY2FsaXplVWRmUGF0aCh1ZGZQYXRoKSxcbiAgICBhcmdzOiBjb252ZXhUb0pzb24oYXJncylcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11ZGZfcGF0aF91dGlscy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJjYW5vbmljYWxpemVVZGZQYXRoIiwidWRmUGF0aCIsInBpZWNlcyIsInNwbGl0IiwibW9kdWxlTmFtZSIsImZ1bmN0aW9uTmFtZSIsImxlbmd0aCIsInNsaWNlIiwiam9pbiIsImVuZHNXaXRoIiwic2VyaWFsaXplUGF0aEFuZEFyZ3MiLCJhcmdzIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager)\n/* harmony export */ });\n/* harmony import */ var _protocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\");\n\n\nconst CLOSE_NORMAL = 1e3;\nconst CLOSE_GOING_AWAY = 1001;\nconst CLOSE_NO_STATUS = 1005;\nconst CLOSE_NOT_FOUND = 4040;\nclass WebSocketManager {\n    constructor(uri, onOpen, onMessage, webSocketConstructor, verbose){\n        this.webSocketConstructor = webSocketConstructor;\n        this.socket = {\n            state: \"disconnected\"\n        };\n        this.connectionCount = 0;\n        this.lastCloseReason = \"InitialConnect\";\n        this.initialBackoff = 100;\n        this.maxBackoff = 16e3;\n        this.retries = 0;\n        this.serverInactivityThreshold = 3e4;\n        this.reconnectDueToServerInactivityTimeout = null;\n        this.uri = uri;\n        this.onOpen = onOpen;\n        this.onMessage = onMessage;\n        this.verbose = verbose;\n        void this.connect();\n    }\n    connect() {\n        if (this.socket.state === \"stopped\") {\n            return;\n        }\n        if (this.socket.state !== \"disconnected\" && this.socket.state !== \"paused\") {\n            throw new Error(\"Didn't start connection from disconnected state: \" + this.socket.state);\n        }\n        const ws = new this.webSocketConstructor(this.uri);\n        this._logVerbose(\"constructed WebSocket\");\n        this.socket = {\n            state: \"connecting\",\n            ws\n        };\n        this.resetServerInactivityTimeout();\n        ws.onopen = ()=>{\n            this._logVerbose(\"begin ws.onopen\");\n            if (this.socket.state !== \"connecting\") {\n                throw new Error(\"onopen called with socket not in connecting state\");\n            }\n            this.socket = {\n                state: \"ready\",\n                ws\n            };\n            this.resetServerInactivityTimeout();\n            this.onOpen({\n                connectionCount: this.connectionCount,\n                lastCloseReason: this.lastCloseReason\n            });\n            if (this.lastCloseReason !== \"InitialConnect\") {\n                console.log(\"WebSocket reconnected\");\n            }\n            this.connectionCount += 1;\n            this.lastCloseReason = null;\n        };\n        ws.onerror = (error)=>{\n            const message = error.message;\n            console.log(`WebSocket error: ${message}`);\n        };\n        ws.onmessage = (message)=>{\n            this.resetServerInactivityTimeout();\n            const serverMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(message.data));\n            this._logVerbose(`received ws message with type ${serverMessage.type}`);\n            const response = this.onMessage(serverMessage);\n            if (response.hasSyncedPastLastReconnect) {\n                this.retries = 0;\n            }\n        };\n        ws.onclose = (event)=>{\n            this._logVerbose(\"begin ws.onclose\");\n            if (this.lastCloseReason === null) {\n                this.lastCloseReason = event.reason ?? \"OnCloseInvoked\";\n            }\n            if (event.code !== CLOSE_NORMAL && event.code !== CLOSE_GOING_AWAY && // This commonly gets fired on mobile apps when the app is backgrounded\n            event.code !== CLOSE_NO_STATUS && event.code !== CLOSE_NOT_FOUND) {\n                let msg = `WebSocket closed with code ${event.code}`;\n                if (event.reason) {\n                    msg += `: ${event.reason}`;\n                }\n                console.log(msg);\n            }\n            this.scheduleReconnect();\n            return;\n        };\n    }\n    /**\n   * @returns The state of the {@link Socket}.\n   */ socketState() {\n        return this.socket.state;\n    }\n    /**\n   * @param message - A ClientMessage to send.\n   * @returns Whether the message (might have been) sent.\n   */ sendMessage(message) {\n        this._logVerbose(`sending message with type ${message.type}`);\n        if (this.socket.state === \"ready\") {\n            const encodedMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.encodeClientMessage)(message);\n            const request = JSON.stringify(encodedMessage);\n            try {\n                this.socket.ws.send(request);\n            } catch (error) {\n                console.log(`Failed to send message on WebSocket, reconnecting: ${error}`);\n                this.closeAndReconnect(\"FailedToSendMessage\");\n            }\n            return true;\n        }\n        return false;\n    }\n    resetServerInactivityTimeout() {\n        if (this.socket.state !== \"stopped\") {\n            return;\n        }\n        if (this.reconnectDueToServerInactivityTimeout !== null) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n            this.reconnectDueToServerInactivityTimeout = null;\n        }\n        this.reconnectDueToServerInactivityTimeout = setTimeout(()=>{\n            this.closeAndReconnect(\"InactiveServer\");\n        }, this.serverInactivityThreshold);\n    }\n    scheduleReconnect() {\n        this.socket = {\n            state: \"disconnected\"\n        };\n        const backoff = this.nextBackoff();\n        console.log(`Attempting reconnect in ${backoff}ms`);\n        setTimeout(()=>this.connect(), backoff);\n    }\n    /**\n   * Close the WebSocket and schedule a reconnect.\n   *\n   * This should be used when we hit an error and would like to restart the session.\n   */ closeAndReconnect(closeReason) {\n        this._logVerbose(`begin closeAndReconnect with reason ${closeReason}`);\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"stopped\":\n            case \"paused\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.lastCloseReason = closeReason;\n                    this.close();\n                    this.scheduleReconnect();\n                    return;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n    }\n    /**\n   * Close the WebSocket, being careful to clear the onclose handler to avoid re-entrant\n   * calls. Use this instead of directly calling `ws.close()`\n   */ close() {\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"stopped\":\n            case \"paused\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.socket.ws.onclose = ()=>{};\n                    this._logVerbose(\"ws.close called\");\n                    this.socket.ws.close();\n                    return;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n    }\n    /**\n   * Close the WebSocket and do not reconnect.\n   * @returns A Promise that resolves when the WebSocket `onClose` callback is called.\n   */ stop() {\n        if (this.reconnectDueToServerInactivityTimeout) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n        }\n        switch(this.socket.state){\n            case \"stopped\":\n            case \"paused\":\n            case \"disconnected\":\n            case \"connecting\":\n            case \"ready\":\n                this.close();\n                if (this.socket.state === \"ready\" || this.socket.state === \"connecting\") {\n                    const ws = this.socket.ws;\n                    this.socket = {\n                        state: \"stopped\"\n                    };\n                    return new Promise((r)=>{\n                        ws.onclose = (_event)=>r();\n                    });\n                }\n                this.socket = {\n                    state: \"stopped\"\n                };\n                return Promise.resolve();\n            default:\n                {\n                    const _ = this.socket;\n                    throw new Error(`Invalid websocket state: ${this.socket.state}`);\n                }\n        }\n    }\n    pause() {\n        switch(this.socket.state){\n            case \"stopped\":\n                return;\n            case \"paused\":\n            case \"disconnected\":\n            case \"connecting\":\n            case \"ready\":\n                this.close();\n                this.socket = {\n                    state: \"paused\"\n                };\n                return;\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n    }\n    /**\n   * Create a new WebSocket after a previous `pause()`, unless `stop()` was\n   * called before.\n   */ resume() {\n        switch(this.socket.state){\n            case \"paused\":\n                break;\n            case \"stopped\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n            case \"disconnected\":\n                throw new Error(\"`resume()` is only valid after `pause()`\");\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n        this.connect();\n    }\n    _logVerbose(message) {\n        if (this.verbose) {\n            console.debug(`${/* @__PURE__ */ new Date().toISOString()} ${message}`);\n        }\n    }\n    nextBackoff() {\n        const baseBackoff = this.initialBackoff * Math.pow(2, this.retries);\n        this.retries += 1;\n        const actualBackoff = Math.min(baseBackoff, this.maxBackoff);\n        const jitter = actualBackoff * (Math.random() - 0.5);\n        return actualBackoff + jitter;\n    }\n} //# sourceMappingURL=web_socket_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy93ZWJfc29ja2V0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUlVO0FBQ3ZCLE1BQU1FLGVBQWU7QUFDckIsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLGtCQUFrQjtBQUN4QixNQUFNQyxrQkFBa0I7QUFDakIsTUFBTUM7SUFDWEMsWUFBWUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsb0JBQW9CLEVBQUVDLE9BQU8sQ0FBRTtRQUNqRSxJQUFJLENBQUNELG9CQUFvQixHQUFHQTtRQUM1QixJQUFJLENBQUNFLE1BQU0sR0FBRztZQUFFQyxPQUFPO1FBQWU7UUFDdEMsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLHlCQUF5QixHQUFHO1FBQ2pDLElBQUksQ0FBQ0MscUNBQXFDLEdBQUc7UUFDN0MsSUFBSSxDQUFDYixHQUFHLEdBQUdBO1FBQ1gsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0UsT0FBTyxHQUFHQTtRQUNmLEtBQUssSUFBSSxDQUFDVSxPQUFPO0lBQ25CO0lBQ0FBLFVBQVU7UUFDUixJQUFJLElBQUksQ0FBQ1QsTUFBTSxDQUFDQyxLQUFLLEtBQUssV0FBVztZQUNuQztRQUNGO1FBQ0EsSUFBSSxJQUFJLENBQUNELE1BQU0sQ0FBQ0MsS0FBSyxLQUFLLGtCQUFrQixJQUFJLENBQUNELE1BQU0sQ0FBQ0MsS0FBSyxLQUFLLFVBQVU7WUFDMUUsTUFBTSxJQUFJUyxNQUNSLHNEQUFzRCxJQUFJLENBQUNWLE1BQU0sQ0FBQ0MsS0FBSztRQUUzRTtR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RyxJQUFJLENBQUN0RCxPQUFPO1FBQ2xFLElBQUksQ0FBQ0EsT0FBTyxJQUFJO1FBQ2hCLE1BQU11RCxnQkFBZ0JGLEtBQUtHLEdBQUcsQ0FBQ0osYUFBYSxJQUFJLENBQUNyRCxVQUFVO1FBQzNELE1BQU0wRCxTQUFTRixnQkFBaUJGLENBQUFBLEtBQUtLLE1BQU0sS0FBSyxHQUFFO1FBQ2xELE9BQU9ILGdCQUFnQkU7SUFDekI7QUFDRixFQUNBLDhDQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3dlYl9zb2NrZXRfbWFuYWdlci5qcz8xM2IzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgZW5jb2RlQ2xpZW50TWVzc2FnZSxcbiAgcGFyc2VTZXJ2ZXJNZXNzYWdlXG59IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5jb25zdCBDTE9TRV9OT1JNQUwgPSAxZTM7XG5jb25zdCBDTE9TRV9HT0lOR19BV0FZID0gMTAwMTtcbmNvbnN0IENMT1NFX05PX1NUQVRVUyA9IDEwMDU7XG5jb25zdCBDTE9TRV9OT1RfRk9VTkQgPSA0MDQwO1xuZXhwb3J0IGNsYXNzIFdlYlNvY2tldE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih1cmksIG9uT3Blbiwgb25NZXNzYWdlLCB3ZWJTb2NrZXRDb25zdHJ1Y3RvciwgdmVyYm9zZSkge1xuICAgIHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IgPSB3ZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwiZGlzY29ubmVjdGVkXCIgfTtcbiAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IDA7XG4gICAgdGhpcy5sYXN0Q2xvc2VSZWFzb24gPSBcIkluaXRpYWxDb25uZWN0XCI7XG4gICAgdGhpcy5pbml0aWFsQmFja29mZiA9IDEwMDtcbiAgICB0aGlzLm1heEJhY2tvZmYgPSAxNmUzO1xuICAgIHRoaXMucmV0cmllcyA9IDA7XG4gICAgdGhpcy5zZXJ2ZXJJbmFjdGl2aXR5VGhyZXNob2xkID0gM2U0O1xuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy51cmkgPSB1cmk7XG4gICAgdGhpcy5vbk9wZW4gPSBvbk9wZW47XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBvbk1lc3NhZ2U7XG4gICAgdGhpcy52ZXJib3NlID0gdmVyYm9zZTtcbiAgICB2b2lkIHRoaXMuY29ubmVjdCgpO1xuICB9XG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInN0b3BwZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zb2NrZXQuc3RhdGUgIT09IFwiZGlzY29ubmVjdGVkXCIgJiYgdGhpcy5zb2NrZXQuc3RhdGUgIT09IFwicGF1c2VkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJEaWRuJ3Qgc3RhcnQgY29ubmVjdGlvbiBmcm9tIGRpc2Nvbm5lY3RlZCBzdGF0ZTogXCIgKyB0aGlzLnNvY2tldC5zdGF0ZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgd3MgPSBuZXcgdGhpcy53ZWJTb2NrZXRDb25zdHJ1Y3Rvcih0aGlzLnVyaSk7XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcImNvbnN0cnVjdGVkIFdlYlNvY2tldFwiKTtcbiAgICB0aGlzLnNvY2tldCA9IHtcbiAgICAgIHN0YXRlOiBcImNvbm5lY3RpbmdcIixcbiAgICAgIHdzXG4gICAgfTtcbiAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwiYmVnaW4gd3Mub25vcGVuXCIpO1xuICAgICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlICE9PSBcImNvbm5lY3RpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbm9wZW4gY2FsbGVkIHdpdGggc29ja2V0IG5vdCBpbiBjb25uZWN0aW5nIHN0YXRlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5zb2NrZXQgPSB7IHN0YXRlOiBcInJlYWR5XCIsIHdzIH07XG4gICAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIHRoaXMub25PcGVuKHtcbiAgICAgICAgY29ubmVjdGlvbkNvdW50OiB0aGlzLmNvbm5lY3Rpb25Db3VudCxcbiAgICAgICAgbGFzdENsb3NlUmVhc29uOiB0aGlzLmxhc3RDbG9zZVJlYXNvblxuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24gIT09IFwiSW5pdGlhbENvbm5lY3RcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIldlYlNvY2tldCByZWNvbm5lY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ICs9IDE7XG4gICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IG51bGw7XG4gICAgfTtcbiAgICB3cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIGNvbnNvbGUubG9nKGBXZWJTb2NrZXQgZXJyb3I6ICR7bWVzc2FnZX1gKTtcbiAgICB9O1xuICAgIHdzLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIGNvbnN0IHNlcnZlck1lc3NhZ2UgPSBwYXJzZVNlcnZlck1lc3NhZ2UoSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpKTtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYHJlY2VpdmVkIHdzIG1lc3NhZ2Ugd2l0aCB0eXBlICR7c2VydmVyTWVzc2FnZS50eXBlfWApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLm9uTWVzc2FnZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgIGlmIChyZXNwb25zZS5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCkge1xuICAgICAgICB0aGlzLnJldHJpZXMgPSAwO1xuICAgICAgfVxuICAgIH07XG4gICAgd3Mub25jbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcImJlZ2luIHdzLm9uY2xvc2VcIik7XG4gICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24gPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5sYXN0Q2xvc2VSZWFzb24gPSBldmVudC5yZWFzb24gPz8gXCJPbkNsb3NlSW52b2tlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IENMT1NFX05PUk1BTCAmJiBldmVudC5jb2RlICE9PSBDTE9TRV9HT0lOR19BV0FZICYmIC8vIFRoaXMgY29tbW9ubHkgZ2V0cyBmaXJlZCBvbiBtb2JpbGUgYXBwcyB3aGVuIHRoZSBhcHAgaXMgYmFja2dyb3VuZGVkXG4gICAgICBldmVudC5jb2RlICE9PSBDTE9TRV9OT19TVEFUVVMgJiYgZXZlbnQuY29kZSAhPT0gQ0xPU0VfTk9UX0ZPVU5EKSB7XG4gICAgICAgIGxldCBtc2cgPSBgV2ViU29ja2V0IGNsb3NlZCB3aXRoIGNvZGUgJHtldmVudC5jb2RlfWA7XG4gICAgICAgIGlmIChldmVudC5yZWFzb24pIHtcbiAgICAgICAgICBtc2cgKz0gYDogJHtldmVudC5yZWFzb259YDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xuICAgICAgfVxuICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBzdGF0ZSBvZiB0aGUge0BsaW5rIFNvY2tldH0uXG4gICAqL1xuICBzb2NrZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zb2NrZXQuc3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gQSBDbGllbnRNZXNzYWdlIHRvIHNlbmQuXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIG1lc3NhZ2UgKG1pZ2h0IGhhdmUgYmVlbikgc2VudC5cbiAgICovXG4gIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9sb2dWZXJib3NlKGBzZW5kaW5nIG1lc3NhZ2Ugd2l0aCB0eXBlICR7bWVzc2FnZS50eXBlfWApO1xuICAgIGlmICh0aGlzLnNvY2tldC5zdGF0ZSA9PT0gXCJyZWFkeVwiKSB7XG4gICAgICBjb25zdCBlbmNvZGVkTWVzc2FnZSA9IGVuY29kZUNsaWVudE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSlNPTi5zdHJpbmdpZnkoZW5jb2RlZE1lc3NhZ2UpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zb2NrZXQud3Muc2VuZChyZXF1ZXN0KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGBGYWlsZWQgdG8gc2VuZCBtZXNzYWdlIG9uIFdlYlNvY2tldCwgcmVjb25uZWN0aW5nOiAke2Vycm9yfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkZhaWxlZFRvU2VuZE1lc3NhZ2VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlICE9PSBcInN0b3BwZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkluYWN0aXZlU2VydmVyXCIpO1xuICAgIH0sIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCk7XG4gIH1cbiAgc2NoZWR1bGVSZWNvbm5lY3QoKSB7XG4gICAgdGhpcy5zb2NrZXQgPSB7IHN0YXRlOiBcImRpc2Nvbm5lY3RlZFwiIH07XG4gICAgY29uc3QgYmFja29mZiA9IHRoaXMubmV4dEJhY2tvZmYoKTtcbiAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdGluZyByZWNvbm5lY3QgaW4gJHtiYWNrb2ZmfW1zYCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNvbm5lY3QoKSwgYmFja29mZik7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgYW5kIHNjaGVkdWxlIGEgcmVjb25uZWN0LlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIHdoZW4gd2UgaGl0IGFuIGVycm9yIGFuZCB3b3VsZCBsaWtlIHRvIHJlc3RhcnQgdGhlIHNlc3Npb24uXG4gICAqL1xuICBjbG9zZUFuZFJlY29ubmVjdChjbG9zZVJlYXNvbikge1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYGJlZ2luIGNsb3NlQW5kUmVjb25uZWN0IHdpdGggcmVhc29uICR7Y2xvc2VSZWFzb259YCk7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgIGNhc2UgXCJwYXVzZWRcIjpcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIHRoaXMubGFzdENsb3NlUmVhc29uID0gY2xvc2VSZWFzb247XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF8gPSB0aGlzLnNvY2tldDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQsIGJlaW5nIGNhcmVmdWwgdG8gY2xlYXIgdGhlIG9uY2xvc2UgaGFuZGxlciB0byBhdm9pZCByZS1lbnRyYW50XG4gICAqIGNhbGxzLiBVc2UgdGhpcyBpbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcgYHdzLmNsb3NlKClgXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcInBhdXNlZFwiOlxuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6IHtcbiAgICAgICAgdGhpcy5zb2NrZXQud3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbG9nVmVyYm9zZShcIndzLmNsb3NlIGNhbGxlZFwiKTtcbiAgICAgICAgdGhpcy5zb2NrZXQud3MuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfID0gdGhpcy5zb2NrZXQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGFuZCBkbyBub3QgcmVjb25uZWN0LlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBXZWJTb2NrZXQgYG9uQ2xvc2VgIGNhbGxiYWNrIGlzIGNhbGxlZC5cbiAgICovXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwicGF1c2VkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInJlYWR5XCIgfHwgdGhpcy5zb2NrZXQuc3RhdGUgPT09IFwiY29ubmVjdGluZ1wiKSB7XG4gICAgICAgICAgY29uc3Qgd3MgPSB0aGlzLnNvY2tldC53cztcbiAgICAgICAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwic3RvcHBlZFwiIH07XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyKSA9PiB7XG4gICAgICAgICAgICB3cy5vbmNsb3NlID0gKF9ldmVudCkgPT4gcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyBzdGF0ZTogXCJzdG9wcGVkXCIgfTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfID0gdGhpcy5zb2NrZXQ7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgSW52YWxpZCB3ZWJzb2NrZXQgc3RhdGU6ICR7dGhpcy5zb2NrZXQuc3RhdGV9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXVzZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwicGF1c2VkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSB7XG4gICAgICAgICAgc3RhdGU6IFwicGF1c2VkXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfID0gdGhpcy5zb2NrZXQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgV2ViU29ja2V0IGFmdGVyIGEgcHJldmlvdXMgYHBhdXNlKClgLCB1bmxlc3MgYHN0b3AoKWAgd2FzXG4gICAqIGNhbGxlZCBiZWZvcmUuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInBhdXNlZFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjpcbiAgICAgIGNhc2UgXCJkaXNjb25uZWN0ZWRcIjpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYHJlc3VtZSgpYCBpcyBvbmx5IHZhbGlkIGFmdGVyIGBwYXVzZSgpYFwiKTtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgXyA9IHRoaXMuc29ja2V0O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgfVxuICBfbG9nVmVyYm9zZShtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMudmVyYm9zZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgJHsoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCl9ICR7bWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cbiAgbmV4dEJhY2tvZmYoKSB7XG4gICAgY29uc3QgYmFzZUJhY2tvZmYgPSB0aGlzLmluaXRpYWxCYWNrb2ZmICogTWF0aC5wb3coMiwgdGhpcy5yZXRyaWVzKTtcbiAgICB0aGlzLnJldHJpZXMgKz0gMTtcbiAgICBjb25zdCBhY3R1YWxCYWNrb2ZmID0gTWF0aC5taW4oYmFzZUJhY2tvZmYsIHRoaXMubWF4QmFja29mZik7XG4gICAgY29uc3Qgaml0dGVyID0gYWN0dWFsQmFja29mZiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICByZXR1cm4gYWN0dWFsQmFja29mZiArIGppdHRlcjtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViX3NvY2tldF9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbImVuY29kZUNsaWVudE1lc3NhZ2UiLCJwYXJzZVNlcnZlck1lc3NhZ2UiLCJDTE9TRV9OT1JNQUwiLCJDTE9TRV9HT0lOR19BV0FZIiwiQ0xPU0VfTk9fU1RBVFVTIiwiQ0xPU0VfTk9UX0ZPVU5EIiwiV2ViU29ja2V0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwidXJpIiwib25PcGVuIiwib25NZXNzYWdlIiwid2ViU29ja2V0Q29uc3RydWN0b3IiLCJ2ZXJib3NlIiwic29ja2V0Iiwic3RhdGUiLCJjb25uZWN0aW9uQ291bnQiLCJsYXN0Q2xvc2VSZWFzb24iLCJpbml0aWFsQmFja29mZiIsIm1heEJhY2tvZmYiLCJyZXRyaWVzIiwic2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCIsInJlY29ubmVjdER1ZVRvU2VydmVySW5hY3Rpdml0eVRpbWVvdXQiLCJjb25uZWN0IiwiRXJyb3IiLCJ3cyIsIl9sb2dWZXJib3NlIiwicmVzZXRTZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCIsIm9ub3BlbiIsImNvbnNvbGUiLCJsb2ciLCJvbmVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwib25tZXNzYWdlIiwic2VydmVyTWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJ0eXBlIiwicmVzcG9uc2UiLCJoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCIsIm9uY2xvc2UiLCJldmVudCIsInJlYXNvbiIsImNvZGUiLCJtc2ciLCJzY2hlZHVsZVJlY29ubmVjdCIsInNvY2tldFN0YXRlIiwic2VuZE1lc3NhZ2UiLCJlbmNvZGVkTWVzc2FnZSIsInJlcXVlc3QiLCJzdHJpbmdpZnkiLCJzZW5kIiwiY2xvc2VBbmRSZWNvbm5lY3QiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmFja29mZiIsIm5leHRCYWNrb2ZmIiwiY2xvc2VSZWFzb24iLCJjbG9zZSIsIl8iLCJzdG9wIiwiUHJvbWlzZSIsInIiLCJfZXZlbnQiLCJyZXNvbHZlIiwicGF1c2UiLCJyZXN1bWUiLCJkZWJ1ZyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJhc2VCYWNrb2ZmIiwiTWF0aCIsInBvdyIsImFjdHVhbEJhY2tvZmYiLCJtaW4iLCJqaXR0ZXIiLCJyYW5kb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/common/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/common/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSimpleObject: () => (/* binding */ isSimpleObject),\n/* harmony export */   parseArgs: () => (/* binding */ parseArgs),\n/* harmony export */   validateDeploymentUrl: () => (/* binding */ validateDeploymentUrl)\n/* harmony export */ });\n\nfunction parseArgs(args) {\n    if (args === void 0) {\n        return {};\n    }\n    if (!isSimpleObject(args)) {\n        throw new Error(`The arguments to a Convex function must be an object. Received: ${args}`);\n    }\n    return args;\n}\nfunction validateDeploymentUrl(deploymentUrl) {\n    if (typeof deploymentUrl === \"undefined\") {\n        throw new Error(`Client created with undefined deployment address. If you used an environment variable, check that it's set.`);\n    }\n    if (typeof deploymentUrl !== \"string\") {\n        throw new Error(`Invalid deployment address: found ${deploymentUrl}\".`);\n    }\n    if (!(deploymentUrl.startsWith(\"http:\") || deploymentUrl.startsWith(\"https:\"))) {\n        throw new Error(`Invalid deployment address: Must start with \"https://\" or \"http://\". Found \"${deploymentUrl}\".`);\n    }\n    if (deploymentUrl.indexOf(\"127.0.0.1\") !== -1 || deploymentUrl.indexOf(\"localhost\") !== -1) {\n        return;\n    }\n    if (!deploymentUrl.endsWith(\".convex.cloud\")) {\n        throw new Error(`Invalid deployment address: Must end with \".convex.cloud\". Found \"${deploymentUrl}\".`);\n    }\n}\nfunction isSimpleObject(value) {\n    const isObject = typeof value === \"object\";\n    const prototype = Object.getPrototypeOf(value);\n    const isSimple = prototype === null || prototype === Object.prototype || // Objects generated from other contexts (e.g. across Node.js `vm` modules) will not satisfy the previous\n    // conditions but are still simple objects.\n    prototype?.constructor?.name === \"Object\";\n    return isObject && isSimple;\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2NvbW1vbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNOLFNBQVNBLFVBQVVDLElBQUk7SUFDNUIsSUFBSUEsU0FBUyxLQUFLLEdBQUc7UUFDbkIsT0FBTyxDQUFDO0lBQ1Y7SUFDQSxJQUFJLENBQUNDLGVBQWVELE9BQU87UUFDekIsTUFBTSxJQUFJRSxNQUNSLENBQUMsZ0VBQWdFLEVBQUVGLEtBQUssQ0FBQztJQUU3RTtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxTQUFTRyxzQkFBc0JDLGFBQWE7SUFDakQsSUFBSSxPQUFPQSxrQkFBa0IsYUFBYTtRQUN4QyxNQUFNLElBQUlGLE1BQ1IsQ0FBQywyR0FBMkcsQ0FBQztJQUVqSDtJQUNBLElBQUksT0FBT0Usa0JBQWtCLFVBQVU7UUFDckMsTUFBTSxJQUFJRixNQUNSLENBQUMsa0NBQWtDLEVBQUVFLGNBQWMsRUFBRSxDQUFDO0lBRTFEO0lBQ0EsSUFBSSxDQUFFQSxDQUFBQSxjQUFjQyxVQUFVLENBQUMsWUFBWUQsY0FBY0MsVUFBVSxDQUFDLFNBQVEsR0FBSTtRQUM5RSxNQUFNLElBQUlILE1BQ1IsQ0FBQyw0RUFBNEUsRUFBRUUsY0FBYyxFQUFFLENBQUM7SUFFcEc7SUFDQSxJQUFJQSxjQUFjRSxPQUFPLENBQUMsaUJBQWlCLENBQUMsS0FBS0YsY0FBY0UsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUc7UUFDMUY7SUFDRjtJQUNBLElBQUksQ0FBQ0YsY0FBY0csUUFBUSxDQUFDLGtCQUFrQjtRQUM1QyxNQUFNLElBQUlMLE1BQ1IsQ0FBQyxrRUFBa0UsRUFBRUUsY0FBYyxFQUFFLENBQUM7SUFFMUY7QUFDRjtBQUNPLFNBQVNILGVBQWVPLEtBQUs7SUFDbEMsTUFBTUMsV0FBVyxPQUFPRCxVQUFVO0lBQ2xDLE1BQU1FLFlBQVlDLE9BQU9DLGNBQWMsQ0FBQ0o7SUFDeEMsTUFBTUssV0FBV0gsY0FBYyxRQUFRQSxjQUFjQyxPQUFPRCxTQUFTLElBQUkseUdBQXlHO0lBQ2xMLDJDQUEyQztJQUMzQ0EsV0FBV0ksYUFBYUMsU0FBUztJQUNqQyxPQUFPTixZQUFZSTtBQUNyQixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vY29tbW9uL2luZGV4LmpzP2IzMWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcmdzKGFyZ3MpIHtcbiAgaWYgKGFyZ3MgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBpZiAoIWlzU2ltcGxlT2JqZWN0KGFyZ3MpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBhcmd1bWVudHMgdG8gYSBDb252ZXggZnVuY3Rpb24gbXVzdCBiZSBhbiBvYmplY3QuIFJlY2VpdmVkOiAke2FyZ3N9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVEZXBsb3ltZW50VXJsKGRlcGxveW1lbnRVcmwpIHtcbiAgaWYgKHR5cGVvZiBkZXBsb3ltZW50VXJsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENsaWVudCBjcmVhdGVkIHdpdGggdW5kZWZpbmVkIGRlcGxveW1lbnQgYWRkcmVzcy4gSWYgeW91IHVzZWQgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUsIGNoZWNrIHRoYXQgaXQncyBzZXQuYFxuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXBsb3ltZW50VXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBmb3VuZCAke2RlcGxveW1lbnRVcmx9XCIuYFxuICAgICk7XG4gIH1cbiAgaWYgKCEoZGVwbG95bWVudFVybC5zdGFydHNXaXRoKFwiaHR0cDpcIikgfHwgZGVwbG95bWVudFVybC5zdGFydHNXaXRoKFwiaHR0cHM6XCIpKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogTXVzdCBzdGFydCB3aXRoIFwiaHR0cHM6Ly9cIiBvciBcImh0dHA6Ly9cIi4gRm91bmQgXCIke2RlcGxveW1lbnRVcmx9XCIuYFxuICAgICk7XG4gIH1cbiAgaWYgKGRlcGxveW1lbnRVcmwuaW5kZXhPZihcIjEyNy4wLjAuMVwiKSAhPT0gLTEgfHwgZGVwbG95bWVudFVybC5pbmRleE9mKFwibG9jYWxob3N0XCIpICE9PSAtMSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWRlcGxveW1lbnRVcmwuZW5kc1dpdGgoXCIuY29udmV4LmNsb3VkXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBNdXN0IGVuZCB3aXRoIFwiLmNvbnZleC5jbG91ZFwiLiBGb3VuZCBcIiR7ZGVwbG95bWVudFVybH1cIi5gXG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU2ltcGxlT2JqZWN0KHZhbHVlKSB7XG4gIGNvbnN0IGlzT2JqZWN0ID0gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xuICBjb25zdCBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICBjb25zdCBpc1NpbXBsZSA9IHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgLy8gT2JqZWN0cyBnZW5lcmF0ZWQgZnJvbSBvdGhlciBjb250ZXh0cyAoZS5nLiBhY3Jvc3MgTm9kZS5qcyBgdm1gIG1vZHVsZXMpIHdpbGwgbm90IHNhdGlzZnkgdGhlIHByZXZpb3VzXG4gIC8vIGNvbmRpdGlvbnMgYnV0IGFyZSBzdGlsbCBzaW1wbGUgb2JqZWN0cy5cbiAgcHJvdG90eXBlPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gXCJPYmplY3RcIjtcbiAgcmV0dXJuIGlzT2JqZWN0ICYmIGlzU2ltcGxlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsicGFyc2VBcmdzIiwiYXJncyIsImlzU2ltcGxlT2JqZWN0IiwiRXJyb3IiLCJ2YWxpZGF0ZURlcGxveW1lbnRVcmwiLCJkZXBsb3ltZW50VXJsIiwic3RhcnRzV2l0aCIsImluZGV4T2YiLCJlbmRzV2l0aCIsInZhbHVlIiwiaXNPYmplY3QiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImlzU2ltcGxlIiwiY29uc3RydWN0b3IiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/common/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/index.js":
/*!***********************************************!*\
  !*** ./node_modules/convex/dist/esm/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n\nconst version = \"1.9.1\"; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLE1BQU1BLFVBQVUsUUFBUSxDQUMvQixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2luZGV4LmpzP2RhODQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiMS45LjFcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/ConvexAuthState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProviderWithAuth: () => (/* binding */ ConvexProviderWithAuth),\n/* harmony export */   useConvexAuth: () => (/* binding */ useConvexAuth)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\nconst ConvexAuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useConvexAuth() {\n    const authContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConvexAuthContext);\n    if (authContext === void 0) {\n        throw new Error(\"Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.\");\n    }\n    return authContext;\n}\nfunction ConvexProviderWithAuth({ children, client, useAuth }) {\n    const { isLoading, isAuthenticated, fetchAccessToken } = useAuth();\n    const [isConvexAuthenticated, setIsConvexAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isThisEffectRelevant = true;\n        async function setToken() {\n            client.setAuth(fetchAccessToken, (isAuthenticated2)=>{\n                if (isThisEffectRelevant) {\n                    setIsConvexAuthenticated(isAuthenticated2);\n                }\n            });\n        }\n        if (isAuthenticated) {\n            void setToken();\n            return ()=>{\n                isThisEffectRelevant = false;\n                setIsConvexAuthenticated((isConvexAuthenticated2)=>isConvexAuthenticated2 ? false : null);\n                client.clearAuth();\n            };\n        }\n    }, [\n        isAuthenticated,\n        fetchAccessToken,\n        isLoading,\n        client\n    ]);\n    if (isLoading && isConvexAuthenticated !== null) {\n        setIsConvexAuthenticated(null);\n    }\n    if (!isLoading && !isAuthenticated && isConvexAuthenticated !== false) {\n        setIsConvexAuthenticated(false);\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthContext.Provider, {\n        value: {\n            isLoading: isConvexAuthenticated === null,\n            isAuthenticated: isAuthenticated && (isConvexAuthenticated ?? false)\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexProvider, {\n        client\n    }, children));\n} //# sourceMappingURL=ConvexAuthState.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L0NvbnZleEF1dGhTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFNRTtBQUM4QjtBQUM3QyxNQUFNTSxrQ0FBb0JMLG9EQUFhQSxDQUFDLEtBQUs7QUFDdEMsU0FBU007SUFDZCxNQUFNQyxjQUFjTixpREFBVUEsQ0FBQ0k7SUFDL0IsSUFBSUUsZ0JBQWdCLEtBQUssR0FBRztRQUMxQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE9BQU9EO0FBQ1Q7QUFDTyxTQUFTRSx1QkFBdUIsRUFDckNDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1I7SUFDQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsZUFBZSxFQUFFQyxnQkFBZ0IsRUFBRSxHQUFHSDtJQUN6RCxNQUFNLENBQUNJLHVCQUF1QkMseUJBQXlCLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ25FRCxnREFBU0EsQ0FBQztRQUNSLElBQUlnQix1QkFBdUI7UUFDM0IsZUFBZUM7WUFDYlIsT0FBT1MsT0FBTyxDQUFDTCxrQkFBa0IsQ0FBQ007Z0JBQ2hDLElBQUlILHNCQUFzQjtvQkFDeEJELHlCQUF5Qkk7Z0JBQzNCO1lBQ0Y7UUFDRjtRQUNBLElBQUlQLGlCQUFpQjtZQUNuQixLQUFLSztZQUNMLE9BQU87Z0JBQ0xELHVCQUF1QjtnQkFDdkJELHlCQUNFLENBQUNLLHlCQUEyQkEseUJBQXlCLFFBQVE7Z0JBRS9EWCxPQUFPWSxTQUFTO1lBQ2xCO1FBQ0Y7SUFDRixHQUFHO1FBQUNUO1FBQWlCQztRQUFrQkY7UUFBV0Y7S0FBTztJQUN6RCxJQUFJRSxhQUFhRywwQkFBMEIsTUFBTTtRQUMvQ0MseUJBQXlCO0lBQzNCO0lBQ0EsSUFBSSxDQUFDSixhQUFhLENBQUNDLG1CQUFtQkUsMEJBQTBCLE9BQU87UUFDckVDLHlCQUF5QjtJQUMzQjtJQUNBLE9BQU8sYUFBYSxpQkFBR2xCLGdEQUFtQixDQUN4Q00sa0JBQWtCb0IsUUFBUSxFQUMxQjtRQUNFQyxPQUFPO1lBQ0xiLFdBQVdHLDBCQUEwQjtZQUNyQ0YsaUJBQWlCQSxtQkFBb0JFLENBQUFBLHlCQUF5QixLQUFJO1FBQ3BFO0lBQ0YsR0FDQSxhQUFhLGlCQUFHakIsZ0RBQW1CLENBQUNLLHNEQUFjQSxFQUFFO1FBQUVPO0lBQU8sR0FBR0Q7QUFFcEUsRUFDQSwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L0NvbnZleEF1dGhTdGF0ZS5qcz9jYWE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IFJlYWN0LCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlU3RhdGVcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb252ZXhQcm92aWRlciB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuY29uc3QgQ29udmV4QXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udmV4QXV0aCgpIHtcbiAgY29uc3QgYXV0aENvbnRleHQgPSB1c2VDb250ZXh0KENvbnZleEF1dGhDb250ZXh0KTtcbiAgaWYgKGF1dGhDb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGBDb252ZXhQcm92aWRlcldpdGhBdXRoYCAob3IgYENvbnZleFByb3ZpZGVyV2l0aENsZXJrYCBvciBgQ29udmV4UHJvdmlkZXJXaXRoQXV0aDBgKSBhcyBhbiBhbmNlc3RvciBjb21wb25lbnQuIFRoaXMgY29tcG9uZW50IG1heSBiZSBtaXNzaW5nLCBvciB5b3UgbWlnaHQgaGF2ZSB0d28gaW5zdGFuY2VzIG9mIHRoZSBgY29udmV4L3JlYWN0YCBtb2R1bGUgbG9hZGVkIGluIHlvdXIgcHJvamVjdC5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGF1dGhDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIENvbnZleFByb3ZpZGVyV2l0aEF1dGgoe1xuICBjaGlsZHJlbixcbiAgY2xpZW50LFxuICB1c2VBdXRoXG59KSB7XG4gIGNvbnN0IHsgaXNMb2FkaW5nLCBpc0F1dGhlbnRpY2F0ZWQsIGZldGNoQWNjZXNzVG9rZW4gfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW2lzQ29udmV4QXV0aGVudGljYXRlZCwgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlKG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc1RoaXNFZmZlY3RSZWxldmFudCA9IHRydWU7XG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0VG9rZW4oKSB7XG4gICAgICBjbGllbnQuc2V0QXV0aChmZXRjaEFjY2Vzc1Rva2VuLCAoaXNBdXRoZW50aWNhdGVkMikgPT4ge1xuICAgICAgICBpZiAoaXNUaGlzRWZmZWN0UmVsZXZhbnQpIHtcbiAgICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoaXNBdXRoZW50aWNhdGVkMik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB2b2lkIHNldFRva2VuKCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc1RoaXNFZmZlY3RSZWxldmFudCA9IGZhbHNlO1xuICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoXG4gICAgICAgICAgKGlzQ29udmV4QXV0aGVudGljYXRlZDIpID0+IGlzQ29udmV4QXV0aGVudGljYXRlZDIgPyBmYWxzZSA6IG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgY2xpZW50LmNsZWFyQXV0aCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIGZldGNoQWNjZXNzVG9rZW4sIGlzTG9hZGluZywgY2xpZW50XSk7XG4gIGlmIChpc0xvYWRpbmcgJiYgaXNDb252ZXhBdXRoZW50aWNhdGVkICE9PSBudWxsKSB7XG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKG51bGwpO1xuICB9XG4gIGlmICghaXNMb2FkaW5nICYmICFpc0F1dGhlbnRpY2F0ZWQgJiYgaXNDb252ZXhBdXRoZW50aWNhdGVkICE9PSBmYWxzZSkge1xuICAgIHNldElzQ29udmV4QXV0aGVudGljYXRlZChmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIENvbnZleEF1dGhDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGlzTG9hZGluZzogaXNDb252ZXhBdXRoZW50aWNhdGVkID09PSBudWxsLFxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCAmJiAoaXNDb252ZXhBdXRoZW50aWNhdGVkID8/IGZhbHNlKVxuICAgICAgfVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udmV4UHJvdmlkZXIsIHsgY2xpZW50IH0sIGNoaWxkcmVuKVxuICApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udmV4QXV0aFN0YXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkNvbnZleFByb3ZpZGVyIiwiQ29udmV4QXV0aENvbnRleHQiLCJ1c2VDb252ZXhBdXRoIiwiYXV0aENvbnRleHQiLCJFcnJvciIsIkNvbnZleFByb3ZpZGVyV2l0aEF1dGgiLCJjaGlsZHJlbiIsImNsaWVudCIsInVzZUF1dGgiLCJpc0xvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJmZXRjaEFjY2Vzc1Rva2VuIiwiaXNDb252ZXhBdXRoZW50aWNhdGVkIiwic2V0SXNDb252ZXhBdXRoZW50aWNhdGVkIiwiaXNUaGlzRWZmZWN0UmVsZXZhbnQiLCJzZXRUb2tlbiIsInNldEF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQyIiwiaXNDb252ZXhBdXRoZW50aWNhdGVkMiIsImNsZWFyQXV0aCIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js":
/*!************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/auth_helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* binding */ AuthLoading),\n/* harmony export */   Authenticated: () => (/* binding */ Authenticated),\n/* harmony export */   Unauthenticated: () => (/* binding */ Unauthenticated)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n\n\n\nfunction Authenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || !isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction Unauthenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction AuthLoading({ children }) {\n    const { isLoading } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (!isLoading) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n} //# sourceMappingURL=auth_helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2F1dGhfaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ2E7QUFDMkI7QUFDOUMsU0FBU0UsY0FBYyxFQUFFQyxRQUFRLEVBQUU7SUFDeEMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYSxDQUFDQyxpQkFBaUI7UUFDakMsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHTCxnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRTtBQUNPLFNBQVNLLGdCQUFnQixFQUFFTCxRQUFRLEVBQUU7SUFDMUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYUMsaUJBQWlCO1FBQ2hDLE9BQU87SUFDVDtJQUNBLE9BQU8sYUFBYSxpQkFBR0wsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTUc7QUFDbkU7QUFDTyxTQUFTTSxZQUFZLEVBQUVOLFFBQVEsRUFBRTtJQUN0QyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHSCxrRUFBYUE7SUFDbkMsSUFBSSxDQUFDRyxXQUFXO1FBQ2QsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHSixnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRSxFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvYXV0aF9oZWxwZXJzLmpzP2EyZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXhBdXRoIH0gZnJvbSBcIi4vQ29udmV4QXV0aFN0YXRlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gQXV0aGVudGljYXRlZCh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcsIGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQ29udmV4QXV0aCgpO1xuICBpZiAoaXNMb2FkaW5nIHx8ICFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBVbmF1dGhlbnRpY2F0ZWQoeyBjaGlsZHJlbiB9KSB7XG4gIGNvbnN0IHsgaXNMb2FkaW5nLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZUNvbnZleEF1dGgoKTtcbiAgaWYgKGlzTG9hZGluZyB8fCBpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBBdXRoTG9hZGluZyh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcgfSA9IHVzZUNvbnZleEF1dGgoKTtcbiAgaWYgKCFpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGhfaGVscGVycy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnZleEF1dGgiLCJBdXRoZW50aWNhdGVkIiwiY2hpbGRyZW4iLCJpc0xvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJVbmF1dGhlbnRpY2F0ZWQiLCJBdXRoTG9hZGluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/client.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/client.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProvider: () => (/* binding */ ConvexProvider),\n/* harmony export */   ConvexReactClient: () => (/* binding */ ConvexReactClient),\n/* harmony export */   createMutation: () => (/* binding */ createMutation),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useConvex: () => (/* binding */ useConvex),\n/* harmony export */   useMutation: () => (/* binding */ useMutation),\n/* harmony export */   useQuery: () => (/* binding */ useQuery)\n/* harmony export */ });\n/* harmony import */ var _browser_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\n\n\n\n\n\n\n\nif (typeof react__WEBPACK_IMPORTED_MODULE_1__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react' not found\");\n}\nif (typeof react_dom__WEBPACK_IMPORTED_MODULE_3__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react-dom' not found\");\n}\nfunction createMutation(mutationReference, client, update) {\n    function mutation(args) {\n        assertNotAccidentalArgument(args);\n        return client.mutation(mutationReference, args, {\n            optimisticUpdate: update\n        });\n    }\n    mutation.withOptimisticUpdate = function withOptimisticUpdate(optimisticUpdate) {\n        if (update !== void 0) {\n            throw new Error(`Already specified optimistic update for mutation ${(0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)}`);\n        }\n        return createMutation(mutationReference, client, optimisticUpdate);\n    };\n    return mutation;\n}\nfunction createAction(actionReference, client) {\n    return function(args) {\n        return client.action(actionReference, args);\n    };\n}\nclass ConvexReactClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - See {@link ConvexReactClientOptions} for a full description.\n   */ constructor(address, options){\n        this.closed = false;\n        if (typeof address !== \"string\") {\n            throw new Error(\"ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud'.\");\n        }\n        if (!address.includes(\"://\")) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        this.address = address;\n        this.listeners = /* @__PURE__ */ new Map();\n        this.options = {\n            ...options\n        };\n    }\n    /**\n   * Lazily instantiate the `BaseConvexClient` so we don't create the WebSocket\n   * when server-side rendering.\n   *\n   * @internal\n   */ get sync() {\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            return this.cachedSync;\n        }\n        this.cachedSync = new _browser_index_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient(this.address, (updatedQueries)=>this.transition(updatedQueries), this.options);\n        if (this.adminAuth) {\n            this.cachedSync.setAdminAuth(this.adminAuth, this.fakeUserIdentity);\n        }\n        return this.cachedSync;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (typeof fetchToken === \"string\") {\n            throw new Error(\"Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.\");\n        }\n        this.sync.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.sync.clearAuth();\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        this.adminAuth = token;\n        this.fakeUserIdentity = identity;\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            this.sync.setAdminAuth(token, identity);\n        }\n    }\n    /**\n   * Construct a new {@link Watch} on a Convex query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchQueryOptions} options object for this query.\n   *\n   * @returns The {@link Watch} object.\n   */ watchQuery(query, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { queryToken, unsubscribe } = this.sync.subscribe(name, args, options);\n                const currentListeners = this.listeners.get(queryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(queryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(queryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(queryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryResult(name, args);\n                }\n                return void 0;\n            },\n            localQueryLogs: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryLogs(name, args);\n                }\n                return void 0;\n            },\n            journal: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.queryJournal(name, args);\n                }\n                return void 0;\n            }\n        };\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ mutation(mutation, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutation);\n        return this.sync.mutation(name, args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ action(action, ...args) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(action);\n        return this.sync.action(name, ...args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * **Most application code should subscribe to queries instead, using\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ query(query, ...args) {\n        const watch = this.watchQuery(query, ...args);\n        const existingResult = watch.localQueryResult();\n        if (existingResult !== void 0) {\n            return existingResult;\n        }\n        return new Promise((resolve, reject)=>{\n            const unsubscribe = watch.onUpdate(()=>{\n                unsubscribe();\n                try {\n                    resolve(watch.localQueryResult());\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return this.sync.connectionState();\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with a {@link ConvexReactClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.closed = true;\n        this.listeners = /* @__PURE__ */ new Map();\n        if (this.cachedSync) {\n            const sync = this.cachedSync;\n            this.cachedSync = void 0;\n            await sync.close();\n        }\n    }\n    transition(updatedQueries) {\n        react_dom__WEBPACK_IMPORTED_MODULE_3__.unstable_batchedUpdates(()=>{\n            for (const queryToken of updatedQueries){\n                const callbacks = this.listeners.get(queryToken);\n                if (callbacks) {\n                    for (const callback of callbacks){\n                        callback();\n                    }\n                }\n            }\n        });\n    }\n}\nconst ConvexContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction useConvex() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n}\nconst ConvexProvider = ({ client, children })=>{\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(ConvexContext.Provider, {\n        value: client\n    }, children);\n};\nfunction useQuery(query, ...args) {\n    const skip = args[0] === \"skip\";\n    const argsObject = args[0] === \"skip\" ? {} : (0,_common_index_js__WEBPACK_IMPORTED_MODULE_5__.parseArgs)(args[0]);\n    const queryReference = typeof query === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(query) : query;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(queryReference);\n    const queries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>skip ? {} : {\n            query: {\n                query: queryReference,\n                args: argsObject\n            }\n        }, // Stringify args so args that are semantically the same don't trigger a\n    // rerender. Saves developers from adding `useMemo` on every args usage.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)),\n        queryName,\n        skip\n    ]);\n    const results = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_4__.useQueries)(queries);\n    const result = results[\"query\"];\n    if (result instanceof Error) {\n        throw result;\n    }\n    return result;\n}\nfunction useMutation(mutation) {\n    const mutationReference = typeof mutation === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(mutation) : mutation;\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createMutation(mutationReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)\n    ]);\n}\nfunction useAction(action) {\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    const actionReference = typeof action === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(action) : action;\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createAction(actionReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(actionReference)\n    ]);\n}\nfunction assertNotAccidentalArgument(value) {\n    if (typeof value === \"object\" && value !== null && \"bubbles\" in value && \"persist\" in value && \"isDefaultPrevented\" in value) {\n        throw new Error(`Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like \\`const handler = () => myMutation();\\` and using \\`handler\\` in the event handler.`);\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQzBDO0FBQ0o7QUFDRDtBQUNqQjtBQUNhO0FBQ0M7QUFJckI7QUFDMUIsSUFBSSxPQUFPQyxrQ0FBS0EsS0FBSyxhQUFhO0lBQ2hDLE1BQU0sSUFBSVMsTUFBTTtBQUNsQjtBQUNBLElBQUksT0FBT0wsc0NBQVFBLEtBQUssYUFBYTtJQUNuQyxNQUFNLElBQUlLLE1BQU07QUFDbEI7QUFDTyxTQUFTQyxlQUFlQyxpQkFBaUIsRUFBRUMsTUFBTSxFQUFFQyxNQUFNO0lBQzlELFNBQVNDLFNBQVNDLElBQUk7UUFDcEJDLDRCQUE0QkQ7UUFDNUIsT0FBT0gsT0FBT0UsUUFBUSxDQUFDSCxtQkFBbUJJLE1BQU07WUFDOUNFLGtCQUFrQko7UUFDcEI7SUFDRjtJQUNBQyxTQUFTSSxvQkFBb0IsR0FBRyxTQUFTQSxxQkFBcUJELGdCQUFnQjtRQUM1RSxJQUFJSixXQUFXLEtBQUssR0FBRztZQUNyQixNQUFNLElBQUlKLE1BQ1IsQ0FBQyxpREFBaUQsRUFBRUYsK0RBQWVBLENBQ2pFSSxtQkFDQSxDQUFDO1FBRVA7UUFDQSxPQUFPRCxlQUFlQyxtQkFBbUJDLFFBQVFLO0lBQ25EO0lBQ0EsT0FBT0g7QUFDVDtBQUNBLFNBQVNLLGFBQWFDLGVBQWUsRUFBRVIsTUFBTTtJQUMzQyxPQUFPLFNBQVNHLElBQUk7UUFDbEIsT0FBT0gsT0FBT1MsTUFBTSxDQUFDRCxpQkFBaUJMO0lBQ3hDO0FBQ0Y7QUFDTyxNQUFNTztJQUNYOzs7O0dBSUMsR0FDREMsWUFBWUMsT0FBTyxFQUFFQyxPQUFPLENBQUU7UUFDNUIsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLE9BQU9GLFlBQVksVUFBVTtZQUMvQixNQUFNLElBQUlmLE1BQ1I7UUFFSjtRQUNBLElBQUksQ0FBQ2UsUUFBUUcsUUFBUSxDQUFDLFFBQVE7WUFDNUIs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QUMxQixNQUFNdEQsa0JBQWtCLE9BQU9DLFdBQVcsV0FBV2IscUVBQXFCQSxDQUFDYSxVQUFVQTtJQUNyRixJQUFJd0UsV0FBVyxLQUFLLEdBQUc7UUFDckIsTUFBTSxJQUFJcEYsTUFDUjtJQUVKO0lBQ0EsT0FBT1AsOENBQU9BLENBQ1osSUFBTWlCLGFBQWFDLGlCQUFpQnlFLFNBQ3BDLHVEQUF1RDtJQUN2RDtRQUFDQTtRQUFRdEYsK0RBQWVBLENBQUNhO0tBQWlCO0FBRTlDO0FBQ0EsU0FBU0osNEJBQTRCaUUsS0FBSztJQUN4QyxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFRLGFBQWFBLFNBQVMsYUFBYUEsU0FBUyx3QkFBd0JBLE9BQU87UUFDNUgsTUFBTSxJQUFJeEUsTUFDUixDQUFDLHdXQUF3VyxDQUFDO0lBRTlXO0FBQ0YsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2NsaWVudC5qcz9iM2Y3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQmFzZUNvbnZleENsaWVudCB9IGZyb20gXCIuLi9icm93c2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lLFxuICBtYWtlRnVuY3Rpb25SZWZlcmVuY2Vcbn0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmlmICh0eXBlb2YgUmVhY3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgZGVwZW5kZW5jeSAncmVhY3QnIG5vdCBmb3VuZFwiKTtcbn1cbmlmICh0eXBlb2YgUmVhY3RET00gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgZGVwZW5kZW5jeSAncmVhY3QtZG9tJyBub3QgZm91bmRcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXV0YXRpb24obXV0YXRpb25SZWZlcmVuY2UsIGNsaWVudCwgdXBkYXRlKSB7XG4gIGZ1bmN0aW9uIG11dGF0aW9uKGFyZ3MpIHtcbiAgICBhc3NlcnROb3RBY2NpZGVudGFsQXJndW1lbnQoYXJncyk7XG4gICAgcmV0dXJuIGNsaWVudC5tdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgYXJncywge1xuICAgICAgb3B0aW1pc3RpY1VwZGF0ZTogdXBkYXRlXG4gICAgfSk7XG4gIH1cbiAgbXV0YXRpb24ud2l0aE9wdGltaXN0aWNVcGRhdGUgPSBmdW5jdGlvbiB3aXRoT3B0aW1pc3RpY1VwZGF0ZShvcHRpbWlzdGljVXBkYXRlKSB7XG4gICAgaWYgKHVwZGF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBbHJlYWR5IHNwZWNpZmllZCBvcHRpbWlzdGljIHVwZGF0ZSBmb3IgbXV0YXRpb24gJHtnZXRGdW5jdGlvbk5hbWUoXG4gICAgICAgICAgbXV0YXRpb25SZWZlcmVuY2VcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlTXV0YXRpb24obXV0YXRpb25SZWZlcmVuY2UsIGNsaWVudCwgb3B0aW1pc3RpY1VwZGF0ZSk7XG4gIH07XG4gIHJldHVybiBtdXRhdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbihhY3Rpb25SZWZlcmVuY2UsIGNsaWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBjbGllbnQuYWN0aW9uKGFjdGlvblJlZmVyZW5jZSwgYXJncyk7XG4gIH07XG59XG5leHBvcnQgY2xhc3MgQ29udmV4UmVhY3RDbGllbnQge1xuICAvKipcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgdXJsIG9mIHlvdXIgQ29udmV4IGRlcGxveW1lbnQsIG9mdGVuIHByb3ZpZGVkXG4gICAqIGJ5IGFuIGVudmlyb25tZW50IHZhcmlhYmxlLiBFLmcuIGBodHRwczovL3NtYWxsLW1vdXNlLTEyMy5jb252ZXguY2xvdWRgLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnRPcHRpb25zfSBmb3IgYSBmdWxsIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb3B0aW9ucykge1xuICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQ29udmV4UmVhY3RDbGllbnQgcmVxdWlyZXMgYSBVUkwgbGlrZSAnaHR0cHM6Ly9oYXBweS1vdHRlci0xMjMuY29udmV4LmNsb3VkJy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFhZGRyZXNzLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCBhZGRyZXNzIHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMLlwiKTtcbiAgICB9XG4gICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gIH1cbiAgLyoqXG4gICAqIExhemlseSBpbnN0YW50aWF0ZSB0aGUgYEJhc2VDb252ZXhDbGllbnRgIHNvIHdlIGRvbid0IGNyZWF0ZSB0aGUgV2ViU29ja2V0XG4gICAqIHdoZW4gc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBzeW5jKCkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4UmVhY3RDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQuXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRTeW5jO1xuICAgIH1cbiAgICB0aGlzLmNhY2hlZFN5bmMgPSBuZXcgQmFzZUNvbnZleENsaWVudChcbiAgICAgIHRoaXMuYWRkcmVzcyxcbiAgICAgICh1cGRhdGVkUXVlcmllcykgPT4gdGhpcy50cmFuc2l0aW9uKHVwZGF0ZWRRdWVyaWVzKSxcbiAgICAgIHRoaXMub3B0aW9uc1xuICAgICk7XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICB0aGlzLmNhY2hlZFN5bmMuc2V0QWRtaW5BdXRoKHRoaXMuYWRtaW5BdXRoLCB0aGlzLmZha2VVc2VySWRlbnRpdHkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWNoZWRTeW5jO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlblxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpIHtcbiAgICBpZiAodHlwZW9mIGZldGNoVG9rZW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJQYXNzaW5nIGEgc3RyaW5nIHRvIENvbnZleFJlYWN0Q2xpZW50LnNldEF1dGggaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCwgcGxlYXNlIHVwZ3JhZGUgdG8gcGFzc2luZyBpbiBhbiBhc3luYyBmdW5jdGlvbiB0byBoYW5kbGUgcmVhdXRoZW50aWNhdGlvbi5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zeW5jLnNldEF1dGgoXG4gICAgICBmZXRjaFRva2VuLFxuICAgICAgb25DaGFuZ2UgPz8gKCgpID0+IHtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW4gaWYgc2V0LlxuICAgKi9cbiAgY2xlYXJBdXRoKCkge1xuICAgIHRoaXMuc3luYy5jbGVhckF1dGgoKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRBZG1pbkF1dGgodG9rZW4sIGlkZW50aXR5KSB7XG4gICAgdGhpcy5hZG1pbkF1dGggPSB0b2tlbjtcbiAgICB0aGlzLmZha2VVc2VySWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleFJlYWN0Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgdGhpcy5zeW5jLnNldEFkbWluQXV0aCh0b2tlbiwgaWRlbnRpdHkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBXYXRjaH0gb24gYSBDb252ZXggcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqICoqTW9zdCBhcHBsaWNhdGlvbiBjb2RlIHNob3VsZCBub3QgY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gSW5zdGVhZCB1c2VcbiAgICogdGhlIHtAbGluayB1c2VRdWVyeX0gaG9vay4qKlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5IHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgV2F0Y2hRdWVyeU9wdGlvbnN9IG9wdGlvbnMgb2JqZWN0IGZvciB0aGlzIHF1ZXJ5LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIFdhdGNofSBvYmplY3QuXG4gICAqL1xuICB3YXRjaFF1ZXJ5KHF1ZXJ5LCAuLi5hcmdzQW5kT3B0aW9ucykge1xuICAgIGNvbnN0IFthcmdzLCBvcHRpb25zXSA9IGFyZ3NBbmRPcHRpb25zO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgIHJldHVybiB7XG4gICAgICBvblVwZGF0ZTogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnlUb2tlbiwgdW5zdWJzY3JpYmUgfSA9IHRoaXMuc3luYy5zdWJzY3JpYmUoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBhcmdzLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY3VycmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChxdWVyeVRva2VuKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMaXN0ZW5lcnMgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5zZXQocXVlcnlUb2tlbiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW2NhbGxiYWNrXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRMaXN0ZW5lcnMyID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnMyLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRMaXN0ZW5lcnMyLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShxdWVyeVRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBsb2NhbFF1ZXJ5UmVzdWx0OiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRTeW5jLmxvY2FsUXVlcnlSZXN1bHQobmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBsb2NhbFF1ZXJ5TG9nczogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYy5sb2NhbFF1ZXJ5TG9ncyhuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIGpvdXJuYWw6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMucXVlcnlKb3VybmFsKG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb24gLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIG11dGF0aW9uXG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgTXV0YXRpb25PcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgbXV0YXRpb24obXV0YXRpb24sIC4uLmFyZ3NBbmRPcHRpb25zKSB7XG4gICAgY29uc3QgW2FyZ3MsIG9wdGlvbnNdID0gYXJnc0FuZE9wdGlvbnM7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShtdXRhdGlvbik7XG4gICAgcmV0dXJuIHRoaXMuc3luYy5tdXRhdGlvbihuYW1lLCBhcmdzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhbiBhY3Rpb24gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIGFjdGlvblxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGFjdGlvbi4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBhY3Rpb24ncyByZXN1bHQuXG4gICAqL1xuICBhY3Rpb24oYWN0aW9uLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShhY3Rpb24pO1xuICAgIHJldHVybiB0aGlzLnN5bmMuYWN0aW9uKG5hbWUsIC4uLmFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHF1ZXJ5IHJlc3VsdCBvbmNlLlxuICAgKlxuICAgKiAqKk1vc3QgYXBwbGljYXRpb24gY29kZSBzaG91bGQgc3Vic2NyaWJlIHRvIHF1ZXJpZXMgaW5zdGVhZCwgdXNpbmdcbiAgICogdGhlIHtAbGluayB1c2VRdWVyeX0gaG9vay4qKlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5XG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBxdWVyeShxdWVyeSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhdGNoID0gdGhpcy53YXRjaFF1ZXJ5KHF1ZXJ5LCAuLi5hcmdzKTtcbiAgICBjb25zdCBleGlzdGluZ1Jlc3VsdCA9IHdhdGNoLmxvY2FsUXVlcnlSZXN1bHQoKTtcbiAgICBpZiAoZXhpc3RpbmdSZXN1bHQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nUmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzb2x2ZSh3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGJldHdlZW4gdGhlIGNsaWVudCBhbmQgdGhlIENvbnZleFxuICAgKiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gd2l0aCB0aGUgQ29udmV4IGJhY2tlbmQuXG4gICAqL1xuICBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3luYy5jb25uZWN0aW9uU3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgYW55IG5ldHdvcmsgaGFuZGxlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGllbnQgYW5kIHN0b3AgYWxsIHN1YnNjcmlwdGlvbnMuXG4gICAqXG4gICAqIENhbGwgdGhpcyBtZXRob2Qgd2hlbiB5b3UncmUgZG9uZSB3aXRoIGEge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50fSB0b1xuICAgKiBkaXNwb3NlIG9mIGl0cyBzb2NrZXRzIGFuZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgYFByb21pc2VgIGZ1bGZpbGxlZCB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIGNvbXBsZXRlbHkgY2xvc2VkLlxuICAgKi9cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICBjb25zdCBzeW5jID0gdGhpcy5jYWNoZWRTeW5jO1xuICAgICAgdGhpcy5jYWNoZWRTeW5jID0gdm9pZCAwO1xuICAgICAgYXdhaXQgc3luYy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICB0cmFuc2l0aW9uKHVwZGF0ZWRRdWVyaWVzKSB7XG4gICAgUmVhY3RET00udW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBxdWVyeVRva2VuIG9mIHVwZGF0ZWRRdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChxdWVyeVRva2VuKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5jb25zdCBDb252ZXhDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgdm9pZCAwXG4gIC8vIGluIHRoZSBmdXR1cmUgdGhpcyB3aWxsIGJlIGEgbW9ja2VkIGNsaWVudCBmb3IgdGVzdGluZ1xuKTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VDb252ZXgoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KENvbnZleENvbnRleHQpO1xufVxuZXhwb3J0IGNvbnN0IENvbnZleFByb3ZpZGVyID0gKHsgY2xpZW50LCBjaGlsZHJlbiB9KSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIENvbnZleENvbnRleHQuUHJvdmlkZXIsXG4gICAgeyB2YWx1ZTogY2xpZW50IH0sXG4gICAgY2hpbGRyZW5cbiAgKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgY29uc3Qgc2tpcCA9IGFyZ3NbMF0gPT09IFwic2tpcFwiO1xuICBjb25zdCBhcmdzT2JqZWN0ID0gYXJnc1swXSA9PT0gXCJza2lwXCIgPyB7fSA6IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgY29uc3QgcXVlcnlSZWZlcmVuY2UgPSB0eXBlb2YgcXVlcnkgPT09IFwic3RyaW5nXCIgPyBtYWtlRnVuY3Rpb25SZWZlcmVuY2UocXVlcnkpIDogcXVlcnk7XG4gIGNvbnN0IHF1ZXJ5TmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeVJlZmVyZW5jZSk7XG4gIGNvbnN0IHF1ZXJpZXMgPSB1c2VNZW1vKFxuICAgICgpID0+IHNraXAgPyB7fSA6IHsgcXVlcnk6IHsgcXVlcnk6IHF1ZXJ5UmVmZXJlbmNlLCBhcmdzOiBhcmdzT2JqZWN0IH0gfSxcbiAgICAvLyBTdHJpbmdpZnkgYXJncyBzbyBhcmdzIHRoYXQgYXJlIHNlbWFudGljYWxseSB0aGUgc2FtZSBkb24ndCB0cmlnZ2VyIGFcbiAgICAvLyByZXJlbmRlci4gU2F2ZXMgZGV2ZWxvcGVycyBmcm9tIGFkZGluZyBgdXNlTWVtb2Agb24gZXZlcnkgYXJncyB1c2FnZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW0pTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0KSksIHF1ZXJ5TmFtZSwgc2tpcF1cbiAgKTtcbiAgY29uc3QgcmVzdWx0cyA9IHVzZVF1ZXJpZXMocXVlcmllcyk7XG4gIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbXCJxdWVyeVwiXTtcbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgdGhyb3cgcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgY29uc3QgbXV0YXRpb25SZWZlcmVuY2UgPSB0eXBlb2YgbXV0YXRpb24gPT09IFwic3RyaW5nXCIgPyBtYWtlRnVuY3Rpb25SZWZlcmVuY2UobXV0YXRpb24pIDogbXV0YXRpb247XG4gIGNvbnN0IGNvbnZleCA9IHVzZUNvbnRleHQoQ29udmV4Q29udGV4dCk7XG4gIGlmIChjb252ZXggPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgQ29udmV4IGNsaWVudCEgYHVzZU11dGF0aW9uYCBtdXN0IGJlIHVzZWQgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY29udmV4KSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW2NvbnZleCwgZ2V0RnVuY3Rpb25OYW1lKG11dGF0aW9uUmVmZXJlbmNlKV1cbiAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VBY3Rpb24oYWN0aW9uKSB7XG4gIGNvbnN0IGNvbnZleCA9IHVzZUNvbnRleHQoQ29udmV4Q29udGV4dCk7XG4gIGNvbnN0IGFjdGlvblJlZmVyZW5jZSA9IHR5cGVvZiBhY3Rpb24gPT09IFwic3RyaW5nXCIgPyBtYWtlRnVuY3Rpb25SZWZlcmVuY2UoYWN0aW9uKSA6IGFjdGlvbjtcbiAgaWYgKGNvbnZleCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBDb252ZXggY2xpZW50ISBgdXNlQWN0aW9uYCBtdXN0IGJlIHVzZWQgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVBY3Rpb24oYWN0aW9uUmVmZXJlbmNlLCBjb252ZXgpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbY29udmV4LCBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uUmVmZXJlbmNlKV1cbiAgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydE5vdEFjY2lkZW50YWxBcmd1bWVudCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIFwiYnViYmxlc1wiIGluIHZhbHVlICYmIFwicGVyc2lzdFwiIGluIHZhbHVlICYmIFwiaXNEZWZhdWx0UHJldmVudGVkXCIgaW4gdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ29udmV4IGZ1bmN0aW9uIGNhbGxlZCB3aXRoIFN5bnRoZXRpY0V2ZW50IG9iamVjdC4gRGlkIHlvdSB1c2UgYSBDb252ZXggZnVuY3Rpb24gYXMgYW4gZXZlbnQgaGFuZGxlciBkaXJlY3RseT8gRXZlbnQgaGFuZGxlcnMgbGlrZSBvbkNsaWNrIHJlY2VpdmUgYW4gZXZlbnQgb2JqZWN0IGFzIHRoZWlyIGZpcnN0IGFyZ3VtZW50LiBUaGVzZSBTeW50aGV0aWNFdmVudCBvYmplY3RzIGFyZSBub3QgdmFsaWQgQ29udmV4IHZhbHVlcy4gVHJ5IHdyYXBwaW5nIHRoZSBmdW5jdGlvbiBsaWtlIFxcYGNvbnN0IGhhbmRsZXIgPSAoKSA9PiBteU11dGF0aW9uKCk7XFxgIGFuZCB1c2luZyBcXGBoYW5kbGVyXFxgIGluIHRoZSBldmVudCBoYW5kbGVyLmBcbiAgICApO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZUNvbnZleENsaWVudCIsIlJlYWN0IiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJjb252ZXhUb0pzb24iLCJSZWFjdERPTSIsInVzZVF1ZXJpZXMiLCJwYXJzZUFyZ3MiLCJnZXRGdW5jdGlvbk5hbWUiLCJtYWtlRnVuY3Rpb25SZWZlcmVuY2UiLCJFcnJvciIsImNyZWF0ZU11dGF0aW9uIiwibXV0YXRpb25SZWZlcmVuY2UiLCJjbGllbnQiLCJ1cGRhdGUiLCJtdXRhdGlvbiIsImFyZ3MiLCJhc3NlcnROb3RBY2NpZGVudGFsQXJndW1lbnQiLCJvcHRpbWlzdGljVXBkYXRlIiwid2l0aE9wdGltaXN0aWNVcGRhdGUiLCJjcmVhdGVBY3Rpb24iLCJhY3Rpb25SZWZlcmVuY2UiLCJhY3Rpb24iLCJDb252ZXhSZWFjdENsaWVudCIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsIm9wdGlvbnMiLCJjbG9zZWQiLCJpbmNsdWRlcyIsImxpc3RlbmVycyIsIk1hcCIsInN5bmMiLCJjYWNoZWRTeW5jIiwidXBkYXRlZFF1ZXJpZXMiLCJ0cmFuc2l0aW9uIiwiYWRtaW5BdXRoIiwic2V0QWRtaW5BdXRoIiwiZmFrZVVzZXJJZGVudGl0eSIsInNldEF1dGgiLCJmZXRjaFRva2VuIiwib25DaGFuZ2UiLCJjbGVhckF1dGgiLCJ0b2tlbiIsImlkZW50aXR5Iiwid2F0Y2hRdWVyeSIsInF1ZXJ5IiwiYXJnc0FuZE9wdGlvbnMiLCJuYW1lIiwib25VcGRhdGUiLCJjYWxsYmFjayIsInF1ZXJ5VG9rZW4iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZSIsImN1cnJlbnRMaXN0ZW5lcnMiLCJnZXQiLCJhZGQiLCJzZXQiLCJTZXQiLCJjdXJyZW50TGlzdGVuZXJzMiIsImRlbGV0ZSIsInNpemUiLCJsb2NhbFF1ZXJ5UmVzdWx0IiwibG9jYWxRdWVyeUxvZ3MiLCJqb3VybmFsIiwicXVlcnlKb3VybmFsIiwid2F0Y2giLCJleGlzdGluZ1Jlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZSIsImNvbm5lY3Rpb25TdGF0ZSIsImNsb3NlIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJjYWxsYmFja3MiLCJDb252ZXhDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnZleCIsIkNvbnZleFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZVF1ZXJ5Iiwic2tpcCIsImFyZ3NPYmplY3QiLCJxdWVyeVJlZmVyZW5jZSIsInF1ZXJ5TmFtZSIsInF1ZXJpZXMiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0cyIsInJlc3VsdCIsInVzZU11dGF0aW9uIiwiY29udmV4IiwidXNlQWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/hydration.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/hydration.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePreloadedQuery: () => (/* binding */ usePreloadedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../react/client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\n\n\n\nfunction usePreloadedQuery(preloadedQuery) {\n    const args = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._argsJSON), [\n        preloadedQuery._argsJSON\n    ]);\n    const preloadedResult = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._valueJSON), [\n        preloadedQuery._valueJSON\n    ]);\n    const result = (0,_react_client_js__WEBPACK_IMPORTED_MODULE_1__.useQuery)((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.makeFunctionReference)(preloadedQuery._name), args);\n    return result === void 0 ? preloadedResult : result;\n} //# sourceMappingURL=hydration.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2h5ZHJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ21CO0FBQ2M7QUFDVztBQUNQO0FBQzNDLFNBQVNJLGtCQUFrQkMsY0FBYztJQUM5QyxNQUFNQyxPQUFPTiw4Q0FBT0EsQ0FDbEIsSUFBTUcsOERBQVlBLENBQUNFLGVBQWVFLFNBQVMsR0FDM0M7UUFBQ0YsZUFBZUUsU0FBUztLQUFDO0lBRTVCLE1BQU1DLGtCQUFrQlIsOENBQU9BLENBQzdCLElBQU1HLDhEQUFZQSxDQUFDRSxlQUFlSSxVQUFVLEdBQzVDO1FBQUNKLGVBQWVJLFVBQVU7S0FBQztJQUU3QixNQUFNQyxTQUFTVCwwREFBUUEsQ0FDckJDLHFFQUFxQkEsQ0FBQ0csZUFBZU0sS0FBSyxHQUMxQ0w7SUFFRixPQUFPSSxXQUFXLEtBQUssSUFBSUYsa0JBQWtCRTtBQUMvQyxFQUNBLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvaHlkcmF0aW9uLmpzPzgyMTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gXCIuLi9yZWFjdC9jbGllbnQuanNcIjtcbmltcG9ydCB7IG1ha2VGdW5jdGlvblJlZmVyZW5jZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlUHJlbG9hZGVkUXVlcnkocHJlbG9hZGVkUXVlcnkpIHtcbiAgY29uc3QgYXJncyA9IHVzZU1lbW8oXG4gICAgKCkgPT4ganNvblRvQ29udmV4KHByZWxvYWRlZFF1ZXJ5Ll9hcmdzSlNPTiksXG4gICAgW3ByZWxvYWRlZFF1ZXJ5Ll9hcmdzSlNPTl1cbiAgKTtcbiAgY29uc3QgcHJlbG9hZGVkUmVzdWx0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiBqc29uVG9Db252ZXgocHJlbG9hZGVkUXVlcnkuX3ZhbHVlSlNPTiksXG4gICAgW3ByZWxvYWRlZFF1ZXJ5Ll92YWx1ZUpTT05dXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVF1ZXJ5KFxuICAgIG1ha2VGdW5jdGlvblJlZmVyZW5jZShwcmVsb2FkZWRRdWVyeS5fbmFtZSksXG4gICAgYXJnc1xuICApO1xuICByZXR1cm4gcmVzdWx0ID09PSB2b2lkIDAgPyBwcmVsb2FkZWRSZXN1bHQgOiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oeWRyYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVF1ZXJ5IiwibWFrZUZ1bmN0aW9uUmVmZXJlbmNlIiwianNvblRvQ29udmV4IiwidXNlUHJlbG9hZGVkUXVlcnkiLCJwcmVsb2FkZWRRdWVyeSIsImFyZ3MiLCJfYXJnc0pTT04iLCJwcmVsb2FkZWRSZXN1bHQiLCJfdmFsdWVKU09OIiwicmVzdWx0IiwiX25hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/hydration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.AuthLoading),\n/* harmony export */   Authenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.Authenticated),\n/* harmony export */   ConvexProvider: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.ConvexProvider),\n/* harmony export */   ConvexProviderWithAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__.ConvexProviderWithAuth),\n/* harmony export */   ConvexReactClient: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.ConvexReactClient),\n/* harmony export */   Unauthenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.Unauthenticated),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   resetPaginationId: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.resetPaginationId),\n/* harmony export */   useAction: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useAction),\n/* harmony export */   useConvex: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useConvex),\n/* harmony export */   useConvexAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__.useConvexAuth),\n/* harmony export */   useMutation: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useMutation),\n/* harmony export */   usePaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQuery),\n/* harmony export */   usePreloadedQuery: () => (/* reexport safe */ _hydration_js__WEBPACK_IMPORTED_MODULE_4__.usePreloadedQuery),\n/* harmony export */   useQueries: () => (/* reexport safe */ _use_queries_js__WEBPACK_IMPORTED_MODULE_1__.useQueries),\n/* harmony export */   useQuery: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useQuery),\n/* harmony export */   useSubscription: () => (/* reexport safe */ _use_subscription_js__WEBPACK_IMPORTED_MODULE_5__.useSubscription)\n/* harmony export */ });\n/* harmony import */ var _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use_paginated_query.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth_helpers.js */ \"(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n/* harmony import */ var _hydration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hydration.js */ \"(ssr)/./node_modules/convex/dist/esm/react/hydration.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQzRCO0FBQ0s7QUFDWjtBQUNHO0FBQ047QUFDeUI7QUFRbkMsQ0FDckIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9pbmRleC5qcz8zNTViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdXNlX3BhZ2luYXRlZF9xdWVyeS5qc1wiO1xuZXhwb3J0IHsgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9hdXRoX2hlbHBlcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0NvbnZleEF1dGhTdGF0ZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vaHlkcmF0aW9uLmpzXCI7XG5leHBvcnQgeyB1c2VTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi91c2Vfc3Vic2NyaXB0aW9uLmpzXCI7XG5leHBvcnQge1xuICBDb252ZXhSZWFjdENsaWVudCxcbiAgdXNlQ29udmV4LFxuICBDb252ZXhQcm92aWRlcixcbiAgdXNlUXVlcnksXG4gIHVzZU11dGF0aW9uLFxuICB1c2VBY3Rpb25cbn0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VRdWVyaWVzIiwidXNlU3Vic2NyaXB0aW9uIiwiQ29udmV4UmVhY3RDbGllbnQiLCJ1c2VDb252ZXgiLCJDb252ZXhQcm92aWRlciIsInVzZVF1ZXJ5IiwidXNlTXV0YXRpb24iLCJ1c2VBY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/queries_observer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueriesObserver: () => (/* binding */ QueriesObserver)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\n\n\nclass QueriesObserver {\n    constructor(createWatch){\n        this.createWatch = createWatch;\n        this.queries = {};\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    setQueries(newQueries) {\n        for (const identifier of Object.keys(newQueries)){\n            const { query, args } = newQueries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            if (this.queries[identifier] === void 0) {\n                this.addQuery(identifier, query, args);\n            } else {\n                const existingInfo = this.queries[identifier];\n                if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(existingInfo.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(existingInfo.args))) {\n                    this.removeQuery(identifier);\n                    this.addQuery(identifier, query, args);\n                }\n            }\n        }\n        for (const identifier of Object.keys(this.queries)){\n            if (newQueries[identifier] === void 0) {\n                this.removeQuery(identifier);\n            }\n        }\n    }\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return ()=>{\n            this.listeners.delete(listener);\n        };\n    }\n    getLocalResults(queries) {\n        const result = {};\n        for (const identifier of Object.keys(queries)){\n            const { query, args } = queries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            const watch = this.createWatch(query, args);\n            let value;\n            try {\n                value = watch.localQueryResult();\n            } catch (e) {\n                if (e instanceof Error) {\n                    value = e;\n                } else {\n                    throw e;\n                }\n            }\n            result[identifier] = value;\n        }\n        return result;\n    }\n    setCreateWatch(createWatch) {\n        this.createWatch = createWatch;\n        for (const identifier of Object.keys(this.queries)){\n            const { query, args, watch } = this.queries[identifier];\n            const journal = watch.journal();\n            this.removeQuery(identifier);\n            this.addQuery(identifier, query, args, journal);\n        }\n    }\n    destroy() {\n        for (const identifier of Object.keys(this.queries)){\n            this.removeQuery(identifier);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    addQuery(identifier, query, args, journal) {\n        if (this.queries[identifier] !== void 0) {\n            throw new Error(`Tried to add a new query with identifier ${identifier} when it already exists.`);\n        }\n        const watch = this.createWatch(query, args, journal);\n        const unsubscribe = watch.onUpdate(()=>this.notifyListeners());\n        this.queries[identifier] = {\n            query,\n            args,\n            watch,\n            unsubscribe\n        };\n    }\n    removeQuery(identifier) {\n        const info = this.queries[identifier];\n        if (info === void 0) {\n            throw new Error(`No query found with identifier ${identifier}.`);\n        }\n        info.unsubscribe();\n        delete this.queries[identifier];\n    }\n    notifyListeners() {\n        for (const listener of this.listeners){\n            listener();\n        }\n    }\n} //# sourceMappingURL=queries_observer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDcUM7QUFDQztBQUM1QyxNQUFNRTtJQUNYQyxZQUFZQyxXQUFXLENBQUU7UUFDdkIsSUFBSSxDQUFDQSxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ0MsT0FBTyxHQUFHLENBQUM7UUFDaEIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsYUFBYSxHQUFHLElBQUlDO0lBQ3ZDO0lBQ0FDLFdBQVdDLFVBQVUsRUFBRTtRQUNyQixLQUFLLE1BQU1DLGNBQWNDLE9BQU9DLElBQUksQ0FBQ0gsWUFBYTtZQUNoRCxNQUFNLEVBQUVJLEtBQUssRUFBRUMsSUFBSSxFQUFFLEdBQUdMLFVBQVUsQ0FBQ0MsV0FBVztZQUM5Q1QsK0RBQWVBLENBQUNZO1lBQ2hCLElBQUksSUFBSSxDQUFDUixPQUFPLENBQUNLLFdBQVcsS0FBSyxLQUFLLEdBQUc7Z0JBQ3ZDLElBQUksQ0FBQ0ssUUFBUSxDQUFDTCxZQUFZRyxPQUFPQztZQUNuQyxPQUFPO2dCQUNMLE1BQU1FLGVBQWUsSUFBSSxDQUFDWCxPQUFPLENBQUNLLFdBQVc7Z0JBQzdDLElBQUlULCtEQUFlQSxDQUFDWSxXQUFXWiwrREFBZUEsQ0FBQ2UsYUFBYUgsS0FBSyxLQUFLSSxLQUFLQyxTQUFTLENBQUNsQiw4REFBWUEsQ0FBQ2MsV0FBV0csS0FBS0MsU0FBUyxDQUFDbEIsOERBQVlBLENBQUNnQixhQUFhRixJQUFJLElBQUk7b0JBQzVKLElBQUksQ0FBQ0ssV0FBVyxDQUFDVDtvQkFDakIsSUFBSSxDQUFDSyxRQUFRLENBQUNMLFlBQVlHLE9BQU9DO2dCQUNuQztZQUNGO1FBQ0Y7UUFDQSxLQUFLLE1BQU1KLGNBQWNDLE9BQU9DLElBQUksQ0FBQyxJQUFJLENBQUNQLE9BQU8sRUFBRztZQUNsRCxJQUFJSSxVQUFVLENBQUNDLFdBQVcsS0FBSyxLQUFLLEdBQUc7Z0JBQ3JDLElBQUksQ0FBQ1MsV0FBVyxDQUFDVDtZQUNuQjtRQUNGO0lBQ0Y7SUFDQVUsVUFBVUMsUUFBUSxFQUFFO1FBQ2xCLElBQUksQ0FBQ2YsU0FBUyxDQUFDZ0IsR0FBRyxDQUFDRDtRQUNuQixPQUFPO1lBQ0wsSUFBSSxDQUFDZixTQUFTLENBQUNpQixNQUFNLENBQUNGO1FBQ3hCO0lBQ0Y7SUFDQUcsZ0JBQWdCbkIsT0FBTyxFQUFFO1FBQ3ZCLE1BQU1vQixTQUFTLENBQUM7UUFDaEIsS0FBSyxNQUFNZixjQUFjQyxPQUFPQyxJQUFJLENBQUNQLFNBQVU7WUFDN0MsTUFBTSxFQUFFUSxLQUFLLEVBQUVDLElBQUksRUFBRSxHQUFHVCxPQUFPLENBQUNLLFdBQVc7WUFDM0NULCtEQUFlQSxDQUFDWTtZQUNoQixNQUFNYSxRQUFRLElBQUksQ0FBQ3RCLFdBQVcsQ0FBQ1MsT0FBT0M7WUFDdEMsSUFBSWE7WUFDSixJQUFJO2dCQUNGQSxRQUFRRCxNQUFNRSxnQkFBZ0I7WUFDaEMsRUFBRSxPQUFPQyxHQUFHO2dCQUNWLElBQUlBLGFBQWFDLE9BQU87b0JBQ3RCSCxRQUFRRTtnQkFDVixPQUFPO29CQUNMLE1BQU1BO2dCQUNSO1lBQ0Y7WUFDQUosTUFBTSxDQUFDZixXQUFXLEdBQUdpQjtRQUN2QjtRQUNBLE9BQU9GO0lBQ1Q7SUFDQU0sZUFBZTNCLFdBQVcsRUFBRTtRQUMxQixJQUFJLENBQUNBLFdBQVcsR0FBR0E7UUFDbkIsS0FBSyxNQUFNTSxjQUFjQyxPQUFPQyxJQUFJLENBQUMsSUFBSSxDQUFDUCxPQUFPLEVBQUc7WUFDbEQsTUFBTSxFQUFFUSxLQUFLLEVBQUVDLElBQUksRUFBRVksS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDckIsT0FBTyxDQUFDSyxXQUFXO1lBQ3ZELE1BQU1zQixVQUFVTixNQUFNTSxPQUFPO1lBQzdCLElBQUksQ0FBQ2IsV0FBVyxDQUFDVDtZQUNqQixJQUFJLENBQUNLLFFBQVEsQ0FBQ0wsWUFBWUcsT0FBT0MsTUFBTWtCO1FBQ3pDO0lBQ0Y7SUFDQUMsVUFBVTtRQUNSLEtBQUssTUFBTXZCLGNBQWNDLE9BQU9DLElBQUksQ0FBQyxJQUFJLENBQUNQLE9BQU8sRUFBRztZQUNsRCxJQUFJLENBQUNjLFdBQVcsQ0FBQ1Q7UUFDbkI7UUFDQSxJQUFJLENBQUNKLFNBQVMsR0FBRyxhQUFhLEdBQUcsSUFBSUM7SUFDdkM7SUFDQVEsU0FBU0wsVUFBVSxFQUFFRyxLQUFLLEVBQUVDLElBQUksRUFBRWtCLE9BQU8sRUFBRTtRQUN6QyxJQUFJLElBQUksQ0FBQzNCLE9BQU8sQ0FBQ0ssV0FBVyxLQUFLLEtBQUssR0FBRztZQUN2QyxNQUFNLElBQUlvQixNQUNSLENBQUMseUNBQXlDLEVBQUVwQixXQUFXLHdCQUF3QixDQUFDO1FBRXBGO1FBQ0EsTUFBTWdCLFFBQVEsSUFBSSxDQUFDdEIsV0FBVyxDQUFDUyxPQUFPQyxNQUFNa0I7UUFDNUMsTUFBTUUsY0FBY1IsTUFBTVMsUUFBUSxDQUFDLElBQU0sSUFBSSxDQUFDQyxlQUFlO1FBQzdELElBQUksQ0FBQy9CLE9BQU8sQ0FBQ0ssV0FBVyxHQUFHO1lBQ3pCRztZQUNBQztZQUNBWTtZQUNBUTtRQUNGO0lBQ0Y7SUFDQWYsWUFBWVQsVUFBVSxFQUFFO1FBQ3RCLE1BQU0yQixPQUFPLElBQUksQ0FBQ2hDLE9BQU8sQ0FBQ0ssV0FBVztRQUNyQyxJQUFJMkIsU0FBUyxLQUFLLEdBQUc7WUFDbkIsTUFBTSxJQUFJUCxNQUFNLENBQUMsK0JBQStCLEVBQUVwQixXQUFXLENBQUMsQ0FBQztRQUNqRTtRQUNBMkIsS0FBS0gsV0FBVztRQUNoQixPQUFPLElBQUksQ0FBQzdCLE9BQU8sQ0FBQ0ssV0FBVztJQUNqQztJQUNBMEIsa0JBQWtCO1FBQ2hCLEtBQUssTUFBTWYsWUFBWSxJQUFJLENBQUNmLFNBQVMsQ0FBRTtZQUNyQ2U7UUFDRjtJQUNGO0FBQ0YsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIuanM/OTQyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5leHBvcnQgY2xhc3MgUXVlcmllc09ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoY3JlYXRlV2F0Y2gpIHtcbiAgICB0aGlzLmNyZWF0ZVdhdGNoID0gY3JlYXRlV2F0Y2g7XG4gICAgdGhpcy5xdWVyaWVzID0ge307XG4gICAgdGhpcy5saXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICB9XG4gIHNldFF1ZXJpZXMobmV3UXVlcmllcykge1xuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyhuZXdRdWVyaWVzKSkge1xuICAgICAgY29uc3QgeyBxdWVyeSwgYXJncyB9ID0gbmV3UXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgICBpZiAodGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy5hZGRRdWVyeShpZGVudGlmaWVyLCBxdWVyeSwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBleGlzdGluZ0luZm8gPSB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl07XG4gICAgICAgIGlmIChnZXRGdW5jdGlvbk5hbWUocXVlcnkpICE9PSBnZXRGdW5jdGlvbk5hbWUoZXhpc3RpbmdJbmZvLnF1ZXJ5KSB8fCBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oYXJncykpICE9PSBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oZXhpc3RpbmdJbmZvLmFyZ3MpKSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgICAgICAgdGhpcy5hZGRRdWVyeShpZGVudGlmaWVyLCBxdWVyeSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykpIHtcbiAgICAgIGlmIChuZXdRdWVyaWVzW2lkZW50aWZpZXJdID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy5yZW1vdmVRdWVyeShpZGVudGlmaWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9O1xuICB9XG4gIGdldExvY2FsUmVzdWx0cyhxdWVyaWVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHF1ZXJpZXMpKSB7XG4gICAgICBjb25zdCB7IHF1ZXJ5LCBhcmdzIH0gPSBxdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHdhdGNoID0gdGhpcy5jcmVhdGVXYXRjaChxdWVyeSwgYXJncyk7XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IHdhdGNoLmxvY2FsUXVlcnlSZXN1bHQoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHZhbHVlID0gZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHRbaWRlbnRpZmllcl0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzZXRDcmVhdGVXYXRjaChjcmVhdGVXYXRjaCkge1xuICAgIHRoaXMuY3JlYXRlV2F0Y2ggPSBjcmVhdGVXYXRjaDtcbiAgICBmb3IgKGNvbnN0IGlkZW50aWZpZXIgb2YgT2JqZWN0LmtleXModGhpcy5xdWVyaWVzKSkge1xuICAgICAgY29uc3QgeyBxdWVyeSwgYXJncywgd2F0Y2ggfSA9IHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGNvbnN0IGpvdXJuYWwgPSB3YXRjaC5qb3VybmFsKCk7XG4gICAgICB0aGlzLnJlbW92ZVF1ZXJ5KGlkZW50aWZpZXIpO1xuICAgICAgdGhpcy5hZGRRdWVyeShpZGVudGlmaWVyLCBxdWVyeSwgYXJncywgam91cm5hbCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykpIHtcbiAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgfVxuICBhZGRRdWVyeShpZGVudGlmaWVyLCBxdWVyeSwgYXJncywgam91cm5hbCkge1xuICAgIGlmICh0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl0gIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVHJpZWQgdG8gYWRkIGEgbmV3IHF1ZXJ5IHdpdGggaWRlbnRpZmllciAke2lkZW50aWZpZXJ9IHdoZW4gaXQgYWxyZWFkeSBleGlzdHMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgd2F0Y2ggPSB0aGlzLmNyZWF0ZVdhdGNoKHF1ZXJ5LCBhcmdzLCBqb3VybmFsKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHdhdGNoLm9uVXBkYXRlKCgpID0+IHRoaXMubm90aWZ5TGlzdGVuZXJzKCkpO1xuICAgIHRoaXMucXVlcmllc1tpZGVudGlmaWVyXSA9IHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgYXJncyxcbiAgICAgIHdhdGNoLFxuICAgICAgdW5zdWJzY3JpYmVcbiAgICB9O1xuICB9XG4gIHJlbW92ZVF1ZXJ5KGlkZW50aWZpZXIpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgIGlmIChpbmZvID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcXVlcnkgZm91bmQgd2l0aCBpZGVudGlmaWVyICR7aWRlbnRpZmllcn0uYCk7XG4gICAgfVxuICAgIGluZm8udW5zdWJzY3JpYmUoKTtcbiAgICBkZWxldGUgdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdO1xuICB9XG4gIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcmllc19vYnNlcnZlci5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJnZXRGdW5jdGlvbk5hbWUiLCJRdWVyaWVzT2JzZXJ2ZXIiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZVdhdGNoIiwicXVlcmllcyIsImxpc3RlbmVycyIsIlNldCIsInNldFF1ZXJpZXMiLCJuZXdRdWVyaWVzIiwiaWRlbnRpZmllciIsIk9iamVjdCIsImtleXMiLCJxdWVyeSIsImFyZ3MiLCJhZGRRdWVyeSIsImV4aXN0aW5nSW5mbyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVRdWVyeSIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwiYWRkIiwiZGVsZXRlIiwiZ2V0TG9jYWxSZXN1bHRzIiwicmVzdWx0Iiwid2F0Y2giLCJ2YWx1ZSIsImxvY2FsUXVlcnlSZXN1bHQiLCJlIiwiRXJyb3IiLCJzZXRDcmVhdGVXYXRjaCIsImpvdXJuYWwiLCJkZXN0cm95IiwidW5zdWJzY3JpYmUiLCJvblVwZGF0ZSIsIm5vdGlmeUxpc3RlbmVycyIsImluZm8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* binding */ optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery: () => (/* binding */ usePaginatedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\n\n\n\n\nconst splitQuery = (key, splitCursor, continueCursor)=>(prevState)=>{\n        const queries = {\n            ...prevState.queries\n        };\n        const splitKey1 = prevState.nextPageKey;\n        const splitKey2 = prevState.nextPageKey + 1;\n        const nextPageKey = prevState.nextPageKey + 2;\n        queries[splitKey1] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    endCursor: splitCursor\n                }\n            }\n        };\n        queries[splitKey2] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    cursor: splitCursor,\n                    endCursor: continueCursor\n                }\n            }\n        };\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        ongoingSplits[key] = [\n            splitKey1,\n            splitKey2\n        ];\n        return {\n            ...prevState,\n            nextPageKey,\n            queries,\n            ongoingSplits\n        };\n    };\nconst completeSplitQuery = (key)=>(prevState)=>{\n        const completedSplit = prevState.ongoingSplits[key];\n        if (completedSplit === void 0) {\n            return prevState;\n        }\n        const queries = {\n            ...prevState.queries\n        };\n        delete queries[key];\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        delete ongoingSplits[key];\n        let pageKeys = prevState.pageKeys.slice();\n        const pageIndex = prevState.pageKeys.findIndex((v)=>v === key);\n        if (pageIndex >= 0) {\n            pageKeys = [\n                ...prevState.pageKeys.slice(0, pageIndex),\n                ...completedSplit,\n                ...prevState.pageKeys.slice(pageIndex + 1)\n            ];\n        }\n        return {\n            ...prevState,\n            queries,\n            pageKeys,\n            ongoingSplits\n        };\n    };\nfunction usePaginatedQuery(query, args, options) {\n    if (typeof options?.initialNumItems !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(`\\`options.initialNumItems\\` must be a positive number. Received \\`${options?.initialNumItems}\\`.`);\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query);\n    const createInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return ()=>{\n            const id = nextPaginationId();\n            return {\n                query,\n                args: argsObject,\n                id,\n                nextPageKey: 1,\n                pageKeys: skip ? [] : [\n                    0\n                ],\n                queries: skip ? {} : {\n                    0: {\n                        query,\n                        args: {\n                            ...argsObject,\n                            paginationOpts: {\n                                numItems: options.initialNumItems,\n                                cursor: null,\n                                id\n                            }\n                        }\n                    }\n                },\n                ongoingSplits: {},\n                skip\n            };\n        };\n    }, [\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)),\n        queryName,\n        options.initialNumItems,\n        skip\n    ]);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(state.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries)(currState.queries);\n    const [results, maybeLastResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        let currResult = void 0;\n        const allItems = [];\n        for (const pageKey of currState.pageKeys){\n            currResult = resultsObject[pageKey];\n            if (currResult === void 0) {\n                break;\n            }\n            if (currResult instanceof Error) {\n                if (currResult.message.includes(\"InvalidCursor\")) {\n                    console.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + currResult.message);\n                    setState(createInitialState);\n                    return [\n                        [],\n                        void 0\n                    ];\n                } else {\n                    throw currResult;\n                }\n            }\n            const ongoingSplit = currState.ongoingSplits[pageKey];\n            if (ongoingSplit !== void 0) {\n                if (resultsObject[ongoingSplit[0]] !== void 0 && resultsObject[ongoingSplit[1]] !== void 0) {\n                    setState(completeSplitQuery(pageKey));\n                }\n            } else if (currResult.splitCursor && (currResult.pageStatus === \"SplitRecommended\" || currResult.pageStatus === \"SplitRequired\" || currResult.page.length > options.initialNumItems * 2)) {\n                setState(splitQuery(pageKey, currResult.splitCursor, currResult.continueCursor));\n            }\n            if (currResult.pageStatus === \"SplitRequired\") {\n                return [\n                    allItems,\n                    void 0\n                ];\n            }\n            allItems.push(...currResult.page);\n        }\n        return [\n            allItems,\n            currResult\n        ];\n    }, [\n        resultsObject,\n        currState.pageKeys,\n        currState.ongoingSplits,\n        options.initialNumItems,\n        createInitialState\n    ]);\n    const statusObject = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (maybeLastResult === void 0) {\n            if (currState.nextPageKey === 1) {\n                return {\n                    status: \"LoadingFirstPage\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            } else {\n                return {\n                    status: \"LoadingMore\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            }\n        }\n        if (maybeLastResult.isDone) {\n            return {\n                status: \"Exhausted\",\n                isLoading: false,\n                loadMore: (_numItems)=>{}\n            };\n        }\n        const continueCursor = maybeLastResult.continueCursor;\n        let alreadyLoadingMore = false;\n        return {\n            status: \"CanLoadMore\",\n            isLoading: false,\n            loadMore: (numItems)=>{\n                if (!alreadyLoadingMore) {\n                    alreadyLoadingMore = true;\n                    setState((prevState)=>{\n                        const pageKeys = [\n                            ...prevState.pageKeys,\n                            prevState.nextPageKey\n                        ];\n                        const queries = {\n                            ...prevState.queries\n                        };\n                        queries[prevState.nextPageKey] = {\n                            query: prevState.query,\n                            args: {\n                                ...prevState.args,\n                                paginationOpts: {\n                                    numItems,\n                                    cursor: continueCursor,\n                                    id: prevState.id\n                                }\n                            }\n                        };\n                        return {\n                            ...prevState,\n                            nextPageKey: prevState.nextPageKey + 1,\n                            pageKeys,\n                            queries\n                        };\n                    });\n                }\n            }\n        };\n    }, [\n        maybeLastResult,\n        currState.nextPageKey\n    ]);\n    return {\n        results,\n        ...statusObject\n    };\n}\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n}\nfunction optimisticallyUpdateValueInPaginatedQuery(localStore, query, args, updateValue) {\n    const expectedArgs = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(args));\n    for (const queryResult of localStore.getAllQueries(query)){\n        if (queryResult.value !== void 0) {\n            const { paginationOpts: _, ...innerArgs } = queryResult.args;\n            if (JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(innerArgs)) === expectedArgs) {\n                const value = queryResult.value;\n                if (typeof value === \"object\" && value !== null && Array.isArray(value.page)) {\n                    localStore.setQuery(query, queryResult.args, {\n                        ...value,\n                        page: value.page.map(updateValue)\n                    });\n                }\n            }\n        }\n    }\n} //# sourceMappingURL=use_paginated_query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFhO0FBQzZCO0FBQ1E7QUFDSjtBQUdwQjtBQUMxQixNQUFNSyxhQUFhLENBQUNDLEtBQUtDLGFBQWFDLGlCQUFtQixDQUFDQztRQUN4RCxNQUFNQyxVQUFVO1lBQUUsR0FBR0QsVUFBVUMsT0FBTztRQUFDO1FBQ3ZDLE1BQU1DLFlBQVlGLFVBQVVHLFdBQVc7UUFDdkMsTUFBTUMsWUFBWUosVUFBVUcsV0FBVyxHQUFHO1FBQzFDLE1BQU1BLGNBQWNILFVBQVVHLFdBQVcsR0FBRztRQUM1Q0YsT0FBTyxDQUFDQyxVQUFVLEdBQUc7WUFDbkJHLE9BQU9MLFVBQVVLLEtBQUs7WUFDdEJDLE1BQU07Z0JBQ0osR0FBR04sVUFBVU0sSUFBSTtnQkFDakJDLGdCQUFnQjtvQkFDZCxHQUFHUCxVQUFVQyxPQUFPLENBQUNKLElBQUksQ0FBQ1MsSUFBSSxDQUFDQyxjQUFjO29CQUM3Q0MsV0FBV1Y7Z0JBQ2I7WUFDRjtRQUNGO1FBQ0FHLE9BQU8sQ0FBQ0csVUFBVSxHQUFHO1lBQ25CQyxPQUFPTCxVQUFVSyxLQUFLO1lBQ3RCQyxNQUFNO2dCQUNKLEdBQUdOLFVBQVVNLElBQUk7Z0JBQ2pCQyxnQkFBZ0I7b0JBQ2QsR0FBR1AsVUFBVUMsT0FBTyxDQUFDSixJQUFJLENBQUNTLElBQUksQ0FBQ0MsY0FBYztvQkFDN0NFLFFBQVFYO29CQUNSVSxXQUFXVDtnQkFDYjtZQUNGO1FBQ0Y7UUFDQSxNQUFNVyxnQkFBZ0I7WUFBRSxHQUFHVixVQUFVVSxhQUFhO1FBQUM7UUFDbkRBLGFBQWEsQ0FBQ2IsSUFBSSxHQUFHO1lBQUNLO1lBQVdFO1NBQVU7UUFDM0MsT0FBTztZQUNMLEdBQUdKLFNBQVM7WUFDWkc7WUFDQUY7WUFDQVM7UUFDRjtJQUNGO0FBQ0EsTUFBTUMscUJBQXFCLENBQUNkLE1BQVEsQ0FBQ0c7UUFDbkMs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QUFJTyxlQUFlO0FBQ25CLFNBQVM3QjtJQUNQNkI7SUFDQSxPQUFPQTtBQUNUO0FBQ08sU0FBU0M7SUFDZEQsZUFBZTtBQUNqQjtBQUNPLFNBQVNFLDBDQUEwQ0MsVUFBVSxFQUFFdEQsS0FBSyxFQUFFQyxJQUFJLEVBQUVzRCxXQUFXO0lBQzVGLE1BQU1DLGVBQWVoQyxLQUFLQyxTQUFTLENBQUNyQyw4REFBWUEsQ0FBQ2E7SUFDakQsS0FBSyxNQUFNd0QsZUFBZUgsV0FBV0ksYUFBYSxDQUFDMUQsT0FBUTtRQUN6RCxJQUFJeUQsWUFBWUUsS0FBSyxLQUFLLEtBQUssR0FBRztZQUNoQyxNQUFNLEVBQUV6RCxnQkFBZ0IwRCxDQUFDLEVBQUUsR0FBR0MsV0FBVyxHQUFHSixZQUFZeEQsSUFBSTtZQUM1RCxJQUFJdUIsS0FBS0MsU0FBUyxDQUFDckMsOERBQVlBLENBQUN5RSxnQkFBZ0JMLGNBQWM7Z0JBQzVELE1BQU1HLFFBQVFGLFlBQVlFLEtBQUs7Z0JBQy9CLElBQUksT0FBT0EsVUFBVSxZQUFZQSxVQUFVLFFBQVFHLE1BQU1DLE9BQU8sQ0FBQ0osTUFBTWxCLElBQUksR0FBRztvQkFDNUVhLFdBQVdVLFFBQVEsQ0FBQ2hFLE9BQU95RCxZQUFZeEQsSUFBSSxFQUFFO3dCQUMzQyxHQUFHMEQsS0FBSzt3QkFDUmxCLE1BQU1rQixNQUFNbEIsSUFBSSxDQUFDd0IsR0FBRyxDQUFDVjtvQkFDdkI7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3BhZ2luYXRlZF9xdWVyeS5qcz8zNmViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lXG59IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5jb25zdCBzcGxpdFF1ZXJ5ID0gKGtleSwgc3BsaXRDdXJzb3IsIGNvbnRpbnVlQ3Vyc29yKSA9PiAocHJldlN0YXRlKSA9PiB7XG4gIGNvbnN0IHF1ZXJpZXMgPSB7IC4uLnByZXZTdGF0ZS5xdWVyaWVzIH07XG4gIGNvbnN0IHNwbGl0S2V5MSA9IHByZXZTdGF0ZS5uZXh0UGFnZUtleTtcbiAgY29uc3Qgc3BsaXRLZXkyID0gcHJldlN0YXRlLm5leHRQYWdlS2V5ICsgMTtcbiAgY29uc3QgbmV4dFBhZ2VLZXkgPSBwcmV2U3RhdGUubmV4dFBhZ2VLZXkgKyAyO1xuICBxdWVyaWVzW3NwbGl0S2V5MV0gPSB7XG4gICAgcXVlcnk6IHByZXZTdGF0ZS5xdWVyeSxcbiAgICBhcmdzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuYXJncyxcbiAgICAgIHBhZ2luYXRpb25PcHRzOiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5xdWVyaWVzW2tleV0uYXJncy5wYWdpbmF0aW9uT3B0cyxcbiAgICAgICAgZW5kQ3Vyc29yOiBzcGxpdEN1cnNvclxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcXVlcmllc1tzcGxpdEtleTJdID0ge1xuICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgYXJnczoge1xuICAgICAgLi4ucHJldlN0YXRlLmFyZ3MsXG4gICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAuLi5wcmV2U3RhdGUucXVlcmllc1trZXldLmFyZ3MucGFnaW5hdGlvbk9wdHMsXG4gICAgICAgIGN1cnNvcjogc3BsaXRDdXJzb3IsXG4gICAgICAgIGVuZEN1cnNvcjogY29udGludWVDdXJzb3JcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uZ29pbmdTcGxpdHMgPSB7IC4uLnByZXZTdGF0ZS5vbmdvaW5nU3BsaXRzIH07XG4gIG9uZ29pbmdTcGxpdHNba2V5XSA9IFtzcGxpdEtleTEsIHNwbGl0S2V5Ml07XG4gIHJldHVybiB7XG4gICAgLi4ucHJldlN0YXRlLFxuICAgIG5leHRQYWdlS2V5LFxuICAgIHF1ZXJpZXMsXG4gICAgb25nb2luZ1NwbGl0c1xuICB9O1xufTtcbmNvbnN0IGNvbXBsZXRlU3BsaXRRdWVyeSA9IChrZXkpID0+IChwcmV2U3RhdGUpID0+IHtcbiAgY29uc3QgY29tcGxldGVkU3BsaXQgPSBwcmV2U3RhdGUub25nb2luZ1NwbGl0c1trZXldO1xuICBpZiAoY29tcGxldGVkU3BsaXQgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbiAgY29uc3QgcXVlcmllcyA9IHsgLi4ucHJldlN0YXRlLnF1ZXJpZXMgfTtcbiAgZGVsZXRlIHF1ZXJpZXNba2V5XTtcbiAgY29uc3Qgb25nb2luZ1NwbGl0cyA9IHsgLi4ucHJldlN0YXRlLm9uZ29pbmdTcGxpdHMgfTtcbiAgZGVsZXRlIG9uZ29pbmdTcGxpdHNba2V5XTtcbiAgbGV0IHBhZ2VLZXlzID0gcHJldlN0YXRlLnBhZ2VLZXlzLnNsaWNlKCk7XG4gIGNvbnN0IHBhZ2VJbmRleCA9IHByZXZTdGF0ZS5wYWdlS2V5cy5maW5kSW5kZXgoKHYpID0+IHYgPT09IGtleSk7XG4gIGlmIChwYWdlSW5kZXggPj0gMCkge1xuICAgIHBhZ2VLZXlzID0gW1xuICAgICAgLi4ucHJldlN0YXRlLnBhZ2VLZXlzLnNsaWNlKDAsIHBhZ2VJbmRleCksXG4gICAgICAuLi5jb21wbGV0ZWRTcGxpdCxcbiAgICAgIC4uLnByZXZTdGF0ZS5wYWdlS2V5cy5zbGljZShwYWdlSW5kZXggKyAxKVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5wcmV2U3RhdGUsXG4gICAgcXVlcmllcyxcbiAgICBwYWdlS2V5cyxcbiAgICBvbmdvaW5nU3BsaXRzXG4gIH07XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhZ2luYXRlZFF1ZXJ5KHF1ZXJ5LCBhcmdzLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucz8uaW5pdGlhbE51bUl0ZW1zICE9PSBcIm51bWJlclwiIHx8IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBcXGBvcHRpb25zLmluaXRpYWxOdW1JdGVtc1xcYCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBSZWNlaXZlZCBcXGAke29wdGlvbnM/LmluaXRpYWxOdW1JdGVtc31cXGAuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgc2tpcCA9IGFyZ3MgPT09IFwic2tpcFwiO1xuICBjb25zdCBhcmdzT2JqZWN0ID0gc2tpcCA/IHt9IDogYXJncztcbiAgY29uc3QgcXVlcnlOYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgY29uc3QgY3JlYXRlSW5pdGlhbFN0YXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gbmV4dFBhZ2luYXRpb25JZCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFyZ3M6IGFyZ3NPYmplY3QsXG4gICAgICAgIGlkLFxuICAgICAgICBuZXh0UGFnZUtleTogMSxcbiAgICAgICAgcGFnZUtleXM6IHNraXAgPyBbXSA6IFswXSxcbiAgICAgICAgcXVlcmllczogc2tpcCA/IHt9IDoge1xuICAgICAgICAgIDA6IHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAuLi5hcmdzT2JqZWN0LFxuICAgICAgICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgICAgICAgIG51bUl0ZW1zOiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25nb2luZ1NwbGl0czoge30sXG4gICAgICAgIHNraXBcbiAgICAgIH07XG4gICAgfTtcbiAgfSwgW1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oYXJnc09iamVjdCkpLFxuICAgIHF1ZXJ5TmFtZSxcbiAgICBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICBza2lwXG4gIF0pO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gIGxldCBjdXJyU3RhdGUgPSBzdGF0ZTtcbiAgaWYgKGdldEZ1bmN0aW9uTmFtZShxdWVyeSkgIT09IGdldEZ1bmN0aW9uTmFtZShzdGF0ZS5xdWVyeSkgfHwgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3NPYmplY3QpKSAhPT0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKHN0YXRlLmFyZ3MpKSB8fCBza2lwICE9PSBzdGF0ZS5za2lwKSB7XG4gICAgY3VyclN0YXRlID0gY3JlYXRlSW5pdGlhbFN0YXRlKCk7XG4gICAgc2V0U3RhdGUoY3VyclN0YXRlKTtcbiAgfVxuICBjb25zdCByZXN1bHRzT2JqZWN0ID0gdXNlUXVlcmllcyhjdXJyU3RhdGUucXVlcmllcyk7XG4gIGNvbnN0IFtyZXN1bHRzLCBtYXliZUxhc3RSZXN1bHRdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGN1cnJSZXN1bHQgPSB2b2lkIDA7XG4gICAgY29uc3QgYWxsSXRlbXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VLZXkgb2YgY3VyclN0YXRlLnBhZ2VLZXlzKSB7XG4gICAgICBjdXJyUmVzdWx0ID0gcmVzdWx0c09iamVjdFtwYWdlS2V5XTtcbiAgICAgIGlmIChjdXJyUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoY3VyclJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChjdXJyUmVzdWx0Lm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkQ3Vyc29yXCIpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJ1c2VQYWdpbmF0ZWRRdWVyeSBoaXQgZXJyb3IsIHJlc2V0dGluZyBwYWdpbmF0aW9uIHN0YXRlOiBcIiArIGN1cnJSZXN1bHQubWVzc2FnZVxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0U3RhdGUoY3JlYXRlSW5pdGlhbFN0YXRlKTtcbiAgICAgICAgICByZXR1cm4gW1tdLCB2b2lkIDBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGN1cnJSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uZ29pbmdTcGxpdCA9IGN1cnJTdGF0ZS5vbmdvaW5nU3BsaXRzW3BhZ2VLZXldO1xuICAgICAgaWYgKG9uZ29pbmdTcGxpdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmIChyZXN1bHRzT2JqZWN0W29uZ29pbmdTcGxpdFswXV0gIT09IHZvaWQgMCAmJiByZXN1bHRzT2JqZWN0W29uZ29pbmdTcGxpdFsxXV0gIT09IHZvaWQgMCkge1xuICAgICAgICAgIHNldFN0YXRlKGNvbXBsZXRlU3BsaXRRdWVyeShwYWdlS2V5KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY3VyclJlc3VsdC5zcGxpdEN1cnNvciAmJiAoY3VyclJlc3VsdC5wYWdlU3RhdHVzID09PSBcIlNwbGl0UmVjb21tZW5kZWRcIiB8fCBjdXJyUmVzdWx0LnBhZ2VTdGF0dXMgPT09IFwiU3BsaXRSZXF1aXJlZFwiIHx8IGN1cnJSZXN1bHQucGFnZS5sZW5ndGggPiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyAqIDIpKSB7XG4gICAgICAgIHNldFN0YXRlKFxuICAgICAgICAgIHNwbGl0UXVlcnkocGFnZUtleSwgY3VyclJlc3VsdC5zcGxpdEN1cnNvciwgY3VyclJlc3VsdC5jb250aW51ZUN1cnNvcilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyUmVzdWx0LnBhZ2VTdGF0dXMgPT09IFwiU3BsaXRSZXF1aXJlZFwiKSB7XG4gICAgICAgIHJldHVybiBbYWxsSXRlbXMsIHZvaWQgMF07XG4gICAgICB9XG4gICAgICBhbGxJdGVtcy5wdXNoKC4uLmN1cnJSZXN1bHQucGFnZSk7XG4gICAgfVxuICAgIHJldHVybiBbYWxsSXRlbXMsIGN1cnJSZXN1bHRdO1xuICB9LCBbXG4gICAgcmVzdWx0c09iamVjdCxcbiAgICBjdXJyU3RhdGUucGFnZUtleXMsXG4gICAgY3VyclN0YXRlLm9uZ29pbmdTcGxpdHMsXG4gICAgb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMsXG4gICAgY3JlYXRlSW5pdGlhbFN0YXRlXG4gIF0pO1xuICBjb25zdCBzdGF0dXNPYmplY3QgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWF5YmVMYXN0UmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgIGlmIChjdXJyU3RhdGUubmV4dFBhZ2VLZXkgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IFwiTG9hZGluZ0ZpcnN0UGFnZVwiLFxuICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtcykgPT4ge1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiBcIkxvYWRpbmdNb3JlXCIsXG4gICAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgIGxvYWRNb3JlOiAoX251bUl0ZW1zKSA9PiB7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF5YmVMYXN0UmVzdWx0LmlzRG9uZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcIkV4aGF1c3RlZFwiLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtcykgPT4ge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjb250aW51ZUN1cnNvciA9IG1heWJlTGFzdFJlc3VsdC5jb250aW51ZUN1cnNvcjtcbiAgICBsZXQgYWxyZWFkeUxvYWRpbmdNb3JlID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogXCJDYW5Mb2FkTW9yZVwiLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGxvYWRNb3JlOiAobnVtSXRlbXMpID0+IHtcbiAgICAgICAgaWYgKCFhbHJlYWR5TG9hZGluZ01vcmUpIHtcbiAgICAgICAgICBhbHJlYWR5TG9hZGluZ01vcmUgPSB0cnVlO1xuICAgICAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VLZXlzID0gWy4uLnByZXZTdGF0ZS5wYWdlS2V5cywgcHJldlN0YXRlLm5leHRQYWdlS2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJpZXMgPSB7IC4uLnByZXZTdGF0ZS5xdWVyaWVzIH07XG4gICAgICAgICAgICBxdWVyaWVzW3ByZXZTdGF0ZS5uZXh0UGFnZUtleV0gPSB7XG4gICAgICAgICAgICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUuYXJncyxcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgICAgICAgICAgbnVtSXRlbXMsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgICAgICAgICAgICAgaWQ6IHByZXZTdGF0ZS5pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dFBhZ2VLZXk6IHByZXZTdGF0ZS5uZXh0UGFnZUtleSArIDEsXG4gICAgICAgICAgICAgIHBhZ2VLZXlzLFxuICAgICAgICAgICAgICBxdWVyaWVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW21heWJlTGFzdFJlc3VsdCwgY3VyclN0YXRlLm5leHRQYWdlS2V5XSk7XG4gIHJldHVybiB7XG4gICAgcmVzdWx0cyxcbiAgICAuLi5zdGF0dXNPYmplY3RcbiAgfTtcbn1cbmxldCBwYWdpbmF0aW9uSWQgPSAwO1xuZnVuY3Rpb24gbmV4dFBhZ2luYXRpb25JZCgpIHtcbiAgcGFnaW5hdGlvbklkKys7XG4gIHJldHVybiBwYWdpbmF0aW9uSWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRQYWdpbmF0aW9uSWQoKSB7XG4gIHBhZ2luYXRpb25JZCA9IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pc3RpY2FsbHlVcGRhdGVWYWx1ZUluUGFnaW5hdGVkUXVlcnkobG9jYWxTdG9yZSwgcXVlcnksIGFyZ3MsIHVwZGF0ZVZhbHVlKSB7XG4gIGNvbnN0IGV4cGVjdGVkQXJncyA9IEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzKSk7XG4gIGZvciAoY29uc3QgcXVlcnlSZXN1bHQgb2YgbG9jYWxTdG9yZS5nZXRBbGxRdWVyaWVzKHF1ZXJ5KSkge1xuICAgIGlmIChxdWVyeVJlc3VsdC52YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCB7IHBhZ2luYXRpb25PcHRzOiBfLCAuLi5pbm5lckFyZ3MgfSA9IHF1ZXJ5UmVzdWx0LmFyZ3M7XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGlubmVyQXJncykpID09PSBleHBlY3RlZEFyZ3MpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlLnBhZ2UpKSB7XG4gICAgICAgICAgbG9jYWxTdG9yZS5zZXRRdWVyeShxdWVyeSwgcXVlcnlSZXN1bHQuYXJncywge1xuICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICBwYWdlOiB2YWx1ZS5wYWdlLm1hcCh1cGRhdGVWYWx1ZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlX3BhZ2luYXRlZF9xdWVyeS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjb252ZXhUb0pzb24iLCJ1c2VRdWVyaWVzIiwiZ2V0RnVuY3Rpb25OYW1lIiwic3BsaXRRdWVyeSIsImtleSIsInNwbGl0Q3Vyc29yIiwiY29udGludWVDdXJzb3IiLCJwcmV2U3RhdGUiLCJxdWVyaWVzIiwic3BsaXRLZXkxIiwibmV4dFBhZ2VLZXkiLCJzcGxpdEtleTIiLCJxdWVyeSIsImFyZ3MiLCJwYWdpbmF0aW9uT3B0cyIsImVuZEN1cnNvciIsImN1cnNvciIsIm9uZ29pbmdTcGxpdHMiLCJjb21wbGV0ZVNwbGl0UXVlcnkiLCJjb21wbGV0ZWRTcGxpdCIsInBhZ2VLZXlzIiwic2xpY2UiLCJwYWdlSW5kZXgiLCJmaW5kSW5kZXgiLCJ2IiwidXNlUGFnaW5hdGVkUXVlcnkiLCJvcHRpb25zIiwiaW5pdGlhbE51bUl0ZW1zIiwiRXJyb3IiLCJza2lwIiwiYXJnc09iamVjdCIsInF1ZXJ5TmFtZSIsImNyZWF0ZUluaXRpYWxTdGF0ZSIsImlkIiwibmV4dFBhZ2luYXRpb25JZCIsIm51bUl0ZW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXRlIiwic2V0U3RhdGUiLCJjdXJyU3RhdGUiLCJyZXN1bHRzT2JqZWN0IiwicmVzdWx0cyIsIm1heWJlTGFzdFJlc3VsdCIsImN1cnJSZXN1bHQiLCJhbGxJdGVtcyIsInBhZ2VLZXkiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJjb25zb2xlIiwid2FybiIsIm9uZ29pbmdTcGxpdCIsInBhZ2VTdGF0dXMiLCJwYWdlIiwibGVuZ3RoIiwicHVzaCIsInN0YXR1c09iamVjdCIsInN0YXR1cyIsImlzTG9hZGluZyIsImxvYWRNb3JlIiwiX251bUl0ZW1zIiwiaXNEb25lIiwiYWxyZWFkeUxvYWRpbmdNb3JlIiwicGFnaW5hdGlvbklkIiwicmVzZXRQYWdpbmF0aW9uSWQiLCJvcHRpbWlzdGljYWxseVVwZGF0ZVZhbHVlSW5QYWdpbmF0ZWRRdWVyeSIsImxvY2FsU3RvcmUiLCJ1cGRhdGVWYWx1ZSIsImV4cGVjdGVkQXJncyIsInF1ZXJ5UmVzdWx0IiwiZ2V0QWxsUXVlcmllcyIsInZhbHVlIiwiXyIsImlubmVyQXJncyIsIkFycmF5IiwiaXNBcnJheSIsInNldFF1ZXJ5IiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_queries.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_queries.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useQueries: () => (/* binding */ useQueries),\n/* harmony export */   useQueriesHelper: () => (/* binding */ useQueriesHelper)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries_observer.js */ \"(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n\n\n\n\n\nfunction useQueries(queries) {\n    const convex = (0,_client_js__WEBPACK_IMPORTED_MODULE_1__.useConvex)();\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const createWatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return (query, args, journal)=>{\n            return convex.watchQuery(query, args, {\n                journal\n            });\n        };\n    }, [\n        convex\n    ]);\n    return useQueriesHelper(queries, createWatch);\n}\nfunction useQueriesHelper(queries, createWatch) {\n    const [observer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__.QueriesObserver(createWatch));\n    if (observer.createWatch !== createWatch) {\n        observer.setCreateWatch(createWatch);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>observer.destroy(), [\n        observer\n    ]);\n    const subscription = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            getCurrentValue: ()=>{\n                return observer.getLocalResults(queries);\n            },\n            subscribe: (callback)=>{\n                observer.setQueries(queries);\n                return observer.subscribe(callback);\n            }\n        }), [\n        observer,\n        queries\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_3__.useSubscription)(subscription);\n} //# sourceMappingURL=use_queries.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9xdWVyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhO0FBQ3dDO0FBQ2I7QUFDZ0I7QUFDQTtBQUNqRCxTQUFTTSxXQUFXQyxPQUFPO0lBQ2hDLE1BQU1DLFNBQVNMLHFEQUFTQTtJQUN4QixJQUFJSyxXQUFXLEtBQUssR0FBRztRQUNyQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLGNBQWNULDhDQUFPQSxDQUFDO1FBQzFCLE9BQU8sQ0FBQ1UsT0FBT0MsTUFBTUM7WUFDbkIsT0FBT0wsT0FBT00sVUFBVSxDQUFDSCxPQUFPQyxNQUFNO2dCQUFFQztZQUFRO1FBQ2xEO0lBQ0YsR0FBRztRQUFDTDtLQUFPO0lBQ1gsT0FBT08saUJBQWlCUixTQUFTRztBQUNuQztBQUNPLFNBQVNLLGlCQUFpQlIsT0FBTyxFQUFFRyxXQUFXO0lBQ25ELE1BQU0sQ0FBQ00sU0FBUyxHQUFHZCwrQ0FBUUEsQ0FBQyxJQUFNLElBQUlFLGlFQUFlQSxDQUFDTTtJQUN0RCxJQUFJTSxTQUFTTixXQUFXLEtBQUtBLGFBQWE7UUFDeENNLFNBQVNDLGNBQWMsQ0FBQ1A7SUFDMUI7SUFDQVYsZ0RBQVNBLENBQUMsSUFBTSxJQUFNZ0IsU0FBU0UsT0FBTyxJQUFJO1FBQUNGO0tBQVM7SUFDcEQsTUFBTUcsZUFBZWxCLDhDQUFPQSxDQUMxQixJQUFPO1lBQ0xtQixpQkFBaUI7Z0JBQ2YsT0FBT0osU0FBU0ssZUFBZSxDQUFDZDtZQUNsQztZQUNBZSxXQUFXLENBQUNDO2dCQUNWUCxTQUFTUSxVQUFVLENBQUNqQjtnQkFDcEIsT0FBT1MsU0FBU00sU0FBUyxDQUFDQztZQUM1QjtRQUNGLElBQ0E7UUFBQ1A7UUFBVVQ7S0FBUTtJQUVyQixPQUFPRixxRUFBZUEsQ0FBQ2M7QUFDekIsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9xdWVyaWVzLmpzPzhlMmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXggfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmltcG9ydCB7IFF1ZXJpZXNPYnNlcnZlciB9IGZyb20gXCIuL3F1ZXJpZXNfb2JzZXJ2ZXIuanNcIjtcbmltcG9ydCB7IHVzZVN1YnNjcmlwdGlvbiB9IGZyb20gXCIuL3VzZV9zdWJzY3JpcHRpb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyaWVzKHF1ZXJpZXMpIHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udmV4KCk7XG4gIGlmIChjb252ZXggPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgQ29udmV4IGNsaWVudCEgYHVzZVF1ZXJ5YCBtdXN0IGJlIHVzZWQgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBjcmVhdGVXYXRjaCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAocXVlcnksIGFyZ3MsIGpvdXJuYWwpID0+IHtcbiAgICAgIHJldHVybiBjb252ZXgud2F0Y2hRdWVyeShxdWVyeSwgYXJncywgeyBqb3VybmFsIH0pO1xuICAgIH07XG4gIH0sIFtjb252ZXhdKTtcbiAgcmV0dXJuIHVzZVF1ZXJpZXNIZWxwZXIocXVlcmllcywgY3JlYXRlV2F0Y2gpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJpZXNIZWxwZXIocXVlcmllcywgY3JlYXRlV2F0Y2gpIHtcbiAgY29uc3QgW29ic2VydmVyXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBRdWVyaWVzT2JzZXJ2ZXIoY3JlYXRlV2F0Y2gpKTtcbiAgaWYgKG9ic2VydmVyLmNyZWF0ZVdhdGNoICE9PSBjcmVhdGVXYXRjaCkge1xuICAgIG9ic2VydmVyLnNldENyZWF0ZVdhdGNoKGNyZWF0ZVdhdGNoKTtcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4gb2JzZXJ2ZXIuZGVzdHJveSgpLCBbb2JzZXJ2ZXJdKTtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlci5nZXRMb2NhbFJlc3VsdHMocXVlcmllcyk7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuc2V0UXVlcmllcyhxdWVyaWVzKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLnN1YnNjcmliZShjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW29ic2VydmVyLCBxdWVyaWVzXVxuICApO1xuICByZXR1cm4gdXNlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VfcXVlcmllcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VDb252ZXgiLCJRdWVyaWVzT2JzZXJ2ZXIiLCJ1c2VTdWJzY3JpcHRpb24iLCJ1c2VRdWVyaWVzIiwicXVlcmllcyIsImNvbnZleCIsIkVycm9yIiwiY3JlYXRlV2F0Y2giLCJxdWVyeSIsImFyZ3MiLCJqb3VybmFsIiwid2F0Y2hRdWVyeSIsInVzZVF1ZXJpZXNIZWxwZXIiLCJvYnNlcnZlciIsInNldENyZWF0ZVdhdGNoIiwiZGVzdHJveSIsInN1YnNjcmlwdGlvbiIsImdldEN1cnJlbnRWYWx1ZSIsImdldExvY2FsUmVzdWx0cyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwic2V0UXVlcmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_subscription.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSubscription: () => (/* binding */ useSubscription)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nfunction useSubscription({ // (Synchronously) returns the current value of our subscription.\ngetCurrentValue, // This function is passed an event handler to attach to the subscription.\n// It should return an unsubscribe function that removes the handler.\nsubscribe }) {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>({\n            getCurrentValue,\n            subscribe,\n            value: getCurrentValue()\n        }));\n    let valueToReturn = state.value;\n    if (state.getCurrentValue !== getCurrentValue || state.subscribe !== subscribe) {\n        valueToReturn = getCurrentValue();\n        setState({\n            getCurrentValue,\n            subscribe,\n            value: valueToReturn\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let didUnsubscribe = false;\n        const checkForUpdates = ()=>{\n            if (didUnsubscribe) {\n                return;\n            }\n            setState((prevState)=>{\n                if (prevState.getCurrentValue !== getCurrentValue || prevState.subscribe !== subscribe) {\n                    return prevState;\n                }\n                const value = getCurrentValue();\n                if (prevState.value === value) {\n                    return prevState;\n                }\n                return {\n                    ...prevState,\n                    value\n                };\n            });\n        };\n        const unsubscribe = subscribe(checkForUpdates);\n        checkForUpdates();\n        return ()=>{\n            didUnsubscribe = true;\n            unsubscribe();\n        };\n    }, [\n        getCurrentValue,\n        subscribe\n    ]);\n    return valueToReturn;\n} //# sourceMappingURL=use_subscription.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9zdWJzY3JpcHRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUMrQjtBQUNyQyxTQUFTRSxnQkFBZ0IsRUFDOUIsaUVBQWlFO0FBQ2pFQyxlQUFlLEVBQ2YsMEVBQTBFO0FBQzFFLHFFQUFxRTtBQUNyRUMsU0FBUyxFQUNWO0lBQ0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdMLCtDQUFRQSxDQUFDLElBQU87WUFDeENFO1lBQ0FDO1lBQ0FHLE9BQU9KO1FBQ1Q7SUFDQSxJQUFJSyxnQkFBZ0JILE1BQU1FLEtBQUs7SUFDL0IsSUFBSUYsTUFBTUYsZUFBZSxLQUFLQSxtQkFBbUJFLE1BQU1ELFNBQVMsS0FBS0EsV0FBVztRQUM5RUksZ0JBQWdCTDtRQUNoQkcsU0FBUztZQUNQSDtZQUNBQztZQUNBRyxPQUFPQztRQUNUO0lBQ0Y7SUFDQVIsZ0RBQVNBLENBQUM7UUFDUixJQUFJUyxpQkFBaUI7UUFDckIsTUFBTUMsa0JBQWtCO1lBQ3RCLElBQUlELGdCQUFnQjtnQkFDbEI7WUFDRjtZQUNBSCxTQUFTLENBQUNLO2dCQUNSLElBQUlBLFVBQVVSLGVBQWUsS0FBS0EsbUJBQW1CUSxVQUFVUCxTQUFTLEtBQUtBLFdBQVc7b0JBQ3RGLE9BQU9PO2dCQUNUO2dCQUNBLE1BQU1KLFFBQVFKO2dCQUNkLElBQUlRLFVBQVVKLEtBQUssS0FBS0EsT0FBTztvQkFDN0IsT0FBT0k7Z0JBQ1Q7Z0JBQ0EsT0FBTztvQkFBRSxHQUFHQSxTQUFTO29CQUFFSjtnQkFBTTtZQUMvQjtRQUNGO1FBQ0EsTUFBTUssY0FBY1IsVUFBVU07UUFDOUJBO1FBQ0EsT0FBTztZQUNMRCxpQkFBaUI7WUFDakJHO1FBQ0Y7SUFDRixHQUFHO1FBQUNUO1FBQWlCQztLQUFVO0lBQy9CLE9BQU9JO0FBQ1QsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9zdWJzY3JpcHRpb24uanM/OWZkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VTdWJzY3JpcHRpb24oe1xuICAvLyAoU3luY2hyb25vdXNseSkgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiBvdXIgc3Vic2NyaXB0aW9uLlxuICBnZXRDdXJyZW50VmFsdWUsXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIGFuIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoIHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gIC8vIEl0IHNob3VsZCByZXR1cm4gYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLlxuICBzdWJzY3JpYmVcbn0pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiAoe1xuICAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICBzdWJzY3JpYmUsXG4gICAgdmFsdWU6IGdldEN1cnJlbnRWYWx1ZSgpXG4gIH0pKTtcbiAgbGV0IHZhbHVlVG9SZXR1cm4gPSBzdGF0ZS52YWx1ZTtcbiAgaWYgKHN0YXRlLmdldEN1cnJlbnRWYWx1ZSAhPT0gZ2V0Q3VycmVudFZhbHVlIHx8IHN0YXRlLnN1YnNjcmliZSAhPT0gc3Vic2NyaWJlKSB7XG4gICAgdmFsdWVUb1JldHVybiA9IGdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIHNldFN0YXRlKHtcbiAgICAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIHZhbHVlOiB2YWx1ZVRvUmV0dXJuXG4gICAgfSk7XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGVja0ZvclVwZGF0ZXMgPSAoKSA9PiB7XG4gICAgICBpZiAoZGlkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICBpZiAocHJldlN0YXRlLmdldEN1cnJlbnRWYWx1ZSAhPT0gZ2V0Q3VycmVudFZhbHVlIHx8IHByZXZTdGF0ZS5zdWJzY3JpYmUgIT09IHN1YnNjcmliZSkge1xuICAgICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgaWYgKHByZXZTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgdmFsdWUgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUoY2hlY2tGb3JVcGRhdGVzKTtcbiAgICBjaGVja0ZvclVwZGF0ZXMoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlkVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbZ2V0Q3VycmVudFZhbHVlLCBzdWJzY3JpYmVdKTtcbiAgcmV0dXJuIHZhbHVlVG9SZXR1cm47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2Vfc3Vic2NyaXB0aW9uLmpzLm1hcFxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlU3Vic2NyaXB0aW9uIiwiZ2V0Q3VycmVudFZhbHVlIiwic3Vic2NyaWJlIiwic3RhdGUiLCJzZXRTdGF0ZSIsInZhbHVlIiwidmFsdWVUb1JldHVybiIsImRpZFVuc3Vic2NyaWJlIiwiY2hlY2tGb3JVcGRhdGVzIiwicHJldlN0YXRlIiwidW5zdWJzY3JpYmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/api.js":
/*!****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/api.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anyApi: () => (/* binding */ anyApi),\n/* harmony export */   filterApi: () => (/* binding */ filterApi),\n/* harmony export */   getFunctionName: () => (/* binding */ getFunctionName),\n/* harmony export */   justActions: () => (/* binding */ justActions),\n/* harmony export */   justInternal: () => (/* binding */ justInternal),\n/* harmony export */   justMutations: () => (/* binding */ justMutations),\n/* harmony export */   justPaginatedQueries: () => (/* binding */ justPaginatedQueries),\n/* harmony export */   justPublic: () => (/* binding */ justPublic),\n/* harmony export */   justQueries: () => (/* binding */ justQueries),\n/* harmony export */   justSchedulable: () => (/* binding */ justSchedulable),\n/* harmony export */   makeFunctionReference: () => (/* binding */ makeFunctionReference)\n/* harmony export */ });\n\nconst functionName = Symbol.for(\"functionName\");\nfunction getFunctionName(functionReference) {\n    if (typeof functionReference === \"string\") return functionReference;\n    const name = functionReference[functionName];\n    if (!name) {\n        throw new Error(`${functionReference} is not a functionReference`);\n    }\n    return name;\n}\nfunction makeFunctionReference(name) {\n    return {\n        [functionName]: name\n    };\n}\nfunction createApi(pathParts = []) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createApi(newParts);\n            } else if (prop === functionName) {\n                if (pathParts.length < 2) {\n                    const found = [\n                        \"api\",\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(`API path is expected to be of the form \\`api.moduleName.functionName\\`. Found: \\`${found}\\``);\n                }\n                const path = pathParts.slice(0, -1).join(\"/\");\n                const exportName = pathParts[pathParts.length - 1];\n                if (exportName === \"default\") {\n                    return path;\n                } else {\n                    return path + \":\" + exportName;\n                }\n            } else if (prop === Symbol.toStringTag) {\n                return \"FunctionReference\";\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction filterApi(api) {\n    return api;\n}\nfunction justInternal(api) {\n    return api;\n}\nfunction justPublic(api) {\n    return api;\n}\nfunction justQueries(api) {\n    return api;\n}\nfunction justMutations(api) {\n    return api;\n}\nfunction justActions(api) {\n    return api;\n}\nfunction justPaginatedQueries(api) {\n    return api;\n}\nfunction justSchedulable(api) {\n    return api;\n}\nconst anyApi = createApi(); //# sourceMappingURL=api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNiLE1BQU1BLGVBQWVDLE9BQU9DLEdBQUcsQ0FBQztBQUN6QixTQUFTQyxnQkFBZ0JDLGlCQUFpQjtJQUMvQyxJQUFJLE9BQU9BLHNCQUFzQixVQUMvQixPQUFPQTtJQUNULE1BQU1DLE9BQU9ELGlCQUFpQixDQUFDSixhQUFhO0lBQzVDLElBQUksQ0FBQ0ssTUFBTTtRQUNULE1BQU0sSUFBSUMsTUFBTSxDQUFDLEVBQUVGLGtCQUFrQiwyQkFBMkIsQ0FBQztJQUNuRTtJQUNBLE9BQU9DO0FBQ1Q7QUFDTyxTQUFTRSxzQkFBc0JGLElBQUk7SUFDeEMsT0FBTztRQUFFLENBQUNMLGFBQWEsRUFBRUs7SUFBSztBQUNoQztBQUNBLFNBQVNHLFVBQVVDLFlBQVksRUFBRTtJQUMvQixNQUFNQyxVQUFVO1FBQ2RDLEtBQUlDLENBQUMsRUFBRUMsSUFBSTtZQUNULElBQUksT0FBT0EsU0FBUyxVQUFVO2dCQUM1QixNQUFNQyxXQUFXO3VCQUFJTDtvQkFBV0k7aUJBQUs7Z0JBQ3JDLE9BQU9MLFVBQVVNO1lBQ25CLE9BQU8sSUFBSUQsU0FBU2IsY0FBYztnQkFDaEMsSUFBSVMsVUFBVU0sTUFBTSxHQUFHLEdBQUc7b0JBQ3hCLE1BQU1DLFFBQVE7d0JBQUM7MkJBQVVQO3FCQUFVLENBQUNRLElBQUksQ0FBQztvQkFDekMsTUFBTSxJQUFJWCxNQUNSLENBQUMsaUZBQWlGLEVBQUVVLE1BQU0sRUFBRSxDQUFDO2dCQUVqRztnQkFDQSxNQUFNRSxPQUFPVCxVQUFVVSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdGLElBQUksQ0FBQztnQkFDekMsTUFBTUcsYUFBYVgsU0FBUyxDQUFDQSxVQUFVTSxNQUFNLEdBQUcsRUFBRTtnQkFDbEQsSUFBSUssZUFBZSxXQUFXO29CQUM1QixPQUFPRjtnQkFDVCxPQUFPO29CQUNMLE9BQU9BLE9BQU8sTUFBTUU7Z0JBQ3RCO1lBQ0YsT0FBTyxJQUFJUCxTQUFTWixPQUFPb0IsV0FBVyxFQUFFO2dCQUN0QyxPQUFPO1lBQ1QsT0FBTztnQkFDTCxPQUFPLEtBQUs7WUFDZDtRQUNGO0lBQ0Y7SUFDQSxPQUFPLElBQUlDLE1BQU0sQ0FBQyxHQUFHWjtBQUN2QjtBQUNPLFNBQVNhLFVBQVVDLEdBQUc7SUFDM0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNDLGFBQWFELEdBQUc7SUFDOUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNFLFdBQVdGLEdBQUc7SUFDNUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNHLFlBQVlILEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNJLGNBQWNKLEdBQUc7SUFDL0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNLLFlBQVlMLEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNNLHFCQUFxQk4sR0FBRztJQUN0QyxPQUFPQTtBQUNUO0FBQ08sU0FBU08sZ0JBQWdCUCxHQUFHO0lBQ2pDLE9BQU9BO0FBQ1Q7QUFDTyxNQUFNUSxTQUFTeEIsWUFBWSxDQUNsQywrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9hcGkuanM/NmMxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZ1bmN0aW9uTmFtZSA9IFN5bWJvbC5mb3IoXCJmdW5jdGlvbk5hbWVcIik7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZ1bmN0aW9uUmVmZXJlbmNlKSB7XG4gIGlmICh0eXBlb2YgZnVuY3Rpb25SZWZlcmVuY2UgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIGZ1bmN0aW9uUmVmZXJlbmNlO1xuICBjb25zdCBuYW1lID0gZnVuY3Rpb25SZWZlcmVuY2VbZnVuY3Rpb25OYW1lXTtcbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bmN0aW9uUmVmZXJlbmNlfSBpcyBub3QgYSBmdW5jdGlvblJlZmVyZW5jZWApO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGdW5jdGlvblJlZmVyZW5jZShuYW1lKSB7XG4gIHJldHVybiB7IFtmdW5jdGlvbk5hbWVdOiBuYW1lIH07XG59XG5mdW5jdGlvbiBjcmVhdGVBcGkocGF0aFBhcnRzID0gW10pIHtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBnZXQoXywgcHJvcCkge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG5ld1BhcnRzID0gWy4uLnBhdGhQYXJ0cywgcHJvcF07XG4gICAgICAgIHJldHVybiBjcmVhdGVBcGkobmV3UGFydHMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBmdW5jdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgY29uc3QgZm91bmQgPSBbXCJhcGlcIiwgLi4ucGF0aFBhcnRzXS5qb2luKFwiLlwiKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgQVBJIHBhdGggaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdGhlIGZvcm0gXFxgYXBpLm1vZHVsZU5hbWUuZnVuY3Rpb25OYW1lXFxgLiBGb3VuZDogXFxgJHtmb3VuZH1cXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgY29uc3QgZXhwb3J0TmFtZSA9IHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChleHBvcnROYW1lID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwYXRoICsgXCI6XCIgKyBleHBvcnROYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFN5bWJvbC50b1N0cmluZ1RhZykge1xuICAgICAgICByZXR1cm4gXCJGdW5jdGlvblJlZmVyZW5jZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBuZXcgUHJveHkoe30sIGhhbmRsZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFwaShhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0SW50ZXJuYWwoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgZnVuY3Rpb24ganVzdFB1YmxpYyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0UXVlcmllcyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0TXV0YXRpb25zKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RBY3Rpb25zKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RQYWdpbmF0ZWRRdWVyaWVzKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RTY2hlZHVsYWJsZShhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBjb25zdCBhbnlBcGkgPSBjcmVhdGVBcGkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmdW5jdGlvbk5hbWUiLCJTeW1ib2wiLCJmb3IiLCJnZXRGdW5jdGlvbk5hbWUiLCJmdW5jdGlvblJlZmVyZW5jZSIsIm5hbWUiLCJFcnJvciIsIm1ha2VGdW5jdGlvblJlZmVyZW5jZSIsImNyZWF0ZUFwaSIsInBhdGhQYXJ0cyIsImhhbmRsZXIiLCJnZXQiLCJfIiwicHJvcCIsIm5ld1BhcnRzIiwibGVuZ3RoIiwiZm91bmQiLCJqb2luIiwicGF0aCIsInNsaWNlIiwiZXhwb3J0TmFtZSIsInRvU3RyaW5nVGFnIiwiUHJveHkiLCJmaWx0ZXJBcGkiLCJhcGkiLCJqdXN0SW50ZXJuYWwiLCJqdXN0UHVibGljIiwianVzdFF1ZXJpZXMiLCJqdXN0TXV0YXRpb25zIiwianVzdEFjdGlvbnMiLCJqdXN0UGFnaW5hdGVkUXVlcmllcyIsImp1c3RTY2hlZHVsYWJsZSIsImFueUFwaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/cron.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/cron.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Crons: () => (/* binding */ Crons),\n/* harmony export */   cronJobs: () => (/* binding */ cronJobs)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\n\n\nconst DAYS_OF_WEEK = [\n    \"sunday\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\"\n];\nconst cronJobs = ()=>new Crons();\nfunction validateIntervalNumber(n) {\n    if (!Number.isInteger(n) || n <= 0) {\n        throw new Error(\"Interval must be an integer greater than 0\");\n    }\n}\nfunction validatedDayOfMonth(n) {\n    if (!Number.isInteger(n) || n < 1 || n > 31) {\n        throw new Error(\"Day of month must be an integer from 1 to 31\");\n    }\n    return n;\n}\nfunction validatedDayOfWeek(s) {\n    if (typeof s !== \"string\" || !DAYS_OF_WEEK.includes(s)) {\n        throw new Error('Day of week must be a string like \"monday\".');\n    }\n    return s;\n}\nfunction validatedHourOfDay(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 23) {\n        throw new Error(\"Hour of day must be an integer from 0 to 23\");\n    }\n    return n;\n}\nfunction validatedMinuteOfHour(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 59) {\n        throw new Error(\"Minute of hour must be an integer from 0 to 59\");\n    }\n    return n;\n}\nfunction validatedCronString(s) {\n    return s;\n}\nfunction validatedCronIdentifier(s) {\n    if (!s.match(/^[ -~]*$/)) {\n        throw new Error(`Invalid cron identifier ${s}: use ASCII letters that are not control characters`);\n    }\n    return s;\n}\nclass Crons {\n    constructor(){\n        this.isCrons = true;\n        this.crons = {};\n    }\n    /** @internal */ schedule(cronIdentifier, schedule, functionReference, args) {\n        const cronArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        validatedCronIdentifier(cronIdentifier);\n        if (cronIdentifier in this.crons) {\n            throw new Error(`Cron identifier registered twice: ${cronIdentifier}`);\n        }\n        this.crons[cronIdentifier] = {\n            name: (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(functionReference),\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(cronArgs)\n            ],\n            schedule\n        };\n    }\n    /**\n   * Schedule a mutation or action to run on an hourly basis.\n   *\n   * ```js\n   * crons.interval(\"Clear presence data\", {seconds: 30}, api.presence.clear);\n   * ```\n   *\n   * @param identifier - A unique name for this scheduled job.\n   * @param schedule - The time between runs for this scheduled job.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ interval(cronIdentifier, schedule, functionReference, ...args) {\n        const s = schedule;\n        const hasSeconds = +(\"seconds\" in s && s.seconds !== void 0);\n        const hasMinutes = +(\"minutes\" in s && s.minutes !== void 0);\n        const hasHours = +(\"hours\" in s && s.hours !== void 0);\n        const total = hasSeconds + hasMinutes + hasHours;\n        if (total !== 1) {\n            throw new Error(\"Must specify one of seconds, minutes, or hours\");\n        }\n        if (hasSeconds) {\n            validateIntervalNumber(schedule.seconds);\n        } else if (hasMinutes) {\n            validateIntervalNumber(schedule.minutes);\n        } else if (hasHours) {\n            validateIntervalNumber(schedule.hours);\n        }\n        this.schedule(cronIdentifier, {\n            ...schedule,\n            type: \"interval\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a daily basis.\n   *\n   * ```js\n   * crons.daily(\n   *   \"Reset high scores\",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ hourly(cronIdentifier, schedule, functionReference, ...args) {\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            minuteUTC,\n            type: \"hourly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a daily basis.\n   *\n   * ```js\n   * crons.daily(\n   *   \"Reset high scores\",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ daily(cronIdentifier, schedule, functionReference, ...args) {\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            hourUTC,\n            minuteUTC,\n            type: \"daily\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a weekly basis.\n   *\n   * ```js\n   * crons.weekly(\n   *   \"Weekly re-engagement email\",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.emails.send\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each week to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   */ weekly(cronIdentifier, schedule, functionReference, ...args) {\n        const dayOfWeek = validatedDayOfWeek(schedule.dayOfWeek);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            dayOfWeek,\n            hourUTC,\n            minuteUTC,\n            type: \"weekly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a monthly basis.\n   *\n   * Note that some months have fewer days than others, so e.g. a function\n   * scheduled to run on the 30th will not run in February.\n   *\n   * ```js\n   * crons.monthly(\n   *   \"Bill customers at \",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *     day: 1,\n   *   },\n   *   api.billing.billCustomers\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each month to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ monthly(cronIdentifier, schedule, functionReference, ...args) {\n        const day = validatedDayOfMonth(schedule.day);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            day,\n            hourUTC,\n            minuteUTC,\n            type: \"monthly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a recurring basis.\n   *\n   * Like the unix command `cron`, Sunday is 0, Monday is 1, etc.\n   *\n   * ```\n   *   minute (0 - 59)\n   *    hour (0 - 23)\n   *     day of the month (1 - 31)\n   *      month (1 - 12)\n   *       day of the week (0 - 6) (Sunday to Saturday)\n   * \"* * * * *\"\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param cron - Cron string like `\"15 7 * * *\"` (Every day at 7:15 UTC)\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ cron(cronIdentifier, cron, functionReference, ...args) {\n        const c = validatedCronString(cron);\n        this.schedule(cronIdentifier, {\n            cron: c,\n            type: \"cron\"\n        }, functionReference, ...args);\n    }\n    /** @internal */ export() {\n        return JSON.stringify(this.crons);\n    }\n} //# sourceMappingURL=cron.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jcm9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWE7QUFDc0M7QUFDSjtBQUNHO0FBQ2xELE1BQU1HLGVBQWU7SUFDbkI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUNNLE1BQU1DLFdBQVcsSUFBTSxJQUFJQyxRQUFRO0FBQzFDLFNBQVNDLHVCQUF1QkMsQ0FBQztJQUMvQixJQUFJLENBQUNDLE9BQU9DLFNBQVMsQ0FBQ0YsTUFBTUEsS0FBSyxHQUFHO1FBQ2xDLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtBQUNGO0FBQ0EsU0FBU0Msb0JBQW9CSixDQUFDO0lBQzVCLElBQUksQ0FBQ0MsT0FBT0MsU0FBUyxDQUFDRixNQUFNQSxJQUFJLEtBQUtBLElBQUksSUFBSTtRQUMzQyxNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPSDtBQUNUO0FBQ0EsU0FBU0ssbUJBQW1CQyxDQUFDO0lBQzNCLElBQUksT0FBT0EsTUFBTSxZQUFZLENBQUNWLGFBQWFXLFFBQVEsQ0FBQ0QsSUFBSTtRQUN0RCxNQUFNLElBQUlILE1BQU07SUFDbEI7SUFDQSxPQUFPRztBQUNUO0FBQ0EsU0FBU0UsbUJBQW1CUixDQUFDO0lBQzNCLElBQUksQ0FBQ0MsT0FBT0MsU0FBUyxDQUFDRixNQUFNQSxJQUFJLEtBQUtBLElBQUksSUFBSTtRQUMzQyxNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPSDtBQUNUO0FBQ0EsU0FBU1Msc0JBQXNCVCxDQUFDO0lBQzlCLElBQUksQ0FBQ0MsT0FBT0MsU0FBUyxDQUFDRixNQUFNQSxJQUFJLEtBQUtBLElBQUksSUFBSTtRQUMzQyxNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPSDtBQUNUO0FBQ0EsU0FBU1Usb0JBQW9CSixDQUFDO0lBQzVCLE9BQU9BO0FBQ1Q7QUFDQSxTQUFTSyx3QkFBd0JMLENBQUM7SUFDaEMsSUFBSSxD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QUNYQyxnQkFDQTtZQUFFbUI7WUFBV0Y7WUFBU0Y7WUFBV0YsTUFBTTtRQUFTLEdBQ2hEWixzQkFDR0M7SUFFUDtJQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXVCQyxHQUNEa0IsUUFBUXBCLGNBQWMsRUFBRUQsUUFBUSxFQUFFRSxpQkFBaUIsRUFBRSxHQUFHQyxJQUFJLEVBQUU7UUFDNUQsTUFBTW1CLE1BQU1sQyxvQkFBb0JZLFNBQVNzQixHQUFHO1FBQzVDLE1BQU1KLFVBQVUxQixtQkFBbUJRLFNBQVNrQixPQUFPO1FBQ25ELE1BQU1GLFlBQVl2QixzQkFBc0JPLFNBQVNnQixTQUFTO1FBQzFELElBQUksQ0FBQ2hCLFFBQVEsQ0FDWEMsZ0JBQ0E7WUFBRXFCO1lBQUtKO1lBQVNGO1lBQVdGLE1BQU07UUFBVSxHQUMzQ1osc0JBQ0dDO0lBRVA7SUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CQyxHQUNEb0IsS0FBS3RCLGNBQWMsRUFBRXNCLElBQUksRUFBRXJCLGlCQUFpQixFQUFFLEdBQUdDLElBQUksRUFBRTtRQUNyRCxNQUFNcUIsSUFBSTlCLG9CQUFvQjZCO1FBQzlCLElBQUksQ0FBQ3ZCLFFBQVEsQ0FDWEMsZ0JBQ0E7WUFBRXNCLE1BQU1DO1lBQUdWLE1BQU07UUFBTyxHQUN4Qlosc0JBQ0dDO0lBRVA7SUFDQSxjQUFjLEdBQ2RzQixTQUFTO1FBQ1AsT0FBT0MsS0FBS0MsU0FBUyxDQUFDLElBQUksQ0FBQzVCLEtBQUs7SUFDbEM7QUFDRixFQUNBLGdDQUFnQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2Nyb24uanM/NTYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5jb25zdCBEQVlTX09GX1dFRUsgPSBbXG4gIFwic3VuZGF5XCIsXG4gIFwibW9uZGF5XCIsXG4gIFwidHVlc2RheVwiLFxuICBcIndlZG5lc2RheVwiLFxuICBcInRodXJzZGF5XCIsXG4gIFwiZnJpZGF5XCIsXG4gIFwic2F0dXJkYXlcIlxuXTtcbmV4cG9ydCBjb25zdCBjcm9uSm9icyA9ICgpID0+IG5ldyBDcm9ucygpO1xuZnVuY3Rpb24gdmFsaWRhdGVJbnRlcnZhbE51bWJlcihuKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihuKSB8fCBuIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcnZhbCBtdXN0IGJlIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIDBcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZERheU9mTW9udGgobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8IDEgfHwgbiA+IDMxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRGF5IG9mIG1vbnRoIG11c3QgYmUgYW4gaW50ZWdlciBmcm9tIDEgdG8gMzFcIik7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWREYXlPZldlZWsocykge1xuICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIgfHwgIURBWVNfT0ZfV0VFSy5pbmNsdWRlcyhzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRGF5IG9mIHdlZWsgbXVzdCBiZSBhIHN0cmluZyBsaWtlIFwibW9uZGF5XCIuJyk7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWRIb3VyT2ZEYXkobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8IDAgfHwgbiA+IDIzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSG91ciBvZiBkYXkgbXVzdCBiZSBhbiBpbnRlZ2VyIGZyb20gMCB0byAyM1wiKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZE1pbnV0ZU9mSG91cihuKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihuKSB8fCBuIDwgMCB8fCBuID4gNTkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaW51dGUgb2YgaG91ciBtdXN0IGJlIGFuIGludGVnZXIgZnJvbSAwIHRvIDU5XCIpO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkQ3JvblN0cmluZyhzKSB7XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkQ3JvbklkZW50aWZpZXIocykge1xuICBpZiAoIXMubWF0Y2goL15bIC1+XSokLykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBjcm9uIGlkZW50aWZpZXIgJHtzfTogdXNlIEFTQ0lJIGxldHRlcnMgdGhhdCBhcmUgbm90IGNvbnRyb2wgY2hhcmFjdGVyc2BcbiAgICApO1xuICB9XG4gIHJldHVybiBzO1xufVxuZXhwb3J0IGNsYXNzIENyb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pc0Nyb25zID0gdHJ1ZTtcbiAgICB0aGlzLmNyb25zID0ge307XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzY2hlZHVsZShjcm9uSWRlbnRpZmllciwgc2NoZWR1bGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSB7XG4gICAgY29uc3QgY3JvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgdmFsaWRhdGVkQ3JvbklkZW50aWZpZXIoY3JvbklkZW50aWZpZXIpO1xuICAgIGlmIChjcm9uSWRlbnRpZmllciBpbiB0aGlzLmNyb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENyb24gaWRlbnRpZmllciByZWdpc3RlcmVkIHR3aWNlOiAke2Nyb25JZGVudGlmaWVyfWApO1xuICAgIH1cbiAgICB0aGlzLmNyb25zW2Nyb25JZGVudGlmaWVyXSA9IHtcbiAgICAgIG5hbWU6IGdldEZ1bmN0aW9uTmFtZShmdW5jdGlvblJlZmVyZW5jZSksXG4gICAgICBhcmdzOiBbY29udmV4VG9Kc29uKGNyb25BcmdzKV0sXG4gICAgICBzY2hlZHVsZVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgbXV0YXRpb24gb3IgYWN0aW9uIHRvIHJ1biBvbiBhbiBob3VybHkgYmFzaXMuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLmludGVydmFsKFwiQ2xlYXIgcHJlc2VuY2UgZGF0YVwiLCB7c2Vjb25kczogMzB9LCBhcGkucHJlc2VuY2UuY2xlYXIpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFRoZSB0aW1lIGJldHdlZW4gcnVucyBmb3IgdGhpcyBzY2hlZHVsZWQgam9iLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGludGVydmFsKGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBzID0gc2NoZWR1bGU7XG4gICAgY29uc3QgaGFzU2Vjb25kcyA9ICsoXCJzZWNvbmRzXCIgaW4gcyAmJiBzLnNlY29uZHMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgaGFzTWludXRlcyA9ICsoXCJtaW51dGVzXCIgaW4gcyAmJiBzLm1pbnV0ZXMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgaGFzSG91cnMgPSArKFwiaG91cnNcIiBpbiBzICYmIHMuaG91cnMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgdG90YWwgPSBoYXNTZWNvbmRzICsgaGFzTWludXRlcyArIGhhc0hvdXJzO1xuICAgIGlmICh0b3RhbCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IG9uZSBvZiBzZWNvbmRzLCBtaW51dGVzLCBvciBob3Vyc1wiKTtcbiAgICB9XG4gICAgaWYgKGhhc1NlY29uZHMpIHtcbiAgICAgIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIoc2NoZWR1bGUuc2Vjb25kcyk7XG4gICAgfSBlbHNlIGlmIChoYXNNaW51dGVzKSB7XG4gICAgICB2YWxpZGF0ZUludGVydmFsTnVtYmVyKHNjaGVkdWxlLm1pbnV0ZXMpO1xuICAgIH0gZWxzZSBpZiAoaGFzSG91cnMpIHtcbiAgICAgIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIoc2NoZWR1bGUuaG91cnMpO1xuICAgIH1cbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IC4uLnNjaGVkdWxlLCB0eXBlOiBcImludGVydmFsXCIgfSxcbiAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgbXV0YXRpb24gb3IgYWN0aW9uIHRvIHJ1biBvbiBhIGRhaWx5IGJhc2lzLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjcm9ucy5kYWlseShcbiAgICogICBcIlJlc2V0IGhpZ2ggc2NvcmVzXCIsXG4gICAqICAge1xuICAgKiAgICAgaG91clVUQzogMTcsIC8vICg5OjMwYW0gUGFjaWZpYy8xMDozMGFtIERheWxpZ2h0IFNhdmluZ3MgUGFjaWZpYylcbiAgICogICAgIG1pbnV0ZVVUQzogMzAsXG4gICAqICAgfSxcbiAgICogICBhcGkuc2NvcmVzLnJlc2V0XG4gICAqIClcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gV2hhdCB0aW1lIChVVEMpIGVhY2ggZGF5IHRvIHJ1biB0aGlzIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGhvdXJseShjcm9uSWRlbnRpZmllciwgc2NoZWR1bGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbWludXRlVVRDID0gdmFsaWRhdGVkTWludXRlT2ZIb3VyKHNjaGVkdWxlLm1pbnV0ZVVUQyk7XG4gICAgdGhpcy5zY2hlZHVsZShcbiAgICAgIGNyb25JZGVudGlmaWVyLFxuICAgICAgeyBtaW51dGVVVEMsIHR5cGU6IFwiaG91cmx5XCIgfSxcbiAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgbXV0YXRpb24gb3IgYWN0aW9uIHRvIHJ1biBvbiBhIGRhaWx5IGJhc2lzLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjcm9ucy5kYWlseShcbiAgICogICBcIlJlc2V0IGhpZ2ggc2NvcmVzXCIsXG4gICAqICAge1xuICAgKiAgICAgaG91clVUQzogMTcsIC8vICg5OjMwYW0gUGFjaWZpYy8xMDozMGFtIERheWxpZ2h0IFNhdmluZ3MgUGFjaWZpYylcbiAgICogICAgIG1pbnV0ZVVUQzogMzAsXG4gICAqICAgfSxcbiAgICogICBhcGkuc2NvcmVzLnJlc2V0XG4gICAqIClcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gV2hhdCB0aW1lIChVVEMpIGVhY2ggZGF5IHRvIHJ1biB0aGlzIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGRhaWx5KGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBob3VyVVRDID0gdmFsaWRhdGVkSG91ck9mRGF5KHNjaGVkdWxlLmhvdXJVVEMpO1xuICAgIGNvbnN0IG1pbnV0ZVVUQyA9IHZhbGlkYXRlZE1pbnV0ZU9mSG91cihzY2hlZHVsZS5taW51dGVVVEMpO1xuICAgIHRoaXMuc2NoZWR1bGUoXG4gICAgICBjcm9uSWRlbnRpZmllcixcbiAgICAgIHsgaG91clVUQywgbWludXRlVVRDLCB0eXBlOiBcImRhaWx5XCIgfSxcbiAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgbXV0YXRpb24gb3IgYWN0aW9uIHRvIHJ1biBvbiBhIHdlZWtseSBiYXNpcy5cbiAgICpcbiAgICogYGBganNcbiAgICogY3JvbnMud2Vla2x5KFxuICAgKiAgIFwiV2Vla2x5IHJlLWVuZ2FnZW1lbnQgZW1haWxcIixcbiAgICogICB7XG4gICAqICAgICBob3VyVVRDOiAxNywgLy8gKDk6MzBhbSBQYWNpZmljLzEwOjMwYW0gRGF5bGlnaHQgU2F2aW5ncyBQYWNpZmljKVxuICAgKiAgICAgbWludXRlVVRDOiAzMCxcbiAgICogICB9LFxuICAgKiAgIGFwaS5lbWFpbHMuc2VuZFxuICAgKiApXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFdoYXQgZGF5IGFuZCB0aW1lIChVVEMpIGVhY2ggd2VlayB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqL1xuICB3ZWVrbHkoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IHZhbGlkYXRlZERheU9mV2VlayhzY2hlZHVsZS5kYXlPZldlZWspO1xuICAgIGNvbnN0IGhvdXJVVEMgPSB2YWxpZGF0ZWRIb3VyT2ZEYXkoc2NoZWR1bGUuaG91clVUQyk7XG4gICAgY29uc3QgbWludXRlVVRDID0gdmFsaWRhdGVkTWludXRlT2ZIb3VyKHNjaGVkdWxlLm1pbnV0ZVVUQyk7XG4gICAgdGhpcy5zY2hlZHVsZShcbiAgICAgIGNyb25JZGVudGlmaWVyLFxuICAgICAgeyBkYXlPZldlZWssIGhvdXJVVEMsIG1pbnV0ZVVUQywgdHlwZTogXCJ3ZWVrbHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgbW9udGhseSBiYXNpcy5cbiAgICpcbiAgICogTm90ZSB0aGF0IHNvbWUgbW9udGhzIGhhdmUgZmV3ZXIgZGF5cyB0aGFuIG90aGVycywgc28gZS5nLiBhIGZ1bmN0aW9uXG4gICAqIHNjaGVkdWxlZCB0byBydW4gb24gdGhlIDMwdGggd2lsbCBub3QgcnVuIGluIEZlYnJ1YXJ5LlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjcm9ucy5tb250aGx5KFxuICAgKiAgIFwiQmlsbCBjdXN0b21lcnMgYXQgXCIsXG4gICAqICAge1xuICAgKiAgICAgaG91clVUQzogMTcsIC8vICg5OjMwYW0gUGFjaWZpYy8xMDozMGFtIERheWxpZ2h0IFNhdmluZ3MgUGFjaWZpYylcbiAgICogICAgIG1pbnV0ZVVUQzogMzAsXG4gICAqICAgICBkYXk6IDEsXG4gICAqICAgfSxcbiAgICogICBhcGkuYmlsbGluZy5iaWxsQ3VzdG9tZXJzXG4gICAqIClcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gV2hhdCBkYXkgYW5kIHRpbWUgKFVUQykgZWFjaCBtb250aCB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBtb250aGx5KGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBkYXkgPSB2YWxpZGF0ZWREYXlPZk1vbnRoKHNjaGVkdWxlLmRheSk7XG4gICAgY29uc3QgaG91clVUQyA9IHZhbGlkYXRlZEhvdXJPZkRheShzY2hlZHVsZS5ob3VyVVRDKTtcbiAgICBjb25zdCBtaW51dGVVVEMgPSB2YWxpZGF0ZWRNaW51dGVPZkhvdXIoc2NoZWR1bGUubWludXRlVVRDKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGRheSwgaG91clVUQywgbWludXRlVVRDLCB0eXBlOiBcIm1vbnRobHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgcmVjdXJyaW5nIGJhc2lzLlxuICAgKlxuICAgKiBMaWtlIHRoZSB1bml4IGNvbW1hbmQgYGNyb25gLCBTdW5kYXkgaXMgMCwgTW9uZGF5IGlzIDEsIGV0Yy5cbiAgICpcbiAgICogYGBgXG4gICAqICDilIzilIAgbWludXRlICgwIC0gNTkpXG4gICAqICDilIIg4pSM4pSAIGhvdXIgKDAgLSAyMylcbiAgICogIOKUgiDilIIg4pSM4pSAIGRheSBvZiB0aGUgbW9udGggKDEgLSAzMSlcbiAgICogIOKUgiDilIIg4pSCIOKUjOKUgCBtb250aCAoMSAtIDEyKVxuICAgKiAg4pSCIOKUgiDilIIg4pSCIOKUjOKUgCBkYXkgb2YgdGhlIHdlZWsgKDAgLSA2KSAoU3VuZGF5IHRvIFNhdHVyZGF5KVxuICAgKiBcIiogKiAqICogKlwiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBjcm9uIC0gQ3JvbiBzdHJpbmcgbGlrZSBgXCIxNSA3ICogKiAqXCJgIChFdmVyeSBkYXkgYXQgNzoxNSBVVEMpXG4gICAqIEBwYXJhbSBmdW5jdGlvblJlZmVyZW5jZSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgY3Jvbihjcm9uSWRlbnRpZmllciwgY3JvbiwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjID0gdmFsaWRhdGVkQ3JvblN0cmluZyhjcm9uKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGNyb246IGMsIHR5cGU6IFwiY3JvblwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXhwb3J0KCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmNyb25zKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jvbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJnZXRGdW5jdGlvbk5hbWUiLCJwYXJzZUFyZ3MiLCJjb252ZXhUb0pzb24iLCJEQVlTX09GX1dFRUsiLCJjcm9uSm9icyIsIkNyb25zIiwidmFsaWRhdGVJbnRlcnZhbE51bWJlciIsIm4iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJFcnJvciIsInZhbGlkYXRlZERheU9mTW9udGgiLCJ2YWxpZGF0ZWREYXlPZldlZWsiLCJzIiwiaW5jbHVkZXMiLCJ2YWxpZGF0ZWRIb3VyT2ZEYXkiLCJ2YWxpZGF0ZWRNaW51dGVPZkhvdXIiLCJ2YWxpZGF0ZWRDcm9uU3RyaW5nIiwidmFsaWRhdGVkQ3JvbklkZW50aWZpZXIiLCJtYXRjaCIsImNvbnN0cnVjdG9yIiwiaXNDcm9ucyIsImNyb25zIiwic2NoZWR1bGUiLCJjcm9uSWRlbnRpZmllciIsImZ1bmN0aW9uUmVmZXJlbmNlIiwiYXJncyIsImNyb25BcmdzIiwibmFtZSIsImludGVydmFsIiwiaGFzU2Vjb25kcyIsInNlY29uZHMiLCJoYXNNaW51dGVzIiwibWludXRlcyIsImhhc0hvdXJzIiwiaG91cnMiLCJ0b3RhbCIsInR5cGUiLCJob3VybHkiLCJtaW51dGVVVEMiLCJkYWlseSIsImhvdXJVVEMiLCJ3ZWVrbHkiLCJkYXlPZldlZWsiLCJtb250aGx5IiwiZGF5IiwiY3JvbiIsImMiLCJleHBvcnQiLCJKU09OIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/cron.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/database.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/database.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=database.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9kYXRhYmFzZS5qcyIsIm1hcHBpbmdzIjoiO0FBQWEsQ0FDYixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9kYXRhYmFzZS5qcz9jOWE3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YWJhc2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/database.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/filter_builder.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Expression: () => (/* binding */ Expression)\n/* harmony export */ });\n\nclass Expression {\n    /**\n   * @internal\n   */ constructor(){}\n} //# sourceMappingURL=filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9maWx0ZXJfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDTixNQUFNQTtJQUNYOztHQUVDLEdBQ0RDLGFBQWMsQ0FDZDtBQUNGLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvZmlsdGVyX2J1aWxkZXIuanM/YmMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlcl9idWlsZGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkV4cHJlc3Npb24iLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/actions_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionCalls: () => (/* binding */ setupActionCalls)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\n\n\n\n\n\nfunction setupActionCalls(requestId) {\n    return {\n        runQuery: async (query, args)=>{\n            const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionName)(query);\n            const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n            const syscallArgs = {\n                name,\n                args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(queryArgs),\n                version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n                requestId\n            };\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/query\", syscallArgs);\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result, false);\n        },\n        runMutation: async (mutation, args)=>{\n            const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionName)(mutation);\n            const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n            const syscallArgs = {\n                name,\n                args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(mutationArgs),\n                version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n                requestId\n            };\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/mutation\", syscallArgs);\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result, false);\n        },\n        runAction: async (action, args)=>{\n            const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionName)(action);\n            const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n            const syscallArgs = {\n                name,\n                args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(actionArgs),\n                version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n                requestId\n            };\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/action\", syscallArgs);\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result, false);\n        }\n    };\n} //# sourceMappingURL=actions_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2FjdGlvbnNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNzRDtBQUMxQjtBQUNVO0FBQ0Q7QUFDSTtBQUMvQyxTQUFTTSxpQkFBaUJDLFNBQVM7SUFDeEMsT0FBTztRQUNMQyxVQUFVLE9BQU9DLE9BQU9DO1lBQ3RCLE1BQU1DLE9BQU9OLCtEQUFlQSxDQUFDSTtZQUM3QixNQUFNRyxZQUFZUiwyREFBU0EsQ0FBQ007WUFDNUIsTUFBTUcsY0FBYztnQkFDbEJGO2dCQUNBRCxNQUFNViw4REFBWUEsQ0FBQ1k7Z0JBQ25CVixPQUFPQSxnREFBQUE7Z0JBQ1BLO1lBQ0Y7WUFDQSxNQUFNTyxTQUFTLE1BQU1YLGdFQUFtQkEsQ0FDdEMscUJBQ0FVO1lBRUYsT0FBT1osOERBQVlBLENBQUNhLFFBQVE7UUFDOUI7UUFDQUMsYUFBYSxPQUFPQyxVQUFVTjtZQUM1QixNQUFNQyxPQUFPTiwrREFBZUEsQ0FBQ1c7WUFDN0IsTUFBTUMsZUFBZWIsMkRBQVNBLENBQUNNO1lBQy9CLE1BQU1HLGNBQWM7Z0JBQ2xCRjtnQkFDQUQsTUFBTVYsOERBQVlBLENBQUNpQjtnQkFDbkJmLE9BQU9BLGdEQUFBQTtnQkFDUEs7WUFDRjtZQUNBLE1BQU1PLFNBQVMsTUFBTVgsZ0VBQW1CQSxDQUN0Qyx3QkFDQVU7WUFFRixPQUFPWiw4REFBWUEsQ0FBQ2EsUUFBUTtRQUM5QjtRQUNBSSxXQUFXLE9BQU9DLFFBQVFUO1lBQ3hCLE1BQU1DLE9BQU9OLCtEQUFlQSxDQUFDYztZQUM3QixNQUFNQyxhQUFhaEIsMkRBQVNBLENBQUNNO1lBQzdCLE1BQU1HLGNBQWM7Z0JBQ2xCRjtnQkFDQUQsTUFBTVYsOERBQVlBLENBQUNvQjtnQkFDbkJsQixPQUFPQSxnREFBQUE7Z0JBQ1BLO1lBQ0Y7WUFDQSxNQUFNTyxTQUFTLE1BQU1YLGdFQUFtQkEsQ0FDdEMsc0JBQ0FVO1lBRUYsT0FBT1osOERBQVlBLENBQUNhLFFBQVE7UUFDOUI7SUFDRjtBQUNGLEVBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9hY3Rpb25zX2ltcGwuanM/MDNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiwganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi8uLi9zZXJ2ZXIvYXBpLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBY3Rpb25DYWxscyhyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBydW5RdWVyeTogYXN5bmMgKHF1ZXJ5LCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBhcmdzOiBjb252ZXhUb0pzb24ocXVlcnlBcmdzKSxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgcmVxdWVzdElkXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcbiAgICAgICAgXCIxLjAvYWN0aW9ucy9xdWVyeVwiLFxuICAgICAgICBzeXNjYWxsQXJnc1xuICAgICAgKTtcbiAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0LCBmYWxzZSk7XG4gICAgfSxcbiAgICBydW5NdXRhdGlvbjogYXN5bmMgKG11dGF0aW9uLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKG11dGF0aW9uKTtcbiAgICAgIGNvbnN0IG11dGF0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBhcmdzOiBjb252ZXhUb0pzb24obXV0YXRpb25BcmdzKSxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgcmVxdWVzdElkXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcbiAgICAgICAgXCIxLjAvYWN0aW9ucy9tdXRhdGlvblwiLFxuICAgICAgICBzeXNjYWxsQXJnc1xuICAgICAgKTtcbiAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0LCBmYWxzZSk7XG4gICAgfSxcbiAgICBydW5BY3Rpb246IGFzeW5jIChhY3Rpb24sIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKTtcbiAgICAgIGNvbnN0IGFjdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJnczogY29udmV4VG9Kc29uKGFjdGlvbkFyZ3MpLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICByZXF1ZXN0SWRcbiAgICAgIH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFxuICAgICAgICBcIjEuMC9hY3Rpb25zL2FjdGlvblwiLFxuICAgICAgICBzeXNjYWxsQXJnc1xuICAgICAgKTtcbiAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0LCBmYWxzZSk7XG4gICAgfVxuICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWN0aW9uc19pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInZlcnNpb24iLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwicGFyc2VBcmdzIiwiZ2V0RnVuY3Rpb25OYW1lIiwic2V0dXBBY3Rpb25DYWxscyIsInJlcXVlc3RJZCIsInJ1blF1ZXJ5IiwicXVlcnkiLCJhcmdzIiwibmFtZSIsInF1ZXJ5QXJncyIsInN5c2NhbGxBcmdzIiwicmVzdWx0IiwicnVuTXV0YXRpb24iLCJtdXRhdGlvbiIsIm11dGF0aW9uQXJncyIsInJ1bkFjdGlvbiIsImFjdGlvbiIsImFjdGlvbkFyZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/authentication_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupAuth: () => (/* binding */ setupAuth)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\n\nfunction setupAuth(requestId) {\n    return {\n        getUserIdentity: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/getUserIdentity\", {\n                requestId\n            });\n        }\n    };\n} //# sourceMappingURL=authentication_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2F1dGhlbnRpY2F0aW9uX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNzQztBQUM1QyxTQUFTQyxVQUFVQyxTQUFTO0lBQ2pDLE9BQU87UUFDTEMsaUJBQWlCO1lBQ2YsT0FBTyxNQUFNSCxnRUFBbUJBLENBQUMsdUJBQXVCO2dCQUN0REU7WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvYXV0aGVudGljYXRpb25faW1wbC5qcz82ODk0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEF1dGgocmVxdWVzdElkKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0VXNlcklkZW50aXR5OiBhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9nZXRVc2VySWRlbnRpdHlcIiwge1xuICAgICAgICByZXF1ZXN0SWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGhlbnRpY2F0aW9uX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsicGVyZm9ybUFzeW5jU3lzY2FsbCIsInNldHVwQXV0aCIsInJlcXVlc3RJZCIsImdldFVzZXJJZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/database_impl.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupReader: () => (/* binding */ setupReader),\n/* harmony export */   setupWriter: () => (/* binding */ setupWriter)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\n\n\n\n\nfunction setupReader() {\n    const reader = (isSystem = false)=>{\n        return {\n            get: async (id)=>{\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"get\", \"id\");\n                if (typeof id !== \"string\") {\n                    throw new Error(`Invalid argument \\`id\\` for \\`db.get\\`, expected string but got '${typeof id}': ${id}`);\n                }\n                const args = {\n                    id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n                    isSystem,\n                    version: _index_js__WEBPACK_IMPORTED_MODULE_4__.version\n                };\n                const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/get\", args);\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON, true);\n            },\n            query: (tableName)=>{\n                const accessingSystemTable = tableName.startsWith(\"_\");\n                if (accessingSystemTable !== isSystem) {\n                    throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${isSystem ? \"\" : \"system.\"}query().`);\n                }\n                return new _query_impl_js__WEBPACK_IMPORTED_MODULE_2__.QueryInitializerImpl(tableName);\n            },\n            normalizeId: (tableName, id)=>{\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"normalizeId\", \"tableName\");\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 2, \"normalizeId\", \"id\");\n                const accessingSystemTable = tableName.startsWith(\"_\");\n                if (accessingSystemTable !== isSystem) {\n                    throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${isSystem ? \"\" : \"system.\"}normalizeId().`);\n                }\n                const syscallJSON = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/db/normalizeId\", {\n                    table: tableName,\n                    idString: id\n                });\n                const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON, false);\n                return syscallResult.id;\n            },\n            // We set the system reader on the next line\n            system: null\n        };\n    };\n    const { system: _, ...rest } = reader(true);\n    const r = reader();\n    r.system = rest;\n    return r;\n}\nfunction setupWriter() {\n    const reader = setupReader();\n    return {\n        get: reader.get,\n        query: reader.query,\n        normalizeId: reader.normalizeId,\n        system: reader.system,\n        insert: async (table, value)=>{\n            if (table.startsWith(\"_\")) {\n                throw new Error(\"System tables (prefixed with `_`) are read-only.\");\n            }\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(table, 1, \"insert\", \"table\");\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"insert\", \"value\");\n            const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/insert\", {\n                table,\n                value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n            });\n            const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON, false);\n            return syscallResult._id;\n        },\n        patch: async (id, value)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"patch\", \"id\");\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"patch\", \"value\");\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/shallowMerge\", {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n                value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_5__.patchValueToJson)(value)\n            });\n        },\n        replace: async (id, value)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"replace\", \"id\");\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"replace\", \"value\");\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/replace\", {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n                value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n            });\n        },\n        delete: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"delete\", \"id\");\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/remove\", {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            });\n        }\n    };\n} //# sourceMappingURL=database_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2RhdGFiYXNlX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBYTtBQUlrQjtBQUNvQztBQUNaO0FBQ1g7QUFDSDtBQUNnQjtBQUNsRCxTQUFTUTtJQUNkLE1BQU1DLFNBQVMsQ0FBQ0MsV0FBVyxLQUFLO1FBQzlCLE9BQU87WUFDTEMsS0FBSyxPQUFPQztnQkFDVlAseURBQVdBLENBQUNPLElBQUksR0FBRyxPQUFPO2dCQUMxQixJQUFJLE9BQU9BLE9BQU8sVUFBVTtvQkFDMUIsTUFBTSxJQUFJQyxNQUNSLENBQUMsaUVBQWlFLEVBQUUsT0FBT0QsR0FBRyxHQUFHLEVBQUVBLEdBQUcsQ0FBQztnQkFFM0Y7Z0JBQ0EsTUFBTUUsT0FBTztvQkFDWEYsSUFBSVosOERBQVlBLENBQUNZO29CQUNqQkY7b0JBQ0FKLE9BQU9BLGdEQUFBQTtnQkFDVDtnQkFDQSxNQUFNUyxjQUFjLE1BQU1iLGdFQUFtQkEsQ0FBQyxXQUFXWTtnQkFDekQsT0FBT2IsOERBQVlBLENBQUNjLGFBQWE7WUFDbkM7WUFDQUMsT0FBTyxDQUFDQztnQkFDTixNQUFNQyx1QkFBdUJELFVBQVVFLFVBQVUsQ0FBQztnQkFDbEQsSUFBSUQseUJBQXlCUixVQUFVO29CQUNyQyxNQUFNLElBQUlHLE1BQ1IsQ0FBQyxFQUFFSyx1QkFBdUIsV0FBVyxPQUFPLHFDQUFxQyxFQUFFUixXQUFXLEtBQUssVUFBVSxRQUFRLENBQUM7Z0JBRTFIO2dCQUNBLE9BQU8sSUFBSU4sZ0VBQW9CQSxDQUFDYTtZQUNsQztZQUNBRyxhQUFhLENBQUNILFdBQVdMO2dCQUN2QlAseURBQVdBLENBQUNZLFdBQVcsR0FBRyxlQUFlO2dCQUN6Q1oseURBQVdBLENBQUNPLElBQUksR0FBRyxlQUFlO2dCQUNsQyxNQUFNTSx1QkFBdUJELFVBQVVFLFVBQVUsQ0FBQztnQkFDbEQsSUFBSUQseUJBQXlCUixVQUFVO29CQUNyQyxNQUFNLElBQUlHLE1BQ1IsQ0FBQyxFQUFFSyx1QkFBdUIsV0FBVyxPQUFPLHFDQUFxQyxFQUFFUixXQUFXLEtBQUssVUFBVSxjQUFjLENBQUM7Z0JBRWhJO2dCQUNBLE1BQU1LLGNBQWNaLDJEQUFjQSxDQUFDLHNCQUFzQjtvQkFDdkRrQixPQUFPSjtvQkFDUEssVUFBVVY7Z0JBQ1o7Z0JBQ0EsTUFBTVcsZ0JBQWdCdEIsOERBQVlBLENBQUNjLGFBQWE7Z0JBQ2hELE9BQU9RLGNBQWNYLEVBQUU7WUFDekI7WUFDQSw0Q0FBNEM7WUFDNUNZLFFBQVE7UUFDVjtJQUNGO0lBQ0EsTUFBTSxFQUFFQSxRQUFRQyxDQUFDLEVBQUUsR0FBR0MsTUFBTSxHQUFHakIsT0FBTztJQUN0QyxNQUFNa0IsSUFBSWxCO0lBQ1ZrQixFQUFFSCxNQUFNLEdBQUdFO0lBQ1gsT0FBT0M7QUFDVDtBQUNPLFNBQVNDO0lBQ2QsTUFBTW5CLFNBQVNEO0lBQ2YsT0FBTztRQUNMRyxLQUFLRixPQUFPRSxHQUFHO1FBQ2ZLLE9BQU9QLE9BQU9PLEtBQUs7UUFDbkJJLGFBQWFYLE9BQU9XLFdBQVc7UUFDL0JJLFFBQVFmLE9BQU9lLE1BQU07UUFDckJLLFFBQVEsT0FBT1IsT0FBT1M7WUFDcEIsSUFBSVQsTUFBTUYsVUFBVSxDQUFDLE1BQU07Z0JBQ3pCLE1BQU0sSUFBSU4sTUFBTTtZQUNsQjtZQUNBUix5REFBV0EsQ0FBQ2dCLE9BQU8sR0FBRyxVQUFVO1lBQ2hDaEIseURBQVdBLENBQUN5QixPQUFPLEdBQUcsVUFBVTtZQUNoQyxNQUFNZixjQUFjLE1BQU1iLGdFQUFtQkEsQ0FBQyxjQUFjO2dCQUMxRG1CO2dCQUNBUyxPQUFPOUIsOERBQVlBLENBQUM4QjtZQUN0QjtZQUNBLE1BQU1QLGdCQUFnQnRCLDhEQUFZQSxDQUFDYyxhQUFhO1lBQ2hELE9BQU9RLGNBQWNRLEdBQUc7UUFDMUI7UUFDQUMsT0FBTyxPQUFPcEIsSUFBSWtCO1lBQ2hCekIseURBQVdBLENBQUNPLElBQUksR0FBRyxTQUFTO1lBQzVCUCx5REFBV0EsQ0FBQ3lCLE9BQU8sR0FBRyxTQUFTO1lBQy9CLE1BQU01QixnRUFBbUJBLENBQUMsb0JBQW9CO2dCQUM1Q1UsSUFBSVosOERBQVlBLENBQUNZO2dCQUNqQmtCLE9BQU92QixrRUFBZ0JBLENBQUN1QjtZQUMxQjtRQUNGO1FBQ0FHLFNBQVMsT0FBT3JCLElBQUlrQjtZQUNsQnpCLHlEQUFXQSxDQUFDTyxJQUFJLEdBQUcsV0FBVztZQUM5QlAseURBQVdBLENBQUN5QixPQUFPLEdBQUcsV0FBVztZQUNqQyxNQUFNNUIsZ0VBQW1CQSxDQUFDLGVBQWU7Z0JBQ3ZDVSxJQUFJWiw4REFBWUEsQ0FBQ1k7Z0JBQ2pCa0IsT0FBTzlCLDhEQUFZQSxDQUFDOEI7WUFDdEI7UUFDRjtRQUNBSSxRQUFRLE9BQU90QjtZQUNiUCx5REFBV0EsQ0FBQ08sSUFBSSxHQUFHLFVBQVU7WUFDN0IsTUFBTVYsZ0VBQW1CQSxDQUFDLGNBQWM7Z0JBQUVVLElBQUlaLDhEQUFZQSxDQUFDWTtZQUFJO1FBQ2pFO0lBQ0Y7QUFDRixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvZGF0YWJhc2VfaW1wbC5qcz9iNjc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgY29udmV4VG9Kc29uLFxuICBqc29uVG9Db252ZXhcbn0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCwgcGVyZm9ybVN5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyBRdWVyeUluaXRpYWxpemVySW1wbCB9IGZyb20gXCIuL3F1ZXJ5X2ltcGwuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBhdGNoVmFsdWVUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBSZWFkZXIoKSB7XG4gIGNvbnN0IHJlYWRlciA9IChpc1N5c3RlbSA9IGZhbHNlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQXJnKGlkLCAxLCBcImdldFwiLCBcImlkXCIpO1xuICAgICAgICBpZiAodHlwZW9mIGlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEludmFsaWQgYXJndW1lbnQgXFxgaWRcXGAgZm9yIFxcYGRiLmdldFxcYCwgZXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJyR7dHlwZW9mIGlkfSc6ICR7aWR9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgICBpZDogY29udmV4VG9Kc29uKGlkKSxcbiAgICAgICAgICBpc1N5c3RlbSxcbiAgICAgICAgICB2ZXJzaW9uXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN5c2NhbGxKU09OID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9nZXRcIiwgYXJncyk7XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgoc3lzY2FsbEpTT04sIHRydWUpO1xuICAgICAgfSxcbiAgICAgIHF1ZXJ5OiAodGFibGVOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc2luZ1N5c3RlbVRhYmxlID0gdGFibGVOYW1lLnN0YXJ0c1dpdGgoXCJfXCIpO1xuICAgICAgICBpZiAoYWNjZXNzaW5nU3lzdGVtVGFibGUgIT09IGlzU3lzdGVtKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYCR7YWNjZXNzaW5nU3lzdGVtVGFibGUgPyBcIlN5c3RlbVwiIDogXCJVc2VyXCJ9IHRhYmxlcyBjYW4gb25seSBiZSBhY2Nlc3NlZCBmcm9tIGRiLiR7aXNTeXN0ZW0gPyBcIlwiIDogXCJzeXN0ZW0uXCJ9cXVlcnkoKS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsKHRhYmxlTmFtZSk7XG4gICAgICB9LFxuICAgICAgbm9ybWFsaXplSWQ6ICh0YWJsZU5hbWUsIGlkKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQXJnKHRhYmxlTmFtZSwgMSwgXCJub3JtYWxpemVJZFwiLCBcInRhYmxlTmFtZVwiKTtcbiAgICAgICAgdmFsaWRhdGVBcmcoaWQsIDIsIFwibm9ybWFsaXplSWRcIiwgXCJpZFwiKTtcbiAgICAgICAgY29uc3QgYWNjZXNzaW5nU3lzdGVtVGFibGUgPSB0YWJsZU5hbWUuc3RhcnRzV2l0aChcIl9cIik7XG4gICAgICAgIGlmIChhY2Nlc3NpbmdTeXN0ZW1UYWJsZSAhPT0gaXNTeXN0ZW0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgJHthY2Nlc3NpbmdTeXN0ZW1UYWJsZSA/IFwiU3lzdGVtXCIgOiBcIlVzZXJcIn0gdGFibGVzIGNhbiBvbmx5IGJlIGFjY2Vzc2VkIGZyb20gZGIuJHtpc1N5c3RlbSA/IFwiXCIgOiBcInN5c3RlbS5cIn1ub3JtYWxpemVJZCgpLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN5c2NhbGxKU09OID0gcGVyZm9ybVN5c2NhbGwoXCIxLjAvZGIvbm9ybWFsaXplSWRcIiwge1xuICAgICAgICAgIHRhYmxlOiB0YWJsZU5hbWUsXG4gICAgICAgICAgaWRTdHJpbmc6IGlkXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzeXNjYWxsUmVzdWx0ID0ganNvblRvQ29udmV4KHN5c2NhbGxKU09OLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBzeXNjYWxsUmVzdWx0LmlkO1xuICAgICAgfSxcbiAgICAgIC8vIFdlIHNldCB0aGUgc3lzdGVtIHJlYWRlciBvbiB0aGUgbmV4dCBsaW5lXG4gICAgICBzeXN0ZW06IG51bGxcbiAgICB9O1xuICB9O1xuICBjb25zdCB7IHN5c3RlbTogXywgLi4ucmVzdCB9ID0gcmVhZGVyKHRydWUpO1xuICBjb25zdCByID0gcmVhZGVyKCk7XG4gIHIuc3lzdGVtID0gcmVzdDtcbiAgcmV0dXJuIHI7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBXcml0ZXIoKSB7XG4gIGNvbnN0IHJlYWRlciA9IHNldHVwUmVhZGVyKCk7XG4gIHJldHVybiB7XG4gICAgZ2V0OiByZWFkZXIuZ2V0LFxuICAgIHF1ZXJ5OiByZWFkZXIucXVlcnksXG4gICAgbm9ybWFsaXplSWQ6IHJlYWRlci5ub3JtYWxpemVJZCxcbiAgICBzeXN0ZW06IHJlYWRlci5zeXN0ZW0sXG4gICAgaW5zZXJ0OiBhc3luYyAodGFibGUsIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodGFibGUuc3RhcnRzV2l0aChcIl9cIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3lzdGVtIHRhYmxlcyAocHJlZml4ZWQgd2l0aCBgX2ApIGFyZSByZWFkLW9ubHkuXCIpO1xuICAgICAgfVxuICAgICAgdmFsaWRhdGVBcmcodGFibGUsIDEsIFwiaW5zZXJ0XCIsIFwidGFibGVcIik7XG4gICAgICB2YWxpZGF0ZUFyZyh2YWx1ZSwgMiwgXCJpbnNlcnRcIiwgXCJ2YWx1ZVwiKTtcbiAgICAgIGNvbnN0IHN5c2NhbGxKU09OID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9pbnNlcnRcIiwge1xuICAgICAgICB0YWJsZSxcbiAgICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3lzY2FsbFJlc3VsdCA9IGpzb25Ub0NvbnZleChzeXNjYWxsSlNPTiwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN5c2NhbGxSZXN1bHQuX2lkO1xuICAgIH0sXG4gICAgcGF0Y2g6IGFzeW5jIChpZCwgdmFsdWUpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKGlkLCAxLCBcInBhdGNoXCIsIFwiaWRcIik7XG4gICAgICB2YWxpZGF0ZUFyZyh2YWx1ZSwgMiwgXCJwYXRjaFwiLCBcInZhbHVlXCIpO1xuICAgICAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zaGFsbG93TWVyZ2VcIiwge1xuICAgICAgICBpZDogY29udmV4VG9Kc29uKGlkKSxcbiAgICAgICAgdmFsdWU6IHBhdGNoVmFsdWVUb0pzb24odmFsdWUpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGFzeW5jIChpZCwgdmFsdWUpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKGlkLCAxLCBcInJlcGxhY2VcIiwgXCJpZFwiKTtcbiAgICAgIHZhbGlkYXRlQXJnKHZhbHVlLCAyLCBcInJlcGxhY2VcIiwgXCJ2YWx1ZVwiKTtcbiAgICAgIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvcmVwbGFjZVwiLCB7XG4gICAgICAgIGlkOiBjb252ZXhUb0pzb24oaWQpLFxuICAgICAgICB2YWx1ZTogY29udmV4VG9Kc29uKHZhbHVlKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgdmFsaWRhdGVBcmcoaWQsIDEsIFwiZGVsZXRlXCIsIFwiaWRcIik7XG4gICAgICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3JlbW92ZVwiLCB7IGlkOiBjb252ZXhUb0pzb24oaWQpIH0pO1xuICAgIH1cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGFiYXNlX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwianNvblRvQ29udmV4IiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsInBlcmZvcm1TeXNjYWxsIiwiUXVlcnlJbml0aWFsaXplckltcGwiLCJ2YWxpZGF0ZUFyZyIsInZlcnNpb24iLCJwYXRjaFZhbHVlVG9Kc29uIiwic2V0dXBSZWFkZXIiLCJyZWFkZXIiLCJpc1N5c3RlbSIsImdldCIsImlkIiwiRXJyb3IiLCJhcmdzIiwic3lzY2FsbEpTT04iLCJxdWVyeSIsInRhYmxlTmFtZSIsImFjY2Vzc2luZ1N5c3RlbVRhYmxlIiwic3RhcnRzV2l0aCIsIm5vcm1hbGl6ZUlkIiwidGFibGUiLCJpZFN0cmluZyIsInN5c2NhbGxSZXN1bHQiLCJzeXN0ZW0iLCJfIiwicmVzdCIsInIiLCJzZXR1cFdyaXRlciIsImluc2VydCIsInZhbHVlIiwiX2lkIiwicGF0Y2giLCJyZXBsYWNlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\");\n\n\n\nclass ExpressionImpl extends _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.Expression {\n    constructor(inner){\n        super();\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (l, r) {\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neq (l, r) {\n        return new ExpressionImpl({\n            $neq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lt (l, r) {\n        return new ExpressionImpl({\n            $lt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lte (l, r) {\n        return new ExpressionImpl({\n            $lte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gt (l, r) {\n        return new ExpressionImpl({\n            $gt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gte (l, r) {\n        return new ExpressionImpl({\n            $gte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    //  Arithmetic  //////////////////////////////////////////////////////////////\n    add (l, r) {\n        return new ExpressionImpl({\n            $add: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    sub (l, r) {\n        return new ExpressionImpl({\n            $sub: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mul (l, r) {\n        return new ExpressionImpl({\n            $mul: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    div (l, r) {\n        return new ExpressionImpl({\n            $div: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mod (l, r) {\n        return new ExpressionImpl({\n            $mod: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neg (x) {\n        return new ExpressionImpl({\n            $neg: serializeExpression(x)\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    and (...exprs) {\n        return new ExpressionImpl({\n            $and: exprs.map(serializeExpression)\n        });\n    },\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    },\n    not (x) {\n        return new ExpressionImpl({\n            $not: serializeExpression(x)\n        });\n    },\n    //  Other  ///////////////////////////////////////////////////////////////////\n    field (fieldPath) {\n        return new ExpressionImpl({\n            $field: fieldPath\n        });\n    }\n}; //# sourceMappingURL=filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2ZpbHRlcl9idWlsZGVyX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNtRDtBQUdsQztBQUN2QixNQUFNRSx1QkFBdUJELDBEQUFVQTtJQUM1Q0UsWUFBWUMsS0FBSyxDQUFFO1FBQ2pCLEtBQUs7UUFDTCxJQUFJLENBQUNBLEtBQUssR0FBR0E7SUFDZjtJQUNBQyxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUNELEtBQUs7SUFDbkI7QUFDRjtBQUNPLFNBQVNFLG9CQUFvQkMsSUFBSTtJQUN0QyxJQUFJQSxnQkFBZ0JMLGdCQUFnQjtRQUNsQyxPQUFPSyxLQUFLRixTQUFTO0lBQ3ZCLE9BQU87UUFDTCxPQUFPO1lBQUVHLFVBQVVSLHlFQUF1QkEsQ0FBQ087UUFBTTtJQUNuRDtBQUNGO0FBQ08sTUFBTUUsb0JBQW9CO0lBQy9CLDhFQUE4RTtJQUM5RUMsSUFBR0MsQ0FBQyxFQUFFQyxDQUFDO1FBQ0wsT0FBTyxJQUFJVixlQUFlO1lBQ3hCVyxLQUFLO2dCQUFDUCxvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDdkQ7SUFDRjtJQUNBRSxLQUFJSCxDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJhLE1BQU07Z0JBQUNULG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0FJLElBQUdMLENBQUMsRUFBRUMsQ0FBQztRQUNMLE9BQU8sSUFBSVYsZUFBZTtZQUN4QmUsS0FBSztnQkFBQ1gsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3ZEO0lBQ0Y7SUFDQU0sS0FBSVAsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCaUIsTUFBTTtnQkFBQ2Isb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQVEsSUFBR1QsQ0FBQyxFQUFFQyxDQUFDO1FBQ0wsT0FBTyxJQUFJVixlQUFlO1lBQ3hCbUIsS0FBSztnQkFBQ2Ysb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3ZEO0lBQ0Y7SUFDQVUsS0FBSVgsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCcUIsTUFBTTtnQkFBQ2pCLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0EsOEVBQThFO0lBQzlFWSxLQUFJYixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJ1QixNQUFNO2dCQUFDbkIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQWMsS0FBSWYsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCeUIsTUFBTTtnQkFBQ3JCLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0FnQixLQUFJakIsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCMkIsTUFBTTtnQkFBQ3ZCLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0FrQixLQUFJbkIsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCNkIsTUFBTTtnQkFBQ3pCLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0FvQixLQUFJckIsQ0FBQyxFQUFFQyxDQUFDO1FBQ04sT0FBTyxJQUFJVixlQUFlO1lBQ3hCK0IsTUFBTTtnQkFBQzNCLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN4RDtJQUNGO0lBQ0FzQixLQUFJQyxDQUFDO1FBQ0gsT0FBTyxJQUFJakMsZUFBZTtZQUFFa0MsTUFBTTlCLG9CQUFvQjZCO1FBQUc7SUFDM0Q7SUFDQSw4RUFBOEU7SUFDOUVFLEtBQUksR0FBR0MsS0FBSztRQUNWLE9BQU8sSUFBSXBDLGVBQWU7WUFBRXFDLE1BQU1ELE1BQU1FLEdBQUcsQ0FBQ2xDO1FBQXFCO0lBQ25FO0lBQ0FtQyxJQUFHLEdBQUdILEtBQUs7UUFDVCxPQUFPLElBQUlwQyxlQUFlO1lBQUV3QyxLQUFLSixNQUFNRSxHQUFHLENBQUNsQztRQUFxQjtJQUNsRTtJQUNBcUMsS0FBSVIsQ0FBQztRQUNILE9BQU8sSUFBSWpDLGVBQWU7WUFBRTBDLE1BQU10QyxvQkFBb0I2QjtRQUFHO0lBQzNEO0lBQ0EsOEVBQThFO0lBQzlFVSxPQUFNQyxTQUFTO1FBQ2IsT0FBTyxJQUFJNUMsZUFBZTtZQUFFNkMsUUFBUUQ7UUFBVTtJQUNoRDtBQUNGLEVBQUUsQ0FDRiwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2ZpbHRlcl9idWlsZGVyX2ltcGwuanM/ZGI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuaW1wb3J0IHtcbiAgRXhwcmVzc2lvblxufSBmcm9tIFwiLi4vZmlsdGVyX2J1aWxkZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uSW1wbCBleHRlbmRzIEV4cHJlc3Npb24ge1xuICBjb25zdHJ1Y3Rvcihpbm5lcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICB9XG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbm5lcjtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUV4cHJlc3Npb24oZXhwcikge1xuICBpZiAoZXhwciBpbnN0YW5jZW9mIEV4cHJlc3Npb25JbXBsKSB7XG4gICAgcmV0dXJuIGV4cHIuc2VyaWFsaXplKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgJGxpdGVyYWw6IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uKGV4cHIpIH07XG4gIH1cbn1cbmV4cG9ydCBjb25zdCBmaWx0ZXJCdWlsZGVySW1wbCA9IHtcbiAgLy8gIENvbXBhcmlzb25zICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGVxKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRlcTogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG5lcShsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbmVxOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbHQobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGx0OiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbHRlKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRsdGU6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBndChsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkZ3Q6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBndGUobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGd0ZTogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIC8vICBBcml0aG1ldGljICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBhZGQobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGFkZDogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIHN1YihsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkc3ViOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbXVsKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRtdWw6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBkaXYobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGRpdjogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG1vZChsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbW9kOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbmVnKHgpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHsgJG5lZzogc2VyaWFsaXplRXhwcmVzc2lvbih4KSB9KTtcbiAgfSxcbiAgLy8gIExvZ2ljICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGFuZCguLi5leHBycykge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkYW5kOiBleHBycy5tYXAoc2VyaWFsaXplRXhwcmVzc2lvbikgfSk7XG4gIH0sXG4gIG9yKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRvcjogZXhwcnMubWFwKHNlcmlhbGl6ZUV4cHJlc3Npb24pIH0pO1xuICB9LFxuICBub3QoeCkge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkbm90OiBzZXJpYWxpemVFeHByZXNzaW9uKHgpIH0pO1xuICB9LFxuICAvLyAgT3RoZXIgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZmllbGQoZmllbGRQYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRmaWVsZDogZmllbGRQYXRoIH0pO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyX2J1aWxkZXJfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhPclVuZGVmaW5lZFRvSnNvbiIsIkV4cHJlc3Npb24iLCJFeHByZXNzaW9uSW1wbCIsImNvbnN0cnVjdG9yIiwiaW5uZXIiLCJzZXJpYWxpemUiLCJzZXJpYWxpemVFeHByZXNzaW9uIiwiZXhwciIsIiRsaXRlcmFsIiwiZmlsdGVyQnVpbGRlckltcGwiLCJlcSIsImwiLCJyIiwiJGVxIiwibmVxIiwiJG5lcSIsImx0IiwiJGx0IiwibHRlIiwiJGx0ZSIsImd0IiwiJGd0IiwiZ3RlIiwiJGd0ZSIsImFkZCIsIiRhZGQiLCJzdWIiLCIkc3ViIiwibXVsIiwiJG11bCIsImRpdiIsIiRkaXYiLCJtb2QiLCIkbW9kIiwibmVnIiwieCIsIiRuZWciLCJhbmQiLCJleHBycyIsIiRhbmQiLCJtYXAiLCJvciIsIiRvciIsIm5vdCIsIiRub3QiLCJmaWVsZCIsImZpZWxkUGF0aCIsIiRmaWVsZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRangeBuilderImpl: () => (/* binding */ IndexRangeBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _index_range_builder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index_range_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\");\n\n\n\n\nclass IndexRangeBuilderImpl extends _index_range_builder_js__WEBPACK_IMPORTED_MODULE_2__.IndexRange {\n    constructor(rangeExpressions){\n        super();\n        this.rangeExpressions = rangeExpressions;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new IndexRangeBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes\");\n        }\n        this.isConsumed = true;\n    }\n    eq(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_1__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    gt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gt\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    gte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gte\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    lt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lt\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    lte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lte\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.rangeExpressions;\n    }\n} //# sourceMappingURL=index_range_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2luZGV4X3JhbmdlX2J1aWxkZXJfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFDd0M7QUFDVztBQUc3QjtBQUM1QixNQUFNRyw4QkFBOEJELCtEQUFVQTtJQUNuREUsWUFBWUMsZ0JBQWdCLENBQUU7UUFDNUIsS0FBSztRQUNMLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdBO1FBQ3hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosc0JBQXNCLEVBQUU7SUFDckM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxHQUFHQyxTQUFTLEVBQUVDLEtBQUssRUFBRTtRQUNuQixJQUFJLENBQUNKLE9BQU87UUFDWixPQUFPLElBQUlMLHNCQUNULElBQUksQ0FBQ0UsZ0JBQWdCLENBQUNRLE1BQU0sQ0FBQztZQUMzQkMsTUFBTTtZQUNOQyxXQUFXSjtZQUNYQyxPQUFPWCx5RUFBdUJBLENBQUNXO1FBQ2pDO0lBRUo7SUFDQUksR0FBR0wsU0FBUyxFQUFFQyxLQUFLLEVBQUU7UUFDbkIsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDUSxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0o7WUFDWEMsT0FBT1osOERBQVlBLENBQUNZO1FBQ3RCO0lBRUo7SUFDQUssSUFBSU4sU0FBUyxFQUFFQyxLQUFLLEVBQUU7UUFDcEIsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDUSxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0o7WUFDWEMsT0FBT1osOERBQVlBLENBQUNZO1FBQ3RCO0lBRUo7SUFDQU0sR0FBR1AsU0FBUyxFQUFFQyxLQUFLLEVBQUU7UUFDbkIsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDUSxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0o7WUFDWEMsT0FBT1osOERBQVlBLENBQUNZO1FBQ3RCO0lBRUo7SUFDQU8sSUFBSVIsU0FBUyxFQUFFQyxLQUFLLEVBQUU7UUFDcEIsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDUSxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0o7WUFDWEMsT0FBT1osOERBQVlBLENBQUNZO1FBQ3RCO0lBRUo7SUFDQVEsU0FBUztRQUNQLElBQUksQ0FBQ1osT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDSCxnQkFBZ0I7SUFDOUI7QUFDRixFQUNBLG9EQUFvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvaW5kZXhfcmFuZ2VfYnVpbGRlcl9pbXBsLmpzPzE2ODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhPclVuZGVmaW5lZFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvdmFsdWUuanNcIjtcbmltcG9ydCB7XG4gIEluZGV4UmFuZ2Vcbn0gZnJvbSBcIi4uL2luZGV4X3JhbmdlX2J1aWxkZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBJbmRleFJhbmdlQnVpbGRlckltcGwgZXh0ZW5kcyBJbmRleFJhbmdlIHtcbiAgY29uc3RydWN0b3IocmFuZ2VFeHByZXNzaW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zID0gcmFuZ2VFeHByZXNzaW9ucztcbiAgICB0aGlzLmlzQ29uc3VtZWQgPSBmYWxzZTtcbiAgfVxuICBzdGF0aWMgbmV3KCkge1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFtdKTtcbiAgfVxuICBjb25zdW1lKCkge1xuICAgIGlmICh0aGlzLmlzQ29uc3VtZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJJbmRleFJhbmdlQnVpbGRlciBoYXMgYWxyZWFkeSBiZWVuIHVzZWQhIENoYWluIHlvdXIgbWV0aG9kIGNhbGxzIGxpa2UgYHEgPT4gcS5lcSguLi4pLmVxKC4uLilgLiBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvdXNpbmcvaW5kZXhlc1wiXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmlzQ29uc3VtZWQgPSB0cnVlO1xuICB9XG4gIGVxKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChcbiAgICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkVxXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgZ3QoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiR3RcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgZ3RlKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChcbiAgICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkd0ZVwiLFxuICAgICAgICBmaWVsZFBhdGg6IGZpZWxkTmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBsdChmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIG5ldyBJbmRleFJhbmdlQnVpbGRlckltcGwoXG4gICAgICB0aGlzLnJhbmdlRXhwcmVzc2lvbnMuY29uY2F0KHtcbiAgICAgICAgdHlwZTogXCJMdFwiLFxuICAgICAgICBmaWVsZFBhdGg6IGZpZWxkTmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBsdGUoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiTHRlXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4VG9Kc29uKHZhbHVlKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGV4cG9ydCgpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gdGhpcy5yYW5nZUV4cHJlc3Npb25zO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleF9yYW5nZV9idWlsZGVyX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwiY29udmV4T3JVbmRlZmluZWRUb0pzb24iLCJJbmRleFJhbmdlIiwiSW5kZXhSYW5nZUJ1aWxkZXJJbXBsIiwiY29uc3RydWN0b3IiLCJyYW5nZUV4cHJlc3Npb25zIiwiaXNDb25zdW1lZCIsIm5ldyIsImNvbnN1bWUiLCJFcnJvciIsImVxIiwiZmllbGROYW1lIiwidmFsdWUiLCJjb25jYXQiLCJ0eXBlIiwiZmllbGRQYXRoIiwiZ3QiLCJndGUiLCJsdCIsImx0ZSIsImV4cG9ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/query_impl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryImpl: () => (/* binding */ QueryImpl),\n/* harmony export */   QueryInitializerImpl: () => (/* binding */ QueryInitializerImpl)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\");\n/* harmony import */ var _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index_range_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\");\n/* harmony import */ var _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search_filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n\n\n\n\n\n\n\n\nclass QueryInitializerImpl {\n    constructor(tableName){\n        this.tableName = tableName;\n    }\n    withIndex(indexName, indexRange) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withIndex\", \"indexName\");\n        let rangeBuilder = _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__.IndexRangeBuilderImpl.new();\n        if (indexRange !== void 0) {\n            rangeBuilder = indexRange(rangeBuilder);\n        }\n        return new QueryImpl({\n            source: {\n                type: \"IndexRange\",\n                indexName: this.tableName + \".\" + indexName,\n                range: rangeBuilder.export(),\n                order: null\n            },\n            operators: []\n        });\n    }\n    withSearchIndex(indexName, searchFilter) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withSearchIndex\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(searchFilter, 2, \"withSearchIndex\", \"searchFilter\");\n        const searchFilterBuilder = _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__.SearchFilterBuilderImpl.new();\n        return new QueryImpl({\n            source: {\n                type: \"Search\",\n                indexName: this.tableName + \".\" + indexName,\n                filters: searchFilter(searchFilterBuilder).export()\n            },\n            operators: []\n        });\n    }\n    fullTableScan() {\n        return new QueryImpl({\n            source: {\n                type: \"FullTableScan\",\n                tableName: this.tableName,\n                order: null\n            },\n            operators: []\n        });\n    }\n    order(order) {\n        return this.fullTableScan().order(order);\n    }\n    // This is internal API and should not be exposed to developers yet.\n    async count() {\n        const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/count\", {\n            table: this.tableName\n        });\n        const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON, false);\n        return syscallResult;\n    }\n    filter(predicate) {\n        return this.fullTableScan().filter(predicate);\n    }\n    limit(n) {\n        return this.fullTableScan().limit(n);\n    }\n    collect() {\n        return this.fullTableScan().collect();\n    }\n    take(n) {\n        return this.fullTableScan().take(n);\n    }\n    paginate(paginationOpts) {\n        return this.fullTableScan().paginate(paginationOpts);\n    }\n    first() {\n        return this.fullTableScan().first();\n    }\n    unique() {\n        return this.fullTableScan().unique();\n    }\n    [Symbol.asyncIterator]() {\n        return this.fullTableScan()[Symbol.asyncIterator]();\n    }\n}\nfunction throwClosedError(type) {\n    throw new Error(type === \"consumed\" ? \"This query is closed and can't emit any more values.\" : \"This query has been chained with another operator and can't be reused.\");\n}\nclass QueryImpl {\n    constructor(query){\n        this.state = {\n            type: \"preparing\",\n            query\n        };\n    }\n    takeQuery() {\n        if (this.state.type !== \"preparing\") {\n            throw new Error(\"A query can only be chained once and can't be chained after iteration begins.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"closed\"\n        };\n        return query;\n    }\n    startQuery() {\n        if (this.state.type === \"executing\") {\n            throw new Error(\"Iteration can only begin on a query once.\");\n        }\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const query = this.state.query;\n        const { queryId } = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryStream\", {\n            query,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        this.state = {\n            type: \"executing\",\n            queryId\n        };\n        return queryId;\n    }\n    closeQuery() {\n        if (this.state.type === \"executing\") {\n            const queryId = this.state.queryId;\n            (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryCleanup\", {\n                queryId\n            });\n        }\n        this.state = {\n            type: \"consumed\"\n        };\n    }\n    order(order) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(order, 1, \"order\", \"order\");\n        const query = this.takeQuery();\n        if (query.source.type === \"Search\") {\n            throw new Error(\"Search queries must always be in relevance order. Can not set order manually.\");\n        }\n        if (query.source.order !== null) {\n            throw new Error(\"Queries may only specify order at most once\");\n        }\n        query.source.order = order;\n        return new QueryImpl(query);\n    }\n    filter(predicate) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(predicate, 1, \"filter\", \"predicate\");\n        const query = this.takeQuery();\n        query.operators.push({\n            filter: (0,_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.serializeExpression)(predicate(_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.filterBuilderImpl))\n        });\n        return new QueryImpl(query);\n    }\n    limit(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"limit\", \"n\");\n        const query = this.takeQuery();\n        query.operators.push({\n            limit: n\n        });\n        return new QueryImpl(query);\n    }\n    [Symbol.asyncIterator]() {\n        this.startQuery();\n        return this;\n    }\n    async next() {\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const queryId = this.state.type === \"preparing\" ? this.startQuery() : this.state.queryId;\n        const { value, done } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryStreamNext\", {\n            queryId\n        });\n        if (done) {\n            this.closeQuery();\n        }\n        const convexValue = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(value, true);\n        return {\n            value: convexValue,\n            done\n        };\n    }\n    return() {\n        this.closeQuery();\n        return Promise.resolve({\n            done: true,\n            value: void 0\n        });\n    }\n    async paginate(paginationOpts) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(paginationOpts, 1, \"paginate\", \"options\");\n        if (typeof paginationOpts?.numItems !== \"number\" || paginationOpts.numItems < 0) {\n            throw new Error(`\\`options.numItems\\` must be a positive number. Received \\`${paginationOpts?.numItems}\\`.`);\n        }\n        const query = this.takeQuery();\n        const pageSize = paginationOpts.numItems;\n        const cursor = paginationOpts.cursor;\n        const endCursor = paginationOpts?.endCursor ?? null;\n        const maximumRowsRead = paginationOpts.maximumRowsRead ?? null;\n        const { page, isDone, continueCursor, splitCursor, pageStatus } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryPage\", {\n            query,\n            cursor,\n            endCursor,\n            pageSize,\n            maximumRowsRead,\n            maximumBytesRead: paginationOpts.maximumBytesRead,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        return {\n            page: page.map((json)=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(json, true)),\n            isDone,\n            continueCursor,\n            splitCursor,\n            pageStatus\n        };\n    }\n    async collect() {\n        const out = [];\n        for await (const item of this){\n            out.push(item);\n        }\n        return out;\n    }\n    async take(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"take\", \"n\");\n        return this.limit(n).collect();\n    }\n    async first() {\n        const first_array = await this.take(1);\n        return first_array.length === 0 ? null : first_array[0];\n    }\n    async unique() {\n        const first_two_array = await this.take(2);\n        if (first_two_array.length === 0) {\n            return null;\n        }\n        if (first_two_array.length === 2) {\n            throw new Error(\"unique() query returned more than one result\");\n        }\n        return first_two_array[0];\n    }\n} //# sourceMappingURL=query_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3F1ZXJ5X2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWE7QUFDd0M7QUFDYztBQUlqQztBQUdLO0FBR0U7QUFDRztBQUNIO0FBQ2xDLE1BQU1TO0lBQ1hDLFlBQVlDLFNBQVMsQ0FBRTtRQUNyQixJQUFJLENBQUNBLFNBQVMsR0FBR0E7SUFDbkI7SUFDQUMsVUFBVUMsU0FBUyxFQUFFQyxVQUFVLEVBQUU7UUFDL0JQLHlEQUFXQSxDQUFDTSxXQUFXLEdBQUcsYUFBYTtRQUN2QyxJQUFJRSxlQUFlViwrRUFBcUJBLENBQUNXLEdBQUc7UUFDNUMsSUFBSUYsZUFBZSxLQUFLLEdBQUc7WUFDekJDLGVBQWVELFdBQVdDO1FBQzVCO1FBQ0EsT0FBTyxJQUFJRSxVQUFVO1lBQ25CQyxRQUFRO2dCQUNOQyxNQUFNO2dCQUNOTixXQUFXLElBQUksQ0FBQ0YsU0FBUyxHQUFHLE1BQU1FO2dCQUNsQ08sT0FBT0wsYUFBYU0sTUFBTTtnQkFDMUJDLE9BQU87WUFDVDtZQUNBQyxXQUFXLEVBQUU7UUFDZjtJQUNGO0lBQ0FDLGdCQUFnQlgsU0FBUyxFQUFFWSxZQUFZLEVBQUU7UUFDdkNsQix5REFBV0EsQ0FBQ00sV0FBVyxHQUFHLG1CQUFtQjtRQUM3Q04seURBQVdBLENBQUNrQixjQUFjLEdBQUcsbUJBQW1CO1FBQ2hELE1BQU1DLHNCQUFzQnBCLG1GQUF1QkEsQ0FBQ1UsR0FBRztRQUN2RCxPQUFPLElBQUlDLFVBQVU7WUFDbkJDLFFBQVE7Z0JBQ05DLE1BQU07Z0JBQ05OLFdBQVcsSUFBSSxDQUFDRixTQUFTLEdBQUcsTUFBTUU7Z0JBQ2xDYyxTQUFTRixhQUFhQyxxQkFBcUJMLE1BQU07WUFDbkQ7WUFDQUUsV0FBVyxFQUFFO1FBQ2Y7SUFDRjtJQUNBSyxnQkFBZ0I7UUFDZCxPQUFPLElBQUlYLFVBQVU7WUFDbkJDLFFBQVE7Z0JBQ05DLE1BQU07Z0JBQ05SLFdBQVcs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M0c4QztZQUNBZ0I7WUFDQUM7WUFDQUY7WUFDQUc7WUFDQU0sa0JBQWtCL0IsZUFBZStCLGdCQUFnQjtZQUNqRC9ELE9BQU9BLGdEQUFBQTtRQUNUO1FBQ0EsT0FBTztZQUNMMEQsTUFBTUEsS0FBS00sR0FBRyxDQUFDLENBQUNDLE9BQVN6RSw4REFBWUEsQ0FBQ3lFLE1BQU07WUFDNUNOO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0Y7SUFDRjtJQUNBLE1BQU1qQyxVQUFVO1FBQ2QsTUFBTXFDLE1BQU0sRUFBRTtRQUNkLFdBQVcsTUFBTUMsUUFBUSxJQUFJLENBQUU7WUFDN0JELElBQUlyQixJQUFJLENBQUNzQjtRQUNYO1FBQ0EsT0FBT0Q7SUFDVDtJQUNBLE1BQU1wQyxLQUFLRixDQUFDLEVBQUU7UUFDWjdCLHlEQUFXQSxDQUFDNkIsR0FBRyxHQUFHLFFBQVE7UUFDMUIsT0FBTyxJQUFJLENBQUNELEtBQUssQ0FBQ0MsR0FBR0MsT0FBTztJQUM5QjtJQUNBLE1BQU1JLFFBQVE7UUFDWixNQUFNbUMsY0FBYyxNQUFNLElBQUksQ0FBQ3RDLElBQUksQ0FBQztRQUNwQyxPQUFPc0MsWUFBWUMsTUFBTSxLQUFLLElBQUksT0FBT0QsV0FBVyxDQUFDLEVBQUU7SUFDekQ7SUFDQSxNQUFNbEMsU0FBUztRQUNiLE1BQU1vQyxrQkFBa0IsTUFBTSxJQUFJLENBQUN4QyxJQUFJLENBQUM7UUFDeEMsSUFBSXdDLGdCQUFnQkQsTUFBTSxLQUFLLEdBQUc7WUFDaEMsT0FBTztRQUNUO1FBQ0EsSUFBSUMsZ0JBQWdCRCxNQUFNLEtBQUssR0FBRztZQUNoQyxNQUFNLElBQUkvQixNQUFNO1FBQ2xCO1FBQ0EsT0FBT2dDLGVBQWUsQ0FBQyxFQUFFO0lBQzNCO0FBQ0YsRUFDQSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3F1ZXJ5X2ltcGwuanM/ZGQzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwsIHBlcmZvcm1TeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHtcbiAgZmlsdGVyQnVpbGRlckltcGwsXG4gIHNlcmlhbGl6ZUV4cHJlc3Npb25cbn0gZnJvbSBcIi4vZmlsdGVyX2J1aWxkZXJfaW1wbC5qc1wiO1xuaW1wb3J0IHtcbiAgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsXG59IGZyb20gXCIuL2luZGV4X3JhbmdlX2J1aWxkZXJfaW1wbC5qc1wiO1xuaW1wb3J0IHtcbiAgU2VhcmNoRmlsdGVyQnVpbGRlckltcGxcbn0gZnJvbSBcIi4vc2VhcmNoX2ZpbHRlcl9idWlsZGVyX2ltcGwuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmV4cG9ydCBjbGFzcyBRdWVyeUluaXRpYWxpemVySW1wbCB7XG4gIGNvbnN0cnVjdG9yKHRhYmxlTmFtZSkge1xuICAgIHRoaXMudGFibGVOYW1lID0gdGFibGVOYW1lO1xuICB9XG4gIHdpdGhJbmRleChpbmRleE5hbWUsIGluZGV4UmFuZ2UpIHtcbiAgICB2YWxpZGF0ZUFyZyhpbmRleE5hbWUsIDEsIFwid2l0aEluZGV4XCIsIFwiaW5kZXhOYW1lXCIpO1xuICAgIGxldCByYW5nZUJ1aWxkZXIgPSBJbmRleFJhbmdlQnVpbGRlckltcGwubmV3KCk7XG4gICAgaWYgKGluZGV4UmFuZ2UgIT09IHZvaWQgMCkge1xuICAgICAgcmFuZ2VCdWlsZGVyID0gaW5kZXhSYW5nZShyYW5nZUJ1aWxkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbCh7XG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgdHlwZTogXCJJbmRleFJhbmdlXCIsXG4gICAgICAgIGluZGV4TmFtZTogdGhpcy50YWJsZU5hbWUgKyBcIi5cIiArIGluZGV4TmFtZSxcbiAgICAgICAgcmFuZ2U6IHJhbmdlQnVpbGRlci5leHBvcnQoKSxcbiAgICAgICAgb3JkZXI6IG51bGxcbiAgICAgIH0sXG4gICAgICBvcGVyYXRvcnM6IFtdXG4gICAgfSk7XG4gIH1cbiAgd2l0aFNlYXJjaEluZGV4KGluZGV4TmFtZSwgc2VhcmNoRmlsdGVyKSB7XG4gICAgdmFsaWRhdGVBcmcoaW5kZXhOYW1lLCAxLCBcIndpdGhTZWFyY2hJbmRleFwiLCBcImluZGV4TmFtZVwiKTtcbiAgICB2YWxpZGF0ZUFyZyhzZWFyY2hGaWx0ZXIsIDIsIFwid2l0aFNlYXJjaEluZGV4XCIsIFwic2VhcmNoRmlsdGVyXCIpO1xuICAgIGNvbnN0IHNlYXJjaEZpbHRlckJ1aWxkZXIgPSBTZWFyY2hGaWx0ZXJCdWlsZGVySW1wbC5uZXcoKTtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbCh7XG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgdHlwZTogXCJTZWFyY2hcIixcbiAgICAgICAgaW5kZXhOYW1lOiB0aGlzLnRhYmxlTmFtZSArIFwiLlwiICsgaW5kZXhOYW1lLFxuICAgICAgICBmaWx0ZXJzOiBzZWFyY2hGaWx0ZXIoc2VhcmNoRmlsdGVyQnVpbGRlcikuZXhwb3J0KClcbiAgICAgIH0sXG4gICAgICBvcGVyYXRvcnM6IFtdXG4gICAgfSk7XG4gIH1cbiAgZnVsbFRhYmxlU2NhbigpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbCh7XG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgdHlwZTogXCJGdWxsVGFibGVTY2FuXCIsXG4gICAgICAgIHRhYmxlTmFtZTogdGhpcy50YWJsZU5hbWUsXG4gICAgICAgIG9yZGVyOiBudWxsXG4gICAgICB9LFxuICAgICAgb3BlcmF0b3JzOiBbXVxuICAgIH0pO1xuICB9XG4gIG9yZGVyKG9yZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbFRhYmxlU2NhbigpLm9yZGVyKG9yZGVyKTtcbiAgfVxuICAvLyBUaGlzIGlzIGludGVybmFsIEFQSSBhbmQgc2hvdWxkIG5vdCBiZSBleHBvc2VkIHRvIGRldmVsb3BlcnMgeWV0LlxuICBhc3luYyBjb3VudCgpIHtcbiAgICBjb25zdCBzeXNjYWxsSlNPTiA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvY291bnRcIiwge1xuICAgICAgdGFibGU6IHRoaXMudGFibGVOYW1lXG4gICAgfSk7XG4gICAgY29uc3Qgc3lzY2FsbFJlc3VsdCA9IGpzb25Ub0NvbnZleChzeXNjYWxsSlNPTiwgZmFsc2UpO1xuICAgIHJldHVybiBzeXNjYWxsUmVzdWx0O1xuICB9XG4gIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkuZmlsdGVyKHByZWRpY2F0ZSk7XG4gIH1cbiAgbGltaXQobikge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5saW1pdChuKTtcbiAgfVxuICBjb2xsZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5jb2xsZWN0KCk7XG4gIH1cbiAgdGFrZShuKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbFRhYmxlU2NhbigpLnRha2Uobik7XG4gIH1cbiAgcGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkucGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpO1xuICB9XG4gIGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5maXJzdCgpO1xuICB9XG4gIHVuaXF1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkudW5pcXVlKCk7XG4gIH1cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKClbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRocm93Q2xvc2VkRXJyb3IodHlwZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgdHlwZSA9PT0gXCJjb25zdW1lZFwiID8gXCJUaGlzIHF1ZXJ5IGlzIGNsb3NlZCBhbmQgY2FuJ3QgZW1pdCBhbnkgbW9yZSB2YWx1ZXMuXCIgOiBcIlRoaXMgcXVlcnkgaGFzIGJlZW4gY2hhaW5lZCB3aXRoIGFub3RoZXIgb3BlcmF0b3IgYW5kIGNhbid0IGJlIHJldXNlZC5cIlxuICApO1xufVxuZXhwb3J0IGNsYXNzIFF1ZXJ5SW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdHlwZTogXCJwcmVwYXJpbmdcIiwgcXVlcnkgfTtcbiAgfVxuICB0YWtlUXVlcnkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSAhPT0gXCJwcmVwYXJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkEgcXVlcnkgY2FuIG9ubHkgYmUgY2hhaW5lZCBvbmNlIGFuZCBjYW4ndCBiZSBjaGFpbmVkIGFmdGVyIGl0ZXJhdGlvbiBiZWdpbnMuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zdGF0ZS5xdWVyeTtcbiAgICB0aGlzLnN0YXRlID0geyB0eXBlOiBcImNsb3NlZFwiIH07XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG4gIHN0YXJ0UXVlcnkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSA9PT0gXCJleGVjdXRpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSXRlcmF0aW9uIGNhbiBvbmx5IGJlZ2luIG9uIGEgcXVlcnkgb25jZS5cIik7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgPT09IFwiY2xvc2VkXCIgfHwgdGhpcy5zdGF0ZS50eXBlID09PSBcImNvbnN1bWVkXCIpIHtcbiAgICAgIHRocm93Q2xvc2VkRXJyb3IodGhpcy5zdGF0ZS50eXBlKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5O1xuICAgIGNvbnN0IHsgcXVlcnlJZCB9ID0gcGVyZm9ybVN5c2NhbGwoXCIxLjAvcXVlcnlTdHJlYW1cIiwgeyBxdWVyeSwgdmVyc2lvbiB9KTtcbiAgICB0aGlzLnN0YXRlID0geyB0eXBlOiBcImV4ZWN1dGluZ1wiLCBxdWVyeUlkIH07XG4gICAgcmV0dXJuIHF1ZXJ5SWQ7XG4gIH1cbiAgY2xvc2VRdWVyeSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09PSBcImV4ZWN1dGluZ1wiKSB7XG4gICAgICBjb25zdCBxdWVyeUlkID0gdGhpcy5zdGF0ZS5xdWVyeUlkO1xuICAgICAgcGVyZm9ybVN5c2NhbGwoXCIxLjAvcXVlcnlDbGVhbnVwXCIsIHsgcXVlcnlJZCB9KTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IHsgdHlwZTogXCJjb25zdW1lZFwiIH07XG4gIH1cbiAgb3JkZXIob3JkZXIpIHtcbiAgICB2YWxpZGF0ZUFyZyhvcmRlciwgMSwgXCJvcmRlclwiLCBcIm9yZGVyXCIpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy50YWtlUXVlcnkoKTtcbiAgICBpZiAocXVlcnkuc291cmNlLnR5cGUgPT09IFwiU2VhcmNoXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJTZWFyY2ggcXVlcmllcyBtdXN0IGFsd2F5cyBiZSBpbiByZWxldmFuY2Ugb3JkZXIuIENhbiBub3Qgc2V0IG9yZGVyIG1hbnVhbGx5LlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocXVlcnkuc291cmNlLm9yZGVyICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRdWVyaWVzIG1heSBvbmx5IHNwZWNpZnkgb3JkZXIgYXQgbW9zdCBvbmNlXCIpO1xuICAgIH1cbiAgICBxdWVyeS5zb3VyY2Uub3JkZXIgPSBvcmRlcjtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbChxdWVyeSk7XG4gIH1cbiAgZmlsdGVyKHByZWRpY2F0ZSkge1xuICAgIHZhbGlkYXRlQXJnKHByZWRpY2F0ZSwgMSwgXCJmaWx0ZXJcIiwgXCJwcmVkaWNhdGVcIik7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnRha2VRdWVyeSgpO1xuICAgIHF1ZXJ5Lm9wZXJhdG9ycy5wdXNoKHtcbiAgICAgIGZpbHRlcjogc2VyaWFsaXplRXhwcmVzc2lvbihwcmVkaWNhdGUoZmlsdGVyQnVpbGRlckltcGwpKVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgUXVlcnlJbXBsKHF1ZXJ5KTtcbiAgfVxuICBsaW1pdChuKSB7XG4gICAgdmFsaWRhdGVBcmcobiwgMSwgXCJsaW1pdFwiLCBcIm5cIik7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnRha2VRdWVyeSgpO1xuICAgIHF1ZXJ5Lm9wZXJhdG9ycy5wdXNoKHsgbGltaXQ6IG4gfSk7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwocXVlcnkpO1xuICB9XG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgdGhpcy5zdGFydFF1ZXJ5KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXN5bmMgbmV4dCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09PSBcImNsb3NlZFwiIHx8IHRoaXMuc3RhdGUudHlwZSA9PT0gXCJjb25zdW1lZFwiKSB7XG4gICAgICB0aHJvd0Nsb3NlZEVycm9yKHRoaXMuc3RhdGUudHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5SWQgPSB0aGlzLnN0YXRlLnR5cGUgPT09IFwicHJlcGFyaW5nXCIgPyB0aGlzLnN0YXJ0UXVlcnkoKSA6IHRoaXMuc3RhdGUucXVlcnlJZDtcbiAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3F1ZXJ5U3RyZWFtTmV4dFwiLCB7XG4gICAgICBxdWVyeUlkXG4gICAgfSk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIHRoaXMuY2xvc2VRdWVyeSgpO1xuICAgIH1cbiAgICBjb25zdCBjb252ZXhWYWx1ZSA9IGpzb25Ub0NvbnZleCh2YWx1ZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHsgdmFsdWU6IGNvbnZleFZhbHVlLCBkb25lIH07XG4gIH1cbiAgcmV0dXJuKCkge1xuICAgIHRoaXMuY2xvc2VRdWVyeSgpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdm9pZCAwIH0pO1xuICB9XG4gIGFzeW5jIHBhZ2luYXRlKHBhZ2luYXRpb25PcHRzKSB7XG4gICAgdmFsaWRhdGVBcmcocGFnaW5hdGlvbk9wdHMsIDEsIFwicGFnaW5hdGVcIiwgXCJvcHRpb25zXCIpO1xuICAgIGlmICh0eXBlb2YgcGFnaW5hdGlvbk9wdHM/Lm51bUl0ZW1zICE9PSBcIm51bWJlclwiIHx8IHBhZ2luYXRpb25PcHRzLm51bUl0ZW1zIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgXFxgb3B0aW9ucy5udW1JdGVtc1xcYCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBSZWNlaXZlZCBcXGAke3BhZ2luYXRpb25PcHRzPy5udW1JdGVtc31cXGAuYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnRha2VRdWVyeSgpO1xuICAgIGNvbnN0IHBhZ2VTaXplID0gcGFnaW5hdGlvbk9wdHMubnVtSXRlbXM7XG4gICAgY29uc3QgY3Vyc29yID0gcGFnaW5hdGlvbk9wdHMuY3Vyc29yO1xuICAgIGNvbnN0IGVuZEN1cnNvciA9IHBhZ2luYXRpb25PcHRzPy5lbmRDdXJzb3IgPz8gbnVsbDtcbiAgICBjb25zdCBtYXhpbXVtUm93c1JlYWQgPSBwYWdpbmF0aW9uT3B0cy5tYXhpbXVtUm93c1JlYWQgPz8gbnVsbDtcbiAgICBjb25zdCB7IHBhZ2UsIGlzRG9uZSwgY29udGludWVDdXJzb3IsIHNwbGl0Q3Vyc29yLCBwYWdlU3RhdHVzIH0gPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3F1ZXJ5UGFnZVwiLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIGN1cnNvcixcbiAgICAgIGVuZEN1cnNvcixcbiAgICAgIHBhZ2VTaXplLFxuICAgICAgbWF4aW11bVJvd3NSZWFkLFxuICAgICAgbWF4aW11bUJ5dGVzUmVhZDogcGFnaW5hdGlvbk9wdHMubWF4aW11bUJ5dGVzUmVhZCxcbiAgICAgIHZlcnNpb25cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZTogcGFnZS5tYXAoKGpzb24pID0+IGpzb25Ub0NvbnZleChqc29uLCB0cnVlKSksXG4gICAgICBpc0RvbmUsXG4gICAgICBjb250aW51ZUN1cnNvcixcbiAgICAgIHNwbGl0Q3Vyc29yLFxuICAgICAgcGFnZVN0YXR1c1xuICAgIH07XG4gIH1cbiAgYXN5bmMgY29sbGVjdCgpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgdGhpcykge1xuICAgICAgb3V0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgYXN5bmMgdGFrZShuKSB7XG4gICAgdmFsaWRhdGVBcmcobiwgMSwgXCJ0YWtlXCIsIFwiblwiKTtcbiAgICByZXR1cm4gdGhpcy5saW1pdChuKS5jb2xsZWN0KCk7XG4gIH1cbiAgYXN5bmMgZmlyc3QoKSB7XG4gICAgY29uc3QgZmlyc3RfYXJyYXkgPSBhd2FpdCB0aGlzLnRha2UoMSk7XG4gICAgcmV0dXJuIGZpcnN0X2FycmF5Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiBmaXJzdF9hcnJheVswXTtcbiAgfVxuICBhc3luYyB1bmlxdWUoKSB7XG4gICAgY29uc3QgZmlyc3RfdHdvX2FycmF5ID0gYXdhaXQgdGhpcy50YWtlKDIpO1xuICAgIGlmIChmaXJzdF90d29fYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZpcnN0X3R3b19hcnJheS5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuaXF1ZSgpIHF1ZXJ5IHJldHVybmVkIG1vcmUgdGhhbiBvbmUgcmVzdWx0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gZmlyc3RfdHdvX2FycmF5WzBdO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeV9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImpzb25Ub0NvbnZleCIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwZXJmb3JtU3lzY2FsbCIsImZpbHRlckJ1aWxkZXJJbXBsIiwic2VyaWFsaXplRXhwcmVzc2lvbiIsIkluZGV4UmFuZ2VCdWlsZGVySW1wbCIsIlNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIiwidmFsaWRhdGVBcmciLCJ2ZXJzaW9uIiwiUXVlcnlJbml0aWFsaXplckltcGwiLCJjb25zdHJ1Y3RvciIsInRhYmxlTmFtZSIsIndpdGhJbmRleCIsImluZGV4TmFtZSIsImluZGV4UmFuZ2UiLCJyYW5nZUJ1aWxkZXIiLCJuZXciLCJRdWVyeUltcGwiLCJzb3VyY2UiLCJ0eXBlIiwicmFuZ2UiLCJleHBvcnQiLCJvcmRlciIsIm9wZXJhdG9ycyIsIndpdGhTZWFyY2hJbmRleCIsInNlYXJjaEZpbHRlciIsInNlYXJjaEZpbHRlckJ1aWxkZXIiLCJmaWx0ZXJzIiwiZnVsbFRhYmxlU2NhbiIsImNvdW50Iiwic3lzY2FsbEpTT04iLCJ0YWJsZSIsInN5c2NhbGxSZXN1bHQiLCJmaWx0ZXIiLCJwcmVkaWNhdGUiLCJsaW1pdCIsIm4iLCJjb2xsZWN0IiwidGFrZSIsInBhZ2luYXRlIiwicGFnaW5hdGlvbk9wdHMiLCJmaXJzdCIsInVuaXF1ZSIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0aHJvd0Nsb3NlZEVycm9yIiwiRXJyb3IiLCJxdWVyeSIsInN0YXRlIiwidGFrZVF1ZXJ5Iiwic3RhcnRRdWVyeSIsInF1ZXJ5SWQiLCJjbG9zZVF1ZXJ5IiwicHVzaCIsIm5leHQiLCJ2YWx1ZSIsImRvbmUiLCJjb252ZXhWYWx1ZSIsInJldHVybiIsIlByb21pc2UiLCJyZXNvbHZlIiwibnVtSXRlbXMiLCJwYWdlU2l6ZSIsImN1cnNvciIsImVuZEN1cnNvciIsIm1heGltdW1Sb3dzUmVhZCIsInBhZ2UiLCJpc0RvbmUiLCJjb250aW51ZUN1cnNvciIsInNwbGl0Q3Vyc29yIiwicGFnZVN0YXR1cyIsIm1heGltdW1CeXRlc1JlYWQiLCJtYXAiLCJqc29uIiwib3V0IiwiaXRlbSIsImZpcnN0X2FycmF5IiwibGVuZ3RoIiwiZmlyc3RfdHdvX2FycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/registration_impl.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionGeneric: () => (/* binding */ actionGeneric),\n/* harmony export */   httpActionGeneric: () => (/* binding */ httpActionGeneric),\n/* harmony export */   internalActionGeneric: () => (/* binding */ internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* binding */ internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* binding */ internalQueryGeneric),\n/* harmony export */   mutationGeneric: () => (/* binding */ mutationGeneric),\n/* harmony export */   queryGeneric: () => (/* binding */ queryGeneric)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _actions_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\");\n/* harmony import */ var _vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vector_search_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\");\n/* harmony import */ var _authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authentication_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\");\n/* harmony import */ var _database_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./database_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scheduler_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\");\n/* harmony import */ var _storage_impl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./storage_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\");\n\n\n\n\n\n\n\n\n\nasync function invokeMutation(func, argsStr) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr), false);\n    const mutationCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupWriter)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupMutationScheduler)()\n    };\n    const result = await invokeFunction(func, mutationCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nfunction validateReturnValue(v2) {\n    if (v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryInitializerImpl || v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryImpl) {\n        throw new Error(\"Return value is a Query. Results must be retrieved with `.collect()`, `.take(n), `.unique()`, or `.first()`.\");\n    }\n}\nasync function invokeFunction(func, ctx, args) {\n    let result;\n    try {\n        result = await Promise.resolve(func(ctx, ...args));\n    } catch (thrown) {\n        throw serializeConvexErrorData(thrown);\n    }\n    return result;\n}\nfunction serializeConvexErrorData(thrown) {\n    if (typeof thrown === \"object\" && thrown !== null && Symbol.for(\"ConvexError\") in thrown) {\n        const error = thrown;\n        error.data = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(error.data === void 0 ? null : error.data));\n        error.ConvexErrorSymbol = Symbol.for(\"ConvexError\");\n        return error;\n    } else {\n        return thrown;\n    }\n}\nfunction assertNotBrowser() {\n    if (true) {\n        return;\n    }\n    const isRealBrowser = Object.getOwnPropertyDescriptor(globalThis, \"window\")?.get?.toString().includes(\"[native code]\") ?? false;\n    if (isRealBrowser) {\n        throw new Error(\"Convex functions should not be imported in the browser.\");\n    }\n}\nfunction exportArgs(functionDefinition) {\n    return ()=>{\n        let args = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.v.any();\n        if (typeof functionDefinition === \"object\" && functionDefinition.args !== void 0) {\n            args = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.v.object(functionDefinition.args);\n        }\n        return JSON.stringify(args.json);\n    };\n}\nconst mutationGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isMutation = true;\n    func.isPublic = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(func, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nconst internalMutationGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isMutation = true;\n    func.isInternal = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(func, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nasync function invokeQuery(func, argsStr, allowMapsAndSetsInReturnValue) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr), false);\n    const queryCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupReader)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageReader)(requestId)\n    };\n    const result = await invokeFunction(func, queryCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result, allowMapsAndSetsInReturnValue));\n}\nconst queryGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isQuery = true;\n    func.isPublic = true;\n    func.invokeQuery = (argsStr, allowMapsAndSetsInReturnValue)=>invokeQuery(func, argsStr, allowMapsAndSetsInReturnValue);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nconst internalQueryGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isQuery = true;\n    func.isInternal = true;\n    func.invokeQuery = (argsStr)=>invokeQuery(func, argsStr, false);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nasync function invokeAction(func, requestId, argsStr) {\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr), false);\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    const result = await invokeFunction(func, ctx, args);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nconst actionGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isAction = true;\n    func.isPublic = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(func, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nconst internalActionGeneric = (functionDefinition)=>{\n    const func = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    if (func.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    func.isRegistered = true;\n    func.isAction = true;\n    func.isInternal = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(func, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    return func;\n};\nasync function invokeHttpAction(func, request) {\n    const requestId = \"\";\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    return await invokeFunction(func, ctx, [\n        request\n    ]);\n}\nconst httpActionGeneric = (func)=>{\n    const q = func;\n    if (q.isRegistered) {\n        throw new Error(\"Function registered twice \" + func);\n    }\n    assertNotBrowser();\n    q.isRegistered = true;\n    q.isHttp = true;\n    q.invokeHttpAction = (request)=>invokeHttpAction(func, request);\n    return q;\n}; //# sourceMappingURL=registration_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBS2tCO0FBQ3NCO0FBQ2E7QUFDYjtBQUNTO0FBQ0k7QUFJckM7QUFLRjtBQUMzQixlQUFlZSxlQUFlQyxJQUFJLEVBQUVDLE9BQU87SUFDekMsTUFBTUMsWUFBWTtJQUNsQixNQUFNQyxPQUFPbEIsOERBQVlBLENBQUNtQixLQUFLQyxLQUFLLENBQUNKLFVBQVU7SUFDL0MsTUFBTUssY0FBYztRQUNsQkMsSUFBSWhCLDhEQUFXQTtRQUNmaUIsTUFBTW5CLGtFQUFTQSxDQUFDYTtRQUNoQk8sU0FBU1gsb0VBQWtCQSxDQUFDSTtRQUM1QlEsV0FBV2YsMEVBQXNCQTtJQUNuQztJQUNBLE1BQU1nQixTQUFTLE1BQU1DLGVBQWVaLE1BQU1NLGFBQWFIO0lBQ3ZEVSxvQkFBb0JGO0lBQ3BCLE9BQU9QLEtBQUtVLFNBQVMsQ0FBQzlCLDhEQUFZQSxDQUFDMkIsV0FBVyxLQUFLLElBQUksT0FBT0E7QUFDaEU7QUFDQSxTQUFTRSxvQkFBb0JFLEVBQUU7SUFDN0IsSUFBSUEsY0FBY3RCLGdFQUFvQkEsSUFBSXNCLGNBQWN2QixxREFBU0EsRUFBRTtRQUNqRSxNQUFNLElBQUl3QixNQUNSO0lBRUo7QUFDRjtBQUNBLGVBQWVKLGVBQWVaLElBQUksRUFBRWlCLEdBQUcsRUFBRWQsSUFBSTtJQUMzQyxJQUFJUTtJQUNKLElBQUk7UUFDRkEsU0FBUyxNQUFNTyxRQUFRQyxPQUFPLENBQUNuQixLQUFLaUIsUUFBUWQ7SUFDOUMsRUFBRSxPQUFPaUIsUUFBUTtRQUNmLE1BQU1DLHlCQUF5QkQ7SUFDakM7SUFDQSxPQUFPVDtBQUNUO0FBQ0EsU0FBU1UseUJBQXlCRCxNQUFNO0lBQ3RDLElBQUksT0FBT0EsV0FBVyxZQUFZQSxXQUFXLFFBQVFFLE9BQU9DLEdBQUcsQ0FBQyxrQkFBa0JILFFB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YiwwRUFBd0JBLENBQUNNO1FBQ2xDUSxXQUFXaEIsd0VBQW9CQSxDQUFDUTtRQUNoQ3VELGNBQWNyRSwrRUFBdUJBLENBQUNjO0lBQ3hDO0lBQ0EsT0FBTyxNQUFNVSxlQUFlWixNQUFNaUIsS0FBSztRQUFDNkM7S0FBUTtBQUNsRDtBQUNPLE1BQU1DLG9CQUFvQixDQUFDL0Q7SUFDaEMsTUFBTWdFLElBQUloRTtJQUNWLElBQUlnRSxFQUFFcEIsWUFBWSxFQUFFO1FBQ2xCLE1BQU0sSUFBSTVCLE1BQU0sK0JBQStCaEI7SUFDakQ7SUFDQTJCO0lBQ0FxQyxFQUFFcEIsWUFBWSxHQUFHO0lBQ2pCb0IsRUFBRUMsTUFBTSxHQUFHO0lBQ1hELEVBQUVILGdCQUFnQixHQUFHLENBQUNDLFVBQVlELGlCQUFpQjdELE1BQU04RDtJQUN6RCxPQUFPRTtBQUNULEVBQUUsQ0FDRiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzPzU0YTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQge1xuICBjb252ZXhUb0pzb24sXG4gIGpzb25Ub0NvbnZleCxcbiAgdlxufSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXR1cEFjdGlvbkNhbGxzIH0gZnJvbSBcIi4vYWN0aW9uc19pbXBsLmpzXCI7XG5pbXBvcnQgeyBzZXR1cEFjdGlvblZlY3RvclNlYXJjaCB9IGZyb20gXCIuL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBBdXRoIH0gZnJvbSBcIi4vYXV0aGVudGljYXRpb25faW1wbC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBSZWFkZXIsIHNldHVwV3JpdGVyIH0gZnJvbSBcIi4vZGF0YWJhc2VfaW1wbC5qc1wiO1xuaW1wb3J0IHsgUXVlcnlJbXBsLCBRdWVyeUluaXRpYWxpemVySW1wbCB9IGZyb20gXCIuL3F1ZXJ5X2ltcGwuanNcIjtcbmltcG9ydCB7XG4gIHNldHVwQWN0aW9uU2NoZWR1bGVyLFxuICBzZXR1cE11dGF0aW9uU2NoZWR1bGVyXG59IGZyb20gXCIuL3NjaGVkdWxlcl9pbXBsLmpzXCI7XG5pbXBvcnQge1xuICBzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIsXG4gIHNldHVwU3RvcmFnZVJlYWRlcixcbiAgc2V0dXBTdG9yYWdlV3JpdGVyXG59IGZyb20gXCIuL3N0b3JhZ2VfaW1wbC5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gaW52b2tlTXV0YXRpb24oZnVuYywgYXJnc1N0cikge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBhcmdzID0ganNvblRvQ29udmV4KEpTT04ucGFyc2UoYXJnc1N0ciksIGZhbHNlKTtcbiAgY29uc3QgbXV0YXRpb25DdHggPSB7XG4gICAgZGI6IHNldHVwV3JpdGVyKCksXG4gICAgYXV0aDogc2V0dXBBdXRoKHJlcXVlc3RJZCksXG4gICAgc3RvcmFnZTogc2V0dXBTdG9yYWdlV3JpdGVyKHJlcXVlc3RJZCksXG4gICAgc2NoZWR1bGVyOiBzZXR1cE11dGF0aW9uU2NoZWR1bGVyKClcbiAgfTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlRnVuY3Rpb24oZnVuYywgbXV0YXRpb25DdHgsIGFyZ3MpO1xuICB2YWxpZGF0ZVJldHVyblZhbHVlKHJlc3VsdCk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJldHVyblZhbHVlKHYyKSB7XG4gIGlmICh2MiBpbnN0YW5jZW9mIFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsIHx8IHYyIGluc3RhbmNlb2YgUXVlcnlJbXBsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJSZXR1cm4gdmFsdWUgaXMgYSBRdWVyeS4gUmVzdWx0cyBtdXN0IGJlIHJldHJpZXZlZCB3aXRoIGAuY29sbGVjdCgpYCwgYC50YWtlKG4pLCBgLnVuaXF1ZSgpYCwgb3IgYC5maXJzdCgpYC5cIlxuICAgICk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgYXJncykge1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShmdW5jKGN0eCwgLi4uYXJncykpO1xuICB9IGNhdGNoICh0aHJvd24pIHtcbiAgICB0aHJvdyBzZXJpYWxpemVDb252ZXhFcnJvckRhdGEodGhyb3duKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplQ29udmV4RXJyb3JEYXRhKHRocm93bikge1xuICBpZiAodHlwZW9mIHRocm93biA9PT0gXCJvYmplY3RcIiAmJiB0aHJvd24gIT09IG51bGwgJiYgU3ltYm9sLmZvcihcIkNvbnZleEVycm9yXCIpIGluIHRocm93bikge1xuICAgIGNvbnN0IGVycm9yID0gdGhyb3duO1xuICAgIGVycm9yLmRhdGEgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIGNvbnZleFRvSnNvbihlcnJvci5kYXRhID09PSB2b2lkIDAgPyBudWxsIDogZXJyb3IuZGF0YSlcbiAgICApO1xuICAgIGVycm9yLkNvbnZleEVycm9yU3ltYm9sID0gU3ltYm9sLmZvcihcIkNvbnZleEVycm9yXCIpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhyb3duO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3RCcm93c2VyKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93Ll9fY29udmV4QWxsb3dGdW5jdGlvbnNJbkJyb3dzZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaXNSZWFsQnJvd3NlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsVGhpcywgXCJ3aW5kb3dcIik/LmdldD8udG9TdHJpbmcoKS5pbmNsdWRlcyhcIltuYXRpdmUgY29kZV1cIikgPz8gZmFsc2U7XG4gIGlmIChpc1JlYWxCcm93c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4IGZ1bmN0aW9ucyBzaG91bGQgbm90IGJlIGltcG9ydGVkIGluIHRoZSBicm93c2VyLlwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZXhwb3J0QXJncyhmdW5jdGlvbkRlZmluaXRpb24pIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgYXJncyA9IHYuYW55KCk7XG4gICAgaWYgKHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwib2JqZWN0XCIgJiYgZnVuY3Rpb25EZWZpbml0aW9uLmFyZ3MgIT09IHZvaWQgMCkge1xuICAgICAgYXJncyA9IHYub2JqZWN0KGZ1bmN0aW9uRGVmaW5pdGlvbi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3MuanNvbik7XG4gIH07XG59XG5leHBvcnQgY29uc3QgbXV0YXRpb25HZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBmdW5jID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGlmIChmdW5jLmlzUmVnaXN0ZXJlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIHJlZ2lzdGVyZWQgdHdpY2UgXCIgKyBmdW5jKTtcbiAgfVxuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgZnVuYy5pc011dGF0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlTXV0YXRpb24gPSAoYXJnc1N0cikgPT4gaW52b2tlTXV0YXRpb24oZnVuYywgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsTXV0YXRpb25HZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBmdW5jID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGlmIChmdW5jLmlzUmVnaXN0ZXJlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIHJlZ2lzdGVyZWQgdHdpY2UgXCIgKyBmdW5jKTtcbiAgfVxuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgZnVuYy5pc011dGF0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc0ludGVybmFsID0gdHJ1ZTtcbiAgZnVuYy5pbnZva2VNdXRhdGlvbiA9IChhcmdzU3RyKSA9PiBpbnZva2VNdXRhdGlvbihmdW5jLCBhcmdzU3RyKTtcbiAgZnVuYy5leHBvcnRBcmdzID0gZXhwb3J0QXJncyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICByZXR1cm4gZnVuYztcbn07XG5hc3luYyBmdW5jdGlvbiBpbnZva2VRdWVyeShmdW5jLCBhcmdzU3RyLCBhbGxvd01hcHNBbmRTZXRzSW5SZXR1cm5WYWx1ZSkge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBhcmdzID0ganNvblRvQ29udmV4KEpTT04ucGFyc2UoYXJnc1N0ciksIGZhbHNlKTtcbiAgY29uc3QgcXVlcnlDdHggPSB7XG4gICAgZGI6IHNldHVwUmVhZGVyKCksXG4gICAgYXV0aDogc2V0dXBBdXRoKHJlcXVlc3RJZCksXG4gICAgc3RvcmFnZTogc2V0dXBTdG9yYWdlUmVhZGVyKHJlcXVlc3RJZClcbiAgfTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlRnVuY3Rpb24oZnVuYywgcXVlcnlDdHgsIGFyZ3MpO1xuICB2YWxpZGF0ZVJldHVyblZhbHVlKHJlc3VsdCk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICBjb252ZXhUb0pzb24oXG4gICAgICByZXN1bHQgPT09IHZvaWQgMCA/IG51bGwgOiByZXN1bHQsXG4gICAgICBhbGxvd01hcHNBbmRTZXRzSW5SZXR1cm5WYWx1ZVxuICAgIClcbiAgKTtcbn1cbmV4cG9ydCBjb25zdCBxdWVyeUdlbmVyaWMgPSAoZnVuY3Rpb25EZWZpbml0aW9uKSA9PiB7XG4gIGNvbnN0IGZ1bmMgPSB0eXBlb2YgZnVuY3Rpb25EZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBmdW5jdGlvbkRlZmluaXRpb24gOiBmdW5jdGlvbkRlZmluaXRpb24uaGFuZGxlcjtcbiAgaWYgKGZ1bmMuaXNSZWdpc3RlcmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gcmVnaXN0ZXJlZCB0d2ljZSBcIiArIGZ1bmMpO1xuICB9XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc1JlZ2lzdGVyZWQgPSB0cnVlO1xuICBmdW5jLmlzUXVlcnkgPSB0cnVlO1xuICBmdW5jLmlzUHVibGljID0gdHJ1ZTtcbiAgZnVuYy5pbnZva2VRdWVyeSA9IChhcmdzU3RyLCBhbGxvd01hcHNBbmRTZXRzSW5SZXR1cm5WYWx1ZSkgPT4gaW52b2tlUXVlcnkoZnVuYywgYXJnc1N0ciwgYWxsb3dNYXBzQW5kU2V0c0luUmV0dXJuVmFsdWUpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIHJldHVybiBmdW5jO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcm5hbFF1ZXJ5R2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgZnVuYyA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBpZiAoZnVuYy5pc1JlZ2lzdGVyZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiByZWdpc3RlcmVkIHR3aWNlIFwiICsgZnVuYyk7XG4gIH1cbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzUmVnaXN0ZXJlZCA9IHRydWU7XG4gIGZ1bmMuaXNRdWVyeSA9IHRydWU7XG4gIGZ1bmMuaXNJbnRlcm5hbCA9IHRydWU7XG4gIGZ1bmMuaW52b2tlUXVlcnkgPSAoYXJnc1N0cikgPT4gaW52b2tlUXVlcnkoZnVuYywgYXJnc1N0ciwgZmFsc2UpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUFjdGlvbihmdW5jLCByZXF1ZXN0SWQsIGFyZ3NTdHIpIHtcbiAgY29uc3QgYXJncyA9IGpzb25Ub0NvbnZleChKU09OLnBhcnNlKGFyZ3NTdHIpLCBmYWxzZSk7XG4gIGNvbnN0IGNhbGxzID0gc2V0dXBBY3Rpb25DYWxscyhyZXF1ZXN0SWQpO1xuICBjb25zdCBjdHggPSB7XG4gICAgLi4uY2FsbHMsXG4gICAgYXV0aDogc2V0dXBBdXRoKHJlcXVlc3RJZCksXG4gICAgc2NoZWR1bGVyOiBzZXR1cEFjdGlvblNjaGVkdWxlcihyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZUFjdGlvbldyaXRlcihyZXF1ZXN0SWQpLFxuICAgIHZlY3RvclNlYXJjaDogc2V0dXBBY3Rpb25WZWN0b3JTZWFyY2gocmVxdWVzdElkKVxuICB9O1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnZva2VGdW5jdGlvbihmdW5jLCBjdHgsIGFyZ3MpO1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKHJlc3VsdCA9PT0gdm9pZCAwID8gbnVsbCA6IHJlc3VsdCkpO1xufVxuZXhwb3J0IGNvbnN0IGFjdGlvbkdlbmVyaWMgPSAoZnVuY3Rpb25EZWZpbml0aW9uKSA9PiB7XG4gIGNvbnN0IGZ1bmMgPSB0eXBlb2YgZnVuY3Rpb25EZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBmdW5jdGlvbkRlZmluaXRpb24gOiBmdW5jdGlvbkRlZmluaXRpb24uaGFuZGxlcjtcbiAgaWYgKGZ1bmMuaXNSZWdpc3RlcmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gcmVnaXN0ZXJlZCB0d2ljZSBcIiArIGZ1bmMpO1xuICB9XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc1JlZ2lzdGVyZWQgPSB0cnVlO1xuICBmdW5jLmlzQWN0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlQWN0aW9uID0gKHJlcXVlc3RJZCwgYXJnc1N0cikgPT4gaW52b2tlQWN0aW9uKGZ1bmMsIHJlcXVlc3RJZCwgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsQWN0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgZnVuYyA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBpZiAoZnVuYy5pc1JlZ2lzdGVyZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiByZWdpc3RlcmVkIHR3aWNlIFwiICsgZnVuYyk7XG4gIH1cbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzUmVnaXN0ZXJlZCA9IHRydWU7XG4gIGZ1bmMuaXNBY3Rpb24gPSB0cnVlO1xuICBmdW5jLmlzSW50ZXJuYWwgPSB0cnVlO1xuICBmdW5jLmludm9rZUFjdGlvbiA9IChyZXF1ZXN0SWQsIGFyZ3NTdHIpID0+IGludm9rZUFjdGlvbihmdW5jLCByZXF1ZXN0SWQsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUh0dHBBY3Rpb24oZnVuYywgcmVxdWVzdCkge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBjYWxscyA9IHNldHVwQWN0aW9uQ2FsbHMocmVxdWVzdElkKTtcbiAgY29uc3QgY3R4ID0ge1xuICAgIC4uLmNhbGxzLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZUFjdGlvbldyaXRlcihyZXF1ZXN0SWQpLFxuICAgIHNjaGVkdWxlcjogc2V0dXBBY3Rpb25TY2hlZHVsZXIocmVxdWVzdElkKSxcbiAgICB2ZWN0b3JTZWFyY2g6IHNldHVwQWN0aW9uVmVjdG9yU2VhcmNoKHJlcXVlc3RJZClcbiAgfTtcbiAgcmV0dXJuIGF3YWl0IGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgW3JlcXVlc3RdKTtcbn1cbmV4cG9ydCBjb25zdCBodHRwQWN0aW9uR2VuZXJpYyA9IChmdW5jKSA9PiB7XG4gIGNvbnN0IHEgPSBmdW5jO1xuICBpZiAocS5pc1JlZ2lzdGVyZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiByZWdpc3RlcmVkIHR3aWNlIFwiICsgZnVuYyk7XG4gIH1cbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBxLmlzUmVnaXN0ZXJlZCA9IHRydWU7XG4gIHEuaXNIdHRwID0gdHJ1ZTtcbiAgcS5pbnZva2VIdHRwQWN0aW9uID0gKHJlcXVlc3QpID0+IGludm9rZUh0dHBBY3Rpb24oZnVuYywgcmVxdWVzdCk7XG4gIHJldHVybiBxO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJhdGlvbl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInYiLCJzZXR1cEFjdGlvbkNhbGxzIiwic2V0dXBBY3Rpb25WZWN0b3JTZWFyY2giLCJzZXR1cEF1dGgiLCJzZXR1cFJlYWRlciIsInNldHVwV3JpdGVyIiwiUXVlcnlJbXBsIiwiUXVlcnlJbml0aWFsaXplckltcGwiLCJzZXR1cEFjdGlvblNjaGVkdWxlciIsInNldHVwTXV0YXRpb25TY2hlZHVsZXIiLCJzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIiLCJzZXR1cFN0b3JhZ2VSZWFkZXIiLCJzZXR1cFN0b3JhZ2VXcml0ZXIiLCJpbnZva2VNdXRhdGlvbiIsImZ1bmMiLCJhcmdzU3RyIiwicmVxdWVzdElkIiwiYXJncyIsIkpTT04iLCJwYXJzZSIsIm11dGF0aW9uQ3R4IiwiZGIiLCJhdXRoIiwic3RvcmFnZSIsInNjaGVkdWxlciIsInJlc3VsdCIsImludm9rZUZ1bmN0aW9uIiwidmFsaWRhdGVSZXR1cm5WYWx1ZSIsInN0cmluZ2lmeSIsInYyIiwiRXJyb3IiLCJjdHgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRocm93biIsInNlcmlhbGl6ZUNvbnZleEVycm9yRGF0YSIsIlN5bWJvbCIsImZvciIsImVycm9yIiwiZGF0YSIsIkNvbnZleEVycm9yU3ltYm9sIiwiYXNzZXJ0Tm90QnJvd3NlciIsIndpbmRvdyIsIl9fY29udmV4QWxsb3dGdW5jdGlvbnNJbkJyb3dzZXIiLCJpc1JlYWxCcm93c2VyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2xvYmFsVGhpcyIsImdldCIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJleHBvcnRBcmdzIiwiZnVuY3Rpb25EZWZpbml0aW9uIiwiYW55Iiwib2JqZWN0IiwianNvbiIsIm11dGF0aW9uR2VuZXJpYyIsImhhbmRsZXIiLCJpc1JlZ2lzdGVyZWQiLCJpc011dGF0aW9uIiwiaXNQdWJsaWMiLCJpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyIsImlzSW50ZXJuYWwiLCJpbnZva2VRdWVyeSIsImFsbG93TWFwc0FuZFNldHNJblJldHVyblZhbHVlIiwicXVlcnlDdHgiLCJxdWVyeUdlbmVyaWMiLCJpc1F1ZXJ5IiwiaW50ZXJuYWxRdWVyeUdlbmVyaWMiLCJpbnZva2VBY3Rpb24iLCJjYWxscyIsInZlY3RvclNlYXJjaCIsImFjdGlvbkdlbmVyaWMiLCJpc0FjdGlvbiIsImludGVybmFsQWN0aW9uR2VuZXJpYyIsImludm9rZUh0dHBBY3Rpb24iLCJyZXF1ZXN0IiwiaHR0cEFjdGlvbkdlbmVyaWMiLCJxIiwiaXNIdHRwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/scheduler_impl.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionScheduler: () => (/* binding */ setupActionScheduler),\n/* harmony export */   setupMutationScheduler: () => (/* binding */ setupMutationScheduler)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\n\n\n\n\n\n\nfunction setupMutationScheduler() {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = runAfterSyscallArgs(delayMs, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(id, 1, \"cancel\", \"id\");\n            const args = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/cancel_job\", args);\n        }\n    };\n}\nfunction setupActionScheduler(requestId) {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAfterSyscallArgs(delayMs, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(id, 1, \"cancel\", \"id\");\n            const syscallArgs = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/cancel_job\", syscallArgs);\n        }\n    };\n}\nfunction runAfterSyscallArgs(delayMs, functionReference, args) {\n    if (typeof delayMs !== \"number\") {\n        throw new Error(\"`delayMs` must be a number\");\n    }\n    if (!isFinite(delayMs)) {\n        throw new Error(\"`delayMs` must be a finite number\");\n    }\n    if (delayMs < 0) {\n        throw new Error(\"`delayMs` must be non-negative\");\n    }\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionName)(functionReference);\n    const ts = (Date.now() + delayMs) / 1e3;\n    return {\n        name,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n}\nfunction runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args) {\n    let ts;\n    if (ms_since_epoch_or_date instanceof Date) {\n        ts = ms_since_epoch_or_date.valueOf() / 1e3;\n    } else if (typeof ms_since_epoch_or_date === \"number\") {\n        ts = ms_since_epoch_or_date / 1e3;\n    } else {\n        throw new Error(\"The invoke time must a Date or a timestamp\");\n    }\n    const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionName)(functionReference);\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    return {\n        name,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n} //# sourceMappingURL=scheduler_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NjaGVkdWxlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWE7QUFDd0M7QUFDWjtBQUNVO0FBQ0Q7QUFDSTtBQUNWO0FBQ3JDLFNBQVNNO0lBQ2QsT0FBTztRQUNMQyxVQUFVLE9BQU9DLFNBQVNDLG1CQUFtQkM7WUFDM0MsTUFBTUMsY0FBY0Msb0JBQW9CSixTQUFTQyxtQkFBbUJDO1lBQ3BFLE9BQU8sTUFBTVIsZ0VBQW1CQSxDQUFDLGdCQUFnQlM7UUFDbkQ7UUFDQUUsT0FBTyxPQUFPQyx3QkFBd0JMLG1CQUFtQkM7WUFDdkQsTUFBTUMsY0FBY0ksaUJBQ2xCRCx3QkFDQUwsbUJBQ0FDO1lBRUYsT0FBTyxNQUFNUixnRUFBbUJBLENBQUMsZ0JBQWdCUztRQUNuRDtRQUNBSyxRQUFRLE9BQU9DO1lBQ2JaLHlEQUFXQSxDQUFDWSxJQUFJLEdBQUcsVUFBVTtZQUM3QixNQUFNUCxPQUFPO2dCQUFFTyxJQUFJakIsOERBQVlBLENBQUNpQjtZQUFJO1lBQ3BDLE1BQU1mLGdFQUFtQkEsQ0FBQyxrQkFBa0JRO1FBQzlDO0lBQ0Y7QUFDRjtBQUNPLFNBQVNRLHFCQUFxQkMsU0FBUztJQUM1QyxPQUFPO1FBQ0xaLFVBQVUsT0FBT0MsU0FBU0MsbUJBQW1CQztZQUMzQyxNQUFNQyxjQUFjO2dCQUNsQlE7Z0JBQ0EsR0FBR1Asb0JBQW9CSixTQUFTQyxtQkFBbUJDLEtBQUs7WUFDMUQ7WUFDQSxPQUFPLE1BQU1SLGdFQUFtQkEsQ0FBQyx3QkFBd0JTO1FBQzNEO1FBQ0FFLE9BQU8sT0FBT0Msd0JBQXdCTCxtQkFBbUJDO1lBQ3ZELE1BQU1DLGNBQWM7Z0JBQ2xCUTtnQkFDQSxHQUFHSixpQkFBaUJELHdCQUF3QkwsbUJBQW1CQyxLQUFLO1lBQ3RFO1lBQ0EsT0FBTyxNQUFNUixnRUFBbUJBLENBQUMsd0JBQXdCUztRQUMzRDtRQUNBSyxRQUFRLE9BQU9DO1lBQ2JaLHlEQUFXQSxDQUFDWSxJQUFJLEdBQUcsVUFBVTtZQUM3QixNQUFNTixjQUFjO2dCQUFFTSxJQUFJakIsOERBQVlBLENBQUNpQjtZQUFJO1lBQzNDLE9BQU8sTUFBTWYsZ0VBQW1CQSxDQUFDLDBCQUEwQlM7UUFDN0Q7SUFDRjtBQUNGO0FBQ0EsU0FBU0Msb0JBQW9CSixPQUFPLEVBQUVDLGlCQUFpQixFQUFFQyxJQUFJO0lBQzNELElBQUksT0FBT0YsWUFBWSxVQUFVO1FBQy9CLE1BQU0sSUFBSVksTUFBTTtJQUNsQjtJQUNBLElBQUksQ0FBQ0MsU0FBU2IsVUFBVTtRQUN0QixNQUFNLElBQUlZLE1BQU07SUFDbEI7SUFDQSxJQUFJWixVQUFVLEdBQUc7UUFDZixNQUFNLElBQUlZLE1BQU07SUFDbEI7SUFDQSxNQUFNRSxlQUFlbkIsMkRBQVNBLENBQUNPO0lBQy9CLE1BQU1hLE9BQU9uQiwrREFBZUEsQ0FBQ0s7SUFDN0IsTUFBTWUsS0FBSyxDQUFDQyxLQUFLQyxHQUFHLEtBQUtsQixPQUFNLElBQUs7SUFDcEMsT0FBTztRQUNMZTtRQUNBQztRQUNBZCxNQUFNViw4REFBWUEsQ0FBQ3NCO1FBQ25CckIsT0FBT0EsZ0RBQUFBO0lBQ1Q7QUFDRjtBQUNBLFNBQVNjLGlCQUFpQkQsc0JBQXNCLEVBQUVMLGlCQUFpQixFQUFFQyxJQUFJO0lBQ3ZFLElBQUljO0lBQ0osSUFBSVYsa0NBQWtDVyxNQUFNO1FBQzFDRCxLQUFLVix1QkFBdUJhLE9BQU8sS0FBSztJQUMxQyxPQUFPLElBQUksT0FBT2IsMkJBQTJCLFVBQVU7UUFDckRVLEtBQUtWLHlCQUF5QjtJQUNoQyxPQUFPO1FBQ0wsTUFBTSxJQUFJTSxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUcsT0FBT25CLCtEQUFlQSxDQUFDSztJQUM3QixNQUFNYSxlQUFlbkIsMkRBQVNBLENBQUNPO0lBQy9CLE9BQU87UUFDTGE7UUFDQUM7UUFDQWQsTUFBTVYsOERBQVlBLENBQUNzQjtRQUNuQnJCLE9BQU9BLGdEQUFBQTtJQUNUO0FBQ0YsRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NjaGVkdWxlcl9pbXBsLmpzP2VjNTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4uLy4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cE11dGF0aW9uU2NoZWR1bGVyKCkge1xuICByZXR1cm4ge1xuICAgIHJ1bkFmdGVyOiBhc3luYyAoZGVsYXlNcywgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0gcnVuQWZ0ZXJTeXNjYWxsQXJncyhkZWxheU1zLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncyk7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zY2hlZHVsZVwiLCBzeXNjYWxsQXJncyk7XG4gICAgfSxcbiAgICBydW5BdDogYXN5bmMgKG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHJ1bkF0U3lzY2FsbEFyZ3MoXG4gICAgICAgIG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUsXG4gICAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBhcmdzXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvc2NoZWR1bGVcIiwgc3lzY2FsbEFyZ3MpO1xuICAgIH0sXG4gICAgY2FuY2VsOiBhc3luYyAoaWQpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKGlkLCAxLCBcImNhbmNlbFwiLCBcImlkXCIpO1xuICAgICAgY29uc3QgYXJncyA9IHsgaWQ6IGNvbnZleFRvSnNvbihpZCkgfTtcbiAgICAgIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvY2FuY2VsX2pvYlwiLCBhcmdzKTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBY3Rpb25TY2hlZHVsZXIocmVxdWVzdElkKSB7XG4gIHJldHVybiB7XG4gICAgcnVuQWZ0ZXI6IGFzeW5jIChkZWxheU1zLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykgPT4ge1xuICAgICAgY29uc3Qgc3lzY2FsbEFyZ3MgPSB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgLi4ucnVuQWZ0ZXJTeXNjYWxsQXJncyhkZWxheU1zLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncylcbiAgICAgIH07XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9hY3Rpb25zL3NjaGVkdWxlXCIsIHN5c2NhbGxBcmdzKTtcbiAgICB9LFxuICAgIHJ1bkF0OiBhc3luYyAobXNfc2luY2VfZXBvY2hfb3JfZGF0ZSwgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0ge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIC4uLnJ1bkF0U3lzY2FsbEFyZ3MobXNfc2luY2VfZXBvY2hfb3JfZGF0ZSwgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvYWN0aW9ucy9zY2hlZHVsZVwiLCBzeXNjYWxsQXJncyk7XG4gICAgfSxcbiAgICBjYW5jZWw6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgdmFsaWRhdGVBcmcoaWQsIDEsIFwiY2FuY2VsXCIsIFwiaWRcIik7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHsgaWQ6IGNvbnZleFRvSnNvbihpZCkgfTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2FjdGlvbnMvY2FuY2VsX2pvYlwiLCBzeXNjYWxsQXJncyk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcnVuQWZ0ZXJTeXNjYWxsQXJncyhkZWxheU1zLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykge1xuICBpZiAodHlwZW9mIGRlbGF5TXMgIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZGVsYXlNc2AgbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgfVxuICBpZiAoIWlzRmluaXRlKGRlbGF5TXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYGRlbGF5TXNgIG11c3QgYmUgYSBmaW5pdGUgbnVtYmVyXCIpO1xuICB9XG4gIGlmIChkZWxheU1zIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkZWxheU1zYCBtdXN0IGJlIG5vbi1uZWdhdGl2ZVwiKTtcbiAgfVxuICBjb25zdCBmdW5jdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoZnVuY3Rpb25SZWZlcmVuY2UpO1xuICBjb25zdCB0cyA9IChEYXRlLm5vdygpICsgZGVsYXlNcykgLyAxZTM7XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICB0cyxcbiAgICBhcmdzOiBjb252ZXhUb0pzb24oZnVuY3Rpb25BcmdzKSxcbiAgICB2ZXJzaW9uXG4gIH07XG59XG5mdW5jdGlvbiBydW5BdFN5c2NhbGxBcmdzKG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSB7XG4gIGxldCB0cztcbiAgaWYgKG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgdHMgPSBtc19zaW5jZV9lcG9jaF9vcl9kYXRlLnZhbHVlT2YoKSAvIDFlMztcbiAgfSBlbHNlIGlmICh0eXBlb2YgbXNfc2luY2VfZXBvY2hfb3JfZGF0ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHRzID0gbXNfc2luY2VfZXBvY2hfb3JfZGF0ZSAvIDFlMztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW52b2tlIHRpbWUgbXVzdCBhIERhdGUgb3IgYSB0aW1lc3RhbXBcIik7XG4gIH1cbiAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShmdW5jdGlvblJlZmVyZW5jZSk7XG4gIGNvbnN0IGZ1bmN0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIHRzLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihmdW5jdGlvbkFyZ3MpLFxuICAgIHZlcnNpb25cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlcl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsInZlcnNpb24iLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwicGFyc2VBcmdzIiwiZ2V0RnVuY3Rpb25OYW1lIiwidmFsaWRhdGVBcmciLCJzZXR1cE11dGF0aW9uU2NoZWR1bGVyIiwicnVuQWZ0ZXIiLCJkZWxheU1zIiwiZnVuY3Rpb25SZWZlcmVuY2UiLCJhcmdzIiwic3lzY2FsbEFyZ3MiLCJydW5BZnRlclN5c2NhbGxBcmdzIiwicnVuQXQiLCJtc19zaW5jZV9lcG9jaF9vcl9kYXRlIiwicnVuQXRTeXNjYWxsQXJncyIsImNhbmNlbCIsImlkIiwic2V0dXBBY3Rpb25TY2hlZHVsZXIiLCJyZXF1ZXN0SWQiLCJFcnJvciIsImlzRmluaXRlIiwiZnVuY3Rpb25BcmdzIiwibmFtZSIsInRzIiwiRGF0ZSIsIm5vdyIsInZhbHVlT2YiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js":
/*!********************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilterBuilderImpl: () => (/* binding */ SearchFilterBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\n\n\n\nclass SearchFilterBuilderImpl extends _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.SearchFilter {\n    constructor(filters){\n        super();\n        this.filters = filters;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new SearchFilterBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.\");\n        }\n        this.isConsumed = true;\n    }\n    search(fieldName, query) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"search\", \"fieldName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(query, 2, \"search\", \"query\");\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Search\",\n            fieldPath: fieldName,\n            value: query\n        }));\n    }\n    eq(fieldName, value) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"eq\", \"fieldName\");\n        if (arguments.length !== 2) {\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(value, 2, \"search\", \"value\");\n        }\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.filters;\n    }\n} //# sourceMappingURL=search_filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNtRDtBQUczQjtBQUNPO0FBQ3JDLE1BQU1HLGdDQUFnQ0YsbUVBQVlBO0lBQ3ZERyxZQUFZQyxPQUFPLENBQUU7UUFDbkIsS0FBSztRQUNMLElBQUksQ0FBQ0EsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosd0JBQXdCLEVBQUU7SUFDdkM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxPQUFPQyxTQUFTLEVBQUVDLEtBQUssRUFBRTtRQUN2QlYseURBQVdBLENBQUNTLFdBQVcsR0FBRyxVQUFVO1FBQ3BDVCx5REFBV0EsQ0FBQ1UsT0FBTyxHQUFHLFVBQVU7UUFDaEMsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hLLE9BQU9KO1FBQ1Q7SUFFSjtJQUNBSyxHQUFHTixTQUFTLEVBQUVLLEtBQUssRUFBRTtRQUNuQmQseURBQVdBLENBQUNTLFdBQVcsR0FBRyxNQUFNO1FBQ2hDLElBQUlPLFVBQVVDLE1BQU0sS0FBSyxHQUFHO1lBQzFCakIseURBQVdBLENBQUNjLE9BQU8sR0FBRyxVQUFVO1FBQ2xDO1FBQ0EsSUFBSSxDQUFDUixPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hLLE9BQU9oQix5RUFBdUJBLENBQUNnQjtRQUNqQztJQUVKO0lBQ0FJLFNBQVM7UUFDUCxJQUFJLENBQUNaLE9BQU87UUFDWixPQUFPLElBQUksQ0FBQ0gsT0FBTztJQUNyQjtBQUNGLEVBQ0Esc0RBQXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9zZWFyY2hfZmlsdGVyX2J1aWxkZXJfaW1wbC5qcz80ODI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgY29udmV4T3JVbmRlZmluZWRUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5pbXBvcnQge1xuICBTZWFyY2hGaWx0ZXJcbn0gZnJvbSBcIi4uL3NlYXJjaF9maWx0ZXJfYnVpbGRlci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuZXhwb3J0IGNsYXNzIFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIGV4dGVuZHMgU2VhcmNoRmlsdGVyIHtcbiAgY29uc3RydWN0b3IoZmlsdGVycykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5maWx0ZXJzID0gZmlsdGVycztcbiAgICB0aGlzLmlzQ29uc3VtZWQgPSBmYWxzZTtcbiAgfVxuICBzdGF0aWMgbmV3KCkge1xuICAgIHJldHVybiBuZXcgU2VhcmNoRmlsdGVyQnVpbGRlckltcGwoW10pO1xuICB9XG4gIGNvbnN1bWUoKSB7XG4gICAgaWYgKHRoaXMuaXNDb25zdW1lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlNlYXJjaEZpbHRlckJ1aWxkZXIgaGFzIGFscmVhZHkgYmVlbiB1c2VkISBDaGFpbiB5b3VyIG1ldGhvZCBjYWxscyBsaWtlIGBxID0+IHEuc2VhcmNoKC4uLikuZXEoLi4uKWAuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaXNDb25zdW1lZCA9IHRydWU7XG4gIH1cbiAgc2VhcmNoKGZpZWxkTmFtZSwgcXVlcnkpIHtcbiAgICB2YWxpZGF0ZUFyZyhmaWVsZE5hbWUsIDEsIFwic2VhcmNoXCIsIFwiZmllbGROYW1lXCIpO1xuICAgIHZhbGlkYXRlQXJnKHF1ZXJ5LCAyLCBcInNlYXJjaFwiLCBcInF1ZXJ5XCIpO1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgU2VhcmNoRmlsdGVyQnVpbGRlckltcGwoXG4gICAgICB0aGlzLmZpbHRlcnMuY29uY2F0KHtcbiAgICAgICAgdHlwZTogXCJTZWFyY2hcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBxdWVyeVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGVxKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB2YWxpZGF0ZUFyZyhmaWVsZE5hbWUsIDEsIFwiZXFcIiwgXCJmaWVsZE5hbWVcIik7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHZhbGlkYXRlQXJnKHZhbHVlLCAyLCBcInNlYXJjaFwiLCBcInZhbHVlXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5maWx0ZXJzLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiRXFcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBleHBvcnQoKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVycztcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoX2ZpbHRlcl9idWlsZGVyX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4T3JVbmRlZmluZWRUb0pzb24iLCJTZWFyY2hGaWx0ZXIiLCJ2YWxpZGF0ZUFyZyIsIlNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIiwiY29uc3RydWN0b3IiLCJmaWx0ZXJzIiwiaXNDb25zdW1lZCIsIm5ldyIsImNvbnN1bWUiLCJFcnJvciIsInNlYXJjaCIsImZpZWxkTmFtZSIsInF1ZXJ5IiwiY29uY2F0IiwidHlwZSIsImZpZWxkUGF0aCIsInZhbHVlIiwiZXEiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJleHBvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/storage_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupStorageActionWriter: () => (/* binding */ setupStorageActionWriter),\n/* harmony export */   setupStorageReader: () => (/* binding */ setupStorageReader),\n/* harmony export */   setupStorageWriter: () => (/* binding */ setupStorageWriter)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\n\n\n\nfunction setupStorageReader(requestId) {\n    return {\n        getUrl: async (storageId)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(storageId, 1, \"getUrl\", \"storageId\");\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getMetadata: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetMetadata\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n}\nfunction setupStorageWriter(requestId) {\n    const reader = setupStorageReader(requestId);\n    return {\n        generateUploadUrl: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGenerateUploadUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version\n            });\n        },\n        delete: async (storageId)=>{\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageDelete\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getUrl: reader.getUrl,\n        getMetadata: reader.getMetadata\n    };\n}\nfunction setupStorageActionWriter(requestId) {\n    const writer = setupStorageWriter(requestId);\n    return {\n        ...writer,\n        store: async (blob, options)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/storeBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                blob,\n                options\n            });\n        },\n        get: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/getBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n} //# sourceMappingURL=storage_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N0b3JhZ2VfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUM0QjtBQUM0QjtBQUN6QjtBQUNyQyxTQUFTSSxtQkFBbUJDLFNBQVM7SUFDMUMsT0FBTztRQUNMQyxRQUFRLE9BQU9DO1lBQ2JKLHlEQUFXQSxDQUFDSSxXQUFXLEdBQUcsVUFBVTtZQUNwQyxPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQ3BESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUMsYUFBYSxPQUFPRDtZQUNsQixPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQywwQkFBMEI7Z0JBQ3pESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBQ08sU0FBU0UsbUJBQW1CSixTQUFTO0lBQzFDLE1BQU1LLFNBQVNOLG1CQUFtQkM7SUFDbEMsT0FBTztRQUNMTSxtQkFBbUI7WUFDakIsT0FBTyxNQUFNVixnRUFBbUJBLENBQUMsZ0NBQWdDO2dCQUMvREk7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtZQUNUO1FBQ0Y7UUFDQVksUUFBUSxPQUFPTDtZQUNiLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQzdDSTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUQsUUFBUUksT0FBT0osTUFBTTtRQUNyQkUsYUFBYUUsT0FBT0YsV0FBVztJQUNqQztBQUNGO0FBQ08sU0FBU0sseUJBQXlCUixTQUFTO0lBQ2hELE1BQU1TLFNBQVNMLG1CQUFtQko7SUFDbEMsT0FBTztRQUNMLEdBQUdTLE1BQU07UUFDVEMsT0FBTyxPQUFPQyxNQUFNQztZQUNsQixPQUFPLE1BQU1mLDZEQUFnQkEsQ0FBQyxxQkFBcUI7Z0JBQ2pERztnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQZ0I7Z0JBQ0FDO1lBQ0Y7UUFDRjtRQUNBQyxLQUFLLE9BQU9YO1lBQ1YsT0FBTyxNQUFNTCw2REFBZ0JBLENBQUMsbUJBQW1CO2dCQUMvQ0c7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtnQkFDUE87WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvc3RvcmFnZV9pbXBsLmpzPzg5MGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsLCBwZXJmb3JtSnNTeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwU3RvcmFnZVJlYWRlcihyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRVcmw6IGFzeW5jIChzdG9yYWdlSWQpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKHN0b3JhZ2VJZCwgMSwgXCJnZXRVcmxcIiwgXCJzdG9yYWdlSWRcIik7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zdG9yYWdlR2V0VXJsXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TWV0YWRhdGE6IGFzeW5jIChzdG9yYWdlSWQpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3N0b3JhZ2VHZXRNZXRhZGF0YVwiLCB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc3RvcmFnZUlkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTdG9yYWdlV3JpdGVyKHJlcXVlc3RJZCkge1xuICBjb25zdCByZWFkZXIgPSBzZXR1cFN0b3JhZ2VSZWFkZXIocmVxdWVzdElkKTtcbiAgcmV0dXJuIHtcbiAgICBnZW5lcmF0ZVVwbG9hZFVybDogYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvc3RvcmFnZUdlbmVyYXRlVXBsb2FkVXJsXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbGV0ZTogYXN5bmMgKHN0b3JhZ2VJZCkgPT4ge1xuICAgICAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zdG9yYWdlRGVsZXRlXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VXJsOiByZWFkZXIuZ2V0VXJsLFxuICAgIGdldE1ldGFkYXRhOiByZWFkZXIuZ2V0TWV0YWRhdGFcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIocmVxdWVzdElkKSB7XG4gIGNvbnN0IHdyaXRlciA9IHNldHVwU3RvcmFnZVdyaXRlcihyZXF1ZXN0SWQpO1xuICByZXR1cm4ge1xuICAgIC4uLndyaXRlcixcbiAgICBzdG9yZTogYXN5bmMgKGJsb2IsIG9wdGlvbnMpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtSnNTeXNjYWxsKFwic3RvcmFnZS9zdG9yZUJsb2JcIiwge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIGJsb2IsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBhc3luYyAoc3RvcmFnZUlkKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUpzU3lzY2FsbChcInN0b3JhZ2UvZ2V0QmxvYlwiLCB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc3RvcmFnZUlkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yYWdlX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsidmVyc2lvbiIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwZXJmb3JtSnNTeXNjYWxsIiwidmFsaWRhdGVBcmciLCJzZXR1cFN0b3JhZ2VSZWFkZXIiLCJyZXF1ZXN0SWQiLCJnZXRVcmwiLCJzdG9yYWdlSWQiLCJnZXRNZXRhZGF0YSIsInNldHVwU3RvcmFnZVdyaXRlciIsInJlYWRlciIsImdlbmVyYXRlVXBsb2FkVXJsIiwiZGVsZXRlIiwic2V0dXBTdG9yYWdlQWN0aW9uV3JpdGVyIiwid3JpdGVyIiwic3RvcmUiLCJibG9iIiwib3B0aW9ucyIsImdldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/syscall.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   performAsyncSyscall: () => (/* binding */ performAsyncSyscall),\n/* harmony export */   performJsSyscall: () => (/* binding */ performJsSyscall),\n/* harmony export */   performSyscall: () => (/* binding */ performSyscall)\n/* harmony export */ });\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\n\nfunction performSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.syscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    const resultStr = Convex.syscall(op, JSON.stringify(arg));\n    return JSON.parse(resultStr);\n}\nasync function performAsyncSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.asyncSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    let resultStr;\n    try {\n        resultStr = await Convex.asyncSyscall(op, JSON.stringify(arg));\n    } catch (e) {\n        if (e.data !== void 0) {\n            const rethrown = new _values_errors_js__WEBPACK_IMPORTED_MODULE_0__.ConvexError(e.message);\n            rethrown.data = e.data;\n            throw rethrown;\n        }\n        throw new Error(e.message);\n    }\n    return JSON.parse(resultStr);\n}\nfunction performJsSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.jsSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    return Convex.jsSyscall(op, arg);\n} //# sourceMappingURL=syscall.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N5c2NhbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhO0FBQ3dDO0FBQzlDLFNBQVNDLGVBQWVDLEVBQUUsRUFBRUMsR0FBRztJQUNwQyxJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT0MsT0FBTyxLQUFLLEtBQUssR0FBRztRQUM5RCxNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLFlBQVlILE9BQU9DLE9BQU8sQ0FBQ0gsSUFBSU0sS0FBS0MsU0FBUyxDQUFDTjtJQUNwRCxPQUFPSyxLQUFLRSxLQUFLLENBQUNIO0FBQ3BCO0FBQ08sZUFBZUksb0JBQW9CVCxFQUFFLEVBQUVDLEdBQUc7SUFDL0MsSUFBSSxPQUFPQyxXQUFXLGVBQWVBLE9BQU9RLFlBQVksS0FBSyxLQUFLLEdBQUc7UUFDbkUsTUFBTSxJQUFJTixNQUNSO0lBRUo7SUFDQSxJQUFJQztJQUNKLElBQUk7UUFDRkEsWUFBWSxNQUFNSCxPQUFPUSxZQUFZLENBQUNWLElBQUlNLEtBQUtDLFNBQVMsQ0FBQ047SUFDM0QsRUFBRSxPQUFPVSxHQUFHO1FBQ1YsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLEtBQUssR0FBRztZQUNyQixNQUFNQyxXQUFXLElBQUlmLDBEQUFXQSxDQUFDYSxFQUFFRyxPQUFPO1lBQzFDRCxTQUFTRCxJQUFJLEdBQUdELEVBQUVDLElBQUk7WUFDdEIsTUFBTUM7UUFDUjtRQUNBLE1BQU0sSUFBSVQsTUFBTU8sRUFBRUcsT0FBTztJQUMzQjtJQUNBLE9BQU9SLEtBQUtFLEtBQUssQ0FBQ0g7QUFDcEI7QUFDTyxTQUFTVSxpQkFBaUJmLEVBQUUsRUFBRUMsR0FBRztJQUN0QyxJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT2MsU0FBUyxLQUFLLEtBQUssR0FBRztRQUNoRSxNQUFNLElBQUlaLE1BQ1I7SUFFSjtJQUNBLE9BQU9GLE9BQU9jLFNBQVMsQ0FBQ2hCLElBQUlDO0FBQzlCLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9zeXNjYWxsLmpzPzQ4NTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBDb252ZXhFcnJvciB9IGZyb20gXCIuLi8uLi92YWx1ZXMvZXJyb3JzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVN5c2NhbGwob3AsIGFyZykge1xuICBpZiAodHlwZW9mIENvbnZleCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBDb252ZXguc3lzY2FsbCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgQ29udmV4IGRhdGFiYXNlIGFuZCBhdXRoIG9iamVjdHMgYXJlIGJlaW5nIHVzZWQgb3V0c2lkZSBvZiBhIENvbnZleCBiYWNrZW5kLiBEaWQgeW91IG1lYW4gdG8gdXNlIGB1c2VRdWVyeWAgb3IgYHVzZU11dGF0aW9uYCB0byBjYWxsIGEgQ29udmV4IGZ1bmN0aW9uP1wiXG4gICAgKTtcbiAgfVxuICBjb25zdCByZXN1bHRTdHIgPSBDb252ZXguc3lzY2FsbChvcCwgSlNPTi5zdHJpbmdpZnkoYXJnKSk7XG4gIHJldHVybiBKU09OLnBhcnNlKHJlc3VsdFN0cik7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGVyZm9ybUFzeW5jU3lzY2FsbChvcCwgYXJnKSB7XG4gIGlmICh0eXBlb2YgQ29udmV4ID09PSBcInVuZGVmaW5lZFwiIHx8IENvbnZleC5hc3luY1N5c2NhbGwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhlIENvbnZleCBkYXRhYmFzZSBhbmQgYXV0aCBvYmplY3RzIGFyZSBiZWluZyB1c2VkIG91dHNpZGUgb2YgYSBDb252ZXggYmFja2VuZC4gRGlkIHlvdSBtZWFuIHRvIHVzZSBgdXNlUXVlcnlgIG9yIGB1c2VNdXRhdGlvbmAgdG8gY2FsbCBhIENvbnZleCBmdW5jdGlvbj9cIlxuICAgICk7XG4gIH1cbiAgbGV0IHJlc3VsdFN0cjtcbiAgdHJ5IHtcbiAgICByZXN1bHRTdHIgPSBhd2FpdCBDb252ZXguYXN5bmNTeXNjYWxsKG9wLCBKU09OLnN0cmluZ2lmeShhcmcpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLmRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgcmV0aHJvd24gPSBuZXcgQ29udmV4RXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgIHJldGhyb3duLmRhdGEgPSBlLmRhdGE7XG4gICAgICB0aHJvdyByZXRocm93bjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0U3RyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtSnNTeXNjYWxsKG9wLCBhcmcpIHtcbiAgaWYgKHR5cGVvZiBDb252ZXggPT09IFwidW5kZWZpbmVkXCIgfHwgQ29udmV4LmpzU3lzY2FsbCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgQ29udmV4IGRhdGFiYXNlIGFuZCBhdXRoIG9iamVjdHMgYXJlIGJlaW5nIHVzZWQgb3V0c2lkZSBvZiBhIENvbnZleCBiYWNrZW5kLiBEaWQgeW91IG1lYW4gdG8gdXNlIGB1c2VRdWVyeWAgb3IgYHVzZU11dGF0aW9uYCB0byBjYWxsIGEgQ29udmV4IGZ1bmN0aW9uP1wiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gQ29udmV4LmpzU3lzY2FsbChvcCwgYXJnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5c2NhbGwuanMubWFwXG4iXSwibmFtZXMiOlsiQ29udmV4RXJyb3IiLCJwZXJmb3JtU3lzY2FsbCIsIm9wIiwiYXJnIiwiQ29udmV4Iiwic3lzY2FsbCIsIkVycm9yIiwicmVzdWx0U3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsImFzeW5jU3lzY2FsbCIsImUiLCJkYXRhIiwicmV0aHJvd24iLCJtZXNzYWdlIiwicGVyZm9ybUpzU3lzY2FsbCIsImpzU3lzY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/validate.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateArg: () => (/* binding */ validateArg)\n/* harmony export */ });\n\nfunction validateArg(arg, idx, method, argName) {\n    if (arg === void 0) {\n        throw new Error(`Must provide arg ${idx} \\`${argName}\\` to \\`${method}\\``);\n    }\n} //# sourceMappingURL=validate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZhbGlkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLFNBQVNBLFlBQVlDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE9BQU87SUFDbkQsSUFBSUgsUUFBUSxLQUFLLEdBQUc7UUFDbEIsTUFBTSxJQUFJSSxNQUFNLENBQUMsaUJBQWlCLEVBQUVILElBQUksR0FBRyxFQUFFRSxRQUFRLFFBQVEsRUFBRUQsT0FBTyxFQUFFLENBQUM7SUFDM0U7QUFDRixFQUNBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvdmFsaWRhdGUuanM/YTM2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFyZyhhcmcsIGlkeCwgbWV0aG9kLCBhcmdOYW1lKSB7XG4gIGlmIChhcmcgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgTXVzdCBwcm92aWRlIGFyZyAke2lkeH0gXFxgJHthcmdOYW1lfVxcYCB0byBcXGAke21ldGhvZH1cXGBgKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGUuanMubWFwXG4iXSwibmFtZXMiOlsidmFsaWRhdGVBcmciLCJhcmciLCJpZHgiLCJtZXRob2QiLCJhcmdOYW1lIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js":
/*!************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/vector_search_impl.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   VectorQueryImpl: () => (/* binding */ VectorQueryImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression),\n/* harmony export */   setupActionVectorSearch: () => (/* binding */ setupActionVectorSearch)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _vector_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vector_search.js */ \"(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\n\n\n\nfunction setupActionVectorSearch(requestId) {\n    return async (tableName, indexName, query)=>{\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"vectorSearch\", \"tableName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(indexName, 2, \"vectorSearch\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(query, 3, \"vectorSearch\", \"query\");\n        if (!query.vector || !Array.isArray(query.vector) || query.vector.length === 0) {\n            throw Error(\"`vector` must be a non-empty Array in vectorSearch\");\n        }\n        return await new VectorQueryImpl(requestId, tableName + \".\" + indexName, query).collect();\n    };\n}\nclass VectorQueryImpl {\n    constructor(requestId, indexName, query){\n        this.requestId = requestId;\n        const filters = query.filter ? serializeExpression(query.filter(filterBuilderImpl)) : null;\n        this.state = {\n            type: \"preparing\",\n            query: {\n                indexName,\n                limit: query.limit,\n                vector: query.vector,\n                expressions: filters\n            }\n        };\n    }\n    async collect() {\n        if (this.state.type === \"consumed\") {\n            throw new Error(\"This query is closed and can't emit any more values.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"consumed\"\n        };\n        const { results } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/actions/vectorSearch\", {\n            requestId: this.requestId,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n            query\n        });\n        return results;\n    }\n}\nclass ExpressionImpl extends _vector_search_js__WEBPACK_IMPORTED_MODULE_2__.FilterExpression {\n    constructor(inner){\n        super();\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_4__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (fieldName, value) {\n        if (typeof fieldName !== \"string\") {\n            throw new Error(\"The first argument to `q.eq` must be a field name.\");\n        }\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(new ExpressionImpl({\n                    $field: fieldName\n                })),\n                serializeExpression(value)\n            ]\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    }\n}; //# sourceMappingURL=vector_search_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWE7QUFDc0M7QUFDVjtBQUdaO0FBQ2U7QUFDb0I7QUFDekQsU0FBU0ssd0JBQXdCQyxTQUFTO0lBQy9DLE9BQU8sT0FBT0MsV0FBV0MsV0FBV0M7UUFDbENOLHlEQUFXQSxDQUFDSSxXQUFXLEdBQUcsZ0JBQWdCO1FBQzFDSix5REFBV0EsQ0FBQ0ssV0FBVyxHQUFHLGdCQUFnQjtRQUMxQ0wseURBQVdBLENBQUNNLE9BQU8sR0FBRyxnQkFBZ0I7UUFDdEMsSUFBSSxDQUFDQSxNQUFNQyxNQUFNLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSCxNQUFNQyxNQUFNLEtBQUtELE1BQU1DLE1BQU0sQ0FBQ0csTUFBTSxLQUFLLEdBQUc7WUFDOUUsTUFBTUMsTUFBTTtRQUNkO1FBQ0EsT0FBTyxNQUFNLElBQUlDLGdCQUNmVCxXQUNBQyxZQUFZLE1BQU1DLFdBQ2xCQyxPQUNBTyxPQUFPO0lBQ1g7QUFDRjtBQUNPLE1BQU1EO0lBQ1hFLFlBQVlYLFNBQVMsRUFBRUUsU0FBUyxFQUFFQyxLQUFLLENBQUU7UUFDdkMsSUFBSSxDQUFDSCxTQUFTLEdBQUdBO1FBQ2pCLE1BQU1ZLFVBQVVULE1BQU1VLE1BQU0sR0FBR0Msb0JBQW9CWCxNQUFNVSxNQUFNLENBQUNFLHNCQUFzQjtRQUN0RixJQUFJLENBQUNDLEtBQUssR0FBRztZQUNYQyxNQUFNO1lBQ05kLE9BQU87Z0JBQ0xEO2dCQUNBZ0IsT0FBT2YsTUFBTWUsS0FBSztnQkFDbEJkLFFBQVFELE1BQU1DLE1BQU07Z0JBQ3BCZSxhQUFhUDtZQUNmO1FBQ0Y7SUFDRjtJQUNBLE1BQU1GLFVBQVU7UUFDZCxJQUFJLElBQUksQ0FBQ00sS0FBSyxDQUFDQyxJQUFJLEtBQUssWUFBWTtZQUNsQyxNQUFNLElBQUlULE1BQU07UUFDbEI7UUFDQSxNQUFNTCxRQUFRLElBQUksQ0FBQ2EsS0FBSyxDQUFDYixLQUFLO1FBQzlCLElBQUksQ0FBQ2EsS0FBSyxHQUFHO1lBQUVDLE1BQU07UUFBVztRQUNoQyxNQUFNLEVBQUVHLE9BQU8sRUFBRSxHQUFHLE1BQU0xQixnRUFBbUJBLENBQUMsNEJBQTRCO1lBQ3hFTSxXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QkwsT0FBT0EsZ0RBQUFBO1lBQ1BRO1FBQ0Y7UUFDQSxPQUFPaUI7SUFDVDtBQUNGO0FBQ08sTUFBTUMsdUJBQXVCekIsK0RBQWdCQTtJQUNsRGUsWUFBWVcsS0FBSyxDQUFFO1FBQ2pCLEtBQUs7UUFDTCxJQUFJLENBQUNBLEtBQUssR0FBR0E7SUFDZjtJQUNBQyxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUNELEtBQUs7SUFDbkI7QUFDRjtBQUNPLFNBQVNSLG9CQUFvQlUsSUFBSTtJQUN0QyxJQUFJQSxnQkFBZ0JILGdCQUFnQjtRQUNsQyxPQUFPRyxLQUFLRCxTQUFTO0lBQ3ZCLE9BQU87UUFDTCxPQUFPO1lBQUVFLFVBQVUzQix5RUFBdUJBLENBQUMwQjtRQUFNO0lBQ25EO0FBQ0Y7QUFDTyxNQUFNVCxvQkFBb0I7SUFDL0IsOEVBQThFO0lBQzlFVyxJQUFHQyxTQUFTLEVBQUVDLEtBQUs7UUFDakIsSUFBSSxPQUFPRCxjQUFjLFVBQVU7WUFDakMsTUFBTSxJQUFJbkIsTUFBTTtRQUNsQjtRQUNBLE9BQU8sSUFBSWEsZUFBZTtZQUN4QlEsS0FBSztnQkFDSGYsb0JBQW9CLElBQUlPLGVBQWU7b0JBQUVTLFFBQVFIO2dCQUFVO2dCQUMzRGIsb0JBQW9CYzthQUNyQjtRQUNIO0lBQ0Y7SUFDQSw4RUFBOEU7SUFDOUVHLElBQUcsR0FBR0MsS0FBSztRQUNULE9BQU8sSUFBSVgsZUFBZTtZQUFFWSxLQUFLRCxNQUFNRSxHQUFHLENBQUNwQjtRQUFxQjtJQUNsRTtBQUNGLEVBQUUsQ0FDRiw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qcz8xMmY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIEZpbHRlckV4cHJlc3Npb25cbn0gZnJvbSBcIi4uL3ZlY3Rvcl9zZWFyY2guanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQWN0aW9uVmVjdG9yU2VhcmNoKHJlcXVlc3RJZCkge1xuICByZXR1cm4gYXN5bmMgKHRhYmxlTmFtZSwgaW5kZXhOYW1lLCBxdWVyeSkgPT4ge1xuICAgIHZhbGlkYXRlQXJnKHRhYmxlTmFtZSwgMSwgXCJ2ZWN0b3JTZWFyY2hcIiwgXCJ0YWJsZU5hbWVcIik7XG4gICAgdmFsaWRhdGVBcmcoaW5kZXhOYW1lLCAyLCBcInZlY3RvclNlYXJjaFwiLCBcImluZGV4TmFtZVwiKTtcbiAgICB2YWxpZGF0ZUFyZyhxdWVyeSwgMywgXCJ2ZWN0b3JTZWFyY2hcIiwgXCJxdWVyeVwiKTtcbiAgICBpZiAoIXF1ZXJ5LnZlY3RvciB8fCAhQXJyYXkuaXNBcnJheShxdWVyeS52ZWN0b3IpIHx8IHF1ZXJ5LnZlY3Rvci5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IEVycm9yKFwiYHZlY3RvcmAgbXVzdCBiZSBhIG5vbi1lbXB0eSBBcnJheSBpbiB2ZWN0b3JTZWFyY2hcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBuZXcgVmVjdG9yUXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgdGFibGVOYW1lICsgXCIuXCIgKyBpbmRleE5hbWUsXG4gICAgICBxdWVyeVxuICAgICkuY29sbGVjdCgpO1xuICB9O1xufVxuZXhwb3J0IGNsYXNzIFZlY3RvclF1ZXJ5SW1wbCB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCwgaW5kZXhOYW1lLCBxdWVyeSkge1xuICAgIHRoaXMucmVxdWVzdElkID0gcmVxdWVzdElkO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBxdWVyeS5maWx0ZXIgPyBzZXJpYWxpemVFeHByZXNzaW9uKHF1ZXJ5LmZpbHRlcihmaWx0ZXJCdWlsZGVySW1wbCkpIDogbnVsbDtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdHlwZTogXCJwcmVwYXJpbmdcIixcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIGluZGV4TmFtZSxcbiAgICAgICAgbGltaXQ6IHF1ZXJ5LmxpbWl0LFxuICAgICAgICB2ZWN0b3I6IHF1ZXJ5LnZlY3RvcixcbiAgICAgICAgZXhwcmVzc2lvbnM6IGZpbHRlcnNcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGNvbGxlY3QoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSA9PT0gXCJjb25zdW1lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHF1ZXJ5IGlzIGNsb3NlZCBhbmQgY2FuJ3QgZW1pdCBhbnkgbW9yZSB2YWx1ZXMuXCIpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuc3RhdGUucXVlcnk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdHlwZTogXCJjb25zdW1lZFwiIH07XG4gICAgY29uc3QgeyByZXN1bHRzIH0gPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2FjdGlvbnMvdmVjdG9yU2VhcmNoXCIsIHtcbiAgICAgIHJlcXVlc3RJZDogdGhpcy5yZXF1ZXN0SWQsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgcXVlcnlcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25JbXBsIGV4dGVuZHMgRmlsdGVyRXhwcmVzc2lvbiB7XG4gIGNvbnN0cnVjdG9yKGlubmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gIH1cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiB0aGlzLmlubmVyO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRXhwcmVzc2lvbihleHByKSB7XG4gIGlmIChleHByIGluc3RhbmNlb2YgRXhwcmVzc2lvbkltcGwpIHtcbiAgICByZXR1cm4gZXhwci5zZXJpYWxpemUoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyAkbGl0ZXJhbDogY29udmV4T3JVbmRlZmluZWRUb0pzb24oZXhwcikgfTtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGZpbHRlckJ1aWxkZXJJbXBsID0ge1xuICAvLyAgQ29tcGFyaXNvbnMgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZXEoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgZmllbGROYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gYHEuZXFgIG11c3QgYmUgYSBmaWVsZCBuYW1lLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkZXE6IFtcbiAgICAgICAgc2VyaWFsaXplRXhwcmVzc2lvbihuZXcgRXhwcmVzc2lvbkltcGwoeyAkZmllbGQ6IGZpZWxkTmFtZSB9KSksXG4gICAgICAgIHNlcmlhbGl6ZUV4cHJlc3Npb24odmFsdWUpXG4gICAgICBdXG4gICAgfSk7XG4gIH0sXG4gIC8vICBMb2dpYyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBvciguLi5leHBycykge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkb3I6IGV4cHJzLm1hcChzZXJpYWxpemVFeHByZXNzaW9uKSB9KTtcbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvcl9zZWFyY2hfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJwZXJmb3JtQXN5bmNTeXNjYWxsIiwidmVyc2lvbiIsIkZpbHRlckV4cHJlc3Npb24iLCJ2YWxpZGF0ZUFyZyIsImNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIiwic2V0dXBBY3Rpb25WZWN0b3JTZWFyY2giLCJyZXF1ZXN0SWQiLCJ0YWJsZU5hbWUiLCJpbmRleE5hbWUiLCJxdWVyeSIsInZlY3RvciIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIkVycm9yIiwiVmVjdG9yUXVlcnlJbXBsIiwiY29sbGVjdCIsImNvbnN0cnVjdG9yIiwiZmlsdGVycyIsImZpbHRlciIsInNlcmlhbGl6ZUV4cHJlc3Npb24iLCJmaWx0ZXJCdWlsZGVySW1wbCIsInN0YXRlIiwidHlwZSIsImxpbWl0IiwiZXhwcmVzc2lvbnMiLCJyZXN1bHRzIiwiRXhwcmVzc2lvbkltcGwiLCJpbm5lciIsInNlcmlhbGl6ZSIsImV4cHIiLCIkbGl0ZXJhbCIsImVxIiwiZmllbGROYW1lIiwidmFsdWUiLCIkZXEiLCIkZmllbGQiLCJvciIsImV4cHJzIiwiJG9yIiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.ROUTABLE_HTTP_METHODS),\n/* harmony export */   SearchFilter: () => (/* reexport safe */ _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__.SearchFilter),\n/* harmony export */   actionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.actionGeneric),\n/* harmony export */   anyApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.anyApi),\n/* harmony export */   cronJobs: () => (/* reexport safe */ _cron_js__WEBPACK_IMPORTED_MODULE_5__.cronJobs),\n/* harmony export */   defineSchema: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_8__.defineSchema),\n/* harmony export */   defineTable: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_8__.defineTable),\n/* harmony export */   filterApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.filterApi),\n/* harmony export */   getFunctionName: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.getFunctionName),\n/* harmony export */   httpActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.httpActionGeneric),\n/* harmony export */   httpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.httpRouter),\n/* harmony export */   internalActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalQueryGeneric),\n/* harmony export */   makeFunctionReference: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.makeFunctionReference),\n/* harmony export */   mutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.mutationGeneric),\n/* harmony export */   paginationOptsValidator: () => (/* reexport safe */ _pagination_js__WEBPACK_IMPORTED_MODULE_2__.paginationOptsValidator),\n/* harmony export */   queryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.queryGeneric)\n/* harmony export */ });\n/* harmony import */ var _database_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database.js */ \"(ssr)/./node_modules/convex/dist/esm/server/database.js\");\n/* harmony import */ var _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./impl/registration_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\");\n/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pagination.js */ \"(ssr)/./node_modules/convex/dist/esm/server/pagination.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storage.js */ \"(ssr)/./node_modules/convex/dist/esm/server/storage.js\");\n/* harmony import */ var _cron_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cron.js */ \"(ssr)/./node_modules/convex/dist/esm/server/cron.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router.js */ \"(ssr)/./node_modules/convex/dist/esm/server/router.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./schema.js */ \"(ssr)/./node_modules/convex/dist/esm/server/schema.js\");\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDaUI7QUFTTztBQUNMO0FBQ1c7QUFDZDtBQUNRO0FBQ3VDO0FBTTFEO0FBQ3NDLENBQ3hELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2luZGV4LmpzPzgzOTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kYXRhYmFzZS5qc1wiO1xuZXhwb3J0IHtcbiAgYWN0aW9uR2VuZXJpYyxcbiAgaHR0cEFjdGlvbkdlbmVyaWMsXG4gIG11dGF0aW9uR2VuZXJpYyxcbiAgcXVlcnlHZW5lcmljLFxuICBpbnRlcm5hbEFjdGlvbkdlbmVyaWMsXG4gIGludGVybmFsTXV0YXRpb25HZW5lcmljLFxuICBpbnRlcm5hbFF1ZXJ5R2VuZXJpY1xufSBmcm9tIFwiLi9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9wYWdpbmF0aW9uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3N0b3JhZ2UuanNcIjtcbmV4cG9ydCB7IGNyb25Kb2JzIH0gZnJvbSBcIi4vY3Jvbi5qc1wiO1xuZXhwb3J0IHsgaHR0cFJvdXRlciwgSHR0cFJvdXRlciwgUk9VVEFCTEVfSFRUUF9NRVRIT0RTIH0gZnJvbSBcIi4vcm91dGVyLmpzXCI7XG5leHBvcnQge1xuICBhbnlBcGksXG4gIGdldEZ1bmN0aW9uTmFtZSxcbiAgbWFrZUZ1bmN0aW9uUmVmZXJlbmNlLFxuICBmaWx0ZXJBcGlcbn0gZnJvbSBcIi4vYXBpLmpzXCI7XG5leHBvcnQgeyBkZWZpbmVUYWJsZSwgZGVmaW5lU2NoZW1hIH0gZnJvbSBcIi4vc2NoZW1hLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJhY3Rpb25HZW5lcmljIiwiaHR0cEFjdGlvbkdlbmVyaWMiLCJtdXRhdGlvbkdlbmVyaWMiLCJxdWVyeUdlbmVyaWMiLCJpbnRlcm5hbEFjdGlvbkdlbmVyaWMiLCJpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyIsImludGVybmFsUXVlcnlHZW5lcmljIiwiY3JvbkpvYnMiLCJodHRwUm91dGVyIiwiSHR0cFJvdXRlciIsIlJPVVRBQkxFX0hUVFBfTUVUSE9EUyIsImFueUFwaSIsImdldEZ1bmN0aW9uTmFtZSIsIm1ha2VGdW5jdGlvblJlZmVyZW5jZSIsImZpbHRlckFwaSIsImRlZmluZVRhYmxlIiwiZGVmaW5lU2NoZW1hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index_range_builder.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRange: () => (/* binding */ IndexRange)\n/* harmony export */ });\n\nclass IndexRange {\n    /**\n   * @internal\n   */ constructor(){}\n} //# sourceMappingURL=index_range_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleF9yYW5nZV9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLE1BQU1BO0lBQ1g7O0dBRUMsR0FDREMsYUFBYyxDQUNkO0FBQ0YsRUFDQSwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleF9yYW5nZV9idWlsZGVyLmpzP2Y1OTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgY2xhc3MgSW5kZXhSYW5nZSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleF9yYW5nZV9idWlsZGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkluZGV4UmFuZ2UiLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/pagination.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/pagination.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paginationOptsValidator: () => (/* binding */ paginationOptsValidator)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\n\nconst paginationOptsValidator = _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n    numItems: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number(),\n    cursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null()),\n    endCursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null())),\n    id: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumRowsRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumBytesRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number())\n}); //# sourceMappingURL=pagination.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9wYWdpbmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDOEI7QUFDcEMsTUFBTUMsMEJBQTBCRCxtREFBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQzlDQyxVQUFVSCxtREFBQ0EsQ0FBQ0ksTUFBTTtJQUNsQkMsUUFBUUwsbURBQUNBLENBQUNNLEtBQUssQ0FBQ04sbURBQUNBLENBQUNPLE1BQU0sSUFBSVAsbURBQUNBLENBQUNRLElBQUk7SUFDbENDLFdBQVdULG1EQUFDQSxDQUFDVSxRQUFRLENBQUNWLG1EQUFDQSxDQUFDTSxLQUFLLENBQUNOLG1EQUFDQSxDQUFDTyxNQUFNLElBQUlQLG1EQUFDQSxDQUFDUSxJQUFJO0lBQ2hERyxJQUFJWCxtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtJQUN2QlEsaUJBQWlCWixtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtJQUNwQ1Msa0JBQWtCYixtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtBQUN2QyxHQUFHLENBQ0gsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvcGFnaW5hdGlvbi5qcz9lMTE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdiB9IGZyb20gXCIuLi92YWx1ZXMvdmFsaWRhdG9yLmpzXCI7XG5leHBvcnQgY29uc3QgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3IgPSB2Lm9iamVjdCh7XG4gIG51bUl0ZW1zOiB2Lm51bWJlcigpLFxuICBjdXJzb3I6IHYudW5pb24odi5zdHJpbmcoKSwgdi5udWxsKCkpLFxuICBlbmRDdXJzb3I6IHYub3B0aW9uYWwodi51bmlvbih2LnN0cmluZygpLCB2Lm51bGwoKSkpLFxuICBpZDogdi5vcHRpb25hbCh2Lm51bWJlcigpKSxcbiAgbWF4aW11bVJvd3NSZWFkOiB2Lm9wdGlvbmFsKHYubnVtYmVyKCkpLFxuICBtYXhpbXVtQnl0ZXNSZWFkOiB2Lm9wdGlvbmFsKHYubnVtYmVyKCkpXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidiIsInBhZ2luYXRpb25PcHRzVmFsaWRhdG9yIiwib2JqZWN0IiwibnVtSXRlbXMiLCJudW1iZXIiLCJjdXJzb3IiLCJ1bmlvbiIsInN0cmluZyIsIm51bGwiLCJlbmRDdXJzb3IiLCJvcHRpb25hbCIsImlkIiwibWF4aW11bVJvd3NSZWFkIiwibWF4aW11bUJ5dGVzUmVhZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/pagination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/router.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/router.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* binding */ HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* binding */ ROUTABLE_HTTP_METHODS),\n/* harmony export */   httpRouter: () => (/* binding */ httpRouter),\n/* harmony export */   normalizeMethod: () => (/* binding */ normalizeMethod)\n/* harmony export */ });\n/* harmony import */ var _impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./impl/syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\n\nconst ROUTABLE_HTTP_METHODS = [\n    \"GET\",\n    \"POST\",\n    \"PUT\",\n    \"DELETE\",\n    \"OPTIONS\",\n    \"PATCH\"\n];\nfunction normalizeMethod(method) {\n    if (method === \"HEAD\") return \"GET\";\n    return method;\n}\nconst httpRouter = ()=>new HttpRouter();\nclass HttpRouter {\n    constructor(){\n        this.exactRoutes = /* @__PURE__ */ new Map();\n        this.prefixRoutes = /* @__PURE__ */ new Map();\n        this.isRouter = true;\n        /**\n     * Specify an HttpAction to be used to respond to requests\n     * for an HTTP method (e.g. \"GET\") and a path or pathPrefix.\n     *\n     * Paths must begin with a slash. Path prefixes must also end in a slash.\n     *\n     * ```js\n     * // matches `/profile` (but not `/profile/`)\n     * http.route({ path: \"/profile\", method: \"GET\", handler: getProfile})\n     *\n     * // matches `/profiles/`, `/profiles/abc`, and `/profiles/a/c/b` (but not `/profile`)\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile})\n     * ```\n     */ this.route = (spec)=>{\n            if (!spec.handler) throw new Error(`route requires handler`);\n            if (!spec.method) throw new Error(`route requires method`);\n            const { method, handler } = spec;\n            if (!ROUTABLE_HTTP_METHODS.includes(method)) {\n                throw new Error(`'${method}' is not an allowed HTTP method (like GET, POST, PUT etc.)`);\n            }\n            if (\"path\" in spec) {\n                if (!spec.path.startsWith(\"/\")) {\n                    throw new Error(`path '${spec.path}' does not start with a /`);\n                }\n                const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n                for (const [prefix, _] of prefixes.entries()){\n                    if (spec.path.startsWith(prefix)) {\n                        throw new Error(`${spec.method} path ${spec.path} is shadowed by pathPrefix ${prefix}`);\n                    }\n                }\n                const methods = this.exactRoutes.has(spec.path) ? this.exactRoutes.get(spec.path) : /* @__PURE__ */ new Map();\n                if (methods.has(method)) {\n                    throw new Error(`Path '${spec.path}' for method ${method} already in use`);\n                }\n                methods.set(method, handler);\n                this.exactRoutes.set(spec.path, methods);\n            } else if (\"pathPrefix\" in spec) {\n                if (!spec.pathPrefix.startsWith(\"/\")) {\n                    throw new Error(`path '${spec.pathPrefix}' does not start with a /`);\n                }\n                if (!spec.pathPrefix.endsWith(\"/\")) {\n                    throw new Error(`pathPrefix ${spec.pathPrefix} must end with a /`);\n                }\n                const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n                for (const [prefix, _] of prefixes.entries()){\n                    if (spec.pathPrefix.startsWith(prefix)) {\n                        throw new Error(`${spec.method} pathPrefix ${spec.pathPrefix} is shadowed by pathPrefix ${prefix}`);\n                    }\n                }\n                prefixes.set(spec.pathPrefix, handler);\n                this.prefixRoutes.set(method, prefixes);\n            } else {\n                throw new Error(`Invalid httpRouter route entry: must contain either field 'path' or 'pathPrefix'`);\n            }\n        };\n        /**\n     * Returns a list of routed HTTP actions.\n     *\n     * These are used to populate the list of routes shown in the Functions page of the Convex dashboard.\n     *\n     * @returns - an array of [path, method, endpoint] tuples.\n     */ this.getRoutes = ()=>{\n            const exactPaths = [\n                ...this.exactRoutes.keys()\n            ].sort();\n            const exact = exactPaths.flatMap((path)=>[\n                    ...this.exactRoutes.get(path).keys()\n                ].sort().map((method)=>[\n                        path,\n                        method,\n                        this.exactRoutes.get(path).get(method)\n                    ]));\n            const prefixPathMethods = [\n                ...this.prefixRoutes.keys()\n            ].sort();\n            const prefixes = prefixPathMethods.flatMap((method)=>[\n                    ...this.prefixRoutes.get(method).keys()\n                ].sort().map((pathPrefix)=>[\n                        `${pathPrefix}*`,\n                        method,\n                        this.prefixRoutes.get(method).get(pathPrefix)\n                    ]));\n            return [\n                ...exact,\n                ...prefixes\n            ];\n        };\n        /**\n     * Returns the appropriate HTTP action and its routed request path and method.\n     *\n     * The path and method returned are used for logging and metrics, and should\n     * match up with one of the routes returned by `getRoutes`.\n     *\n     * For example,\n     *\n     * ```js\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile});\n     *\n     * http.lookup(\"/profile/abc\", \"GET\") // returns [getProfile, \"GET\", \"/profile/*\"]\n     *```\n     *\n     * @returns - a tuple [{@link PublicHttpAction}, method, path] or null.\n     */ this.lookup = (path, method)=>{\n            method = normalizeMethod(method);\n            const exactMatch = this.exactRoutes.get(path)?.get(method);\n            if (exactMatch) return [\n                exactMatch,\n                method,\n                path\n            ];\n            const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n            for (const [pathPrefix, endpoint] of prefixes.entries()){\n                if (path.startsWith(pathPrefix)) {\n                    return [\n                        endpoint,\n                        method,\n                        `${pathPrefix}*`\n                    ];\n                }\n            }\n            return null;\n        };\n        /**\n     * Given a JSON string representation of a Request object, return a Response\n     * by routing the request and running the appropriate endpoint or returning\n     * a 404 Response.\n     *\n     * @param argsStr - a JSON string representing a Request object.\n     *\n     * @returns - a Response object.\n     */ this.runRequest = async (argsStr)=>{\n            const request = (0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"requestFromConvexJson\", {\n                convexJson: JSON.parse(argsStr)\n            });\n            const pathname = new URL(request.url).pathname;\n            const method = request.method;\n            const match = this.lookup(pathname, method);\n            if (!match) {\n                const response2 = new Response(`No HttpAction routed for ${pathname}`, {\n                    status: 404\n                });\n                return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                    response: response2\n                }));\n            }\n            const [endpoint, _method, _path] = match;\n            const response = await endpoint.invokeHttpAction(request);\n            return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                response\n            }));\n        };\n    }\n} //# sourceMappingURL=router.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUN3QztBQUM5QyxNQUFNQyx3QkFBd0I7SUFDbkM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsQ0FBQztBQUNLLFNBQVNDLGdCQUFnQkMsTUFBTTtJQUNwQyxJQUFJQSxXQUFXLFFBQ2IsT0FBTztJQUNULE9BQU9BO0FBQ1Q7QUFDTyxNQUFNQyxhQUFhLElBQU0sSUFBSUMsYUFBYTtBQUMxQyxNQUFNQTtJQUNYQyxhQUFjO1FBQ1osSUFBSSxDQUFDQyxXQUFXLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQ3ZDLElBQUksQ0FBQ0MsWUFBWSxHQUFHLGFBQWEsR0FBRyxJQUFJRDtRQUN4QyxJQUFJLENBQUNFLFFBQVEsR0FBRztRQUNoQjs7Ozs7Ozs7Ozs7OztLQWFDLEdBQ0QsSUFBSSxDQUFDQyxLQUFLLEdBQUcsQ0FBQ0M7WUFDWixJQUFJLENBQUNBLEtBQUtDLE9BQU8sRUFDZixNQUFNLElBQUlDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQztZQUMxQyxJQUFJLENBQUNGLEtBQUtULE1BQU0sRUFDZCxNQUFNLElBQUlXLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQztZQUN6QyxNQUFNLEVBQUVYLE1BQU0sRUFBRVUsT0FBTyxFQUFFLEdBQUdEO1lBQzVCLElBQUksQ0FBQ1gsc0JBQXNCYyxRQUFRLENBQUNaLFNBQVM7Z0JBQzNDLE1BQU0sSUFBSVcsTUFDUixDQUFDLENBQUMsRUFBRVgsT0FBTywwREFBMEQsQ0FBQztZQUUxRTtZQUNBLElBQUksVUFBVVMsTUFBTTtnQkFDbEIsSUFBSSxDQUFDQSxLQUFLSSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxNQUFNO29CQUM5QixNQUFNLElBQUlILE1BQU0sQ0FBQyxNQUFNLEVBQUVGLEtBQUtJLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztnQkFDL0Q7Z0JBQ0EsTUFBTUUsV0FBVyxJQUFJ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LENBQUNaLE1BQU0sQ0FBQ1MsVUFBVTFDO1lBQ3BDLElBQUksQ0FBQzZDLE9BQU87Z0JBQ1YsTUFBTUMsWUFBWSxJQUFJQyxTQUFTLENBQUMseUJBQXlCLEVBQUVMLFNBQVMsQ0FBQyxFQUFFO29CQUNyRU0sUUFBUTtnQkFDVjtnQkFDQSxPQUFPUixLQUFLUyxTQUFTLENBQ25CcEQsa0VBQWdCQSxDQUFDLDBCQUEwQjtvQkFBRXFELFVBQVVKO2dCQUFVO1lBRXJFO1lBQ0EsTUFBTSxDQUFDWCxVQUFVZ0IsU0FBU0MsTUFBTSxHQUFHUDtZQUNuQyxNQUFNSyxXQUFXLE1BQU1mLFNBQVNrQixnQkFBZ0IsQ0FBQ2Y7WUFDakQsT0FBT0UsS0FBS1MsU0FBUyxDQUNuQnBELGtFQUFnQkEsQ0FBQywwQkFBMEI7Z0JBQUVxRDtZQUFTO1FBRTFEO0lBQ0Y7QUFDRixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3JvdXRlci5qcz85NDYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgcGVyZm9ybUpzU3lzY2FsbCB9IGZyb20gXCIuL2ltcGwvc3lzY2FsbC5qc1wiO1xuZXhwb3J0IGNvbnN0IFJPVVRBQkxFX0hUVFBfTUVUSE9EUyA9IFtcbiAgXCJHRVRcIixcbiAgXCJQT1NUXCIsXG4gIFwiUFVUXCIsXG4gIFwiREVMRVRFXCIsXG4gIFwiT1BUSU9OU1wiLFxuICBcIlBBVENIXCJcbl07XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICBpZiAobWV0aG9kID09PSBcIkhFQURcIilcbiAgICByZXR1cm4gXCJHRVRcIjtcbiAgcmV0dXJuIG1ldGhvZDtcbn1cbmV4cG9ydCBjb25zdCBodHRwUm91dGVyID0gKCkgPT4gbmV3IEh0dHBSb3V0ZXIoKTtcbmV4cG9ydCBjbGFzcyBIdHRwUm91dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5leGFjdFJvdXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5wcmVmaXhSb3V0ZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuaXNSb3V0ZXIgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgYW4gSHR0cEFjdGlvbiB0byBiZSB1c2VkIHRvIHJlc3BvbmQgdG8gcmVxdWVzdHNcbiAgICAgKiBmb3IgYW4gSFRUUCBtZXRob2QgKGUuZy4gXCJHRVRcIikgYW5kIGEgcGF0aCBvciBwYXRoUHJlZml4LlxuICAgICAqXG4gICAgICogUGF0aHMgbXVzdCBiZWdpbiB3aXRoIGEgc2xhc2guIFBhdGggcHJlZml4ZXMgbXVzdCBhbHNvIGVuZCBpbiBhIHNsYXNoLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBtYXRjaGVzIGAvcHJvZmlsZWAgKGJ1dCBub3QgYC9wcm9maWxlL2ApXG4gICAgICogaHR0cC5yb3V0ZSh7IHBhdGg6IFwiL3Byb2ZpbGVcIiwgbWV0aG9kOiBcIkdFVFwiLCBoYW5kbGVyOiBnZXRQcm9maWxlfSlcbiAgICAgKlxuICAgICAqIC8vIG1hdGNoZXMgYC9wcm9maWxlcy9gLCBgL3Byb2ZpbGVzL2FiY2AsIGFuZCBgL3Byb2ZpbGVzL2EvYy9iYCAoYnV0IG5vdCBgL3Byb2ZpbGVgKVxuICAgICAqIGh0dHAucm91dGUoeyBwYXRoUHJlZml4OiBcIi9wcm9maWxlL1wiLCBtZXRob2Q6IFwiR0VUXCIsIGhhbmRsZXI6IGdldFByb2ZpbGV9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHRoaXMucm91dGUgPSAoc3BlYykgPT4ge1xuICAgICAgaWYgKCFzcGVjLmhhbmRsZXIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcm91dGUgcmVxdWlyZXMgaGFuZGxlcmApO1xuICAgICAgaWYgKCFzcGVjLm1ldGhvZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb3V0ZSByZXF1aXJlcyBtZXRob2RgKTtcbiAgICAgIGNvbnN0IHsgbWV0aG9kLCBoYW5kbGVyIH0gPSBzcGVjO1xuICAgICAgaWYgKCFST1VUQUJMRV9IVFRQX01FVEhPRFMuaW5jbHVkZXMobWV0aG9kKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYCcke21ldGhvZH0nIGlzIG5vdCBhbiBhbGxvd2VkIEhUVFAgbWV0aG9kIChsaWtlIEdFVCwgUE9TVCwgUFVUIGV0Yy4pYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFwicGF0aFwiIGluIHNwZWMpIHtcbiAgICAgICAgaWYgKCFzcGVjLnBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBhdGggJyR7c3BlYy5wYXRofScgZG9lcyBub3Qgc3RhcnQgd2l0aCBhIC9gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmVmaXhlcyA9IHRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgW3ByZWZpeCwgX10gb2YgcHJlZml4ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgaWYgKHNwZWMucGF0aC5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYCR7c3BlYy5tZXRob2R9IHBhdGggJHtzcGVjLnBhdGh9IGlzIHNoYWRvd2VkIGJ5IHBhdGhQcmVmaXggJHtwcmVmaXh9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IHRoaXMuZXhhY3RSb3V0ZXMuaGFzKHNwZWMucGF0aCkgPyB0aGlzLmV4YWN0Um91dGVzLmdldChzcGVjLnBhdGgpIDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgaWYgKG1ldGhvZHMuaGFzKG1ldGhvZCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUGF0aCAnJHtzcGVjLnBhdGh9JyBmb3IgbWV0aG9kICR7bWV0aG9kfSBhbHJlYWR5IGluIHVzZWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIG1ldGhvZHMuc2V0KG1ldGhvZCwgaGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXhhY3RSb3V0ZXMuc2V0KHNwZWMucGF0aCwgbWV0aG9kcyk7XG4gICAgICB9IGVsc2UgaWYgKFwicGF0aFByZWZpeFwiIGluIHNwZWMpIHtcbiAgICAgICAgaWYgKCFzcGVjLnBhdGhQcmVmaXguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBhdGggJyR7c3BlYy5wYXRoUHJlZml4fScgZG9lcyBub3Qgc3RhcnQgd2l0aCBhIC9gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwZWMucGF0aFByZWZpeC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBhdGhQcmVmaXggJHtzcGVjLnBhdGhQcmVmaXh9IG11c3QgZW5kIHdpdGggYSAvYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJlZml4ZXMgPSB0aGlzLnByZWZpeFJvdXRlcy5nZXQobWV0aG9kKSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtwcmVmaXgsIF9dIG9mIHByZWZpeGVzLmVudHJpZXMoKSkge1xuICAgICAgICAgIGlmIChzcGVjLnBhdGhQcmVmaXguc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGAke3NwZWMubWV0aG9kfSBwYXRoUHJlZml4ICR7c3BlYy5wYXRoUHJlZml4fSBpcyBzaGFkb3dlZCBieSBwYXRoUHJlZml4ICR7cHJlZml4fWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZWZpeGVzLnNldChzcGVjLnBhdGhQcmVmaXgsIGhhbmRsZXIpO1xuICAgICAgICB0aGlzLnByZWZpeFJvdXRlcy5zZXQobWV0aG9kLCBwcmVmaXhlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEludmFsaWQgaHR0cFJvdXRlciByb3V0ZSBlbnRyeTogbXVzdCBjb250YWluIGVpdGhlciBmaWVsZCAncGF0aCcgb3IgJ3BhdGhQcmVmaXgnYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygcm91dGVkIEhUVFAgYWN0aW9ucy5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSB1c2VkIHRvIHBvcHVsYXRlIHRoZSBsaXN0IG9mIHJvdXRlcyBzaG93biBpbiB0aGUgRnVuY3Rpb25zIHBhZ2Ugb2YgdGhlIENvbnZleCBkYXNoYm9hcmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIGFuIGFycmF5IG9mIFtwYXRoLCBtZXRob2QsIGVuZHBvaW50XSB0dXBsZXMuXG4gICAgICovXG4gICAgdGhpcy5nZXRSb3V0ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBleGFjdFBhdGhzID0gWy4uLnRoaXMuZXhhY3RSb3V0ZXMua2V5cygpXS5zb3J0KCk7XG4gICAgICBjb25zdCBleGFjdCA9IGV4YWN0UGF0aHMuZmxhdE1hcChcbiAgICAgICAgKHBhdGgpID0+IFsuLi50aGlzLmV4YWN0Um91dGVzLmdldChwYXRoKS5rZXlzKCldLnNvcnQoKS5tYXAoXG4gICAgICAgICAgKG1ldGhvZCkgPT4gW3BhdGgsIG1ldGhvZCwgdGhpcy5leGFjdFJvdXRlcy5nZXQocGF0aCkuZ2V0KG1ldGhvZCldXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBjb25zdCBwcmVmaXhQYXRoTWV0aG9kcyA9IFsuLi50aGlzLnByZWZpeFJvdXRlcy5rZXlzKCldLnNvcnQoKTtcbiAgICAgIGNvbnN0IHByZWZpeGVzID0gcHJlZml4UGF0aE1ldGhvZHMuZmxhdE1hcChcbiAgICAgICAgKG1ldGhvZCkgPT4gWy4uLnRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpLmtleXMoKV0uc29ydCgpLm1hcChcbiAgICAgICAgICAocGF0aFByZWZpeCkgPT4gW1xuICAgICAgICAgICAgYCR7cGF0aFByZWZpeH0qYCxcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpLmdldChwYXRoUHJlZml4KVxuICAgICAgICAgIF1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBbLi4uZXhhY3QsIC4uLnByZWZpeGVzXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFwcHJvcHJpYXRlIEhUVFAgYWN0aW9uIGFuZCBpdHMgcm91dGVkIHJlcXVlc3QgcGF0aCBhbmQgbWV0aG9kLlxuICAgICAqXG4gICAgICogVGhlIHBhdGggYW5kIG1ldGhvZCByZXR1cm5lZCBhcmUgdXNlZCBmb3IgbG9nZ2luZyBhbmQgbWV0cmljcywgYW5kIHNob3VsZFxuICAgICAqIG1hdGNoIHVwIHdpdGggb25lIG9mIHRoZSByb3V0ZXMgcmV0dXJuZWQgYnkgYGdldFJvdXRlc2AuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSxcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaHR0cC5yb3V0ZSh7IHBhdGhQcmVmaXg6IFwiL3Byb2ZpbGUvXCIsIG1ldGhvZDogXCJHRVRcIiwgaGFuZGxlcjogZ2V0UHJvZmlsZX0pO1xuICAgICAqXG4gICAgICogaHR0cC5sb29rdXAoXCIvcHJvZmlsZS9hYmNcIiwgXCJHRVRcIikgLy8gcmV0dXJucyBbZ2V0UHJvZmlsZSwgXCJHRVRcIiwgXCIvcHJvZmlsZS8qXCJdXG4gICAgICpgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYSB0dXBsZSBbe0BsaW5rIFB1YmxpY0h0dHBBY3Rpb259LCBtZXRob2QsIHBhdGhdIG9yIG51bGwuXG4gICAgICovXG4gICAgdGhpcy5sb29rdXAgPSAocGF0aCwgbWV0aG9kKSA9PiB7XG4gICAgICBtZXRob2QgPSBub3JtYWxpemVNZXRob2QobWV0aG9kKTtcbiAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPSB0aGlzLmV4YWN0Um91dGVzLmdldChwYXRoKT8uZ2V0KG1ldGhvZCk7XG4gICAgICBpZiAoZXhhY3RNYXRjaClcbiAgICAgICAgcmV0dXJuIFtleGFjdE1hdGNoLCBtZXRob2QsIHBhdGhdO1xuICAgICAgY29uc3QgcHJlZml4ZXMgPSB0aGlzLnByZWZpeFJvdXRlcy5nZXQobWV0aG9kKSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgZm9yIChjb25zdCBbcGF0aFByZWZpeCwgZW5kcG9pbnRdIG9mIHByZWZpeGVzLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKHBhdGhQcmVmaXgpKSB7XG4gICAgICAgICAgcmV0dXJuIFtlbmRwb2ludCwgbWV0aG9kLCBgJHtwYXRoUHJlZml4fSpgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIEpTT04gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgUmVxdWVzdCBvYmplY3QsIHJldHVybiBhIFJlc3BvbnNlXG4gICAgICogYnkgcm91dGluZyB0aGUgcmVxdWVzdCBhbmQgcnVubmluZyB0aGUgYXBwcm9wcmlhdGUgZW5kcG9pbnQgb3IgcmV0dXJuaW5nXG4gICAgICogYSA0MDQgUmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnc1N0ciAtIGEgSlNPTiBzdHJpbmcgcmVwcmVzZW50aW5nIGEgUmVxdWVzdCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIGEgUmVzcG9uc2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMucnVuUmVxdWVzdCA9IGFzeW5jIChhcmdzU3RyKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gcGVyZm9ybUpzU3lzY2FsbChcInJlcXVlc3RGcm9tQ29udmV4SnNvblwiLCB7XG4gICAgICAgIGNvbnZleEpzb246IEpTT04ucGFyc2UoYXJnc1N0cilcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcGF0aG5hbWUgPSBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLmxvb2t1cChwYXRobmFtZSwgbWV0aG9kKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UyID0gbmV3IFJlc3BvbnNlKGBObyBIdHRwQWN0aW9uIHJvdXRlZCBmb3IgJHtwYXRobmFtZX1gLCB7XG4gICAgICAgICAgc3RhdHVzOiA0MDRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBwZXJmb3JtSnNTeXNjYWxsKFwiY29udmV4SnNvbkZyb21SZXNwb25zZVwiLCB7IHJlc3BvbnNlOiByZXNwb25zZTIgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtlbmRwb2ludCwgX21ldGhvZCwgX3BhdGhdID0gbWF0Y2g7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVuZHBvaW50Lmludm9rZUh0dHBBY3Rpb24ocmVxdWVzdCk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHBlcmZvcm1Kc1N5c2NhbGwoXCJjb252ZXhKc29uRnJvbVJlc3BvbnNlXCIsIHsgcmVzcG9uc2UgfSlcbiAgICAgICk7XG4gICAgfTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbInBlcmZvcm1Kc1N5c2NhbGwiLCJST1VUQUJMRV9IVFRQX01FVEhPRFMiLCJub3JtYWxpemVNZXRob2QiLCJtZXRob2QiLCJodHRwUm91dGVyIiwiSHR0cFJvdXRlciIsImNvbnN0cnVjdG9yIiwiZXhhY3RSb3V0ZXMiLCJNYXAiLCJwcmVmaXhSb3V0ZXMiLCJpc1JvdXRlciIsInJvdXRlIiwic3BlYyIsImhhbmRsZXIiLCJFcnJvciIsImluY2x1ZGVzIiwicGF0aCIsInN0YXJ0c1dpdGgiLCJwcmVmaXhlcyIsImdldCIsInByZWZpeCIsIl8iLCJlbnRyaWVzIiwibWV0aG9kcyIsImhhcyIsInNldCIsInBhdGhQcmVmaXgiLCJlbmRzV2l0aCIsImdldFJvdXRlcyIsImV4YWN0UGF0aHMiLCJrZXlzIiwic29ydCIsImV4YWN0IiwiZmxhdE1hcCIsIm1hcCIsInByZWZpeFBhdGhNZXRob2RzIiwibG9va3VwIiwiZXhhY3RNYXRjaCIsImVuZHBvaW50IiwicnVuUmVxdWVzdCIsImFyZ3NTdHIiLCJyZXF1ZXN0IiwiY29udmV4SnNvbiIsIkpTT04iLCJwYXJzZSIsInBhdGhuYW1lIiwiVVJMIiwidXJsIiwibWF0Y2giLCJyZXNwb25zZTIiLCJSZXNwb25zZSIsInN0YXR1cyIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiX21ldGhvZCIsIl9wYXRoIiwiaW52b2tlSHR0cEFjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/router.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/schema.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/schema.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SchemaDefinition: () => (/* binding */ SchemaDefinition),\n/* harmony export */   TableDefinition: () => (/* binding */ TableDefinition),\n/* harmony export */   defineSchema: () => (/* binding */ defineSchema),\n/* harmony export */   defineTable: () => (/* binding */ defineTable)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\n\nclass TableDefinition {\n    /**\n   * @internal\n   */ constructor(documentType){\n        this.indexes = [];\n        this.searchIndexes = [];\n        this.vectorIndexes = [];\n        this.documentType = documentType;\n    }\n    /**\n   * Define an index on this table.\n   *\n   * To learn about indexes, see [Defining Indexes](https://docs.convex.dev/using/indexes).\n   *\n   * @param name - The name of the index.\n   * @param fields - The fields to index, in order. Must specify at least one\n   * field.\n   * @returns A {@link TableDefinition} with this index included.\n   */ index(name, fields) {\n        this.indexes.push({\n            indexDescriptor: name,\n            fields\n        });\n        return this;\n    }\n    /**\n   * Define a search index on this table.\n   *\n   * To learn about search indexes, see [Search](https://docs.convex.dev/text-search).\n   *\n   * @param name - The name of the index.\n   * @param indexConfig - The search index configuration object.\n   * @returns A {@link TableDefinition} with this search index included.\n   */ searchIndex(name, indexConfig) {\n        this.searchIndexes.push({\n            indexDescriptor: name,\n            searchField: indexConfig.searchField,\n            filterFields: indexConfig.filterFields || []\n        });\n        return this;\n    }\n    /**\n   * Define a vector index on this table.\n   *\n   * To learn about vector indexes, see [Vector Search](https://docs.convex.dev/vector-search).\n   *\n   * @param name - The name of the index.\n   * @param indexConfig - The vector index configuration object.\n   * @returns A {@link TableDefinition} with this vector index included.\n   */ vectorIndex(name, indexConfig) {\n        this.vectorIndexes.push({\n            indexDescriptor: name,\n            vectorField: indexConfig.vectorField,\n            dimensions: indexConfig.dimensions,\n            filterFields: indexConfig.filterFields || []\n        });\n        return this;\n    }\n    /**\n   * Work around for https://github.com/microsoft/TypeScript/issues/57035\n   */ self() {\n        return this;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        return {\n            indexes: this.indexes,\n            searchIndexes: this.searchIndexes,\n            vectorIndexes: this.vectorIndexes,\n            documentType: this.documentType.json\n        };\n    }\n}\nfunction defineTable(documentSchema) {\n    if (documentSchema instanceof _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.Validator) {\n        return new TableDefinition(documentSchema);\n    } else {\n        return new TableDefinition(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object(documentSchema));\n    }\n}\nclass SchemaDefinition {\n    /**\n   * @internal\n   */ constructor(tables, options){\n        this.tables = tables;\n        this.schemaValidation = options?.schemaValidation === void 0 ? true : options.schemaValidation;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        return JSON.stringify({\n            tables: Object.entries(this.tables).map(([tableName, definition])=>{\n                const { indexes, searchIndexes, vectorIndexes, documentType } = definition.export();\n                return {\n                    tableName,\n                    indexes,\n                    searchIndexes,\n                    vectorIndexes,\n                    documentType\n                };\n            }),\n            schemaValidation: this.schemaValidation\n        });\n    }\n}\nfunction defineSchema(schema, options) {\n    return new SchemaDefinition(schema, options);\n}\nconst systemSchema = defineSchema({\n    _scheduled_functions: defineTable({\n        name: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        args: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.array(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.any()),\n        scheduledTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        completedTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64()),\n        state: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"pending\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"inProgress\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"success\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"failed\"),\n            error: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string()\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"canceled\")\n        }))\n    }),\n    _storage: defineTable({\n        sha256: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        size: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        contentType: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string())\n    })\n}); //# sourceMappingURL=schema.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUN5QztBQUMvQyxNQUFNRTtJQUNYOztHQUVDLEdBQ0RDLFlBQVlDLFlBQVksQ0FBRTtRQUN4QixJQUFJLENBQUNDLE9BQU8sR0FBRyxFQUFFO1FBQ2pCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEVBQUU7UUFDdkIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUNILFlBQVksR0FBR0E7SUFDdEI7SUFDQTs7Ozs7Ozs7O0dBU0MsR0FDREksTUFBTUMsSUFBSSxFQUFFQyxNQUFNLEVBQUU7UUFDbEIsSUFBSSxDQUFDTCxPQUFPLENBQUNNLElBQUksQ0FBQztZQUFFQyxpQkFBaUJIO1lBQU1DO1FBQU87UUFDbEQsT0FBTyxJQUFJO0lBQ2I7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNERyxZQUFZSixJQUFJLEVBQUVLLFdBQVcsRUFBRTtRQUM3QixJQUFJLENBQUNSLGFBQWEsQ0FBQ0ssSUFBSSxDQUFDO1lBQ3RCQyxpQkFBaUJIO1lBQ2pCTSxhQUFhRCxZQUFZQyxXQUFXO1lBQ3BDQyxjQUFjRixZQUFZRSxZQUFZLElBQUksRUFBRTtRQUM5QztRQUNBLE9BQU8sSUFBSTtJQUNiO0lBQ0E7Ozs7Ozs7O0dBUUMsR0FDREMsWUFBWVIsSUFBSSxFQUFFSyxXQUFXLEVBQUU7UUFDN0IsSUFBSSxDQUFDUCxhQUFhLENBQUNJLElBQUksQ0FBQztZQUN0QkMsaUJBQWlCSDtZQUNqQlMsYUFBYUosWUFBWUksV0FBVztZQUNwQ0MsWUFBWUwsWUFBWUssVUFBVTtZQUNsQ0gsY0FBY0YsWUFBWUUsWUFBWSxJQUFJLEVBQUU7UUFDOUM7UUFDQSxPQUFPLElBQUk7SUFDYjtJQUNBOztHQUVDLEdBQ0RJLE9BQU87UUFDTCxPQUFPLElBQUk7SUFDYjtJQUNBOzs7OztHQUtDLEdBQ0RDLFNBQVM7UUFDUCxPQUFPO1lBQ0xoQixTQUFTLElBQUksQ0FBQ0EsT0FBTztZQUNyQkMsZUFBZSxJQUFJLENBQUNBLGFBQWE7WUFDakNDLGVBQWUsSUFBSSxDQUFDQSxhQUFhO1lBQ2pDSCxjQUFjLElBQUksQ0FBQ0EsWUFBWSxDQUFDa0IsSUFBSTtRQUN0QztJQUNGO0FBQ0Y7QUFDTyxTQUFTQyxZQUFZQyxjQUFjO0lBQ3hDLElBQUlBLDBCQUEwQnZCLDJEQUFTQSxFQUFFO1FBQ3ZDLE9BQU8sSUFBSUMsZ0JBQWdCc0I7SUFDN0IsT0FBTztRQUNMLE9BQU8sSUFBSXRCLGdCQUFnQkYsbURBQUNBLENBQUN5QixNQUFNLENBQUNEO0lBQ3RDO0FBQ0Y7QUFDTyxNQUFNRTtJQUNYOztHQUVDLEdBQ0R2QixZQUFZd0IsTUFBTSxFQUFFQyxPQUFPLENBQUU7UUFDM0IsSUFBSSxDQUFDRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDRSxnQkFBZ0IsR0FBR0QsU0FBU0MscUJBQXFCLEtBQUssSUFBSSxPQUFPRCxRQUFRQyxnQkFBZ0I7SUFDaEc7SUFDQTs7Ozs7R0FLQyxHQUNEUixTQUFTO1FBQ1AsT0FBT1MsS0FBS0MsU0FBUyxDQUFDO1lBQ3BCSixRQUFRSyxPQUFPQyxPQUFPLENBQUMsSUFBSSxDQUFDTixNQUFNLEVBQUVPLEdBQUcsQ0FBQyxDQUFDLENBQUNDLFdBQVdDLFdBQVc7Z0JBQzlELE1BQU0sRUFBRS9CLE9BQU8sRUFBRUMsYUFBYSxFQUFFQyxhQUFhLEVBQUVILFlBQVksRUFBRSxHQUFHZ0MsV0FBV2YsTUFBTTtnQkFDakYsT0FBTztvQkFDTGM7b0JBQ0E5QjtvQkFDQUM7b0JBQ0FDO29CQUNBSDtnQkFDRjtZQUNGO1lBQ0F5QixrQkFBa0IsSUFBSSxDQUFDQSxnQkFBZ0I7UUFDekM7SUFDRjtBQUNGO0FBQ08sU0FBU1EsYUFBYUMsTUFBTSxFQUFFVixPQUFPO0lBQzFDLE9BQU8sSUFBSUYsaUJBQWlCWSxRQUFRVjtBQUN0QztBQUNBLE1BQU1XLGVBQWVGLGFBQWE7SUFDaENHLHNCQUFzQmpCLFlBQVk7UUFDaENkLE1BQU1ULG1EQUFDQSxDQUFDeUMsTUFBTTtRQUNkQyxNQUFNMUMsbURBQUNBLENBQUMyQyxLQUFLLENBQUMzQyxtREFBQ0EsQ0FBQzRDLEdBQUc7UUFDbkJDLGVBQWU3QyxtREFBQ0EsQ0FBQzhDLE9BQU87UUFDeEJDLGVBQWUvQyxtREFBQ0EsQ0FBQ2dELFFBQVEsQ0FBQ2hELG1EQUFDQSxDQUFDOEMsT0FBTztRQUNuQ0csT0FBT2pELG1EQUFDQSxDQUFDa0QsS0FBSyxDQUNabEQsbURBQUNBLENBQUN5QixNQUFNLENBQUM7WUFBRTBCLE1BQU1uRCxtREFBQ0EsQ0FBQ29ELE9BQU8sQ0FBQztRQUFXLElBQ3RDcEQsbURBQUNBLENBQUN5QixNQUFNLENBQUM7WUFBRTBCLE1BQU1uRCxtREFBQ0EsQ0FBQ29ELE9BQU8sQ0FBQztRQUFjLElBQ3pDcEQsbURBQUNBLENBQUN5QixNQUFNLENBQUM7WUFBRTBCLE1BQU1uRCxtREFBQ0EsQ0FBQ29ELE9BQU8sQ0FBQztRQUFXLElBQ3RDcEQsbURBQUNBLENBQUN5QixNQUFNLENBQUM7WUFBRTBCLE1BQU1uRCxtREFBQ0EsQ0FBQ29ELE9BQU8sQ0FBQztZQUFXQyxPQUFPckQsbURBQUNBLENBQUN5QyxNQUFNO1FBQUcsSUFDeER6QyxtREFBQ0EsQ0FBQ3lCLE1BQU0sQ0FBQztZQUFFMEIsTUFBTW5ELG1EQUFDQSxDQUFDb0QsT0FBTyxDQUFDO1FBQVk7SUFFM0M7SUFDQUUsVUFBVS9CLFlBQVk7UUFDcEJnQyxRQUFRdkQsbURBQUNBLENBQUN5QyxNQUFNO1FBQ2hCZSxNQUFNeEQsbURBQUNBLENBQUM4QyxPQUFPO1FBQ2ZXLGFBQWF6RCxtREFBQ0EsQ0FBQ2dELFFBQVEsQ0FBQ2hELG1EQUFDQSxDQUFDeUMsTUFBTTtJQUNsQztBQUNGLElBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvc2NoZW1hLmpzP2JmNDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2LCBWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdmFsdWVzL3ZhbGlkYXRvci5qc1wiO1xuZXhwb3J0IGNsYXNzIFRhYmxlRGVmaW5pdGlvbiB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRvY3VtZW50VHlwZSkge1xuICAgIHRoaXMuaW5kZXhlcyA9IFtdO1xuICAgIHRoaXMuc2VhcmNoSW5kZXhlcyA9IFtdO1xuICAgIHRoaXMudmVjdG9ySW5kZXhlcyA9IFtdO1xuICAgIHRoaXMuZG9jdW1lbnRUeXBlID0gZG9jdW1lbnRUeXBlO1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbmUgYW4gaW5kZXggb24gdGhpcyB0YWJsZS5cbiAgICpcbiAgICogVG8gbGVhcm4gYWJvdXQgaW5kZXhlcywgc2VlIFtEZWZpbmluZyBJbmRleGVzXShodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy9pbmRleGVzKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaW5kZXguXG4gICAqIEBwYXJhbSBmaWVsZHMgLSBUaGUgZmllbGRzIHRvIGluZGV4LCBpbiBvcmRlci4gTXVzdCBzcGVjaWZ5IGF0IGxlYXN0IG9uZVxuICAgKiBmaWVsZC5cbiAgICogQHJldHVybnMgQSB7QGxpbmsgVGFibGVEZWZpbml0aW9ufSB3aXRoIHRoaXMgaW5kZXggaW5jbHVkZWQuXG4gICAqL1xuICBpbmRleChuYW1lLCBmaWVsZHMpIHtcbiAgICB0aGlzLmluZGV4ZXMucHVzaCh7IGluZGV4RGVzY3JpcHRvcjogbmFtZSwgZmllbGRzIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbmUgYSBzZWFyY2ggaW5kZXggb24gdGhpcyB0YWJsZS5cbiAgICpcbiAgICogVG8gbGVhcm4gYWJvdXQgc2VhcmNoIGluZGV4ZXMsIHNlZSBbU2VhcmNoXShodHRwczovL2RvY3MuY29udmV4LmRldi90ZXh0LXNlYXJjaCkuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGluZGV4LlxuICAgKiBAcGFyYW0gaW5kZXhDb25maWcgLSBUaGUgc2VhcmNoIGluZGV4IGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBUYWJsZURlZmluaXRpb259IHdpdGggdGhpcyBzZWFyY2ggaW5kZXggaW5jbHVkZWQuXG4gICAqL1xuICBzZWFyY2hJbmRleChuYW1lLCBpbmRleENvbmZpZykge1xuICAgIHRoaXMuc2VhcmNoSW5kZXhlcy5wdXNoKHtcbiAgICAgIGluZGV4RGVzY3JpcHRvcjogbmFtZSxcbiAgICAgIHNlYXJjaEZpZWxkOiBpbmRleENvbmZpZy5zZWFyY2hGaWVsZCxcbiAgICAgIGZpbHRlckZpZWxkczogaW5kZXhDb25maWcuZmlsdGVyRmllbGRzIHx8IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERlZmluZSBhIHZlY3RvciBpbmRleCBvbiB0aGlzIHRhYmxlLlxuICAgKlxuICAgKiBUbyBsZWFybiBhYm91dCB2ZWN0b3IgaW5kZXhlcywgc2VlIFtWZWN0b3IgU2VhcmNoXShodHRwczovL2RvY3MuY29udmV4LmRldi92ZWN0b3Itc2VhcmNoKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaW5kZXguXG4gICAqIEBwYXJhbSBpbmRleENvbmZpZyAtIFRoZSB2ZWN0b3IgaW5kZXggY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAqIEByZXR1cm5zIEEge0BsaW5rIFRhYmxlRGVmaW5pdGlvbn0gd2l0aCB0aGlzIHZlY3RvciBpbmRleCBpbmNsdWRlZC5cbiAgICovXG4gIHZlY3RvckluZGV4KG5hbWUsIGluZGV4Q29uZmlnKSB7XG4gICAgdGhpcy52ZWN0b3JJbmRleGVzLnB1c2goe1xuICAgICAgaW5kZXhEZXNjcmlwdG9yOiBuYW1lLFxuICAgICAgdmVjdG9yRmllbGQ6IGluZGV4Q29uZmlnLnZlY3RvckZpZWxkLFxuICAgICAgZGltZW5zaW9uczogaW5kZXhDb25maWcuZGltZW5zaW9ucyxcbiAgICAgIGZpbHRlckZpZWxkczogaW5kZXhDb25maWcuZmlsdGVyRmllbGRzIHx8IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzU3MDM1XG4gICAqL1xuICBzZWxmKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgdGhlIGNvbnRlbnRzIG9mIHRoaXMgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgQ29udmV4IGZyYW1ld29yay5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4ZXM6IHRoaXMuaW5kZXhlcyxcbiAgICAgIHNlYXJjaEluZGV4ZXM6IHRoaXMuc2VhcmNoSW5kZXhlcyxcbiAgICAgIHZlY3RvckluZGV4ZXM6IHRoaXMudmVjdG9ySW5kZXhlcyxcbiAgICAgIGRvY3VtZW50VHlwZTogdGhpcy5kb2N1bWVudFR5cGUuanNvblxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVUYWJsZShkb2N1bWVudFNjaGVtYSkge1xuICBpZiAoZG9jdW1lbnRTY2hlbWEgaW5zdGFuY2VvZiBWYWxpZGF0b3IpIHtcbiAgICByZXR1cm4gbmV3IFRhYmxlRGVmaW5pdGlvbihkb2N1bWVudFNjaGVtYSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBUYWJsZURlZmluaXRpb24odi5vYmplY3QoZG9jdW1lbnRTY2hlbWEpKTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFNjaGVtYURlZmluaXRpb24ge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YWJsZXMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnRhYmxlcyA9IHRhYmxlcztcbiAgICB0aGlzLnNjaGVtYVZhbGlkYXRpb24gPSBvcHRpb25zPy5zY2hlbWFWYWxpZGF0aW9uID09PSB2b2lkIDAgPyB0cnVlIDogb3B0aW9ucy5zY2hlbWFWYWxpZGF0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgdGhlIGNvbnRlbnRzIG9mIHRoaXMgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgQ29udmV4IGZyYW1ld29yay5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRhYmxlczogT2JqZWN0LmVudHJpZXModGhpcy50YWJsZXMpLm1hcCgoW3RhYmxlTmFtZSwgZGVmaW5pdGlvbl0pID0+IHtcbiAgICAgICAgY29uc3QgeyBpbmRleGVzLCBzZWFyY2hJbmRleGVzLCB2ZWN0b3JJbmRleGVzLCBkb2N1bWVudFR5cGUgfSA9IGRlZmluaXRpb24uZXhwb3J0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGFibGVOYW1lLFxuICAgICAgICAgIGluZGV4ZXMsXG4gICAgICAgICAgc2VhcmNoSW5kZXhlcyxcbiAgICAgICAgICB2ZWN0b3JJbmRleGVzLFxuICAgICAgICAgIGRvY3VtZW50VHlwZVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzY2hlbWFWYWxpZGF0aW9uOiB0aGlzLnNjaGVtYVZhbGlkYXRpb25cbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVNjaGVtYShzY2hlbWEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBTY2hlbWFEZWZpbml0aW9uKHNjaGVtYSwgb3B0aW9ucyk7XG59XG5jb25zdCBzeXN0ZW1TY2hlbWEgPSBkZWZpbmVTY2hlbWEoe1xuICBfc2NoZWR1bGVkX2Z1bmN0aW9uczogZGVmaW5lVGFibGUoe1xuICAgIG5hbWU6IHYuc3RyaW5nKCksXG4gICAgYXJnczogdi5hcnJheSh2LmFueSgpKSxcbiAgICBzY2hlZHVsZWRUaW1lOiB2LmZsb2F0NjQoKSxcbiAgICBjb21wbGV0ZWRUaW1lOiB2Lm9wdGlvbmFsKHYuZmxvYXQ2NCgpKSxcbiAgICBzdGF0ZTogdi51bmlvbihcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwicGVuZGluZ1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiaW5Qcm9ncmVzc1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwic3VjY2Vzc1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiZmFpbGVkXCIpLCBlcnJvcjogdi5zdHJpbmcoKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiY2FuY2VsZWRcIikgfSlcbiAgICApXG4gIH0pLFxuICBfc3RvcmFnZTogZGVmaW5lVGFibGUoe1xuICAgIHNoYTI1Njogdi5zdHJpbmcoKSxcbiAgICBzaXplOiB2LmZsb2F0NjQoKSxcbiAgICBjb250ZW50VHlwZTogdi5vcHRpb25hbCh2LnN0cmluZygpKVxuICB9KVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlbWEuanMubWFwXG4iXSwibmFtZXMiOlsidiIsIlZhbGlkYXRvciIsIlRhYmxlRGVmaW5pdGlvbiIsImNvbnN0cnVjdG9yIiwiZG9jdW1lbnRUeXBlIiwiaW5kZXhlcyIsInNlYXJjaEluZGV4ZXMiLCJ2ZWN0b3JJbmRleGVzIiwiaW5kZXgiLCJuYW1lIiwiZmllbGRzIiwicHVzaCIsImluZGV4RGVzY3JpcHRvciIsInNlYXJjaEluZGV4IiwiaW5kZXhDb25maWciLCJzZWFyY2hGaWVsZCIsImZpbHRlckZpZWxkcyIsInZlY3RvckluZGV4IiwidmVjdG9yRmllbGQiLCJkaW1lbnNpb25zIiwic2VsZiIsImV4cG9ydCIsImpzb24iLCJkZWZpbmVUYWJsZSIsImRvY3VtZW50U2NoZW1hIiwib2JqZWN0IiwiU2NoZW1hRGVmaW5pdGlvbiIsInRhYmxlcyIsIm9wdGlvbnMiLCJzY2hlbWFWYWxpZGF0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJ0YWJsZU5hbWUiLCJkZWZpbml0aW9uIiwiZGVmaW5lU2NoZW1hIiwic2NoZW1hIiwic3lzdGVtU2NoZW1hIiwiX3NjaGVkdWxlZF9mdW5jdGlvbnMiLCJzdHJpbmciLCJhcmdzIiwiYXJyYXkiLCJhbnkiLCJzY2hlZHVsZWRUaW1lIiwiZmxvYXQ2NCIsImNvbXBsZXRlZFRpbWUiLCJvcHRpb25hbCIsInN0YXRlIiwidW5pb24iLCJraW5kIiwibGl0ZXJhbCIsImVycm9yIiwiX3N0b3JhZ2UiLCJzaGEyNTYiLCJzaXplIiwiY29udGVudFR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/search_filter_builder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilter: () => (/* binding */ SearchFilter)\n/* harmony export */ });\n\nclass SearchFilter {\n    /**\n   * @internal\n   */ constructor(){}\n} //# sourceMappingURL=search_filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhO0FBQ04sTUFBTUE7SUFDWDs7R0FFQyxHQUNEQyxhQUFjLENBQ2Q7QUFDRixFQUNBLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3NlYXJjaF9maWx0ZXJfYnVpbGRlci5qcz82MGZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGNsYXNzIFNlYXJjaEZpbHRlciB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanMubWFwXG4iXSwibmFtZXMiOlsiU2VhcmNoRmlsdGVyIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/storage.js":
/*!********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/storage.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=storage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7QUFBYSxDQUNiLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3N0b3JhZ2UuanM/NTZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JhZ2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/storage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/vector_search.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/vector_search.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterExpression: () => (/* binding */ FilterExpression)\n/* harmony export */ });\n\nclass FilterExpression {\n    /**\n   * @internal\n   */ constructor(){}\n} //# sourceMappingURL=vector_search.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci92ZWN0b3Jfc2VhcmNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLE1BQU1BO0lBQ1g7O0dBRUMsR0FDREMsYUFBYyxDQUNkO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci92ZWN0b3Jfc2VhcmNoLmpzP2Q0YzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgY2xhc3MgRmlsdGVyRXhwcmVzc2lvbiB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3Jfc2VhcmNoLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkZpbHRlckV4cHJlc3Npb24iLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/base64.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/base64.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byteLength: () => (/* binding */ byteLength),\n/* harmony export */   fromByteArray: () => (/* binding */ fromByteArray),\n/* harmony export */   toByteArray: () => (/* binding */ toByteArray)\n/* harmony export */ });\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = Uint8Array;\nvar code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfor(var i = 0, len = code.length; i < len; ++i){\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\nrevLookup[\"-\".charCodeAt(0)] = 62;\nrevLookup[\"_\".charCodeAt(0)] = 63;\nfunction getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    }\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\nfunction byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction _byteLength(_b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for(i = 0; i < len; i += 4){\n        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    return arr;\n}\nfunction tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n}\nfunction encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for(var i = start; i < end; i += 3){\n        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n        output.push(tripletToBase64(tmp));\n    }\n    return output.join(\"\");\n}\nfunction fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3;\n    var parts = [];\n    var maxChunkLength = 16383;\n    for(var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength){\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\");\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\");\n    }\n    return parts.join(\"\");\n} //# sourceMappingURL=base64.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxTQUFTLEVBQUU7QUFDZixJQUFJQyxZQUFZLEVBQUU7QUFDbEIsSUFBSUMsTUFBTUM7QUFDVixJQUFJQyxPQUFPO0FBQ1gsSUFBSyxJQUFJQyxJQUFJLEdBQUdDLE1BQU1GLEtBQUtHLE1BQU0sRUFBRUYsSUFBSUMsS0FBSyxFQUFFRCxFQUFHO0lBQy9DTCxNQUFNLENBQUNLLEVBQUUsR0FBR0QsSUFBSSxDQUFDQyxFQUFFO0lBQ25CSixTQUFTLENBQUNHLEtBQUtJLFVBQVUsQ0FBQ0gsR0FBRyxHQUFHQTtBQUNsQztBQUNBSixTQUFTLENBQUMsSUFBSU8sVUFBVSxDQUFDLEdBQUcsR0FBRztBQUMvQlAsU0FBUyxDQUFDLElBQUlPLFVBQVUsQ0FBQyxHQUFHLEdBQUc7QUFDL0IsU0FBU0MsUUFBUUMsR0FBRztJQUNsQixJQUFJSixNQUFNSSxJQUFJSCxNQUFNO0lBQ3BCLElBQUlELE1BQU0sSUFBSSxHQUFHO1FBQ2YsTUFBTSxJQUFJSyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSUMsV0FBV0YsSUFBSUcsT0FBTyxDQUFDO0lBQzNCLElBQUlELGFBQWEsQ0FBQyxHQUNoQkEsV0FBV047SUFDYixJQUFJUSxrQkFBa0JGLGFBQWFOLE1BQU0sSUFBSSxJQUFJTSxXQUFXO0lBQzVELE9BQU87UUFBQ0E7UUFBVUU7S0FBZ0I7QUFDcEM7QUFDTyxTQUFTQyxXQUFXTCxHQUFHO0lBQzVCLElBQUlNLE9BQU9QLFFBQVFDO0lBQ25CLElBQUlFLFdBQVdJLElBQUksQ0FBQyxFQUFFO0lBQ3RCLElBQUlGLGtCQUFrQkUsSUFBSSxDQUFDLEVBQUU7SUFDN0IsT0FBTyxDQUFDSixXQUFXRSxlQUFjLElBQUssSUFBSSxJQUFJQTtBQUNoRDtBQUNBLFNBQVNHLFlBQVlDLElBQUksRUFBRU4sUUFBUSxFQUFFRSxlQUFlO0lBQ2xELE9B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O1FBQ3RFRCxNQUFNSixJQUFJLENBQ1JMLFlBQ0VDLE9BQ0FyQixHQUNBQSxJQUFJOEIsaUJBQWlCQyxPQUFPQSxPQUFPL0IsSUFBSThCO0lBRzdDO0lBQ0EsSUFBSUYsZUFBZSxHQUFHO1FBQ3BCYixNQUFNTSxLQUFLLENBQUNwQixNQUFNLEVBQUU7UUFDcEI0QixNQUFNSixJQUFJLENBQUM5QixNQUFNLENBQUNvQixPQUFPLEVBQUUsR0FBR3BCLE1BQU0sQ0FBQ29CLE9BQU8sSUFBSSxHQUFHLEdBQUc7SUFDeEQsT0FBTyxJQUFJYSxlQUFlLEdBQUc7UUFDM0JiLE1BQU0sQ0FBQ00sS0FBSyxDQUFDcEIsTUFBTSxFQUFFLElBQUksS0FBS29CLEtBQUssQ0FBQ3BCLE1BQU0sRUFBRTtRQUM1QzRCLE1BQU1KLElBQUksQ0FDUjlCLE1BQU0sQ0FBQ29CLE9BQU8sR0FBRyxHQUFHcEIsTUFBTSxDQUFDb0IsT0FBTyxJQUFJLEdBQUcsR0FBR3BCLE1BQU0sQ0FBQ29CLE9BQU8sSUFBSSxHQUFHLEdBQUc7SUFFeEU7SUFDQSxPQUFPYyxNQUFNSCxJQUFJLENBQUM7QUFDcEIsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanM/ZDNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBsb29rdXAgPSBbXTtcbnZhciByZXZMb29rdXAgPSBbXTtcbnZhciBBcnIgPSBVaW50OEFycmF5O1xudmFyIGNvZGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV07XG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cbnJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXSA9IDYyO1xucmV2TG9va3VwW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gNjM7XG5mdW5jdGlvbiBnZXRMZW5zKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aDtcbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTtcbiAgfVxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZihcIj1cIik7XG4gIGlmICh2YWxpZExlbiA9PT0gLTEpXG4gICAgdmFsaWRMZW4gPSBsZW47XG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuID8gMCA6IDQgLSB2YWxpZExlbiAlIDQ7XG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl07XG59XG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NCk7XG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF07XG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdO1xuICByZXR1cm4gKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzTGVuO1xufVxuZnVuY3Rpb24gX2J5dGVMZW5ndGgoX2I2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzTGVuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvQnl0ZUFycmF5KGI2NCkge1xuICB2YXIgdG1wO1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KTtcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXTtcbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV07XG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpO1xuICB2YXIgY3VyQnl0ZSA9IDA7XG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwID8gdmFsaWRMZW4gLSA0IDogdmFsaWRMZW47XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPSByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4IHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2IHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgPj4gMTYgJiAyNTU7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgPj4gOCAmIDI1NTtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDI1NTtcbiAgfVxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID0gcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNDtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDI1NTtcbiAgfVxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID0gcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyO1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wID4+IDggJiAyNTU7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAyNTU7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiA2M10gKyBsb29rdXBbbnVtID4+IDEyICYgNjNdICsgbG9va3VwW251bSA+PiA2ICYgNjNdICsgbG9va3VwW251bSAmIDYzXTtcbn1cbmZ1bmN0aW9uIGVuY29kZUNodW5rKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXA7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPSAodWludDhbaV0gPDwgMTYgJiAxNjcxMTY4MCkgKyAodWludDhbaSArIDFdIDw8IDggJiA2NTI4MCkgKyAodWludDhbaSArIDJdICYgMjU1KTtcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKFwiXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21CeXRlQXJyYXkodWludDgpIHtcbiAgdmFyIHRtcDtcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aDtcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzO1xuICB2YXIgcGFydHMgPSBbXTtcbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODM7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgZW5jb2RlQ2h1bmsoXG4gICAgICAgIHVpbnQ4LFxuICAgICAgICBpLFxuICAgICAgICBpICsgbWF4Q2h1bmtMZW5ndGggPiBsZW4yID8gbGVuMiA6IGkgKyBtYXhDaHVua0xlbmd0aFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXTtcbiAgICBwYXJ0cy5wdXNoKGxvb2t1cFt0bXAgPj4gMl0gKyBsb29rdXBbdG1wIDw8IDQgJiA2M10gKyBcIj09XCIpO1xuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXTtcbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gKyBsb29rdXBbdG1wID4+IDQgJiA2M10gKyBsb29rdXBbdG1wIDw8IDIgJiA2M10gKyBcIj1cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlNjQuanMubWFwXG4iXSwibmFtZXMiOlsibG9va3VwIiwicmV2TG9va3VwIiwiQXJyIiwiVWludDhBcnJheSIsImNvZGUiLCJpIiwibGVuIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsImdldExlbnMiLCJiNjQiLCJFcnJvciIsInZhbGlkTGVuIiwiaW5kZXhPZiIsInBsYWNlSG9sZGVyc0xlbiIsImJ5dGVMZW5ndGgiLCJsZW5zIiwiX2J5dGVMZW5ndGgiLCJfYjY0IiwidG9CeXRlQXJyYXkiLCJ0bXAiLCJhcnIiLCJjdXJCeXRlIiwidHJpcGxldFRvQmFzZTY0IiwibnVtIiwiZW5jb2RlQ2h1bmsiLCJ1aW50OCIsInN0YXJ0IiwiZW5kIiwib3V0cHV0IiwicHVzaCIsImpvaW4iLCJmcm9tQnl0ZUFycmF5IiwiZXh0cmFCeXRlcyIsInBhcnRzIiwibWF4Q2h1bmtMZW5ndGgiLCJsZW4yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/base64.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/errors.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexError: () => (/* binding */ ConvexError)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar _a;\n\nconst IDENTIFYING_FIELD = Symbol.for(\"ConvexError\");\nclass ConvexError extends Error {\n    constructor(data){\n        super(typeof data === \"string\" ? data : (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.stringifyValueForError)(data));\n        this.name = \"ConvexError\";\n        this[_a] = true;\n        this.data = data;\n    }\n}\n_a = IDENTIFYING_FIELD; //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNiLElBQUlBO0FBQ2dEO0FBQ3BELE1BQU1FLG9CQUFvQkMsT0FBT0MsR0FBRyxDQUFDO0FBQzlCLE1BQU1DLG9CQUFvQkM7SUFDL0JDLFlBQVlDLElBQUksQ0FBRTtRQUNoQixLQUFLLENBQUMsT0FBT0EsU0FBUyxXQUFXQSxPQUFPUCxpRUFBc0JBLENBQUNPO1FBQy9ELElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDVCxHQUFHLEdBQUc7UUFDWCxJQUFJLENBQUNRLElBQUksR0FBR0E7SUFDZDtBQUNGO0FBQ0FSLEtBQUtFLG1CQUNMLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2Vycm9ycy5qcz81OWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9hO1xuaW1wb3J0IHsgc3RyaW5naWZ5VmFsdWVGb3JFcnJvciB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5jb25zdCBJREVOVElGWUlOR19GSUVMRCA9IFN5bWJvbC5mb3IoXCJDb252ZXhFcnJvclwiKTtcbmV4cG9ydCBjbGFzcyBDb252ZXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHN1cGVyKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gZGF0YSA6IHN0cmluZ2lmeVZhbHVlRm9yRXJyb3IoZGF0YSkpO1xuICAgIHRoaXMubmFtZSA9IFwiQ29udmV4RXJyb3JcIjtcbiAgICB0aGlzW19hXSA9IHRydWU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxufVxuX2EgPSBJREVOVElGWUlOR19GSUVMRDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfYSIsInN0cmluZ2lmeVZhbHVlRm9yRXJyb3IiLCJJREVOVElGWUlOR19GSUVMRCIsIlN5bWJvbCIsImZvciIsIkNvbnZleEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Base64: () => (/* reexport module object */ _base64_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   ConvexError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError),\n/* harmony export */   Validator: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.Validator),\n/* harmony export */   convexToJson: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson),\n/* harmony export */   jsonToConvex: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex),\n/* harmony export */   v: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.v)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWE7QUFDMkM7QUFDVjtBQUNSO0FBQ3BCO0FBQ1UsQ0FDNUIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS92YWx1ZXMvaW5kZXguanM/NDA1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCB7IGNvbnZleFRvSnNvbiwganNvblRvQ29udmV4IH0gZnJvbSBcIi4vdmFsdWUuanNcIjtcbmV4cG9ydCB7IHYsIFZhbGlkYXRvciB9IGZyb20gXCIuL3ZhbGlkYXRvci5qc1wiO1xuaW1wb3J0ICogYXMgQmFzZTY0IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuZXhwb3J0IHsgQmFzZTY0IH07XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInYiLCJWYWxpZGF0b3IiLCJCYXNlNjQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/validator.js":
/*!**********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validator.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Validator: () => (/* binding */ Validator),\n/* harmony export */   v: () => (/* binding */ v)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\nclass Validator {\n    /**\n   * @internal\n   */ constructor(json, optional){\n        this.json = json;\n        this.optional = optional;\n    }\n}\nconst v = {\n    id (tableName) {\n        return new Validator({\n            type: \"id\",\n            tableName\n        }, false);\n    },\n    null () {\n        return new Validator({\n            type: \"null\"\n        }, false);\n    },\n    /**\n   * Alias for `v.float64()`\n   */ number () {\n        return new Validator({\n            type: \"number\"\n        }, false);\n    },\n    float64 () {\n        return new Validator({\n            type: \"number\"\n        }, false);\n    },\n    /**\n   * @deprecated Use `v.int64()` instead\n   */ bigint () {\n        return new Validator({\n            type: \"bigint\"\n        }, false);\n    },\n    int64 () {\n        return new Validator({\n            type: \"bigint\"\n        }, false);\n    },\n    boolean () {\n        return new Validator({\n            type: \"boolean\"\n        }, false);\n    },\n    string () {\n        return new Validator({\n            type: \"string\"\n        }, false);\n    },\n    bytes () {\n        return new Validator({\n            type: \"bytes\"\n        }, false);\n    },\n    literal (literal) {\n        const value = (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(literal);\n        return new Validator({\n            type: \"literal\",\n            value\n        }, false);\n    },\n    array (values) {\n        return new Validator({\n            type: \"array\",\n            value: values.json\n        }, false);\n    },\n    object (schema) {\n        return new Validator({\n            type: \"object\",\n            value: Object.fromEntries(Object.entries(schema).map(([k, v2])=>[\n                    k,\n                    {\n                        fieldType: v2.json,\n                        optional: v2.optional\n                    }\n                ]))\n        }, false);\n    },\n    /** @internal */ record (keys, values) {\n        return new Validator({\n            type: \"record\",\n            keys: keys.json,\n            values: {\n                fieldType: values.json,\n                optional: values.optional\n            }\n        }, false);\n    },\n    union (...schemaTypes) {\n        return new Validator({\n            type: \"union\",\n            value: schemaTypes.map((t)=>t.json)\n        }, false);\n    },\n    any () {\n        return new Validator({\n            type: \"any\"\n        }, false);\n    },\n    optional (inner) {\n        return new Validator(inner.json, true);\n    }\n}; //# sourceMappingURL=validator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDNkI7QUFDbkMsTUFBTUM7SUFDWDs7R0FFQyxHQUNEQyxZQUFZQyxJQUFJLEVBQUVDLFFBQVEsQ0FBRTtRQUMxQixJQUFJLENBQUNELElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLFFBQVEsR0FBR0E7SUFDbEI7QUFDRjtBQUNPLE1BQU1DLElBQUk7SUFDZkMsSUFBR0MsU0FBUztRQUNWLE9BQU8sSUFBSU4sVUFBVTtZQUFFTyxNQUFNO1lBQU1EO1FBQVUsR0FBRztJQUNsRDtJQUNBRTtRQUNFLE9BQU8sSUFBSVIsVUFBVTtZQUFFTyxNQUFNO1FBQU8sR0FBRztJQUN6QztJQUNBOztHQUVDLEdBQ0RFO1FBQ0UsT0FBTyxJQUFJVCxVQUFVO1lBQUVPLE1BQU07UUFBUyxHQUFHO0lBQzNDO0lBQ0FHO1FBQ0UsT0FBTyxJQUFJVixVQUFVO1lBQUVPLE1BQU07UUFBUyxHQUFHO0lBQzNDO0lBQ0E7O0dBRUMsR0FDREk7UUFDRSxPQUFPLElBQUlYLFVBQVU7WUFBRU8sTUFBTTtRQUFTLEdBQUc7SUFDM0M7SUFDQUs7UUFDRSxPQUFPLElBQUlaLFVBQVU7WUFBRU8sTUFBTTtRQUFTLEdBQUc7SUFDM0M7SUFDQU07UUFDRSxPQUFPLElBQUliLFVBQVU7WUFBRU8sTUFBTTtRQUFVLEdBQUc7SUFDNUM7SUFDQU87UUFDRSxPQUFPLElBQUlkLFVBQVU7WUFBRU8sTUFBTTtRQUFTLEdBQUc7SUFDM0M7SUFDQVE7UUFDRSxPQUFPLElBQUlmLFVBQVU7WUFBRU8sTUFBTTtRQUFRLEdBQUc7SUFDMUM7SUFDQVMsU0FBUUEsT0FBTztRQUNiLE1BQU1DLFFBQVFsQix1REFBWUEsQ0FBQ2lCO1FBQzNCLE9BQU8sSUFBSWhCLFVBQVU7WUFBRU8sTUFBTTtZQUFXVTtRQUFNLEdBQUc7SUFDbkQ7SUFDQUMsT0FBTUMsTUFBTTtRQUNWLE9BQU8sSUFBSW5CLFVBQVU7WUFBRU8sTUFBTTtZQUFTVSxPQUFPRSxPQUFPakIsSUFBSTtRQUFDLEdBQUc7SUFDOUQ7SUFDQWtCLFFBQU9DLE1BQU07UUFDWCxPQUFPLElBQUlyQixVQUNUO1lBQ0VPLE1BQU07WUFDTlUsT0FBT0ssT0FBT0MsV0FBVyxDQUN2QkQsT0FBT0UsT0FBTyxDQUFDSCxRQUFRSSxHQUFHLENBQUMsQ0FBQyxDQUFDQyxHQUFHQyxHQUFHLEdBQUs7b0JBQ3RDRDtvQkFDQTt3QkFBRUUsV0FBV0QsR0FBR3pCLElBQUk7d0JBQUVDLFVBQVV3QixHQUFHeEIsUUFBUTtvQkFBQztpQkFDN0M7UUFFTCxHQUNBO0lBRUo7SUFDQSxjQUFjLEdBQ2QwQixRQUFPQyxJQUFJLEVBQUVYLE1BQU07UUFDakIsT0FBTyxJQUFJbkIsVUFDVDtZQUNFTyxNQUFNO1lBQ051QixNQUFNQSxLQUFLNUIsSUFBSTtZQUNmaUIsUUFBUTtnQkFBRVMsV0FBV1QsT0FBT2pCLElBQUk7Z0JBQUVDLFVBQVVnQixPQUFPaEIsUUFBUTtZQUFDO1FBQzlELEdBQ0E7SUFFSjtJQUNBNEIsT0FBTSxHQUFHQyxXQUFXO1FBQ2xCLE9BQU8sSUFBSWhDLFVBQ1Q7WUFDRU8sTUFBTTtZQUNOVSxPQUFPZSxZQUFZUCxHQUFHLENBQUMsQ0FBQ1EsSUFBTUEsRUFBRS9CLElBQUk7UUFDdEMsR0FDQTtJQUVKO0lBQ0FnQztRQUNFLE9BQU8sSUFBSWxDLFVBQVU7WUFBRU8sTUFBTTtRQUFNLEdBQUc7SUFDeEM7SUFDQUosVUFBU2dDLEtBQUs7UUFDWixPQUFPLElBQUluQyxVQUFVbUMsTUFBTWpDLElBQUksRUFBRTtJQUNuQztBQUNGLEVBQUUsQ0FDRixxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3IuanM/ZDU5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5leHBvcnQgY2xhc3MgVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoanNvbiwgb3B0aW9uYWwpIHtcbiAgICB0aGlzLmpzb24gPSBqc29uO1xuICAgIHRoaXMub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IHYgPSB7XG4gIGlkKHRhYmxlTmFtZSkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJpZFwiLCB0YWJsZU5hbWUgfSwgZmFsc2UpO1xuICB9LFxuICBudWxsKCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJudWxsXCIgfSwgZmFsc2UpO1xuICB9LFxuICAvKipcbiAgICogQWxpYXMgZm9yIGB2LmZsb2F0NjQoKWBcbiAgICovXG4gIG51bWJlcigpIHtcbiAgICByZXR1cm4gbmV3IFZhbGlkYXRvcih7IHR5cGU6IFwibnVtYmVyXCIgfSwgZmFsc2UpO1xuICB9LFxuICBmbG9hdDY0KCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJudW1iZXJcIiB9LCBmYWxzZSk7XG4gIH0sXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHYuaW50NjQoKWAgaW5zdGVhZFxuICAgKi9cbiAgYmlnaW50KCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJiaWdpbnRcIiB9LCBmYWxzZSk7XG4gIH0sXG4gIGludDY0KCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJiaWdpbnRcIiB9LCBmYWxzZSk7XG4gIH0sXG4gIGJvb2xlYW4oKSB7XG4gICAgcmV0dXJuIG5ldyBWYWxpZGF0b3IoeyB0eXBlOiBcImJvb2xlYW5cIiB9LCBmYWxzZSk7XG4gIH0sXG4gIHN0cmluZygpIHtcbiAgICByZXR1cm4gbmV3IFZhbGlkYXRvcih7IHR5cGU6IFwic3RyaW5nXCIgfSwgZmFsc2UpO1xuICB9LFxuICBieXRlcygpIHtcbiAgICByZXR1cm4gbmV3IFZhbGlkYXRvcih7IHR5cGU6IFwiYnl0ZXNcIiB9LCBmYWxzZSk7XG4gIH0sXG4gIGxpdGVyYWwobGl0ZXJhbCkge1xuICAgIGNvbnN0IHZhbHVlID0gY29udmV4VG9Kc29uKGxpdGVyYWwpO1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlIH0sIGZhbHNlKTtcbiAgfSxcbiAgYXJyYXkodmFsdWVzKSB7XG4gICAgcmV0dXJuIG5ldyBWYWxpZGF0b3IoeyB0eXBlOiBcImFycmF5XCIsIHZhbHVlOiB2YWx1ZXMuanNvbiB9LCBmYWxzZSk7XG4gIH0sXG4gIG9iamVjdChzY2hlbWEpIHtcbiAgICByZXR1cm4gbmV3IFZhbGlkYXRvcihcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgdmFsdWU6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhzY2hlbWEpLm1hcCgoW2ssIHYyXSkgPT4gW1xuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHsgZmllbGRUeXBlOiB2Mi5qc29uLCBvcHRpb25hbDogdjIub3B0aW9uYWwgfVxuICAgICAgICAgIF0pXG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH0sXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmVjb3JkKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKFxuICAgICAge1xuICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICBrZXlzOiBrZXlzLmpzb24sXG4gICAgICAgIHZhbHVlczogeyBmaWVsZFR5cGU6IHZhbHVlcy5qc29uLCBvcHRpb25hbDogdmFsdWVzLm9wdGlvbmFsIH1cbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH0sXG4gIHVuaW9uKC4uLnNjaGVtYVR5cGVzKSB7XG4gICAgcmV0dXJuIG5ldyBWYWxpZGF0b3IoXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYVR5cGVzLm1hcCgodCkgPT4gdC5qc29uKVxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSxcbiAgYW55KCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKHsgdHlwZTogXCJhbnlcIiB9LCBmYWxzZSk7XG4gIH0sXG4gIG9wdGlvbmFsKGlubmVyKSB7XG4gICAgcmV0dXJuIG5ldyBWYWxpZGF0b3IoaW5uZXIuanNvbiwgdHJ1ZSk7XG4gIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0b3IuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwiVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJqc29uIiwib3B0aW9uYWwiLCJ2IiwiaWQiLCJ0YWJsZU5hbWUiLCJ0eXBlIiwibnVsbCIsIm51bWJlciIsImZsb2F0NjQiLCJiaWdpbnQiLCJpbnQ2NCIsImJvb2xlYW4iLCJzdHJpbmciLCJieXRlcyIsImxpdGVyYWwiLCJ2YWx1ZSIsImFycmF5IiwidmFsdWVzIiwib2JqZWN0Iiwic2NoZW1hIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiayIsInYyIiwiZmllbGRUeXBlIiwicmVjb3JkIiwia2V5cyIsInVuaW9uIiwic2NoZW1hVHlwZXMiLCJ0IiwiYW55IiwiaW5uZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/validator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/value.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/value.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBigInt: () => (/* binding */ base64ToBigInt),\n/* harmony export */   bigIntToBase64: () => (/* binding */ bigIntToBase64),\n/* harmony export */   convexOrUndefinedToJson: () => (/* binding */ convexOrUndefinedToJson),\n/* harmony export */   convexToJson: () => (/* binding */ convexToJson),\n/* harmony export */   jsonToConvex: () => (/* binding */ jsonToConvex),\n/* harmony export */   modernBase64ToBigInt: () => (/* binding */ modernBase64ToBigInt),\n/* harmony export */   modernBigIntToBase64: () => (/* binding */ modernBigIntToBase64),\n/* harmony export */   patchValueToJson: () => (/* binding */ patchValueToJson),\n/* harmony export */   slowBase64ToBigInt: () => (/* binding */ slowBase64ToBigInt),\n/* harmony export */   slowBigIntToBase64: () => (/* binding */ slowBigIntToBase64),\n/* harmony export */   stringifyValueForError: () => (/* binding */ stringifyValueForError)\n/* harmony export */ });\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n\n\n\nconst LITTLE_ENDIAN = true;\nconst MIN_INT64 = BigInt(\"-9223372036854775808\");\nconst MAX_INT64 = BigInt(\"9223372036854775807\");\nconst ZERO = BigInt(\"0\");\nconst EIGHT = BigInt(\"8\");\nconst TWOFIFTYSIX = BigInt(\"256\");\nfunction isSpecial(n) {\n    return Number.isNaN(n) || !Number.isFinite(n) || Object.is(n, -0);\n}\nfunction slowBigIntToBase64(value) {\n    if (value < ZERO) {\n        value -= MIN_INT64 + MIN_INT64;\n    }\n    let hex = value.toString(16);\n    if (hex.length % 2 === 1) hex = \"0\" + hex;\n    const bytes = new Uint8Array(new ArrayBuffer(8));\n    let i = 0;\n    for (const hexByte of hex.match(/.{2}/g).reverse()){\n        bytes.set([\n            parseInt(hexByte, 16)\n        ], i++);\n        value >>= EIGHT;\n    }\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(bytes);\n}\nfunction slowBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    let value = ZERO;\n    let power = ZERO;\n    for (const byte of integerBytes){\n        value += BigInt(byte) * TWOFIFTYSIX ** power;\n        power++;\n    }\n    if (value > MAX_INT64) {\n        value += MIN_INT64 + MIN_INT64;\n    }\n    return value;\n}\nfunction modernBigIntToBase64(value) {\n    if (value < MIN_INT64 || MAX_INT64 < value) {\n        throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n    }\n    const buffer = new ArrayBuffer(8);\n    new DataView(buffer).setBigInt64(0, value, true);\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer));\n}\nfunction modernBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    const intBytesView = new DataView(integerBytes.buffer);\n    return intBytesView.getBigInt64(0, true);\n}\nconst bigIntToBase64 = DataView.prototype.setBigInt64 ? modernBigIntToBase64 : slowBigIntToBase64;\nconst base64ToBigInt = DataView.prototype.getBigInt64 ? modernBase64ToBigInt : slowBase64ToBigInt;\nconst MAX_IDENTIFIER_LEN = 1024;\nfunction validateObjectField(k) {\n    if (k.length === 0) {\n        throw new Error(\"Empty field names are disallowed.\");\n    }\n    if (k.length > MAX_IDENTIFIER_LEN) {\n        throw new Error(`Field name ${k} exceeds maximum field name length ${MAX_IDENTIFIER_LEN}.`);\n    }\n    if (k.startsWith(\"$\")) {\n        throw new Error(`Field name ${k} starts with a '$', which is reserved.`);\n    }\n    for(let i = 0; i < k.length; i += 1){\n        const charCode = k.charCodeAt(i);\n        if (charCode < 32 || charCode >= 127) {\n            throw new Error(`Field name ${k} has invalid character '${k[i]}': Field names can only contain non-control ASCII characters`);\n        }\n    }\n}\nfunction jsonToConvexInternal(value, allowMapsAndSets) {\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2)=>jsonToConvexInternal(value2, allowMapsAndSets));\n    }\n    if (typeof value !== \"object\") {\n        throw new Error(`Unexpected type of ${value}`);\n    }\n    const entries = Object.entries(value);\n    if (entries.length === 1) {\n        const key = entries[0][0];\n        if (key === \"$bytes\") {\n            if (typeof value.$bytes !== \"string\") {\n                throw new Error(`Malformed $bytes field on ${value}`);\n            }\n            return _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$bytes).buffer;\n        }\n        if (key === \"$integer\") {\n            if (typeof value.$integer !== \"string\") {\n                throw new Error(`Malformed $integer field on ${value}`);\n            }\n            return base64ToBigInt(value.$integer);\n        }\n        if (key === \"$float\") {\n            if (typeof value.$float !== \"string\") {\n                throw new Error(`Malformed $float field on ${value}`);\n            }\n            const floatBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$float);\n            if (floatBytes.byteLength !== 8) {\n                throw new Error(`Received ${floatBytes.byteLength} bytes, expected 8 for $float`);\n            }\n            const floatBytesView = new DataView(floatBytes.buffer);\n            const float = floatBytesView.getFloat64(0, LITTLE_ENDIAN);\n            if (!isSpecial(float)) {\n                throw new Error(`Float ${float} should be encoded as a number`);\n            }\n            return float;\n        }\n        if (key === \"$set\") {\n            if (!Array.isArray(value.$set)) {\n                throw new Error(`Malformed $set field on ${value}`);\n            }\n            if (!allowMapsAndSets) {\n                throw new Error(`Received a Set which is no longer supported as a Convex type, with values: ${value.$set.join(\", \")}.`);\n            }\n            return new Set(value.$set.map((value2)=>jsonToConvexInternal(value2, allowMapsAndSets)));\n        }\n        if (key === \"$map\") {\n            if (!Array.isArray(value.$map)) {\n                throw new Error(`Malformed $map field on ${value}`);\n            }\n            if (!allowMapsAndSets) {\n                throw new Error(`Received a Map which is no longer supported as a Convex type, with entries: ${value.$map.join(\", \")}.`);\n            }\n            const map = /* @__PURE__ */ new Map();\n            for (const pair of value.$map){\n                if (!Array.isArray(pair) || pair.length !== 2) {\n                    throw new Error(`Malformed pair in $map ${value}`);\n                }\n                const k = jsonToConvexInternal(pair[0], allowMapsAndSets);\n                const v = jsonToConvexInternal(pair[1], allowMapsAndSets);\n                map.set(k, v);\n            }\n            return map;\n        }\n    }\n    const out = {};\n    for (const [k, v] of Object.entries(value)){\n        validateObjectField(k);\n        out[k] = jsonToConvexInternal(v, allowMapsAndSets);\n    }\n    return out;\n}\nfunction jsonToConvex(value, allowMapsAndSets = false) {\n    return jsonToConvexInternal(value, allowMapsAndSets);\n}\nfunction stringifyValueForError(value) {\n    return JSON.stringify(value, (_key, value2)=>{\n        if (value2 === void 0) {\n            return \"undefined\";\n        }\n        if (typeof value2 === \"bigint\") {\n            return `${value2.toString()}n`;\n        }\n        return value2;\n    });\n}\nfunction convexToJsonInternal(value, originalValue, context, includeTopLevelUndefined, allowMapsAndSets) {\n    if (value === void 0) {\n        const contextText = context && ` (present at path ${context} in original object ${stringifyValueForError(originalValue)})`;\n        throw new Error(`undefined is not a valid Convex value${contextText}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);\n    }\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"bigint\") {\n        if (value < MIN_INT64 || MAX_INT64 < value) {\n            throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n        }\n        return {\n            $integer: bigIntToBase64(value)\n        };\n    }\n    if (typeof value === \"number\") {\n        if (isSpecial(value)) {\n            const buffer = new ArrayBuffer(8);\n            new DataView(buffer).setFloat64(0, value, LITTLE_ENDIAN);\n            return {\n                $float: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer))\n            };\n        } else {\n            return value;\n        }\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (value instanceof ArrayBuffer) {\n        return {\n            $bytes: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(value))\n        };\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2, i)=>convexToJsonInternal(value2, originalValue, context + `[${i}]`, false, allowMapsAndSets));\n    }\n    if (value instanceof Set) {\n        if (!allowMapsAndSets) {\n            throw new Error(errorMessageForUnsupportedType(context, \"Set\", [\n                ...value\n            ], originalValue));\n        }\n        return {\n            $set: [\n                ...value\n            ].map((value2, i)=>convexToJsonInternal(value2, originalValue, context + `.keys()[${i}]`, false, allowMapsAndSets))\n        };\n    }\n    if (value instanceof Map) {\n        if (!allowMapsAndSets) {\n            throw new Error(errorMessageForUnsupportedType(context, \"Map\", [\n                ...value\n            ], originalValue));\n        }\n        return {\n            $map: [\n                ...value\n            ].map(([k, v], i)=>{\n                const jsonKey = convexToJsonInternal(k, originalValue, context + `.keys()[${i}]`, false, allowMapsAndSets);\n                const jsonValue = convexToJsonInternal(v, originalValue, context + `.values()[${i}]`, false, allowMapsAndSets);\n                return [\n                    jsonKey,\n                    jsonValue\n                ];\n            })\n        };\n    }\n    if (!(0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleObject)(value)) {\n        const theType = value?.constructor?.name;\n        const typeName = theType ? `${theType} ` : \"\";\n        throw new Error(errorMessageForUnsupportedType(context, typeName, value, originalValue));\n    }\n    const out = {};\n    const entries = Object.entries(value);\n    entries.sort(([k1, _v1], [k2, _v2])=>k1 === k2 ? 0 : k1 < k2 ? -1 : 1);\n    for (const [k, v] of entries){\n        if (v !== void 0) {\n            validateObjectField(k);\n            out[k] = convexToJsonInternal(v, originalValue, context + `.${k}`, false, allowMapsAndSets);\n        } else if (includeTopLevelUndefined) {\n            validateObjectField(k);\n            out[k] = convexOrUndefinedToJsonInternal(v, originalValue, context + `.${k}`);\n        }\n    }\n    return out;\n}\nfunction errorMessageForUnsupportedType(context, typeName, value, originalValue) {\n    if (context) {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type (present at path ${context} in original object ${stringifyValueForError(originalValue)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`;\n    } else {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type.`;\n    }\n}\nfunction convexOrUndefinedToJsonInternal(value, originalValue, context) {\n    if (value === void 0) {\n        return {\n            $undefined: null\n        };\n    } else {\n        if (originalValue === void 0) {\n            throw new Error(`Programming error. Current value is ${stringifyValueForError(value)} but original value is undefined`);\n        }\n        return convexToJsonInternal(value, originalValue, context, false, false);\n    }\n}\nfunction convexToJson(value, allowMapsAndSets = false) {\n    return convexToJsonInternal(value, value, \"\", false, allowMapsAndSets);\n}\nfunction convexOrUndefinedToJson(value) {\n    return convexOrUndefinedToJsonInternal(value, value, \"\");\n}\nfunction patchValueToJson(value) {\n    return convexToJsonInternal(value, value, \"\", true, false);\n} //# sourceMappingURL=value.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDeUI7QUFDYztBQUNwRCxNQUFNRSxnQkFBZ0I7QUFDdEIsTUFBTUMsWUFBWUMsT0FBTztBQUN6QixNQUFNQyxZQUFZRCxPQUFPO0FBQ3pCLE1BQU1FLE9BQU9GLE9BQU87QUFDcEIsTUFBTUcsUUFBUUgsT0FBTztBQUNyQixNQUFNSSxjQUFjSixPQUFPO0FBQzNCLFNBQVNLLFVBQVVDLENBQUM7SUFDbEIsT0FBT0MsT0FBT0MsS0FBSyxDQUFDRixNQUFNLENBQUNDLE9BQU9FLFFBQVEsQ0FBQ0gsTUFBTUksT0FBT0MsRUFBRSxDQUFDTCxHQUFHLENBQUM7QUFDakU7QUFDTyxTQUFTTSxtQkFBbUJDLEtBQUs7SUFDdEMsSUFBSUEsUUFBUVgsTUFBTTtRQUNoQlcsU0FBU2QsWUFBWUE7SUFDdkI7SUFDQSxJQUFJZSxNQUFNRCxNQUFNRSxRQUFRLENBQUM7SUFDekIsSUFBSUQsSUFBSUUsTUFBTSxHQUFHLE1BQU0sR0FDckJGLE1BQU0sTUFBTUE7SUFDZCxNQUFNRyxRQUFRLElBQUlDLFdBQVcsSUFBSUMsWUFBWTtJQUM3QyxJQUFJQyxJQUFJO0lBQ1IsS0FBSyxNQUFNQyxXQUFXUCxJQUFJUSxLQUFLLENBQUMsU0FBU0MsT0FBTyxHQUFJO1FBQ2xETixNQUFNTyxHQUFHLENBQUM7WUFBQ0MsU0FBU0osU0FBUztTQUFJLEVBQUVEO1FBQ25DUCxVQUFVVjtJQUNaO0lBQ0EsT0FBT1AscURBQW9CLENBQUNxQjtBQUM5QjtBQUNPLFNBQVNVLG1CQUFtQkMsT0FBTztJQUN4QyxNQUFNQyxlQUFlakMsbURBQWtCLENBQUNnQztJQUN4QyxJQUFJQyxhQUFhRSxVQUFVLEtBQUssR0FBRztRQUNqQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxTQUFTLEVBQUVILGFBQWFFLFVBQVUsQ0FBQywrQkFBK0IsQ0FBQztJQUV4RTtJ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QmxFLE9BQU9BLE9BQU8sSUFBSSxNQUFNO0FBQ3RELEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS92YWx1ZXMvdmFsdWUuanM/MTViMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCAqIGFzIEJhc2U2NCBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmltcG9ydCB7IGlzU2ltcGxlT2JqZWN0IH0gZnJvbSBcIi4uL2NvbW1vbi9pbmRleC5qc1wiO1xuY29uc3QgTElUVExFX0VORElBTiA9IHRydWU7XG5jb25zdCBNSU5fSU5UNjQgPSBCaWdJbnQoXCItOTIyMzM3MjAzNjg1NDc3NTgwOFwiKTtcbmNvbnN0IE1BWF9JTlQ2NCA9IEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIik7XG5jb25zdCBaRVJPID0gQmlnSW50KFwiMFwiKTtcbmNvbnN0IEVJR0hUID0gQmlnSW50KFwiOFwiKTtcbmNvbnN0IFRXT0ZJRlRZU0lYID0gQmlnSW50KFwiMjU2XCIpO1xuZnVuY3Rpb24gaXNTcGVjaWFsKG4pIHtcbiAgcmV0dXJuIE51bWJlci5pc05hTihuKSB8fCAhTnVtYmVyLmlzRmluaXRlKG4pIHx8IE9iamVjdC5pcyhuLCAtMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2xvd0JpZ0ludFRvQmFzZTY0KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA8IFpFUk8pIHtcbiAgICB2YWx1ZSAtPSBNSU5fSU5UNjQgKyBNSU5fSU5UNjQ7XG4gIH1cbiAgbGV0IGhleCA9IHZhbHVlLnRvU3RyaW5nKDE2KTtcbiAgaWYgKGhleC5sZW5ndGggJSAyID09PSAxKVxuICAgIGhleCA9IFwiMFwiICsgaGV4O1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcig4KSk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChjb25zdCBoZXhCeXRlIG9mIGhleC5tYXRjaCgvLnsyfS9nKS5yZXZlcnNlKCkpIHtcbiAgICBieXRlcy5zZXQoW3BhcnNlSW50KGhleEJ5dGUsIDE2KV0sIGkrKyk7XG4gICAgdmFsdWUgPj49IEVJR0hUO1xuICB9XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShieXRlcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2xvd0Jhc2U2NFRvQmlnSW50KGVuY29kZWQpIHtcbiAgY29uc3QgaW50ZWdlckJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KGVuY29kZWQpO1xuICBpZiAoaW50ZWdlckJ5dGVzLmJ5dGVMZW5ndGggIT09IDgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgJHtpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aH0gYnl0ZXMsIGV4cGVjdGVkIDggZm9yICRpbnRlZ2VyYFxuICAgICk7XG4gIH1cbiAgbGV0IHZhbHVlID0gWkVSTztcbiAgbGV0IHBvd2VyID0gWkVSTztcbiAgZm9yIChjb25zdCBieXRlIG9mIGludGVnZXJCeXRlcykge1xuICAgIHZhbHVlICs9IEJpZ0ludChieXRlKSAqIFRXT0ZJRlRZU0lYICoqIHBvd2VyO1xuICAgIHBvd2VyKys7XG4gIH1cbiAgaWYgKHZhbHVlID4gTUFYX0lOVDY0KSB7XG4gICAgdmFsdWUgKz0gTUlOX0lOVDY0ICsgTUlOX0lOVDY0O1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtb2Rlcm5CaWdJbnRUb0Jhc2U2NCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPCBNSU5fSU5UNjQgfHwgTUFYX0lOVDY0IDwgdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQmlnSW50ICR7dmFsdWV9IGRvZXMgbm90IGZpdCBpbnRvIGEgNjQtYml0IHNpZ25lZCBpbnRlZ2VyLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcbiAgbmV3IERhdGFWaWV3KGJ1ZmZlcikuc2V0QmlnSW50NjQoMCwgdmFsdWUsIHRydWUpO1xuICByZXR1cm4gQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbW9kZXJuQmFzZTY0VG9CaWdJbnQoZW5jb2RlZCkge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkoZW5jb2RlZCk7XG4gIGlmIChpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBSZWNlaXZlZCAke2ludGVnZXJCeXRlcy5ieXRlTGVuZ3RofSBieXRlcywgZXhwZWN0ZWQgOCBmb3IgJGludGVnZXJgXG4gICAgKTtcbiAgfVxuICBjb25zdCBpbnRCeXRlc1ZpZXcgPSBuZXcgRGF0YVZpZXcoaW50ZWdlckJ5dGVzLmJ1ZmZlcik7XG4gIHJldHVybiBpbnRCeXRlc1ZpZXcuZ2V0QmlnSW50NjQoMCwgdHJ1ZSk7XG59XG5leHBvcnQgY29uc3QgYmlnSW50VG9CYXNlNjQgPSBEYXRhVmlldy5wcm90b3R5cGUuc2V0QmlnSW50NjQgPyBtb2Rlcm5CaWdJbnRUb0Jhc2U2NCA6IHNsb3dCaWdJbnRUb0Jhc2U2NDtcbmV4cG9ydCBjb25zdCBiYXNlNjRUb0JpZ0ludCA9IERhdGFWaWV3LnByb3RvdHlwZS5nZXRCaWdJbnQ2NCA/IG1vZGVybkJhc2U2NFRvQmlnSW50IDogc2xvd0Jhc2U2NFRvQmlnSW50O1xuY29uc3QgTUFYX0lERU5USUZJRVJfTEVOID0gMTAyNDtcbmZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0RmllbGQoaykge1xuICBpZiAoay5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbXB0eSBmaWVsZCBuYW1lcyBhcmUgZGlzYWxsb3dlZC5cIik7XG4gIH1cbiAgaWYgKGsubGVuZ3RoID4gTUFYX0lERU5USUZJRVJfTEVOKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZpZWxkIG5hbWUgJHtrfSBleGNlZWRzIG1heGltdW0gZmllbGQgbmFtZSBsZW5ndGggJHtNQVhfSURFTlRJRklFUl9MRU59LmBcbiAgICApO1xuICB9XG4gIGlmIChrLnN0YXJ0c1dpdGgoXCIkXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGaWVsZCBuYW1lICR7a30gc3RhcnRzIHdpdGggYSAnJCcsIHdoaWNoIGlzIHJlc2VydmVkLmApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgay5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNoYXJDb2RlID0gay5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjaGFyQ29kZSA8IDMyIHx8IGNoYXJDb2RlID49IDEyNykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmllbGQgbmFtZSAke2t9IGhhcyBpbnZhbGlkIGNoYXJhY3RlciAnJHtrW2ldfSc6IEZpZWxkIG5hbWVzIGNhbiBvbmx5IGNvbnRhaW4gbm9uLWNvbnRyb2wgQVNDSUkgY2hhcmFjdGVyc2BcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBqc29uVG9Db252ZXhJbnRlcm5hbCh2YWx1ZSwgYWxsb3dNYXBzQW5kU2V0cykge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHZhbHVlMikgPT4ganNvblRvQ29udmV4SW50ZXJuYWwodmFsdWUyLCBhbGxvd01hcHNBbmRTZXRzKSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlIG9mICR7dmFsdWV9YCk7XG4gIH1cbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKTtcbiAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3Qga2V5ID0gZW50cmllc1swXVswXTtcbiAgICBpZiAoa2V5ID09PSBcIiRieXRlc1wiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLiRieXRlcyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCAkYnl0ZXMgZmllbGQgb24gJHt2YWx1ZX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBCYXNlNjQudG9CeXRlQXJyYXkodmFsdWUuJGJ5dGVzKS5idWZmZXI7XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiJGludGVnZXJcIikge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZS4kaW50ZWdlciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCAkaW50ZWdlciBmaWVsZCBvbiAke3ZhbHVlfWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2U2NFRvQmlnSW50KHZhbHVlLiRpbnRlZ2VyKTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkZmxvYXRcIikge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZS4kZmxvYXQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgJGZsb2F0IGZpZWxkIG9uICR7dmFsdWV9YCk7XG4gICAgICB9XG4gICAgICBjb25zdCBmbG9hdEJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KHZhbHVlLiRmbG9hdCk7XG4gICAgICBpZiAoZmxvYXRCeXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUmVjZWl2ZWQgJHtmbG9hdEJ5dGVzLmJ5dGVMZW5ndGh9IGJ5dGVzLCBleHBlY3RlZCA4IGZvciAkZmxvYXRgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBmbG9hdEJ5dGVzVmlldyA9IG5ldyBEYXRhVmlldyhmbG9hdEJ5dGVzLmJ1ZmZlcik7XG4gICAgICBjb25zdCBmbG9hdCA9IGZsb2F0Qnl0ZXNWaWV3LmdldEZsb2F0NjQoMCwgTElUVExFX0VORElBTik7XG4gICAgICBpZiAoIWlzU3BlY2lhbChmbG9hdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGbG9hdCAke2Zsb2F0fSBzaG91bGQgYmUgZW5jb2RlZCBhcyBhIG51bWJlcmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZsb2F0O1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRzZXRcIikge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlLiRzZXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkICRzZXQgZmllbGQgb24gJHt2YWx1ZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmICghYWxsb3dNYXBzQW5kU2V0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlY2VpdmVkIGEgU2V0IHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZSwgd2l0aCB2YWx1ZXM6ICR7dmFsdWUuJHNldC5qb2luKFxuICAgICAgICAgICAgXCIsIFwiXG4gICAgICAgICAgKX0uYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBTZXQoXG4gICAgICAgIHZhbHVlLiRzZXQubWFwKCh2YWx1ZTIpID0+IGpzb25Ub0NvbnZleEludGVybmFsKHZhbHVlMiwgYWxsb3dNYXBzQW5kU2V0cykpXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRtYXBcIikge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlLiRtYXApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkICRtYXAgZmllbGQgb24gJHt2YWx1ZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmICghYWxsb3dNYXBzQW5kU2V0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlY2VpdmVkIGEgTWFwIHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZSwgd2l0aCBlbnRyaWVzOiAke3ZhbHVlLiRtYXAuam9pbihcbiAgICAgICAgICAgIFwiLCBcIlxuICAgICAgICAgICl9LmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgdmFsdWUuJG1hcCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFpcikgfHwgcGFpci5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCBwYWlyIGluICRtYXAgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrID0ganNvblRvQ29udmV4SW50ZXJuYWwocGFpclswXSwgYWxsb3dNYXBzQW5kU2V0cyk7XG4gICAgICAgIGNvbnN0IHYgPSBqc29uVG9Db252ZXhJbnRlcm5hbChwYWlyWzFdLCBhbGxvd01hcHNBbmRTZXRzKTtcbiAgICAgICAgbWFwLnNldChrLCB2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICB9XG4gIGNvbnN0IG91dCA9IHt9O1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICB2YWxpZGF0ZU9iamVjdEZpZWxkKGspO1xuICAgIG91dFtrXSA9IGpzb25Ub0NvbnZleEludGVybmFsKHYsIGFsbG93TWFwc0FuZFNldHMpO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24ganNvblRvQ29udmV4KHZhbHVlLCBhbGxvd01hcHNBbmRTZXRzID0gZmFsc2UpIHtcbiAgcmV0dXJuIGpzb25Ub0NvbnZleEludGVybmFsKHZhbHVlLCBhbGxvd01hcHNBbmRTZXRzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlWYWx1ZUZvckVycm9yKHZhbHVlKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgKF9rZXksIHZhbHVlMikgPT4ge1xuICAgIGlmICh2YWx1ZTIgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUyID09PSBcImJpZ2ludFwiKSB7XG4gICAgICByZXR1cm4gYCR7dmFsdWUyLnRvU3RyaW5nKCl9bmA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTI7XG4gIH0pO1xufVxuZnVuY3Rpb24gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQsIGluY2x1ZGVUb3BMZXZlbFVuZGVmaW5lZCwgYWxsb3dNYXBzQW5kU2V0cykge1xuICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgIGNvbnN0IGNvbnRleHRUZXh0ID0gY29udGV4dCAmJiBgIChwcmVzZW50IGF0IHBhdGggJHtjb250ZXh0fSBpbiBvcmlnaW5hbCBvYmplY3QgJHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgb3JpZ2luYWxWYWx1ZVxuICAgICl9KWA7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHVuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBDb252ZXggdmFsdWUke2NvbnRleHRUZXh0fS4gVG8gbGVhcm4gYWJvdXQgQ29udmV4J3Mgc3VwcG9ydGVkIHR5cGVzLCBzZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvdXNpbmcvdHlwZXMuYFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICBpZiAodmFsdWUgPCBNSU5fSU5UNjQgfHwgTUFYX0lOVDY0IDwgdmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEJpZ0ludCAke3ZhbHVlfSBkb2VzIG5vdCBmaXQgaW50byBhIDY0LWJpdCBzaWduZWQgaW50ZWdlci5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyAkaW50ZWdlcjogYmlnSW50VG9CYXNlNjQodmFsdWUpIH07XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmIChpc1NwZWNpYWwodmFsdWUpKSB7XG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRGbG9hdDY0KDAsIHZhbHVlLCBMSVRUTEVfRU5ESUFOKTtcbiAgICAgIHJldHVybiB7ICRmbG9hdDogQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIHsgJGJ5dGVzOiBCYXNlNjQuZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2YWx1ZSkpIH07XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcChcbiAgICAgICh2YWx1ZTIsIGkpID0+IGNvbnZleFRvSnNvbkludGVybmFsKFxuICAgICAgICB2YWx1ZTIsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGNvbnRleHQgKyBgWyR7aX1dYCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGFsbG93TWFwc0FuZFNldHNcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgIGlmICghYWxsb3dNYXBzQW5kU2V0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBlcnJvck1lc3NhZ2VGb3JVbnN1cHBvcnRlZFR5cGUoXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBcIlNldFwiLFxuICAgICAgICAgIFsuLi52YWx1ZV0sXG4gICAgICAgICAgb3JpZ2luYWxWYWx1ZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJHNldDogWy4uLnZhbHVlXS5tYXAoXG4gICAgICAgICh2YWx1ZTIsIGkpID0+IGNvbnZleFRvSnNvbkludGVybmFsKFxuICAgICAgICAgIHZhbHVlMixcbiAgICAgICAgICBvcmlnaW5hbFZhbHVlLFxuICAgICAgICAgIGNvbnRleHQgKyBgLmtleXMoKVske2l9XWAsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgYWxsb3dNYXBzQW5kU2V0c1xuICAgICAgICApXG4gICAgICApXG4gICAgfTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXApIHtcbiAgICBpZiAoIWFsbG93TWFwc0FuZFNldHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgXCJNYXBcIixcbiAgICAgICAgICBbLi4udmFsdWVdLFxuICAgICAgICAgIG9yaWdpbmFsVmFsdWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICRtYXA6IFsuLi52YWx1ZV0ubWFwKChbaywgdl0sIGkpID0+IHtcbiAgICAgICAgY29uc3QganNvbktleSA9IGNvbnZleFRvSnNvbkludGVybmFsKFxuICAgICAgICAgIGssXG4gICAgICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgICAgICBjb250ZXh0ICsgYC5rZXlzKClbJHtpfV1gLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIGFsbG93TWFwc0FuZFNldHNcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QganNvblZhbHVlID0gY29udmV4VG9Kc29uSW50ZXJuYWwoXG4gICAgICAgICAgdixcbiAgICAgICAgICBvcmlnaW5hbFZhbHVlLFxuICAgICAgICAgIGNvbnRleHQgKyBgLnZhbHVlcygpWyR7aX1dYCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBhbGxvd01hcHNBbmRTZXRzXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBbanNvbktleSwganNvblZhbHVlXTtcbiAgICAgIH0pXG4gICAgfTtcbiAgfVxuICBpZiAoIWlzU2ltcGxlT2JqZWN0KHZhbHVlKSkge1xuICAgIGNvbnN0IHRoZVR5cGUgPSB2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWU7XG4gICAgY29uc3QgdHlwZU5hbWUgPSB0aGVUeXBlID8gYCR7dGhlVHlwZX0gYCA6IFwiXCI7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIHR5cGVOYW1lLCB2YWx1ZSwgb3JpZ2luYWxWYWx1ZSlcbiAgICApO1xuICB9XG4gIGNvbnN0IG91dCA9IHt9O1xuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWUpO1xuICBlbnRyaWVzLnNvcnQoKFtrMSwgX3YxXSwgW2syLCBfdjJdKSA9PiBrMSA9PT0gazIgPyAwIDogazEgPCBrMiA/IC0xIDogMSk7XG4gIGZvciAoY29uc3QgW2ssIHZdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodiAhPT0gdm9pZCAwKSB7XG4gICAgICB2YWxpZGF0ZU9iamVjdEZpZWxkKGspO1xuICAgICAgb3V0W2tdID0gY29udmV4VG9Kc29uSW50ZXJuYWwoXG4gICAgICAgIHYsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGNvbnRleHQgKyBgLiR7a31gLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgYWxsb3dNYXBzQW5kU2V0c1xuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGluY2x1ZGVUb3BMZXZlbFVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdGVPYmplY3RGaWVsZChrKTtcbiAgICAgIG91dFtrXSA9IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwoXG4gICAgICAgIHYsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGNvbnRleHQgKyBgLiR7a31gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIHR5cGVOYW1lLCB2YWx1ZSwgb3JpZ2luYWxWYWx1ZSkge1xuICBpZiAoY29udGV4dCkge1xuICAgIHJldHVybiBgJHt0eXBlTmFtZX0ke3N0cmluZ2lmeVZhbHVlRm9yRXJyb3IoXG4gICAgICB2YWx1ZVxuICAgICl9IGlzIG5vdCBhIHN1cHBvcnRlZCBDb252ZXggdHlwZSAocHJlc2VudCBhdCBwYXRoICR7Y29udGV4dH0gaW4gb3JpZ2luYWwgb2JqZWN0ICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIG9yaWdpbmFsVmFsdWVcbiAgICApfSkuIFRvIGxlYXJuIGFib3V0IENvbnZleCdzIHN1cHBvcnRlZCB0eXBlcywgc2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL3R5cGVzLmA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3R5cGVOYW1lfSR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIHZhbHVlXG4gICAgKX0gaXMgbm90IGEgc3VwcG9ydGVkIENvbnZleCB0eXBlLmA7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4geyAkdW5kZWZpbmVkOiBudWxsIH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUHJvZ3JhbW1pbmcgZXJyb3IuIEN1cnJlbnQgdmFsdWUgaXMgJHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgICl9IGJ1dCBvcmlnaW5hbCB2YWx1ZSBpcyB1bmRlZmluZWRgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQsIGZhbHNlLCBmYWxzZSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXhUb0pzb24odmFsdWUsIGFsbG93TWFwc0FuZFNldHMgPSBmYWxzZSkge1xuICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIHZhbHVlLCBcIlwiLCBmYWxzZSwgYWxsb3dNYXBzQW5kU2V0cyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpIHtcbiAgcmV0dXJuIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwodmFsdWUsIHZhbHVlLCBcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaFZhbHVlVG9Kc29uKHZhbHVlKSB7XG4gIHJldHVybiBjb252ZXhUb0pzb25JbnRlcm5hbCh2YWx1ZSwgdmFsdWUsIFwiXCIsIHRydWUsIGZhbHNlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbHVlLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2U2NCIsImlzU2ltcGxlT2JqZWN0IiwiTElUVExFX0VORElBTiIsIk1JTl9JTlQ2NCIsIkJpZ0ludCIsIk1BWF9JTlQ2NCIsIlpFUk8iLCJFSUdIVCIsIlRXT0ZJRlRZU0lYIiwiaXNTcGVjaWFsIiwibiIsIk51bWJlciIsImlzTmFOIiwiaXNGaW5pdGUiLCJPYmplY3QiLCJpcyIsInNsb3dCaWdJbnRUb0Jhc2U2NCIsInZhbHVlIiwiaGV4IiwidG9TdHJpbmciLCJsZW5ndGgiLCJieXRlcyIsIlVpbnQ4QXJyYXkiLCJBcnJheUJ1ZmZlciIsImkiLCJoZXhCeXRlIiwibWF0Y2giLCJyZXZlcnNlIiwic2V0IiwicGFyc2VJbnQiLCJmcm9tQnl0ZUFycmF5Iiwic2xvd0Jhc2U2NFRvQmlnSW50IiwiZW5jb2RlZCIsImludGVnZXJCeXRlcyIsInRvQnl0ZUFycmF5IiwiYnl0ZUxlbmd0aCIsIkVycm9yIiwicG93ZXIiLCJieXRlIiwibW9kZXJuQmlnSW50VG9CYXNlNjQiLCJidWZmZXIiLCJEYXRhVmlldyIsInNldEJpZ0ludDY0IiwibW9kZXJuQmFzZTY0VG9CaWdJbnQiLCJpbnRCeXRlc1ZpZXciLCJnZXRCaWdJbnQ2NCIsImJpZ0ludFRvQmFzZTY0IiwicHJvdG90eXBlIiwiYmFzZTY0VG9CaWdJbnQiLCJNQVhfSURFTlRJRklFUl9MRU4iLCJ2YWxpZGF0ZU9iamVjdEZpZWxkIiwiayIsInN0YXJ0c1dpdGgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJqc29uVG9Db252ZXhJbnRlcm5hbCIsImFsbG93TWFwc0FuZFNldHMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJ2YWx1ZTIiLCJlbnRyaWVzIiwia2V5IiwiJGJ5dGVzIiwiJGludGVnZXIiLCIkZmxvYXQiLCJmbG9hdEJ5dGVzIiwiZmxvYXRCeXRlc1ZpZXciLCJmbG9hdCIsImdldEZsb2F0NjQiLCIkc2V0Iiwiam9pbiIsIlNldCIsIiRtYXAiLCJNYXAiLCJwYWlyIiwidiIsIm91dCIsImpzb25Ub0NvbnZleCIsInN0cmluZ2lmeVZhbHVlRm9yRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiX2tleSIsImNvbnZleFRvSnNvbkludGVybmFsIiwib3JpZ2luYWxWYWx1ZSIsImNvbnRleHQiLCJpbmNsdWRlVG9wTGV2ZWxVbmRlZmluZWQiLCJjb250ZXh0VGV4dCIsInNldEZsb2F0NjQiLCJlcnJvck1lc3NhZ2VGb3JVbnN1cHBvcnRlZFR5cGUiLCJqc29uS2V5IiwianNvblZhbHVlIiwidGhlVHlwZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInR5cGVOYW1lIiwic29ydCIsImsxIiwiX3YxIiwiazIiLCJfdjIiLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsIiwiJHVuZGVmaW5lZCIsImNvbnZleFRvSnNvbiIsImNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIiwicGF0Y2hWYWx1ZVRvSnNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/value.js\n");

/***/ })

};
;