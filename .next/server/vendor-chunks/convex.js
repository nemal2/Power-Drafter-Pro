"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/convex";
exports.ids = ["vendor-chunks/convex"];
exports.modules = {

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/http_client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/http_client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexHttpClient: () => (/* binding */ ConvexHttpClient),\n/* harmony export */   STATUS_CODE_BAD_REQUEST: () => (/* binding */ STATUS_CODE_BAD_REQUEST),\n/* harmony export */   STATUS_CODE_OK: () => (/* binding */ STATUS_CODE_OK),\n/* harmony export */   STATUS_CODE_UDF_FAILED: () => (/* binding */ STATUS_CODE_UDF_FAILED),\n/* harmony export */   setFetch: () => (/* binding */ setFetch)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nconst STATUS_CODE_OK = 200;\nconst STATUS_CODE_BAD_REQUEST = 400;\nconst STATUS_CODE_UDF_FAILED = 560;\nlet specifiedFetch = void 0;\nfunction setFetch(f) {\n    specifiedFetch = f;\n}\nclass ConvexHttpClient {\n    /**\n   * Create a new {@link ConvexHttpClient}.\n   *\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - An object of options.\n   * - `skipConvexDeploymentUrlCheck` - Skip validating that the Convex deployment URL looks like\n   * `https://happy-animal-123.convex.cloud` or localhost. This can be useful if running a self-hosted\n   * Convex backend that uses a different URL.\n   * - `logger` - A logger. If not provided, logs to the console.\n   * You can construct your own logger to customize logging to log elsewhere\n   * or not log at all.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"encodedTsPromise\");\n        __publicField(this, \"debug\");\n        __publicField(this, \"fetchOptions\");\n        __publicField(this, \"logger\");\n        if (typeof options === \"boolean\") {\n            throw new Error(\"skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.\");\n        }\n        const opts = options ?? {};\n        if (opts.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.validateDeploymentUrl)(address);\n        }\n        this.logger = opts.logger ?? (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.instantiateDefaultLogger)({\n            verbose: false\n        });\n        this.address = address;\n        this.debug = true;\n    }\n    /**\n   * Obtain the {@link ConvexHttpClient}'s URL to its backend.\n   * @deprecated Use url, which returns the url without /api at the end.\n   *\n   * @returns The URL to the Convex backend, including the client's API version.\n   */ backendUrl() {\n        return `${this.address}/api`;\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   *\n   * Should be called whenever the token changes (i.e. due to expiration and refresh).\n   *\n   * @param value - JWT-encoded OpenID Connect identity token.\n   */ setAuth(value) {\n        this.clearAuth();\n        this.auth = value;\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, actingAsIdentity) {\n        this.clearAuth();\n        if (actingAsIdentity !== void 0) {\n            const bytes = new TextEncoder().encode(JSON.stringify(actingAsIdentity));\n            const actingAsIdentityEncoded = btoa(String.fromCodePoint(...bytes));\n            this.adminAuth = `${token}:${actingAsIdentityEncoded}`;\n        } else {\n            this.adminAuth = token;\n        }\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.auth = void 0;\n        this.adminAuth = void 0;\n    }\n    /**\n   * Sets whether the result log lines should be printed on the console or not.\n   *\n   * @internal\n   */ setDebug(debug) {\n        this.debug = debug;\n    }\n    /**\n   * Used to customize the fetch behavior in some runtimes.\n   *\n   * @internal\n   */ setFetchOptions(fetchOptions) {\n        this.fetchOptions = fetchOptions;\n    }\n    /**\n   * This API is experimental: it may change or disappear.\n   *\n   * Execute a Convex query function at the same timestamp as every other\n   * consistent query execution run by this HTTP client.\n   *\n   * This doesn't make sense for long-lived ConvexHttpClients as Convex\n   * backends can read a limited amount into the past: beyond 30 seconds\n   * in the past may not be available.\n   *\n   * Create a new client to use a consistent time.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   *\n   * @deprecated This API is experimental: it may change or disappear.\n   */ async consistentQuery(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const timestampPromise = this.getTimestamp();\n        return await this.queryInner(query, queryArgs, {\n            timestampPromise\n        });\n    }\n    async getTimestamp() {\n        if (this.encodedTsPromise) {\n            return this.encodedTsPromise;\n        }\n        return this.encodedTsPromise = this.getTimestampInner();\n    }\n    async getTimestampInner() {\n        const localFetch = specifiedFetch || fetch;\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        const response = await localFetch(`${this.address}/api/query_ts`, {\n            ...this.fetchOptions,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n        const { ts } = await response.json();\n        return ts;\n    }\n    /**\n   * Execute a Convex query function.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ async query(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        return await this.queryInner(query, queryArgs, {});\n    }\n    async queryInner(query, queryArgs, options) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const args = [\n            (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(queryArgs)\n        ];\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const timestamp = options.timestampPromise ? await options.timestampPromise : void 0;\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args,\n            ...timestamp ? {\n                ts: timestamp\n            } : {}\n        });\n        const endpoint = timestamp ? `${this.address}/api/query_at_ts` : `${this.address}/api/query`;\n        const response = await localFetch(endpoint, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"query\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex mutation function.\n   *\n   * @param name - The name of the mutation.\n   * @param args - The arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, ...args) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(mutation);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(mutationArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/mutation`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"mutation\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex action function.\n   *\n   * @param name - The name of the action.\n   * @param args - The arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(action, ...args) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(action);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(actionArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/action`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"action\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex function of an unknown type.\n   *\n   * @param name - The name of the function.\n   * @param args - The arguments object for the function. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the function's result.\n   *\n   * @internal\n   */ async function(anyFunction, componentPath, ...args) {\n        const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = typeof anyFunction === \"string\" ? anyFunction : (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(anyFunction);\n        const body = JSON.stringify({\n            componentPath,\n            path: name,\n            format: \"convex_encoded_json\",\n            args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(functionArgs)\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/function`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"any\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n}\nfunction forwardErrorData(errorData, error) {\n    error.data = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(errorData);\n    return error;\n} //# sourceMappingURL=http_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaHR0cF9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUc5RTtBQUM0QztBQUNoQztBQUtWO0FBQzRDO0FBQ2pFLE1BQU1jLGlCQUFpQixJQUFJO0FBQzNCLE1BQU1DLDBCQUEwQixJQUFJO0FBQ3BDLE1BQU1DLHlCQUF5QixJQUFJO0FBQzFDLElBQUlDLGlCQUFpQixLQUFLO0FBQ25CLFNBQVNDLFNBQVNDLENBQUM7SUFDeEJGLGlCQUFpQkU7QUFDbkI7QUFDTyxNQUFNQztJQUNYOzs7Ozs7Ozs7Ozs7R0FZQyxHQUNEQyxZQUFZQyxPQUFPLEVBQUVDLE9BQU8sQ0FBRTtRQUM1Qm5CLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksT0FBT21CLFlBQVksV0FBVztZQUNoQyxNQUFNLElBQUlDLE1BQ1I7UUFFSjtRQUNBLE1BQU1DLE9BQU9GLFdBQVcsQ0FBQztRQUN6QixJQUFJRSxLQUFLQyw0QkFBNEIsS0FBSyxNQUFNO1lBQzlDbkIsdUVBQXFCQSxDQUFD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LE1BQU1vRCxTQUFTSyxZQUFZO1lBQ3ZDO2dCQUNFLE1BQU0sSUFBSXpELE1BQU0sQ0FBQyxrQkFBa0IsRUFBRWlCLEtBQUtDLFNBQVMsQ0FBQ2tDLFVBQVUsQ0FBQztRQUNuRTtJQUNGO0FBQ0Y7QUFDQSxTQUFTSSxpQkFBaUJELFNBQVMsRUFBRVcsS0FBSztJQUN4Q0EsTUFBTUMsSUFBSSxHQUFHaEYsOERBQVlBLENBQUNvRTtJQUMxQixPQUFPVztBQUNULEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL2h0dHBfY2xpZW50LmpzPzYxNmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lXG59IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MsIHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIENvbnZleEVycm9yLFxuICBjb252ZXhUb0pzb24sXG4gIGpzb25Ub0NvbnZleFxufSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIsIGxvZ0ZvckZ1bmN0aW9uIH0gZnJvbSBcIi4vbG9nZ2luZy5qc1wiO1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DT0RFX09LID0gMjAwO1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DT0RFX0JBRF9SRVFVRVNUID0gNDAwO1xuZXhwb3J0IGNvbnN0IFNUQVRVU19DT0RFX1VERl9GQUlMRUQgPSA1NjA7XG5sZXQgc3BlY2lmaWVkRmV0Y2ggPSB2b2lkIDA7XG5leHBvcnQgZnVuY3Rpb24gc2V0RmV0Y2goZikge1xuICBzcGVjaWZpZWRGZXRjaCA9IGY7XG59XG5leHBvcnQgY2xhc3MgQ29udmV4SHR0cENsaWVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIENvbnZleEh0dHBDbGllbnR9LlxuICAgKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSB1cmwgb2YgeW91ciBDb252ZXggZGVwbG95bWVudCwgb2Z0ZW4gcHJvdmlkZWRcbiAgICogYnkgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuIEUuZy4gYGh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZGAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IG9mIG9wdGlvbnMuXG4gICAqIC0gYHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2tgIC0gU2tpcCB2YWxpZGF0aW5nIHRoYXQgdGhlIENvbnZleCBkZXBsb3ltZW50IFVSTCBsb29rcyBsaWtlXG4gICAqIGBodHRwczovL2hhcHB5LWFuaW1hbC0xMjMuY29udmV4LmNsb3VkYCBvciBsb2NhbGhvc3QuIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiBydW5uaW5nIGEgc2VsZi1ob3N0ZWRcbiAgICogQ29udmV4IGJhY2tlbmQgdGhhdCB1c2VzIGEgZGlmZmVyZW50IFVSTC5cbiAgICogLSBgbG9nZ2VyYCAtIEEgbG9nZ2VyLiBJZiBub3QgcHJvdmlkZWQsIGxvZ3MgdG8gdGhlIGNvbnNvbGUuXG4gICAqIFlvdSBjYW4gY29uc3RydWN0IHlvdXIgb3duIGxvZ2dlciB0byBjdXN0b21pemUgbG9nZ2luZyB0byBsb2cgZWxzZXdoZXJlXG4gICAqIG9yIG5vdCBsb2cgYXQgYWxsLlxuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhZGRyZXNzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhdXRoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhZG1pbkF1dGhcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImVuY29kZWRUc1Byb21pc2VcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlYnVnXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmZXRjaE9wdGlvbnNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvZ2dlclwiKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwic2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjayBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSBwYXNzIGFuIG9wdGlvbnMgb2JqZWN0LCBgeyBza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrOiB0cnVlIH1gLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvcHRzID0gb3B0aW9ucyA/PyB7fTtcbiAgICBpZiAob3B0cy5za2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrICE9PSB0cnVlKSB7XG4gICAgICB2YWxpZGF0ZURlcGxveW1lbnRVcmwoYWRkcmVzcyk7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gb3B0cy5sb2dnZXIgPz8gaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyKHsgdmVyYm9zZTogZmFsc2UgfSk7XG4gICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLmRlYnVnID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogT2J0YWluIHRoZSB7QGxpbmsgQ29udmV4SHR0cENsaWVudH0ncyBVUkwgdG8gaXRzIGJhY2tlbmQuXG4gICAqIEBkZXByZWNhdGVkIFVzZSB1cmwsIHdoaWNoIHJldHVybnMgdGhlIHVybCB3aXRob3V0IC9hcGkgYXQgdGhlIGVuZC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIFVSTCB0byB0aGUgQ29udmV4IGJhY2tlbmQsIGluY2x1ZGluZyB0aGUgY2xpZW50J3MgQVBJIHZlcnNpb24uXG4gICAqL1xuICBiYWNrZW5kVXJsKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmFkZHJlc3N9L2FwaWA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYWRkcmVzcyBmb3IgdGhpcyBjbGllbnQsIHVzZWZ1bCBmb3IgY3JlYXRpbmcgYSBuZXcgY2xpZW50LlxuICAgKlxuICAgKiBOb3QgZ3VhcmFudGVlZCB0byBtYXRjaCB0aGUgYWRkcmVzcyB3aXRoIHdoaWNoIHRoaXMgY2xpZW50IHdhcyBjb25zdHJ1Y3RlZDpcbiAgICogaXQgbWF5IGJlIGNhbm9uaWNhbGl6ZWQuXG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLmFkZHJlc3M7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4gdG8gYmUgdXNlZCBmb3Igc3Vic2VxdWVudCBxdWVyaWVzIGFuZCBtdXRhdGlvbnMuXG4gICAqXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIHRva2VuIGNoYW5nZXMgKGkuZS4gZHVlIHRvIGV4cGlyYXRpb24gYW5kIHJlZnJlc2gpLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgLSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBpZGVudGl0eSB0b2tlbi5cbiAgICovXG4gIHNldEF1dGgodmFsdWUpIHtcbiAgICB0aGlzLmNsZWFyQXV0aCgpO1xuICAgIHRoaXMuYXV0aCA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEFkbWluQXV0aCh0b2tlbiwgYWN0aW5nQXNJZGVudGl0eSkge1xuICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgaWYgKGFjdGluZ0FzSWRlbnRpdHkgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoYWN0aW5nQXNJZGVudGl0eSkpO1xuICAgICAgY29uc3QgYWN0aW5nQXNJZGVudGl0eUVuY29kZWQgPSBidG9hKFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmJ5dGVzKSk7XG4gICAgICB0aGlzLmFkbWluQXV0aCA9IGAke3Rva2VufToke2FjdGluZ0FzSWRlbnRpdHlFbmNvZGVkfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRtaW5BdXRoID0gdG9rZW47XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbGVhciB0aGUgY3VycmVudCBhdXRoZW50aWNhdGlvbiB0b2tlbiBpZiBzZXQuXG4gICAqL1xuICBjbGVhckF1dGgoKSB7XG4gICAgdGhpcy5hdXRoID0gdm9pZCAwO1xuICAgIHRoaXMuYWRtaW5BdXRoID0gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIHJlc3VsdCBsb2cgbGluZXMgc2hvdWxkIGJlIHByaW50ZWQgb24gdGhlIGNvbnNvbGUgb3Igbm90LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldERlYnVnKGRlYnVnKSB7XG4gICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIHRvIGN1c3RvbWl6ZSB0aGUgZmV0Y2ggYmVoYXZpb3IgaW4gc29tZSBydW50aW1lcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRGZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zKSB7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMgPSBmZXRjaE9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbDogaXQgbWF5IGNoYW5nZSBvciBkaXNhcHBlYXIuXG4gICAqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggcXVlcnkgZnVuY3Rpb24gYXQgdGhlIHNhbWUgdGltZXN0YW1wIGFzIGV2ZXJ5IG90aGVyXG4gICAqIGNvbnNpc3RlbnQgcXVlcnkgZXhlY3V0aW9uIHJ1biBieSB0aGlzIEhUVFAgY2xpZW50LlxuICAgKlxuICAgKiBUaGlzIGRvZXNuJ3QgbWFrZSBzZW5zZSBmb3IgbG9uZy1saXZlZCBDb252ZXhIdHRwQ2xpZW50cyBhcyBDb252ZXhcbiAgICogYmFja2VuZHMgY2FuIHJlYWQgYSBsaW1pdGVkIGFtb3VudCBpbnRvIHRoZSBwYXN0OiBiZXlvbmQgMzAgc2Vjb25kc1xuICAgKiBpbiB0aGUgcGFzdCBtYXkgbm90IGJlIGF2YWlsYWJsZS5cbiAgICpcbiAgICogQ3JlYXRlIGEgbmV3IGNsaWVudCB0byB1c2UgYSBjb25zaXN0ZW50IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbDogaXQgbWF5IGNoYW5nZSBvciBkaXNhcHBlYXIuXG4gICAqL1xuICBhc3luYyBjb25zaXN0ZW50UXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBxdWVyeUFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgdGltZXN0YW1wUHJvbWlzZSA9IHRoaXMuZ2V0VGltZXN0YW1wKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucXVlcnlJbm5lcihxdWVyeSwgcXVlcnlBcmdzLCB7IHRpbWVzdGFtcFByb21pc2UgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0VGltZXN0YW1wKCkge1xuICAgIGlmICh0aGlzLmVuY29kZWRUc1Byb21pc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuY29kZWRUc1Byb21pc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVuY29kZWRUc1Byb21pc2UgPSB0aGlzLmdldFRpbWVzdGFtcElubmVyKCk7XG4gIH1cbiAgYXN5bmMgZ2V0VGltZXN0YW1wSW5uZXIoKSB7XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlfdHNgLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdHMgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBxdWVyeShxdWVyeSwgLi4uYXJncykge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5xdWVyeUlubmVyKHF1ZXJ5LCBxdWVyeUFyZ3MsIHt9KTtcbiAgfVxuICBhc3luYyBxdWVyeUlubmVyKHF1ZXJ5LCBxdWVyeUFyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICBjb25zdCBhcmdzID0gW2NvbnZleFRvSnNvbihxdWVyeUFyZ3MpXTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YFxuICAgIH07XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBDb252ZXggJHt0aGlzLmFkbWluQXV0aH1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0aGlzLmF1dGh9YDtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wUHJvbWlzZSA/IGF3YWl0IG9wdGlvbnMudGltZXN0YW1wUHJvbWlzZSA6IHZvaWQgMDtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgcGF0aDogbmFtZSxcbiAgICAgIGZvcm1hdDogXCJjb252ZXhfZW5jb2RlZF9qc29uXCIsXG4gICAgICBhcmdzLFxuICAgICAgLi4udGltZXN0YW1wID8geyB0czogdGltZXN0YW1wIH0gOiB7fVxuICAgIH0pO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGltZXN0YW1wID8gYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlfYXRfdHNgIDogYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlgO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChlbmRwb2ludCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnNcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgbXV0YXRpb24obXV0YXRpb24sIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBtdXRhdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShtdXRhdGlvbik7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHBhdGg6IG5hbWUsXG4gICAgICBmb3JtYXQ6IFwiY29udmV4X2VuY29kZWRfanNvblwiLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXVxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgfTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYENvbnZleCAke3RoaXMuYWRtaW5BdXRofWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3RoaXMuYXV0aH1gO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2NhbEZldGNoKGAke3RoaXMuYWRkcmVzc30vYXBpL211dGF0aW9uYCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnNcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcIm11dGF0aW9uXCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IGFjdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgYWN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGFjdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGFjdGlvbihhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKTtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgcGF0aDogbmFtZSxcbiAgICAgIGZvcm1hdDogXCJjb252ZXhfZW5jb2RlZF9qc29uXCIsXG4gICAgICBhcmdzOiBbY29udmV4VG9Kc29uKGFjdGlvbkFyZ3MpXVxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgfTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYENvbnZleCAke3RoaXMuYWRtaW5BdXRofWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3RoaXMuYXV0aH1gO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2NhbEZldGNoKGAke3RoaXMuYWRkcmVzc30vYXBpL2FjdGlvbmAsIHtcbiAgICAgIC4uLnRoaXMuZmV0Y2hPcHRpb25zLFxuICAgICAgYm9keSxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vayAmJiByZXNwb25zZS5zdGF0dXMgIT09IFNUQVRVU19DT0RFX1VERl9GQUlMRUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIHJlc3BKU09OLmxvZ0xpbmVzID8/IFtdKSB7XG4gICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJhY3Rpb25cIiwgbmFtZSwgbGluZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAocmVzcEpTT04uc3RhdHVzKSB7XG4gICAgICBjYXNlIFwic3VjY2Vzc1wiOlxuICAgICAgICByZXR1cm4ganNvblRvQ29udmV4KHJlc3BKU09OLnZhbHVlKTtcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICBpZiAocmVzcEpTT04uZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBmb3J3YXJkRXJyb3JEYXRhKFxuICAgICAgICAgICAgcmVzcEpTT04uZXJyb3JEYXRhLFxuICAgICAgICAgICAgbmV3IENvbnZleEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggZnVuY3Rpb24gb2YgYW4gdW5rbm93biB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGZ1bmN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uKGFueUZ1bmN0aW9uLCBjb21wb25lbnRQYXRoLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZnVuY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYW55RnVuY3Rpb24gPT09IFwic3RyaW5nXCIgPyBhbnlGdW5jdGlvbiA6IGdldEZ1bmN0aW9uTmFtZShhbnlGdW5jdGlvbik7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IGNvbnZleFRvSnNvbihmdW5jdGlvbkFyZ3MpXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWBcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvZnVuY3Rpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyc1xuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2sgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSBTVEFUVVNfQ09ERV9VREZfRkFJTEVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcEpTT04gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiByZXNwSlNPTi5sb2dMaW5lcyA/PyBbXSkge1xuICAgICAgICBsb2dGb3JGdW5jdGlvbih0aGlzLmxvZ2dlciwgXCJpbmZvXCIsIFwiYW55XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmb3J3YXJkRXJyb3JEYXRhKGVycm9yRGF0YSwgZXJyb3IpIHtcbiAgZXJyb3IuZGF0YSA9IGpzb25Ub0NvbnZleChlcnJvckRhdGEpO1xuICByZXR1cm4gZXJyb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwX2NsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImdldEZ1bmN0aW9uTmFtZSIsInBhcnNlQXJncyIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsInZlcnNpb24iLCJDb252ZXhFcnJvciIsImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsImluc3RhbnRpYXRlRGVmYXVsdExvZ2dlciIsImxvZ0ZvckZ1bmN0aW9uIiwiU1RBVFVTX0NPREVfT0siLCJTVEFUVVNfQ09ERV9CQURfUkVRVUVTVCIsIlNUQVRVU19DT0RFX1VERl9GQUlMRUQiLCJzcGVjaWZpZWRGZXRjaCIsInNldEZldGNoIiwiZiIsIkNvbnZleEh0dHBDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJvcHRpb25zIiwiRXJyb3IiLCJvcHRzIiwic2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjayIsImxvZ2dlciIsInZlcmJvc2UiLCJkZWJ1ZyIsImJhY2tlbmRVcmwiLCJ1cmwiLCJzZXRBdXRoIiwiY2xlYXJBdXRoIiwiYXV0aCIsInNldEFkbWluQXV0aCIsInRva2VuIiwiYWN0aW5nQXNJZGVudGl0eSIsImJ5dGVzIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW5nQXNJZGVudGl0eUVuY29kZWQiLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsImFkbWluQXV0aCIsInNldERlYnVnIiwic2V0RmV0Y2hPcHRpb25zIiwiZmV0Y2hPcHRpb25zIiwiY29uc2lzdGVudFF1ZXJ5IiwicXVlcnkiLCJhcmdzIiwicXVlcnlBcmdzIiwidGltZXN0YW1wUHJvbWlzZSIsImdldFRpbWVzdGFtcCIsInF1ZXJ5SW5uZXIiLCJlbmNvZGVkVHNQcm9taXNlIiwiZ2V0VGltZXN0YW1wSW5uZXIiLCJsb2NhbEZldGNoIiwiZmV0Y2giLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJtZXRob2QiLCJvayIsInRleHQiLCJ0cyIsImpzb24iLCJuYW1lIiwidGltZXN0YW1wIiwiYm9keSIsInBhdGgiLCJmb3JtYXQiLCJlbmRwb2ludCIsInN0YXR1cyIsInJlc3BKU09OIiwibGluZSIsImxvZ0xpbmVzIiwiZXJyb3JEYXRhIiwiZm9yd2FyZEVycm9yRGF0YSIsImVycm9yTWVzc2FnZSIsIm11dGF0aW9uIiwibXV0YXRpb25BcmdzIiwiYWN0aW9uIiwiYWN0aW9uQXJncyIsImZ1bmN0aW9uIiwiYW55RnVuY3Rpb24iLCJjb21wb25lbnRQYXRoIiwiZnVuY3Rpb25BcmdzIiwiZXJyb3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* reexport safe */ _sync_client_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient),\n/* harmony export */   ConvexClient: () => (/* reexport safe */ _simple_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexClient),\n/* harmony export */   ConvexHttpClient: () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_2__.ConvexHttpClient)\n/* harmony export */ });\n/* harmony import */ var _sync_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sync/client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\");\n/* harmony import */ var _simple_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simple_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\");\n/* harmony import */ var _http_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\");\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7QUFDdUM7QUFDRjtBQUNFLENBQ3BELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9pbmRleC5qcz81ZjJlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IHsgQmFzZUNvbnZleENsaWVudCB9IGZyb20gXCIuL3N5bmMvY2xpZW50LmpzXCI7XG5leHBvcnQgeyBDb252ZXhDbGllbnQgfSBmcm9tIFwiLi9zaW1wbGVfY2xpZW50LmpzXCI7XG5leHBvcnQgeyBDb252ZXhIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cF9jbGllbnQuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2VDb252ZXhDbGllbnQiLCJDb252ZXhDbGllbnQiLCJDb252ZXhIdHRwQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logger: () => (/* binding */ Logger),\n/* harmony export */   createHybridErrorStacktrace: () => (/* binding */ createHybridErrorStacktrace),\n/* harmony export */   forwardData: () => (/* binding */ forwardData),\n/* harmony export */   instantiateDefaultLogger: () => (/* binding */ instantiateDefaultLogger),\n/* harmony export */   logFatalError: () => (/* binding */ logFatalError),\n/* harmony export */   logForFunction: () => (/* binding */ logForFunction)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst INFO_COLOR = \"color:rgb(0, 145, 255)\";\nfunction prefix_for_source(source) {\n    switch(source){\n        case \"query\":\n            return \"Q\";\n        case \"mutation\":\n            return \"M\";\n        case \"action\":\n            return \"A\";\n        case \"any\":\n            return \"?\";\n    }\n}\nclass Logger {\n    constructor(options){\n        __publicField(this, \"_onLogLineFuncs\");\n        __publicField(this, \"_verbose\");\n        this._onLogLineFuncs = {};\n        this._verbose = options.verbose;\n    }\n    addLogLineListener(func) {\n        let id = Math.random().toString(36).substring(2, 15);\n        for(let i = 0; i < 10; i++){\n            if (this._onLogLineFuncs[id] === void 0) {\n                break;\n            }\n            id = Math.random().toString(36).substring(2, 15);\n        }\n        this._onLogLineFuncs[id] = func;\n        return ()=>{\n            delete this._onLogLineFuncs[id];\n        };\n    }\n    logVerbose(...args) {\n        if (this._verbose) {\n            for (const func of Object.values(this._onLogLineFuncs)){\n                func(\"debug\", `${/* @__PURE__ */ new Date().toISOString()}`, ...args);\n            }\n        }\n    }\n    log(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"info\", ...args);\n        }\n    }\n    warn(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"warn\", ...args);\n        }\n    }\n    error(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"error\", ...args);\n        }\n    }\n}\nfunction instantiateDefaultLogger(options) {\n    const logger = new Logger(options);\n    logger.addLogLineListener((level, ...args)=>{\n        switch(level){\n            case \"debug\":\n                console.debug(...args);\n                break;\n            case \"info\":\n                console.log(...args);\n                break;\n            case \"warn\":\n                console.warn(...args);\n                break;\n            case \"error\":\n                console.error(...args);\n                break;\n            default:\n                {\n                    const _typecheck = level;\n                    console.log(...args);\n                }\n        }\n    });\n    return logger;\n}\nfunction logForFunction(logger, type, source, udfPath, message) {\n    const prefix = prefix_for_source(source);\n    if (typeof message === \"object\") {\n        message = `ConvexError ${JSON.stringify(message.errorData, null, 2)}`;\n    }\n    if (type === \"info\") {\n        const match = message.match(/^\\[.*?\\] /);\n        if (match === null) {\n            logger.error(`[CONVEX ${prefix}(${udfPath})] Could not parse console.log`);\n            return;\n        }\n        const level = message.slice(1, match[0].length - 2);\n        const args = message.slice(match[0].length);\n        logger.log(`%c[CONVEX ${prefix}(${udfPath})] [${level}]`, INFO_COLOR, args);\n    } else {\n        logger.error(`[CONVEX ${prefix}(${udfPath})] ${message}`);\n    }\n}\nfunction logFatalError(logger, message) {\n    const errorMessage = `[CONVEX FATAL ERROR] ${message}`;\n    logger.error(errorMessage);\n    return new Error(errorMessage);\n}\nfunction createHybridErrorStacktrace(source, udfPath, result) {\n    const prefix = prefix_for_source(source);\n    return `[CONVEX ${prefix}(${udfPath})] ${result.errorMessage}\n  Called by client`;\n}\nfunction forwardData(result, error) {\n    error.data = result.errorData;\n    return error;\n} //# sourceMappingURL=logging.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEcsTUFBTUssYUFBYTtBQUNuQixTQUFTQyxrQkFBa0JDLE1BQU07SUFDL0IsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztJQUNYO0FBQ0Y7QUFDTyxNQUFNQztJQUNYQyxZQUFZQyxPQUFPLENBQUU7UUFDbkJOLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNPLGVBQWUsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQ0MsUUFBUSxHQUFHRixRQUFRRyxPQUFPO0lBQ2pDO0lBQ0FDLG1CQUFtQkMsSUFBSSxFQUFFO1FBQ3ZCLElBQUlDLEtBQUtDLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHO1FBQ2pELElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJLElBQUlBLElBQUs7WUFDM0IsSUFBSSxJQUFJLENBQUNWLGVBQWUsQ0FBQ0ssR0FBRyxLQUFLLEtBQUssR0FBRztnQkFDdkM7WUFDRjtZQUNBQSxLQUFLQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FB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QUFlLENBQUMscUJBQXFCLEVBQUVULFFBQVEsQ0FBQztJQUN0RFIsT0FBT0YsS0FBSyxDQUFDbUI7SUFDYixPQUFPLElBQUlDLE1BQU1EO0FBQ25CO0FBQ08sU0FBU0UsNEJBQTRCM0MsTUFBTSxFQUFFK0IsT0FBTyxFQUFFYSxNQUFNO0lBQ2pFLE1BQU1YLFNBQVNsQyxrQkFBa0JDO0lBQ2pDLE9BQU8sQ0FBQyxRQUFRLEVBQUVpQyxPQUFPLENBQUMsRUFBRUYsUUFBUSxHQUFHLEVBQUVhLE9BQU9ILFlBQVksQ0FBQztrQkFDN0MsQ0FBQztBQUNuQjtBQUNPLFNBQVNJLFlBQVlELE1BQU0sRUFBRXRCLEtBQUs7SUFDdkNBLE1BQU13QixJQUFJLEdBQUdGLE9BQU9SLFNBQVM7SUFDN0IsT0FBT2Q7QUFDVCxFQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9sb2dnaW5nLmpzPzViZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY29uc3QgSU5GT19DT0xPUiA9IFwiY29sb3I6cmdiKDAsIDE0NSwgMjU1KVwiO1xuZnVuY3Rpb24gcHJlZml4X2Zvcl9zb3VyY2Uoc291cmNlKSB7XG4gIHN3aXRjaCAoc291cmNlKSB7XG4gICAgY2FzZSBcInF1ZXJ5XCI6XG4gICAgICByZXR1cm4gXCJRXCI7XG4gICAgY2FzZSBcIm11dGF0aW9uXCI6XG4gICAgICByZXR1cm4gXCJNXCI7XG4gICAgY2FzZSBcImFjdGlvblwiOlxuICAgICAgcmV0dXJuIFwiQVwiO1xuICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgIHJldHVybiBcIj9cIjtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX29uTG9nTGluZUZ1bmNzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfdmVyYm9zZVwiKTtcbiAgICB0aGlzLl9vbkxvZ0xpbmVGdW5jcyA9IHt9O1xuICAgIHRoaXMuX3ZlcmJvc2UgPSBvcHRpb25zLnZlcmJvc2U7XG4gIH1cbiAgYWRkTG9nTGluZUxpc3RlbmVyKGZ1bmMpIHtcbiAgICBsZXQgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX29uTG9nTGluZUZ1bmNzW2lkXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuICAgIH1cbiAgICB0aGlzLl9vbkxvZ0xpbmVGdW5jc1tpZF0gPSBmdW5jO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5fb25Mb2dMaW5lRnVuY3NbaWRdO1xuICAgIH07XG4gIH1cbiAgbG9nVmVyYm9zZSguLi5hcmdzKSB7XG4gICAgaWYgKHRoaXMuX3ZlcmJvc2UpIHtcbiAgICAgIGZvciAoY29uc3QgZnVuYyBvZiBPYmplY3QudmFsdWVzKHRoaXMuX29uTG9nTGluZUZ1bmNzKSkge1xuICAgICAgICBmdW5jKFwiZGVidWdcIiwgYCR7KC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpfWAsIC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsb2coLi4uYXJncykge1xuICAgIGZvciAoY29uc3QgZnVuYyBvZiBPYmplY3QudmFsdWVzKHRoaXMuX29uTG9nTGluZUZ1bmNzKSkge1xuICAgICAgZnVuYyhcImluZm9cIiwgLi4uYXJncyk7XG4gICAgfVxuICB9XG4gIHdhcm4oLi4uYXJncykge1xuICAgIGZvciAoY29uc3QgZnVuYyBvZiBPYmplY3QudmFsdWVzKHRoaXMuX29uTG9nTGluZUZ1bmNzKSkge1xuICAgICAgZnVuYyhcIndhcm5cIiwgLi4uYXJncyk7XG4gICAgfVxuICB9XG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBmb3IgKGNvbnN0IGZ1bmMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9vbkxvZ0xpbmVGdW5jcykpIHtcbiAgICAgIGZ1bmMoXCJlcnJvclwiLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIob3B0aW9ucykge1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKG9wdGlvbnMpO1xuICBsb2dnZXIuYWRkTG9nTGluZUxpc3RlbmVyKChsZXZlbCwgLi4uYXJncykgPT4ge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YXJuXCI6XG4gICAgICAgIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF90eXBlY2hlY2sgPSBsZXZlbDtcbiAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGxvZ2dlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dGb3JGdW5jdGlvbihsb2dnZXIsIHR5cGUsIHNvdXJjZSwgdWRmUGF0aCwgbWVzc2FnZSkge1xuICBjb25zdCBwcmVmaXggPSBwcmVmaXhfZm9yX3NvdXJjZShzb3VyY2UpO1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICBtZXNzYWdlID0gYENvbnZleEVycm9yICR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZS5lcnJvckRhdGEsIG51bGwsIDIpfWA7XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiaW5mb1wiKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBtZXNzYWdlLm1hdGNoKC9eXFxbLio/XFxdIC8pO1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIENvdWxkIG5vdCBwYXJzZSBjb25zb2xlLmxvZ2BcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gbWVzc2FnZS5zbGljZSgxLCBtYXRjaFswXS5sZW5ndGggLSAyKTtcbiAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgIGxvZ2dlci5sb2coYCVjW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIFske2xldmVsfV1gLCBJTkZPX0NPTE9SLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIuZXJyb3IoYFtDT05WRVggJHtwcmVmaXh9KCR7dWRmUGF0aH0pXSAke21lc3NhZ2V9YCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dGYXRhbEVycm9yKGxvZ2dlciwgbWVzc2FnZSkge1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgW0NPTlZFWCBGQVRBTCBFUlJPUl0gJHttZXNzYWdlfWA7XG4gIGxvZ2dlci5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICByZXR1cm4gbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKHNvdXJjZSwgdWRmUGF0aCwgcmVzdWx0KSB7XG4gIGNvbnN0IHByZWZpeCA9IHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSk7XG4gIHJldHVybiBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldICR7cmVzdWx0LmVycm9yTWVzc2FnZX1cbiAgQ2FsbGVkIGJ5IGNsaWVudGA7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZERhdGEocmVzdWx0LCBlcnJvcikge1xuICBlcnJvci5kYXRhID0gcmVzdWx0LmVycm9yRGF0YTtcbiAgcmV0dXJuIGVycm9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2luZy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIklORk9fQ09MT1IiLCJwcmVmaXhfZm9yX3NvdXJjZSIsInNvdXJjZSIsIkxvZ2dlciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsIl9vbkxvZ0xpbmVGdW5jcyIsIl92ZXJib3NlIiwidmVyYm9zZSIsImFkZExvZ0xpbmVMaXN0ZW5lciIsImZ1bmMiLCJpZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImkiLCJsb2dWZXJib3NlIiwiYXJncyIsInZhbHVlcyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImxvZyIsIndhcm4iLCJlcnJvciIsImluc3RhbnRpYXRlRGVmYXVsdExvZ2dlciIsImxvZ2dlciIsImxldmVsIiwiY29uc29sZSIsImRlYnVnIiwiX3R5cGVjaGVjayIsImxvZ0ZvckZ1bmN0aW9uIiwidHlwZSIsInVkZlBhdGgiLCJtZXNzYWdlIiwicHJlZml4IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yRGF0YSIsIm1hdGNoIiwic2xpY2UiLCJsZW5ndGgiLCJsb2dGYXRhbEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UiLCJyZXN1bHQiLCJmb3J3YXJkRGF0YSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/logging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/long.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/long.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Long: () => (/* binding */ Long)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass Long {\n    constructor(low, high){\n        __publicField(this, \"low\");\n        __publicField(this, \"high\");\n        __publicField(this, \"__isUnsignedLong__\");\n        this.low = low | 0;\n        this.high = high | 0;\n        this.__isUnsignedLong__ = true;\n    }\n    static isLong(obj) {\n        return (obj && obj.__isUnsignedLong__) === true;\n    }\n    // prettier-ignore\n    static fromBytesLE(bytes) {\n        return new Long(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24);\n    }\n    // prettier-ignore\n    toBytesLE() {\n        const hi = this.high;\n        const lo = this.low;\n        return [\n            lo & 255,\n            lo >>> 8 & 255,\n            lo >>> 16 & 255,\n            lo >>> 24,\n            hi & 255,\n            hi >>> 8 & 255,\n            hi >>> 16 & 255,\n            hi >>> 24\n        ];\n    }\n    static fromNumber(value) {\n        if (isNaN(value)) return UZERO;\n        if (value < 0) return UZERO;\n        if (value >= TWO_PWR_64_DBL) return MAX_UNSIGNED_VALUE;\n        return new Long(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0);\n    }\n    toString() {\n        return (BigInt(this.high) * BigInt(TWO_PWR_32_DBL) + BigInt(this.low)).toString();\n    }\n    equals(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.high >>> 31 === 1 && other.high >>> 31 === 1) return false;\n        return this.high === other.high && this.low === other.low;\n    }\n    notEquals(other) {\n        return !this.equals(other);\n    }\n    comp(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.equals(other)) return 0;\n        return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n    }\n    lessThanOrEqual(other) {\n        return this.comp(/* validates */ other) <= 0;\n    }\n    static fromValue(val) {\n        if (typeof val === \"number\") return Long.fromNumber(val);\n        return new Long(val.low, val.high);\n    }\n}\nconst UZERO = new Long(0, 0);\nconst TWO_PWR_16_DBL = 1 << 16;\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nconst MAX_UNSIGNED_VALUE = new Long(4294967295 | 0, 4294967295 | 0); //# sourceMappingURL=long.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9uZy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ2pHLE1BQU1LO0lBQ1hDLFlBQVlDLEdBQUcsRUFBRUMsSUFBSSxDQUFFO1FBQ3JCSixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0csR0FBRyxHQUFHQSxNQUFNO1FBQ2pCLElBQUksQ0FBQ0MsSUFBSSxHQUFHQSxPQUFPO1FBQ25CLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUc7SUFDNUI7SUFDQSxPQUFPQyxPQUFPWixHQUFHLEVBQUU7UUFDakIsT0FBTyxDQUFDQSxPQUFPQSxJQUFJVyxrQkFBa0IsTUFBTTtJQUM3QztJQUNBLGtCQUFrQjtJQUNsQixPQUFPRSxZQUFZQyxLQUFLLEVBQUU7UUFDeEIsT0FBTyxJQUFJUCxLQUNUTyxLQUFLLENBQUMsRUFBRSxHQUFHQSxLQUFLLENBQUMsRUFBRSxJQUFJLElBQUlBLEtBQUssQ0FBQyxFQUFFLElBQUksS0FBS0EsS0FBSyxDQUFDLEVBQUUsSUFBSSxJQUN4REEsS0FBSyxDQUFDLEVBQUUsR0FBR0EsS0FBSyxDQUFDLEVBQUUsSUFBSSxJQUFJQSxLQUFLLENBQUMsRUFBRSxJQUFJLEtBQUtBLEtBQUssQ0FBQyxFQUFFLElBQUk7SUFFNUQ7SUFDQSxrQkFBa0I7SUFDbEJDLFlBQVk7UUFDVixNQUFNQyxLQUFLLElBQUksQ0FBQ04sSUFBSTtRQUNwQixNQUFNTyxLQUFLLElBQUksQ0FBQ1IsR0FBRztRQUNuQixPQUFPO1lBQ0xRLEtBQUs7WUFDTEEsT0FBTyxJQUFJO1lBQ1hBLE9BQU8sS0FBSztZQUNaQSxPQUFPO1lBQ1BELEtBQUs7WUFDTEEsT0FBTyxJQUFJO1lBQ1hBLE9BQU8sS0FBSztZQUNaQSxPQUFPO1NBQ1I7SUFDSDtJQUNBLE9BQU9FLFdBQVdoQixLQUFLLEVBQUU7UUFDdkIsSUFBSWlCLE1BQU1qQixRQUFRLE9BQU9rQjtRQUN6QixJQUFJbEIsUUFBUSxHQUFHLE9BQU9rQjtRQUN0QixJQUFJbEIsU0FBU21CLGdCQUFnQixPQUFPQztRQUNwQyxPQUFPLElBQUlmLEtBQUtMLFFBQVFxQixpQkFBaUIsR0FBR3JCLFFBQVFxQixpQkFBaUI7SUFDdkU7SUFDQUMsV0FBVztRQUNULE9BQU8sQ0FBQ0MsT0FBTyxJQUFJLENBQUNmLElBQUksSUFBSWUsT0FBT0Ysa0JBQWtCRSxPQUFPLElBQUksQ0FBQ2hCLEdBQUcsR0FBR2UsUUFBUTtJQUNqRjtJQUNBRSxPQUFPQyxLQUFLLEVBQUU7UUFDWixJQUFJLENBQUNwQixLQUFLSyxNQUFNLENBQUNlLFFBQVFBLFFBQVFwQixLQUFLcUIsU0FBUyxDQUFDRDtRQUNoRCxJQUFJLElBQUksQ0FBQ2pCLElBQUksS0FBSyxPQUFPLEtBQUtpQixNQUFNakIsSUFBSSxLQUFLLE9BQU8sR0FBRyxPQUFPO1FBQzlELE9BQU8sSUFBSSxDQUFDQSxJQUFJLEtBQUtpQixNQUFNakIsSUFBSSxJQUFJLElBQUksQ0FBQ0QsR0FBRyxLQUFLa0IsTUFBTWxCLEdBQUc7SUFDM0Q7SUFDQW9CLFVBQVVGLEtBQUssRUFBRTtRQUNmLE9BQU8sQ0FBQyxJQUFJLENBQUNELE1BQU0sQ0FBQ0M7SUFDdEI7SUFDQUcsS0FBS0gsS0FBSyxFQUFFO1FBQ1YsSUFBSSxDQUFDcEIsS0FBS0ssTUFBTSxDQUFDZSxRQUFRQSxRQUFRcEIsS0FBS3FCLFNBQVMsQ0FBQ0Q7UUFDaEQsSUFBSSxJQUFJLENBQUNELE1BQU0sQ0FBQ0MsUUFBUSxPQUFPO1FBQy9CLE9BQU9BLE1BQU1qQixJQUFJLEtBQUssSUFBSSxJQUFJLENBQUNBLElBQUksS0FBSyxLQUFLaUIsTUFBTWpCLElBQUksS0FBSyxJQUFJLENBQUNBLElBQUksSUFBSWlCLE1BQU1sQixHQUFHLEtBQUssSUFBSSxJQUFJLENBQUNBLEdBQUcsS0FBSyxJQUFJLENBQUMsSUFBSTtJQUNuSDtJQUNBc0IsZ0JBQWdCSixLQUFLLEVBQUU7UUFDckIsT0FBTyxJQUFJLENBQUNHLElBQUksQ0FDZCxhQUFhLEdBQ2JILFVBQ0c7SUFDUDtJQUNBLE9BQU9DLFVBQVVJLEdBQUcsRUFBRTtRQUNwQixJQUFJLE9BQU9BLFFBQVEsVUFBVSxPQUFPekIsS0FBS1csVUFBVSxDQUFDYztRQUNwRCxPQUFPLElBQUl6QixLQUFLeUIsSUFBSXZCLEdBQUcsRUFBRXVCLElBQUl0QixJQUFJO0lBQ25DO0FBQ0Y7QUFDQSxNQUFNVSxRQUFRLElBQUliLEtBQUssR0FBRztBQUMxQixNQUFNMEIsaUJBQWlCLEtBQUs7QUFDNUIsTUFBTVYsaUJBQWlCVSxpQkFBaUJBO0FBQ3hDLE1BQU1aLGlCQUFpQkUsaUJBQWlCQTtBQUN4QyxNQUFNRCxxQkFBcUIsSUFBSWYsS0FBSyxhQUFhLEdBQUcsYUFBYSxJQUNqRSxnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9uZy5qcz8yYjM0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmV4cG9ydCBjbGFzcyBMb25nIHtcbiAgY29uc3RydWN0b3IobG93LCBoaWdoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvd1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaGlnaFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX19pc1Vuc2lnbmVkTG9uZ19fXCIpO1xuICAgIHRoaXMubG93ID0gbG93IHwgMDtcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcbiAgICB0aGlzLl9faXNVbnNpZ25lZExvbmdfXyA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzTG9uZyhvYmopIHtcbiAgICByZXR1cm4gKG9iaiAmJiBvYmouX19pc1Vuc2lnbmVkTG9uZ19fKSA9PT0gdHJ1ZTtcbiAgfVxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgc3RhdGljIGZyb21CeXRlc0xFKGJ5dGVzKSB7XG4gICAgcmV0dXJuIG5ldyBMb25nKFxuICAgICAgYnl0ZXNbMF0gfCBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMl0gPDwgMTYgfCBieXRlc1szXSA8PCAyNCxcbiAgICAgIGJ5dGVzWzRdIHwgYnl0ZXNbNV0gPDwgOCB8IGJ5dGVzWzZdIDw8IDE2IHwgYnl0ZXNbN10gPDwgMjRcbiAgICApO1xuICB9XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICB0b0J5dGVzTEUoKSB7XG4gICAgY29uc3QgaGkgPSB0aGlzLmhpZ2g7XG4gICAgY29uc3QgbG8gPSB0aGlzLmxvdztcbiAgICByZXR1cm4gW1xuICAgICAgbG8gJiAyNTUsXG4gICAgICBsbyA+Pj4gOCAmIDI1NSxcbiAgICAgIGxvID4+PiAxNiAmIDI1NSxcbiAgICAgIGxvID4+PiAyNCxcbiAgICAgIGhpICYgMjU1LFxuICAgICAgaGkgPj4+IDggJiAyNTUsXG4gICAgICBoaSA+Pj4gMTYgJiAyNTUsXG4gICAgICBoaSA+Pj4gMjRcbiAgICBdO1xuICB9XG4gIHN0YXRpYyBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuIFVaRVJPO1xuICAgIGlmICh2YWx1ZSA8IDApIHJldHVybiBVWkVSTztcbiAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XG4gICAgcmV0dXJuIG5ldyBMb25nKHZhbHVlICUgVFdPX1BXUl8zMl9EQkwgfCAwLCB2YWx1ZSAvIFRXT19QV1JfMzJfREJMIHwgMCk7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChCaWdJbnQodGhpcy5oaWdoKSAqIEJpZ0ludChUV09fUFdSXzMyX0RCTCkgKyBCaWdJbnQodGhpcy5sb3cpKS50b1N0cmluZygpO1xuICB9XG4gIGVxdWFscyhvdGhlcikge1xuICAgIGlmICghTG9uZy5pc0xvbmcob3RoZXIpKSBvdGhlciA9IExvbmcuZnJvbVZhbHVlKG90aGVyKTtcbiAgICBpZiAodGhpcy5oaWdoID4+PiAzMSA9PT0gMSAmJiBvdGhlci5oaWdoID4+PiAzMSA9PT0gMSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcbiAgfVxuICBub3RFcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gIXRoaXMuZXF1YWxzKG90aGVyKTtcbiAgfVxuICBjb21wKG90aGVyKSB7XG4gICAgaWYgKCFMb25nLmlzTG9uZyhvdGhlcikpIG90aGVyID0gTG9uZy5mcm9tVmFsdWUob3RoZXIpO1xuICAgIGlmICh0aGlzLmVxdWFscyhvdGhlcikpIHJldHVybiAwO1xuICAgIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8IG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiBvdGhlci5sb3cgPj4+IDAgPiB0aGlzLmxvdyA+Pj4gMCA/IC0xIDogMTtcbiAgfVxuICBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wKFxuICAgICAgLyogdmFsaWRhdGVzICovXG4gICAgICBvdGhlclxuICAgICkgPD0gMDtcbiAgfVxuICBzdGF0aWMgZnJvbVZhbHVlKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSByZXR1cm4gTG9uZy5mcm9tTnVtYmVyKHZhbCk7XG4gICAgcmV0dXJuIG5ldyBMb25nKHZhbC5sb3csIHZhbC5oaWdoKTtcbiAgfVxufVxuY29uc3QgVVpFUk8gPSBuZXcgTG9uZygwLCAwKTtcbmNvbnN0IFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcbmNvbnN0IFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcbmNvbnN0IFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcbmNvbnN0IE1BWF9VTlNJR05FRF9WQUxVRSA9IG5ldyBMb25nKDQyOTQ5NjcyOTUgfCAwLCA0Mjk0OTY3Mjk1IHwgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb25nLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiTG9uZyIsImNvbnN0cnVjdG9yIiwibG93IiwiaGlnaCIsIl9faXNVbnNpZ25lZExvbmdfXyIsImlzTG9uZyIsImZyb21CeXRlc0xFIiwiYnl0ZXMiLCJ0b0J5dGVzTEUiLCJoaSIsImxvIiwiZnJvbU51bWJlciIsImlzTmFOIiwiVVpFUk8iLCJUV09fUFdSXzY0X0RCTCIsIk1BWF9VTlNJR05FRF9WQUxVRSIsIlRXT19QV1JfMzJfREJMIiwidG9TdHJpbmciLCJCaWdJbnQiLCJlcXVhbHMiLCJvdGhlciIsImZyb21WYWx1ZSIsIm5vdEVxdWFscyIsImNvbXAiLCJsZXNzVGhhbk9yRXF1YWwiLCJ2YWwiLCJUV09fUFdSXzE2X0RCTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/long.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/simple_client.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexClient: () => (/* binding */ ConvexClient),\n/* harmony export */   setDefaultWebSocketConstructor: () => (/* binding */ setDefaultWebSocketConstructor)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nlet defaultWebSocketConstructor;\nfunction setDefaultWebSocketConstructor(ws) {\n    defaultWebSocketConstructor = ws;\n}\nclass ConvexClient {\n    /**\n   * Construct a client and immediately initiate a WebSocket connection to the passed address.\n   *\n   * @public\n   */ constructor(address, options = {}){\n        __publicField(this, \"listeners\");\n        __publicField(this, \"_client\");\n        // A synthetic server event to run callbacks the first time\n        __publicField(this, \"callNewListenersWithCurrentValuesTimer\");\n        __publicField(this, \"_closed\");\n        __publicField(this, \"disabled\");\n        if (options.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_0__.validateDeploymentUrl)(address);\n        }\n        const { disabled, ...baseOptions } = options;\n        this._closed = false;\n        this.disabled = !!disabled;\n        if (defaultWebSocketConstructor && !(\"webSocketConstructor\" in baseOptions) && typeof WebSocket === \"undefined\") {\n            baseOptions.webSocketConstructor = defaultWebSocketConstructor;\n        }\n        if ( true && !(\"unsavedChangesWarning\" in baseOptions)) {\n            baseOptions.unsavedChangesWarning = false;\n        }\n        if (!this.disabled) {\n            this._client = new _index_js__WEBPACK_IMPORTED_MODULE_1__.BaseConvexClient(address, (updatedQueries)=>this._transition(updatedQueries), baseOptions);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    /**\n   * Once closed no registered callbacks will fire again.\n   */ get closed() {\n        return this._closed;\n    }\n    get client() {\n        if (this._client) return this._client;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    /**\n   * Call a callback whenever a new result for a query is received. The callback\n   * will run soon after being registered if a result for the query is already\n   * in memory.\n   *\n   * The return value is an {@link Unsubscribe} object which is both a function\n   * an an object with properties. Both of the patterns below work with this object:\n   *\n   *```ts\n   * // call the return value as a function\n   * const unsubscribe = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   * unsubscribe();\n   *\n   * // unpack the return value into its properties\n   * const {\n   *   getCurrentValue,\n   *   unsubscribe,\n   * } = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   *```\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   * If not provided, errors will be thrown instead of calling the callback.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the onUpdate function.\n   */ onUpdate(query, args, callback, onError) {\n        if (this.disabled) {\n            const disabledUnsubscribe = ()=>{};\n            const unsubscribeProps2 = {\n                unsubscribe: disabledUnsubscribe,\n                getCurrentValue: ()=>void 0,\n                getQueryLogs: ()=>void 0\n            };\n            Object.assign(disabledUnsubscribe, unsubscribeProps2);\n            return disabledUnsubscribe;\n        }\n        const { queryToken, unsubscribe } = this.client.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        const queryInfo = {\n            queryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args\n        };\n        this.listeners.add(queryInfo);\n        if (this.queryResultReady(queryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>this.client.localQueryResultByToken(queryToken),\n            getQueryLogs: ()=>this.client.localQueryLogs(queryToken)\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    // Run all callbacks that have never been run before if they have a query\n    // result available now.\n    callNewListenersWithCurrentValues() {\n        this.callNewListenersWithCurrentValuesTimer = void 0;\n        this._transition([], true);\n    }\n    queryResultReady(queryToken) {\n        return this.client.hasLocalQueryResultByToken(queryToken);\n    }\n    async close() {\n        if (this.disabled) return;\n        this.listeners.clear();\n        this._closed = true;\n        return this.client.close();\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        this.client.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        if (this.closed) {\n            throw new Error(\"ConvexClient has already been closed.\");\n        }\n        if (this.disabled) return;\n        this.client.setAdminAuth(token, identity);\n    }\n    /**\n   * @internal\n   */ _transition(updatedQueries, callNewListeners = false) {\n        for (const queryInfo of this.listeners){\n            const { callback, queryToken, onError, hasEverRun } = queryInfo;\n            if (updatedQueries.includes(queryToken) || callNewListeners && !hasEverRun && this.client.hasLocalQueryResultByToken(queryToken)) {\n                queryInfo.hasEverRun = true;\n                let newValue;\n                try {\n                    newValue = this.client.localQueryResultByToken(queryToken);\n                } catch (error) {\n                    if (!(error instanceof Error)) throw error;\n                    if (onError) {\n                        onError(error, \"Second argument to onUpdate onError is reserved for later use\");\n                    } else {\n                        void Promise.reject(error);\n                    }\n                    continue;\n                }\n                callback(newValue, \"Second argument to onUpdate callback is reserved for later use\");\n            }\n        }\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.mutation((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(mutation), args);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action.\n   * @returns A promise of the action's result.\n   */ async action(action, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.action((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(action), args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query.\n   * @returns A promise of the query's result.\n   */ async query(query, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        const value = this.client.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        if (value !== void 0) return Promise.resolve(value);\n        return new Promise((resolve, reject)=>{\n            const { unsubscribe } = this.onUpdate(query, args, (value2)=>{\n                unsubscribe();\n                resolve(value2);\n            }, (e)=>{\n                unsubscribe();\n                reject(e);\n            });\n        });\n    }\n} //# sourceMappingURL=simple_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUM3QztBQUd2QztBQUMrQjtBQUNuRCxJQUFJUTtBQUNHLFNBQVNDLCtCQUErQkMsRUFBRTtJQUMvQ0YsOEJBQThCRTtBQUNoQztBQUNPLE1BQU1DO0lBQ1g7Ozs7R0FJQyxHQUNEQyxZQUFZQyxPQUFPLEVBQUVDLFVBQVUsQ0FBQyxDQUFDLENBQUU7UUFDakNWLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQiwyREFBMkQ7UUFDM0RBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSVUsUUFBUUMsNEJBQTRCLEtBQUssTUFBTTtZQUNqRFYsdUVBQXFCQSxDQUFDUTtRQUN4QjtRQUNBLE1BQU0sRUFBRUcsUUFBUSxFQUFFLEdBQUdDLGFBQWEsR0FBR0g7UUFDckMsSUFBSSxDQUFDSSxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNGLFFBQVEsR0FBRyxDQUFDLENBQUNBO1FBQ2xCLElBQUlSLCtCQUErQixDQUFFLDJCQUEwQlMsV0FBVSxLQUFNLE9BQU9FLGNBQWMsYUFBYTtZQUMvR0YsWUFBWUcsb0JBQW9CLEdBQUdaO1FBQ3JDO1FBQ0Es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QU0sSUFBSSxDQUFDRCxNQUFNLENBQUMwQyxRQUFRLENBQUMvRCwrREFBZUEsQ0FBQytELFdBQVd0QztJQUMvRDtJQUNBOzs7Ozs7O0dBT0MsR0FDRCxNQUFNdUMsT0FBT0EsTUFBTSxFQUFFdkMsSUFBSSxFQUFFO1FBQ3pCLElBQUksSUFBSSxDQUFDaEIsUUFBUSxFQUFFLE1BQU0sSUFBSWEsTUFBTTtRQUNuQyxPQUFPLE1BQU0sSUFBSSxDQUFDRCxNQUFNLENBQUMyQyxNQUFNLENBQUNoRSwrREFBZUEsQ0FBQ2dFLFNBQVN2QztJQUMzRDtJQUNBOzs7Ozs7O0dBT0MsR0FDRCxNQUFNRCxNQUFNQSxLQUFLLEVBQUVDLElBQUksRUFBRTtRQUN2QixJQUFJLElBQUksQ0FBQ2hCLFFBQVEsRUFBRSxNQUFNLElBQUlhLE1BQU07UUFDbkMsTUFBTTdCLFFBQVEsSUFBSSxDQUFDNEIsTUFBTSxDQUFDNEMsZ0JBQWdCLENBQUNqRSwrREFBZUEsQ0FBQ3dCLFFBQVFDO1FBQ25FLElBQUloQyxVQUFVLEtBQUssR0FBRyxPQUFPb0UsUUFBUUssT0FBTyxDQUFDekU7UUFDN0MsT0FBTyxJQUFJb0UsUUFBUSxDQUFDSyxTQUFTSjtZQUMzQixNQUFNLEVBQUVoQyxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUNQLFFBQVEsQ0FDbkNDLE9BQ0FDLE1BQ0EsQ0FBQzBDO2dCQUNDckM7Z0JBQ0FvQyxRQUFRQztZQUNWLEdBQ0EsQ0FBQ0M7Z0JBQ0N0QztnQkFDQWdDLE9BQU9NO1lBQ1Q7UUFFSjtJQUNGO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC5qcz8zMjNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIEJhc2VDb252ZXhDbGllbnRcbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5sZXQgZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRXZWJTb2NrZXRDb25zdHJ1Y3Rvcih3cykge1xuICBkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IgPSB3cztcbn1cbmV4cG9ydCBjbGFzcyBDb252ZXhDbGllbnQge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgY2xpZW50IGFuZCBpbW1lZGlhdGVseSBpbml0aWF0ZSBhIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwYXNzZWQgYWRkcmVzcy5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxpc3RlbmVyc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2NsaWVudFwiKTtcbiAgICAvLyBBIHN5bnRoZXRpYyBzZXJ2ZXIgZXZlbnQgdG8gcnVuIGNhbGxiYWNrcyB0aGUgZmlyc3QgdGltZVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2Nsb3NlZFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGlzYWJsZWRcIik7XG4gICAgaWYgKG9wdGlvbnMuc2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjayAhPT0gdHJ1ZSkge1xuICAgICAgdmFsaWRhdGVEZXBsb3ltZW50VXJsKGFkZHJlc3MpO1xuICAgIH1cbiAgICBjb25zdCB7IGRpc2FibGVkLCAuLi5iYXNlT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgICB0aGlzLl9jbG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gISFkaXNhYmxlZDtcbiAgICBpZiAoZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yICYmICEoXCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvclwiIGluIGJhc2VPcHRpb25zKSAmJiB0eXBlb2YgV2ViU29ja2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBiYXNlT3B0aW9ucy53ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IGRlZmF1bHRXZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgJiYgIShcInVuc2F2ZWRDaGFuZ2VzV2FybmluZ1wiIGluIGJhc2VPcHRpb25zKSkge1xuICAgICAgYmFzZU9wdGlvbnMudW5zYXZlZENoYW5nZXNXYXJuaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5fY2xpZW50ID0gbmV3IEJhc2VDb252ZXhDbGllbnQoXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgICh1cGRhdGVkUXVlcmllcykgPT4gdGhpcy5fdHJhbnNpdGlvbih1cGRhdGVkUXVlcmllcyksXG4gICAgICAgIGJhc2VPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgLyoqXG4gICAqIE9uY2UgY2xvc2VkIG5vIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIHdpbGwgZmlyZSBhZ2Fpbi5cbiAgICovXG4gIGdldCBjbG9zZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZDtcbiAgfVxuICBnZXQgY2xpZW50KCkge1xuICAgIGlmICh0aGlzLl9jbGllbnQpIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIGEgY2FsbGJhY2sgd2hlbmV2ZXIgYSBuZXcgcmVzdWx0IGZvciBhIHF1ZXJ5IGlzIHJlY2VpdmVkLiBUaGUgY2FsbGJhY2tcbiAgICogd2lsbCBydW4gc29vbiBhZnRlciBiZWluZyByZWdpc3RlcmVkIGlmIGEgcmVzdWx0IGZvciB0aGUgcXVlcnkgaXMgYWxyZWFkeVxuICAgKiBpbiBtZW1vcnkuXG4gICAqXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgaXMgYW4ge0BsaW5rIFVuc3Vic2NyaWJlfSBvYmplY3Qgd2hpY2ggaXMgYm90aCBhIGZ1bmN0aW9uXG4gICAqIGFuIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMuIEJvdGggb2YgdGhlIHBhdHRlcm5zIGJlbG93IHdvcmsgd2l0aCB0aGlzIG9iamVjdDpcbiAgICpcbiAgICpgYGB0c1xuICAgKiAvLyBjYWxsIHRoZSByZXR1cm4gdmFsdWUgYXMgYSBmdW5jdGlvblxuICAgKiBjb25zdCB1bnN1YnNjcmliZSA9IGNsaWVudC5vblVwZGF0ZShhcGkubWVzc2FnZXMubGlzdCwge30sIChtZXNzYWdlcykgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTtcbiAgICogfSk7XG4gICAqIHVuc3Vic2NyaWJlKCk7XG4gICAqXG4gICAqIC8vIHVucGFjayB0aGUgcmV0dXJuIHZhbHVlIGludG8gaXRzIHByb3BlcnRpZXNcbiAgICogY29uc3Qge1xuICAgKiAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICogICB1bnN1YnNjcmliZSxcbiAgICogfSA9IGNsaWVudC5vblVwZGF0ZShhcGkubWVzc2FnZXMubGlzdCwge30sIChtZXNzYWdlcykgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTtcbiAgICogfSk7XG4gICAqYGBgXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnkgdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gcnVuIHRoZSBxdWVyeSB3aXRoLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCB1cGRhdGVzLlxuICAgKiBAcGFyYW0gb25FcnJvciAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgcXVlcnkgcmVzdWx0IHVwZGF0ZXMgd2l0aCBhbiBlcnJvci5cbiAgICogSWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgd2lsbCBiZSB0aHJvd24gaW5zdGVhZCBvZiBjYWxsaW5nIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybiBhbiB7QGxpbmsgVW5zdWJzY3JpYmV9IGZ1bmN0aW9uIHRvIHN0b3AgY2FsbGluZyB0aGUgb25VcGRhdGUgZnVuY3Rpb24uXG4gICAqL1xuICBvblVwZGF0ZShxdWVyeSwgYXJncywgY2FsbGJhY2ssIG9uRXJyb3IpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgY29uc3QgZGlzYWJsZWRVbnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgIH07XG4gICAgICBjb25zdCB1bnN1YnNjcmliZVByb3BzMiA9IHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGRpc2FibGVkVW5zdWJzY3JpYmUsXG4gICAgICAgIGdldEN1cnJlbnRWYWx1ZTogKCkgPT4gdm9pZCAwLFxuICAgICAgICBnZXRRdWVyeUxvZ3M6ICgpID0+IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIE9iamVjdC5hc3NpZ24oZGlzYWJsZWRVbnN1YnNjcmliZSwgdW5zdWJzY3JpYmVQcm9wczIpO1xuICAgICAgcmV0dXJuIGRpc2FibGVkVW5zdWJzY3JpYmU7XG4gICAgfVxuICAgIGNvbnN0IHsgcXVlcnlUb2tlbiwgdW5zdWJzY3JpYmUgfSA9IHRoaXMuY2xpZW50LnN1YnNjcmliZShcbiAgICAgIGdldEZ1bmN0aW9uTmFtZShxdWVyeSksXG4gICAgICBhcmdzXG4gICAgKTtcbiAgICBjb25zdCBxdWVyeUluZm8gPSB7XG4gICAgICBxdWVyeVRva2VuLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICBvbkVycm9yLFxuICAgICAgdW5zdWJzY3JpYmUsXG4gICAgICBoYXNFdmVyUnVuOiBmYWxzZSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgYXJnc1xuICAgIH07XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKHF1ZXJ5SW5mbyk7XG4gICAgaWYgKHRoaXMucXVlcnlSZXN1bHRSZWFkeShxdWVyeVRva2VuKSAmJiB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID09PSB2b2lkIDApIHtcbiAgICAgIHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlcygpLFxuICAgICAgICAwXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YnNjcmliZVByb3BzID0ge1xuICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShxdWVyeUluZm8pO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgfSxcbiAgICAgIGdldEN1cnJlbnRWYWx1ZTogKCkgPT4gdGhpcy5jbGllbnQubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbiksXG4gICAgICBnZXRRdWVyeUxvZ3M6ICgpID0+IHRoaXMuY2xpZW50LmxvY2FsUXVlcnlMb2dzKHF1ZXJ5VG9rZW4pXG4gICAgfTtcbiAgICBjb25zdCByZXQgPSB1bnN1YnNjcmliZVByb3BzLnVuc3Vic2NyaWJlO1xuICAgIE9iamVjdC5hc3NpZ24ocmV0LCB1bnN1YnNjcmliZVByb3BzKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIC8vIFJ1biBhbGwgY2FsbGJhY2tzIHRoYXQgaGF2ZSBuZXZlciBiZWVuIHJ1biBiZWZvcmUgaWYgdGhleSBoYXZlIGEgcXVlcnlcbiAgLy8gcmVzdWx0IGF2YWlsYWJsZSBub3cuXG4gIGNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlcygpIHtcbiAgICB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID0gdm9pZCAwO1xuICAgIHRoaXMuX3RyYW5zaXRpb24oW10sIHRydWUpO1xuICB9XG4gIHF1ZXJ5UmVzdWx0UmVhZHkocXVlcnlUb2tlbikge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5oYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKTtcbiAgfVxuICBhc3luYyBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHF1ZXJpZXMgYW5kIG11dGF0aW9ucy5cbiAgICogYGZldGNoVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYWdhaW4gaWYgYSB0b2tlbiBleHBpcmVzLlxuICAgKiBgZmV0Y2hUb2tlbmAgc2hvdWxkIHJldHVybiBgbnVsbGAgaWYgdGhlIHRva2VuIGNhbm5vdCBiZSByZXRyaWV2ZWQsIGZvciBleGFtcGxlXG4gICAqIHdoZW4gdGhlIHVzZXIncyByaWdodHMgd2VyZSBwZXJtYW5lbnRseSByZXZva2VkLlxuICAgKiBAcGFyYW0gZmV0Y2hUb2tlbiAtIGFuIGFzeW5jIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgSldULWVuY29kZWQgT3BlbklEIENvbm5lY3QgSWRlbnRpdHkgVG9rZW5cbiAgICogQHBhcmFtIG9uQ2hhbmdlIC0gYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBjaGFuZ2VzXG4gICAqL1xuICBzZXRBdXRoKGZldGNoVG9rZW4sIG9uQ2hhbmdlKSB7XG4gICAgdGhpcy5jbGllbnQuc2V0QXV0aChcbiAgICAgIGZldGNoVG9rZW4sXG4gICAgICBvbkNoYW5nZSA/PyAoKCkgPT4ge1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEFkbWluQXV0aCh0b2tlbiwgaWRlbnRpdHkpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgdGhpcy5jbGllbnQuc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3RyYW5zaXRpb24odXBkYXRlZFF1ZXJpZXMsIGNhbGxOZXdMaXN0ZW5lcnMgPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3QgcXVlcnlJbmZvIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCB7IGNhbGxiYWNrLCBxdWVyeVRva2VuLCBvbkVycm9yLCBoYXNFdmVyUnVuIH0gPSBxdWVyeUluZm87XG4gICAgICBpZiAodXBkYXRlZFF1ZXJpZXMuaW5jbHVkZXMocXVlcnlUb2tlbikgfHwgY2FsbE5ld0xpc3RlbmVycyAmJiAhaGFzRXZlclJ1biAmJiB0aGlzLmNsaWVudC5oYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKSkge1xuICAgICAgICBxdWVyeUluZm8uaGFzRXZlclJ1biA9IHRydWU7XG4gICAgICAgIGxldCBuZXdWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMuY2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcihcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIFwiU2Vjb25kIGFyZ3VtZW50IHRvIG9uVXBkYXRlIG9uRXJyb3IgaXMgcmVzZXJ2ZWQgZm9yIGxhdGVyIHVzZVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2b2lkIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgXCJTZWNvbmQgYXJndW1lbnQgdG8gb25VcGRhdGUgY2FsbGJhY2sgaXMgcmVzZXJ2ZWQgZm9yIGxhdGVyIHVzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgbXV0YXRpb24gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvbiAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgbXV0YXRpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBNdXRhdGlvbk9wdGlvbnN9IG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgbXV0YXRpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbihtdXRhdGlvbiwgYXJncykge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhDbGllbnQgaXMgZGlzYWJsZWRcIik7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50Lm11dGF0aW9uKGdldEZ1bmN0aW9uTmFtZShtdXRhdGlvbiksIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGFuIGFjdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgYWN0aW9uXG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgYWN0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGFjdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGFjdGlvbihhY3Rpb24sIGFyZ3MpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5hY3Rpb24oZ2V0RnVuY3Rpb25OYW1lKGFjdGlvbiksIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHF1ZXJ5IHJlc3VsdCBvbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5XG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBxdWVyeShxdWVyeSwgYXJncykge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhDbGllbnQgaXMgZGlzYWJsZWRcIik7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0KGdldEZ1bmN0aW9uTmFtZShxdWVyeSksIGFyZ3MpO1xuICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdGhpcy5vblVwZGF0ZShcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFyZ3MsXG4gICAgICAgICh2YWx1ZTIpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUyKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxlX2NsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsIkJhc2VDb252ZXhDbGllbnQiLCJnZXRGdW5jdGlvbk5hbWUiLCJkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IiLCJzZXREZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IiLCJ3cyIsIkNvbnZleENsaWVudCIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsIm9wdGlvbnMiLCJza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrIiwiZGlzYWJsZWQiLCJiYXNlT3B0aW9ucyIsIl9jbG9zZWQiLCJXZWJTb2NrZXQiLCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvciIsInVuc2F2ZWRDaGFuZ2VzV2FybmluZyIsIl9jbGllbnQiLCJ1cGRhdGVkUXVlcmllcyIsIl90cmFuc2l0aW9uIiwibGlzdGVuZXJzIiwiU2V0IiwiY2xvc2VkIiwiY2xpZW50IiwiRXJyb3IiLCJvblVwZGF0ZSIsInF1ZXJ5IiwiYXJncyIsImNhbGxiYWNrIiwib25FcnJvciIsImRpc2FibGVkVW5zdWJzY3JpYmUiLCJ1bnN1YnNjcmliZVByb3BzMiIsInVuc3Vic2NyaWJlIiwiZ2V0Q3VycmVudFZhbHVlIiwiZ2V0UXVlcnlMb2dzIiwiYXNzaWduIiwicXVlcnlUb2tlbiIsInN1YnNjcmliZSIsInF1ZXJ5SW5mbyIsImhhc0V2ZXJSdW4iLCJhZGQiLCJxdWVyeVJlc3VsdFJlYWR5IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIiLCJzZXRUaW1lb3V0IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzIiwidW5zdWJzY3JpYmVQcm9wcyIsImRlbGV0ZSIsImxvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwibG9jYWxRdWVyeUxvZ3MiLCJyZXQiLCJoYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbiIsImNsb3NlIiwiY2xlYXIiLCJzZXRBdXRoIiwiZmV0Y2hUb2tlbiIsIm9uQ2hhbmdlIiwic2V0QWRtaW5BdXRoIiwidG9rZW4iLCJpZGVudGl0eSIsImNhbGxOZXdMaXN0ZW5lcnMiLCJpbmNsdWRlcyIsIm5ld1ZhbHVlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwibXV0YXRpb24iLCJhY3Rpb24iLCJsb2NhbFF1ZXJ5UmVzdWx0IiwicmVzb2x2ZSIsInZhbHVlMiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/authentication_manager.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationManager: () => (/* binding */ AuthenticationManager)\n/* harmony export */ });\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jwt-decode */ \"(ssr)/./node_modules/jwt-decode/build/jwt-decode.esm.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst MAXIMUM_REFRESH_DELAY = 20 * 24 * 60 * 60 * 1e3;\nclass AuthenticationManager {\n    constructor(syncState, callbacks, config){\n        __publicField(this, \"authState\", {\n            state: \"noAuth\"\n        });\n        // Used to detect races involving `setConfig` calls\n        // while a token is being fetched.\n        __publicField(this, \"configVersion\", 0);\n        // Shared by the BaseClient so that the auth manager can easily inspect it\n        __publicField(this, \"syncState\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"authenticate\");\n        __publicField(this, \"stopSocket\");\n        __publicField(this, \"restartSocket\");\n        __publicField(this, \"pauseSocket\");\n        __publicField(this, \"resumeSocket\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"clearAuth\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"refreshTokenLeewaySeconds\");\n        this.syncState = syncState;\n        this.authenticate = callbacks.authenticate;\n        this.stopSocket = callbacks.stopSocket;\n        this.restartSocket = callbacks.restartSocket;\n        this.pauseSocket = callbacks.pauseSocket;\n        this.resumeSocket = callbacks.resumeSocket;\n        this.clearAuth = callbacks.clearAuth;\n        this.logger = config.logger;\n        this.refreshTokenLeewaySeconds = config.refreshTokenLeewaySeconds;\n    }\n    async setConfig(fetchToken, onChange) {\n        this.resetAuthState();\n        this._logVerbose(\"pausing WS for auth token fetch\");\n        this.pauseSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(fetchToken, {\n            forceRefreshToken: false\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfCachedToken\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                },\n                hasRetried: false\n            });\n            this.authenticate(token.value);\n            this._logVerbose(\"resuming WS after auth token fetch\");\n            this.resumeSocket();\n        } else {\n            this.setAuthState({\n                state: \"initialRefetch\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                }\n            });\n            await this.refetchToken();\n        }\n    }\n    onTransition(serverMessage) {\n        if (!this.syncState.isCurrentOrNewerAuthVersion(serverMessage.endVersion.identity)) {\n            return;\n        }\n        if (serverMessage.endVersion.identity <= serverMessage.startVersion.identity) {\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfCachedToken\") {\n            this._logVerbose(\"server confirmed auth token is valid\");\n            void this.refetchToken();\n            this.authState.config.onAuthChange(true);\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this._logVerbose(\"server confirmed new auth token is valid\");\n            this.scheduleTokenRefetch(this.authState.token);\n            if (!this.authState.hadAuth) {\n                this.authState.config.onAuthChange(true);\n            }\n        }\n    }\n    onAuthError(serverMessage) {\n        const { baseVersion } = serverMessage;\n        if (baseVersion !== null && baseVersion !== void 0) {\n            if (!this.syncState.isCurrentOrNewerAuthVersion(baseVersion + 1)) {\n                this._logVerbose(\"ignoring auth error for previous auth attempt\");\n                return;\n            }\n            void this.tryToReauthenticate(serverMessage);\n            return;\n        }\n        void this.tryToReauthenticate(serverMessage);\n    }\n    // This is similar to `refetchToken` defined below, in fact we\n    // don't represent them as different states, but it is different\n    // in that we pause the WebSocket so that mutations\n    // don't retry with bad auth.\n    async tryToReauthenticate(serverMessage) {\n        if (// No way to fetch another token, kaboom\n        this.authState.state === \"noAuth\" || // We failed on a fresh token, trying another one won't help\n        this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this.logger.error(`Failed to authenticate: \"${serverMessage.error}\", check your server auth config`);\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            if (this.authState.state !== \"noAuth\") {\n                this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n            }\n            return;\n        }\n        this._logVerbose(\"attempting to reauthenticate\");\n        await this.stopSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value && this.syncState.isNewAuth(token.value)) {\n            this.authenticate(token.value);\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfFreshToken\",\n                config: this.authState.config,\n                token: token.value,\n                hadAuth: this.authState.state === \"notRefetching\" || this.authState.state === \"waitingForScheduledRefetch\"\n            });\n        } else {\n            this._logVerbose(\"reauthentication failed, could not fetch a new token\");\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this.restartSocket();\n    }\n    // Force refetch the token and schedule another refetch\n    // before the token expires - an active client should never\n    // need to reauthenticate.\n    async refetchToken() {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        this._logVerbose(\"refetching auth token\");\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            if (this.syncState.isNewAuth(token.value)) {\n                this.setAuthState({\n                    state: \"waitingForServerConfirmationOfFreshToken\",\n                    hadAuth: this.syncState.hasAuth(),\n                    token: token.value,\n                    config: this.authState.config\n                });\n                this.authenticate(token.value);\n            } else {\n                this.setAuthState({\n                    state: \"notRefetching\",\n                    config: this.authState.config\n                });\n            }\n        } else {\n            this._logVerbose(\"refetching token failed\");\n            if (this.syncState.hasAuth()) {\n                this.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this._logVerbose(\"resuming WS after auth token fetch (if currently paused)\");\n        this.resumeSocket();\n    }\n    scheduleTokenRefetch(token) {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        const decodedToken = this.decodeToken(token);\n        if (!decodedToken) {\n            this.logger.error(\"Auth token is not a valid JWT, cannot refetch the token\");\n            return;\n        }\n        const { iat, exp } = decodedToken;\n        if (!iat || !exp) {\n            this.logger.error(\"Auth token does not have required fields, cannot refetch the token\");\n            return;\n        }\n        const tokenValiditySeconds = exp - iat;\n        if (tokenValiditySeconds <= 2) {\n            this.logger.error(\"Auth token does not live long enough, cannot refetch the token\");\n            return;\n        }\n        let delay = Math.min(MAXIMUM_REFRESH_DELAY, (tokenValiditySeconds - this.refreshTokenLeewaySeconds) * 1e3);\n        if (delay <= 0) {\n            this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${tokenValiditySeconds}s`);\n            delay = 0;\n        }\n        const refetchTokenTimeoutId = setTimeout(()=>{\n            void this.refetchToken();\n        }, delay);\n        this.setAuthState({\n            state: \"waitingForScheduledRefetch\",\n            refetchTokenTimeoutId,\n            config: this.authState.config\n        });\n        this._logVerbose(`scheduled preemptive auth token refetching in ${delay}ms`);\n    }\n    // Protects against simultaneous calls to `setConfig`\n    // while we're fetching a token\n    async fetchTokenAndGuardAgainstRace(fetchToken, fetchArgs) {\n        const originalConfigVersion = ++this.configVersion;\n        const token = await fetchToken(fetchArgs);\n        if (this.configVersion !== originalConfigVersion) {\n            return {\n                isFromOutdatedConfig: true\n            };\n        }\n        return {\n            isFromOutdatedConfig: false,\n            value: token\n        };\n    }\n    stop() {\n        this.resetAuthState();\n        this.configVersion++;\n    }\n    setAndReportAuthFailed(onAuthChange) {\n        onAuthChange(false);\n        this.resetAuthState();\n    }\n    resetAuthState() {\n        this.setAuthState({\n            state: \"noAuth\"\n        });\n    }\n    setAuthState(newAuth) {\n        if (this.authState.state === \"waitingForScheduledRefetch\") {\n            clearTimeout(this.authState.refetchTokenTimeoutId);\n            this.syncState.markAuthCompletion();\n        }\n        this.authState = newAuth;\n    }\n    decodeToken(token) {\n        try {\n            return (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(token);\n        } catch (e) {\n            this._logVerbose(`Error decoding token: ${e instanceof Error ? e.message : \"Unknown error\"}`);\n            return null;\n        }\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(`${message} [v${this.configVersion}]`);\n    }\n} //# sourceMappingURL=authentication_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3JFO0FBQ25DLE1BQU1NLHdCQUF3QixLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzNDLE1BQU1DO0lBQ1hDLFlBQVlDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLENBQUU7UUFDeENQLGNBQWMsSUFBSSxFQUFFLGFBQWE7WUFBRVEsT0FBTztRQUFTO1FBQ25ELG1EQUFtRDtRQUNuRCxrQ0FBa0M7UUFDbENSLGNBQWMsSUFBSSxFQUFFLGlCQUFpQjtRQUNyQywwRUFBMEU7UUFDMUVBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLDJEQUEyRDtRQUMzREEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLDJEQUEyRDtRQUMzREEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNLLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDSSxZQUFZLEdBQUdILFVBQVVHLFlBQVk7UUFDMUMsSUFBSSxDQUFD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UUFDbkM7UUFDQSxJQUFJLENBQUMzQixTQUFTLEdBQUd5QjtJQUNuQjtJQUNBZCxZQUFZekIsS0FBSyxFQUFFO1FBQ2pCLElBQUk7WUFDRixPQUFPckIsc0RBQVNBLENBQUNxQjtRQUNuQixFQUFFLE9BQU8wQyxHQUFHO1lBQ1YsSUFBSSxDQUFDM0MsV0FBVyxDQUNkLENBQUMsc0JBQXNCLEVBQUUyQyxhQUFhQyxRQUFRRCxFQUFFRSxPQUFPLEdBQUcsZ0JBQWdCLENBQUM7WUFFN0UsT0FBTztRQUNUO0lBQ0Y7SUFDQTdDLFlBQVk2QyxPQUFPLEVBQUU7UUFDbkIsSUFBSSxDQUFDbkQsTUFBTSxDQUFDb0QsVUFBVSxDQUFDLENBQUMsRUFBRUQsUUFBUSxHQUFHLEVBQUUsSUFBSSxDQUFDUCxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBQzlEO0FBQ0YsRUFDQSxrREFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzPzUxYjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IGp3dERlY29kZSBmcm9tIFwiand0LWRlY29kZVwiO1xuY29uc3QgTUFYSU1VTV9SRUZSRVNIX0RFTEFZID0gMjAgKiAyNCAqIDYwICogNjAgKiAxZTM7XG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Ioc3luY1N0YXRlLCBjYWxsYmFja3MsIGNvbmZpZykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhdXRoU3RhdGVcIiwgeyBzdGF0ZTogXCJub0F1dGhcIiB9KTtcbiAgICAvLyBVc2VkIHRvIGRldGVjdCByYWNlcyBpbnZvbHZpbmcgYHNldENvbmZpZ2AgY2FsbHNcbiAgICAvLyB3aGlsZSBhIHRva2VuIGlzIGJlaW5nIGZldGNoZWQuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbmZpZ1ZlcnNpb25cIiwgMCk7XG4gICAgLy8gU2hhcmVkIGJ5IHRoZSBCYXNlQ2xpZW50IHNvIHRoYXQgdGhlIGF1dGggbWFuYWdlciBjYW4gZWFzaWx5IGluc3BlY3QgaXRcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3luY1N0YXRlXCIpO1xuICAgIC8vIFBhc3NlZCBkb3duIGJ5IEJhc2VDbGllbnQsIHNlbmRzIGEgbWVzc2FnZSB0byB0aGUgc2VydmVyXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImF1dGhlbnRpY2F0ZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcFNvY2tldFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVzdGFydFNvY2tldFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicGF1c2VTb2NrZXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlc3VtZVNvY2tldFwiKTtcbiAgICAvLyBQYXNzZWQgZG93biBieSBCYXNlQ2xpZW50LCBzZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIHNlcnZlclxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjbGVhckF1dGhcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvZ2dlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVmcmVzaFRva2VuTGVld2F5U2Vjb25kc1wiKTtcbiAgICB0aGlzLnN5bmNTdGF0ZSA9IHN5bmNTdGF0ZTtcbiAgICB0aGlzLmF1dGhlbnRpY2F0ZSA9IGNhbGxiYWNrcy5hdXRoZW50aWNhdGU7XG4gICAgdGhpcy5zdG9wU29ja2V0ID0gY2FsbGJhY2tzLnN0b3BTb2NrZXQ7XG4gICAgdGhpcy5yZXN0YXJ0U29ja2V0ID0gY2FsbGJhY2tzLnJlc3RhcnRTb2NrZXQ7XG4gICAgdGhpcy5wYXVzZVNvY2tldCA9IGNhbGxiYWNrcy5wYXVzZVNvY2tldDtcbiAgICB0aGlzLnJlc3VtZVNvY2tldCA9IGNhbGxiYWNrcy5yZXN1bWVTb2NrZXQ7XG4gICAgdGhpcy5jbGVhckF1dGggPSBjYWxsYmFja3MuY2xlYXJBdXRoO1xuICAgIHRoaXMubG9nZ2VyID0gY29uZmlnLmxvZ2dlcjtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHMgPSBjb25maWcucmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcztcbiAgfVxuICBhc3luYyBzZXRDb25maWcoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpIHtcbiAgICB0aGlzLnJlc2V0QXV0aFN0YXRlKCk7XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcInBhdXNpbmcgV1MgZm9yIGF1dGggdG9rZW4gZmV0Y2hcIik7XG4gICAgdGhpcy5wYXVzZVNvY2tldCgpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShmZXRjaFRva2VuLCB7XG4gICAgICBmb3JjZVJlZnJlc2hUb2tlbjogZmFsc2VcbiAgICB9KTtcbiAgICBpZiAodG9rZW4uaXNGcm9tT3V0ZGF0ZWRDb25maWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRva2VuLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkNhY2hlZFRva2VuXCIsXG4gICAgICAgIGNvbmZpZzogeyBmZXRjaFRva2VuLCBvbkF1dGhDaGFuZ2U6IG9uQ2hhbmdlIH0sXG4gICAgICAgIGhhc1JldHJpZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXV0aGVudGljYXRlKHRva2VuLnZhbHVlKTtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJyZXN1bWluZyBXUyBhZnRlciBhdXRoIHRva2VuIGZldGNoXCIpO1xuICAgICAgdGhpcy5yZXN1bWVTb2NrZXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICBzdGF0ZTogXCJpbml0aWFsUmVmZXRjaFwiLFxuICAgICAgICBjb25maWc6IHsgZmV0Y2hUb2tlbiwgb25BdXRoQ2hhbmdlOiBvbkNoYW5nZSB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHRoaXMucmVmZXRjaFRva2VuKCk7XG4gICAgfVxuICB9XG4gIG9uVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgaWYgKCF0aGlzLnN5bmNTdGF0ZS5pc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24oXG4gICAgICBzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24uaWRlbnRpdHlcbiAgICApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24uaWRlbnRpdHkgPD0gc2VydmVyTWVzc2FnZS5zdGFydFZlcnNpb24uaWRlbnRpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkNhY2hlZFRva2VuXCIpIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJzZXJ2ZXIgY29uZmlybWVkIGF1dGggdG9rZW4gaXMgdmFsaWRcIik7XG4gICAgICB2b2lkIHRoaXMucmVmZXRjaFRva2VuKCk7XG4gICAgICB0aGlzLmF1dGhTdGF0ZS5jb25maWcub25BdXRoQ2hhbmdlKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mRnJlc2hUb2tlblwiKSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwic2VydmVyIGNvbmZpcm1lZCBuZXcgYXV0aCB0b2tlbiBpcyB2YWxpZFwiKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVUb2tlblJlZmV0Y2godGhpcy5hdXRoU3RhdGUudG9rZW4pO1xuICAgICAgaWYgKCF0aGlzLmF1dGhTdGF0ZS5oYWRBdXRoKSB7XG4gICAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5vbkF1dGhDaGFuZ2UodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9uQXV0aEVycm9yKHNlcnZlck1lc3NhZ2UpIHtcbiAgICBjb25zdCB7IGJhc2VWZXJzaW9uIH0gPSBzZXJ2ZXJNZXNzYWdlO1xuICAgIGlmIChiYXNlVmVyc2lvbiAhPT0gbnVsbCAmJiBiYXNlVmVyc2lvbiAhPT0gdm9pZCAwKSB7XG4gICAgICBpZiAoIXRoaXMuc3luY1N0YXRlLmlzQ3VycmVudE9yTmV3ZXJBdXRoVmVyc2lvbihiYXNlVmVyc2lvbiArIDEpKSB7XG4gICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJpZ25vcmluZyBhdXRoIGVycm9yIGZvciBwcmV2aW91cyBhdXRoIGF0dGVtcHRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZvaWQgdGhpcy50cnlUb1JlYXV0aGVudGljYXRlKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2b2lkIHRoaXMudHJ5VG9SZWF1dGhlbnRpY2F0ZShzZXJ2ZXJNZXNzYWdlKTtcbiAgfVxuICAvLyBUaGlzIGlzIHNpbWlsYXIgdG8gYHJlZmV0Y2hUb2tlbmAgZGVmaW5lZCBiZWxvdywgaW4gZmFjdCB3ZVxuICAvLyBkb24ndCByZXByZXNlbnQgdGhlbSBhcyBkaWZmZXJlbnQgc3RhdGVzLCBidXQgaXQgaXMgZGlmZmVyZW50XG4gIC8vIGluIHRoYXQgd2UgcGF1c2UgdGhlIFdlYlNvY2tldCBzbyB0aGF0IG11dGF0aW9uc1xuICAvLyBkb24ndCByZXRyeSB3aXRoIGJhZCBhdXRoLlxuICBhc3luYyB0cnlUb1JlYXV0aGVudGljYXRlKHNlcnZlck1lc3NhZ2UpIHtcbiAgICBpZiAoXG4gICAgICAvLyBObyB3YXkgdG8gZmV0Y2ggYW5vdGhlciB0b2tlbiwga2Fib29tXG4gICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIiB8fCAvLyBXZSBmYWlsZWQgb24gYSBmcmVzaCB0b2tlbiwgdHJ5aW5nIGFub3RoZXIgb25lIHdvbid0IGhlbHBcbiAgICAgIHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIlxuICAgICkge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gYXV0aGVudGljYXRlOiBcIiR7c2VydmVyTWVzc2FnZS5lcnJvcn1cIiwgY2hlY2sgeW91ciBzZXJ2ZXIgYXV0aCBjb25maWdgXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmhhc0F1dGgoKSkge1xuICAgICAgICB0aGlzLnN5bmNTdGF0ZS5jbGVhckF1dGgoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSAhPT0gXCJub0F1dGhcIikge1xuICAgICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJhdHRlbXB0aW5nIHRvIHJlYXV0aGVudGljYXRlXCIpO1xuICAgIGF3YWl0IHRoaXMuc3RvcFNvY2tldCgpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSAmJiB0aGlzLnN5bmNTdGF0ZS5pc05ld0F1dGgodG9rZW4udmFsdWUpKSB7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgY29uZmlnOiB0aGlzLmF1dGhTdGF0ZS5jb25maWcsXG4gICAgICAgIHRva2VuOiB0b2tlbi52YWx1ZSxcbiAgICAgICAgaGFkQXV0aDogdGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwibm90UmVmZXRjaGluZ1wiIHx8IHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVhdXRoZW50aWNhdGlvbiBmYWlsZWQsIGNvdWxkIG5vdCBmZXRjaCBhIG5ldyB0b2tlblwiKTtcbiAgICAgIGlmICh0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCkpIHtcbiAgICAgICAgdGhpcy5zeW5jU3RhdGUuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICAgIHRoaXMucmVzdGFydFNvY2tldCgpO1xuICB9XG4gIC8vIEZvcmNlIHJlZmV0Y2ggdGhlIHRva2VuIGFuZCBzY2hlZHVsZSBhbm90aGVyIHJlZmV0Y2hcbiAgLy8gYmVmb3JlIHRoZSB0b2tlbiBleHBpcmVzIC0gYW4gYWN0aXZlIGNsaWVudCBzaG91bGQgbmV2ZXJcbiAgLy8gbmVlZCB0byByZWF1dGhlbnRpY2F0ZS5cbiAgYXN5bmMgcmVmZXRjaFRva2VuKCkge1xuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyBhdXRoIHRva2VuXCIpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmlzTmV3QXV0aCh0b2tlbi52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgICBoYWRBdXRoOiB0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCksXG4gICAgICAgICAgdG9rZW46IHRva2VuLnZhbHVlLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgICAgc3RhdGU6IFwibm90UmVmZXRjaGluZ1wiLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyB0b2tlbiBmYWlsZWRcIik7XG4gICAgICBpZiAodGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpKSB7XG4gICAgICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBcInJlc3VtaW5nIFdTIGFmdGVyIGF1dGggdG9rZW4gZmV0Y2ggKGlmIGN1cnJlbnRseSBwYXVzZWQpXCJcbiAgICApO1xuICAgIHRoaXMucmVzdW1lU29ja2V0KCk7XG4gIH1cbiAgc2NoZWR1bGVUb2tlblJlZmV0Y2godG9rZW4pIHtcbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwibm9BdXRoXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVjb2RlZFRva2VuID0gdGhpcy5kZWNvZGVUb2tlbih0b2tlbik7XG4gICAgaWYgKCFkZWNvZGVkVG9rZW4pIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gaXMgbm90IGEgdmFsaWQgSldULCBjYW5ub3QgcmVmZXRjaCB0aGUgdG9rZW5cIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBpYXQsIGV4cCB9ID0gZGVjb2RlZFRva2VuO1xuICAgIGlmICghaWF0IHx8ICFleHApIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gZG9lcyBub3QgaGF2ZSByZXF1aXJlZCBmaWVsZHMsIGNhbm5vdCByZWZldGNoIHRoZSB0b2tlblwiXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b2tlblZhbGlkaXR5U2Vjb25kcyA9IGV4cCAtIGlhdDtcbiAgICBpZiAodG9rZW5WYWxpZGl0eVNlY29uZHMgPD0gMikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXG4gICAgICAgIFwiQXV0aCB0b2tlbiBkb2VzIG5vdCBsaXZlIGxvbmcgZW5vdWdoLCBjYW5ub3QgcmVmZXRjaCB0aGUgdG9rZW5cIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGRlbGF5ID0gTWF0aC5taW4oXG4gICAgICBNQVhJTVVNX1JFRlJFU0hfREVMQVksXG4gICAgICAodG9rZW5WYWxpZGl0eVNlY29uZHMgLSB0aGlzLnJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHMpICogMWUzXG4gICAgKTtcbiAgICBpZiAoZGVsYXkgPD0gMCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgYFJlZmV0Y2hpbmcgYXV0aCB0b2tlbiBpbW1lZGlhdGVseSwgY29uZmlndXJlZCBsZWV3YXkgJHt0aGlzLnJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHN9cyBpcyBsYXJnZXIgdGhhbiB0aGUgdG9rZW4ncyBsaWZldGltZSAke3Rva2VuVmFsaWRpdHlTZWNvbmRzfXNgXG4gICAgICApO1xuICAgICAgZGVsYXkgPSAwO1xuICAgIH1cbiAgICBjb25zdCByZWZldGNoVG9rZW5UaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHZvaWQgdGhpcy5yZWZldGNoVG9rZW4oKTtcbiAgICB9LCBkZWxheSk7XG4gICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgc3RhdGU6IFwid2FpdGluZ0ZvclNjaGVkdWxlZFJlZmV0Y2hcIixcbiAgICAgIHJlZmV0Y2hUb2tlblRpbWVvdXRJZCxcbiAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgIGBzY2hlZHVsZWQgcHJlZW1wdGl2ZSBhdXRoIHRva2VuIHJlZmV0Y2hpbmcgaW4gJHtkZWxheX1tc2BcbiAgICApO1xuICB9XG4gIC8vIFByb3RlY3RzIGFnYWluc3Qgc2ltdWx0YW5lb3VzIGNhbGxzIHRvIGBzZXRDb25maWdgXG4gIC8vIHdoaWxlIHdlJ3JlIGZldGNoaW5nIGEgdG9rZW5cbiAgYXN5bmMgZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoZmV0Y2hUb2tlbiwgZmV0Y2hBcmdzKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxDb25maWdWZXJzaW9uID0gKyt0aGlzLmNvbmZpZ1ZlcnNpb247XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBmZXRjaFRva2VuKGZldGNoQXJncyk7XG4gICAgaWYgKHRoaXMuY29uZmlnVmVyc2lvbiAhPT0gb3JpZ2luYWxDb25maWdWZXJzaW9uKSB7XG4gICAgICByZXR1cm4geyBpc0Zyb21PdXRkYXRlZENvbmZpZzogdHJ1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyBpc0Zyb21PdXRkYXRlZENvbmZpZzogZmFsc2UsIHZhbHVlOiB0b2tlbiB9O1xuICB9XG4gIHN0b3AoKSB7XG4gICAgdGhpcy5yZXNldEF1dGhTdGF0ZSgpO1xuICAgIHRoaXMuY29uZmlnVmVyc2lvbisrO1xuICB9XG4gIHNldEFuZFJlcG9ydEF1dGhGYWlsZWQob25BdXRoQ2hhbmdlKSB7XG4gICAgb25BdXRoQ2hhbmdlKGZhbHNlKTtcbiAgICB0aGlzLnJlc2V0QXV0aFN0YXRlKCk7XG4gIH1cbiAgcmVzZXRBdXRoU3RhdGUoKSB7XG4gICAgdGhpcy5zZXRBdXRoU3RhdGUoeyBzdGF0ZTogXCJub0F1dGhcIiB9KTtcbiAgfVxuICBzZXRBdXRoU3RhdGUobmV3QXV0aCkge1xuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2NoZWR1bGVkUmVmZXRjaFwiKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hdXRoU3RhdGUucmVmZXRjaFRva2VuVGltZW91dElkKTtcbiAgICAgIHRoaXMuc3luY1N0YXRlLm1hcmtBdXRoQ29tcGxldGlvbigpO1xuICAgIH1cbiAgICB0aGlzLmF1dGhTdGF0ZSA9IG5ld0F1dGg7XG4gIH1cbiAgZGVjb2RlVG9rZW4odG9rZW4pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgICAgYEVycm9yIGRlY29kaW5nIHRva2VuOiAke2UgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwifWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgX2xvZ1ZlcmJvc2UobWVzc2FnZSkge1xuICAgIHRoaXMubG9nZ2VyLmxvZ1ZlcmJvc2UoYCR7bWVzc2FnZX0gW3Yke3RoaXMuY29uZmlnVmVyc2lvbn1dYCk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGhlbnRpY2F0aW9uX21hbmFnZXIuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJqd3REZWNvZGUiLCJNQVhJTVVNX1JFRlJFU0hfREVMQVkiLCJBdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInN5bmNTdGF0ZSIsImNhbGxiYWNrcyIsImNvbmZpZyIsInN0YXRlIiwiYXV0aGVudGljYXRlIiwic3RvcFNvY2tldCIsInJlc3RhcnRTb2NrZXQiLCJwYXVzZVNvY2tldCIsInJlc3VtZVNvY2tldCIsImNsZWFyQXV0aCIsImxvZ2dlciIsInJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHMiLCJzZXRDb25maWciLCJmZXRjaFRva2VuIiwib25DaGFuZ2UiLCJyZXNldEF1dGhTdGF0ZSIsIl9sb2dWZXJib3NlIiwidG9rZW4iLCJmZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZSIsImZvcmNlUmVmcmVzaFRva2VuIiwiaXNGcm9tT3V0ZGF0ZWRDb25maWciLCJzZXRBdXRoU3RhdGUiLCJvbkF1dGhDaGFuZ2UiLCJoYXNSZXRyaWVkIiwicmVmZXRjaFRva2VuIiwib25UcmFuc2l0aW9uIiwic2VydmVyTWVzc2FnZSIsImlzQ3VycmVudE9yTmV3ZXJBdXRoVmVyc2lvbiIsImVuZFZlcnNpb24iLCJpZGVudGl0eSIsInN0YXJ0VmVyc2lvbiIsImF1dGhTdGF0ZSIsInNjaGVkdWxlVG9rZW5SZWZldGNoIiwiaGFkQXV0aCIsIm9uQXV0aEVycm9yIiwiYmFzZVZlcnNpb24iLCJ0cnlUb1JlYXV0aGVudGljYXRlIiwiZXJyb3IiLCJoYXNBdXRoIiwic2V0QW5kUmVwb3J0QXV0aEZhaWxlZCIsImlzTmV3QXV0aCIsImRlY29kZWRUb2tlbiIsImRlY29kZVRva2VuIiwiaWF0IiwiZXhwIiwidG9rZW5WYWxpZGl0eVNlY29uZHMiLCJkZWxheSIsIk1hdGgiLCJtaW4iLCJ3YXJuIiwicmVmZXRjaFRva2VuVGltZW91dElkIiwic2V0VGltZW91dCIsImZldGNoQXJncyIsIm9yaWdpbmFsQ29uZmlnVmVyc2lvbiIsImNvbmZpZ1ZlcnNpb24iLCJzdG9wIiwibmV3QXV0aCIsImNsZWFyVGltZW91dCIsIm1hcmtBdXRoQ29tcGxldGlvbiIsImUiLCJFcnJvciIsIm1lc3NhZ2UiLCJsb2dWZXJib3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* binding */ BaseConvexClient)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _local_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local_state.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\");\n/* harmony import */ var _request_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\");\n/* harmony import */ var _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./optimistic_updates_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\");\n/* harmony import */ var _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remote_query_set.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web_socket_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./session.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\");\n/* harmony import */ var _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./authentication_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\");\n/* harmony import */ var _metrics_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./metrics.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass BaseConvexClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param onTransition - A callback receiving an array of query tokens\n   * corresponding to query results that have changed -- additional handlers\n   * can be added via `addOnTransitionHandler`.\n   * @param options - See {@link BaseConvexClientOptions} for a full description.\n   */ constructor(address, onTransition, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"state\");\n        __publicField(this, \"requestManager\");\n        __publicField(this, \"webSocketManager\");\n        __publicField(this, \"authenticationManager\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"optimisticQueryResults\");\n        __publicField(this, \"_transitionHandlerCounter\", 0);\n        __publicField(this, \"_nextRequestId\");\n        __publicField(this, \"_onTransitionFns\", /* @__PURE__ */ new Map());\n        __publicField(this, \"_sessionId\");\n        __publicField(this, \"firstMessageReceived\", false);\n        __publicField(this, \"debug\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"maxObservedTimestamp\");\n        // Instance property so that `mark()` doesn't need to be called as a method.\n        __publicField(this, \"mark\", (name)=>{\n            if (this.debug) {\n                (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.mark)(name, this.sessionId);\n            }\n        });\n        if (typeof address === \"object\") {\n            throw new Error(\"Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.\");\n        }\n        if (options?.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.validateDeploymentUrl)(address);\n        }\n        options = {\n            ...options\n        };\n        const authRefreshTokenLeewaySeconds = options.authRefreshTokenLeewaySeconds ?? 2;\n        let webSocketConstructor = options.webSocketConstructor;\n        if (!webSocketConstructor && typeof WebSocket === \"undefined\") {\n            throw new Error(\"No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient\");\n        }\n        webSocketConstructor = webSocketConstructor || WebSocket;\n        this.debug = options.reportDebugInfoToConvex ?? false;\n        this.address = address;\n        this.logger = options.logger ?? (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.instantiateDefaultLogger)({\n            verbose: options.verbose ?? false\n        });\n        const i = address.search(\"://\");\n        if (i === -1) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        const origin = address.substring(i + 3);\n        const protocol = address.substring(0, i);\n        let wsProtocol;\n        if (protocol === \"http\") {\n            wsProtocol = \"ws\";\n        } else if (protocol === \"https\") {\n            wsProtocol = \"wss\";\n        } else {\n            throw new Error(`Unknown parent protocol ${protocol}`);\n        }\n        const wsUri = `${wsProtocol}://${origin}/api/${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}/sync`;\n        this.state = new _local_state_js__WEBPACK_IMPORTED_MODULE_3__.LocalSyncState();\n        this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n        this.requestManager = new _request_manager_js__WEBPACK_IMPORTED_MODULE_4__.RequestManager(this.logger);\n        this.authenticationManager = new _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__.AuthenticationManager(this.state, {\n            authenticate: (token)=>{\n                const message = this.state.setAuth(token);\n                this.webSocketManager.sendMessage(message);\n            },\n            stopSocket: ()=>this.webSocketManager.stop(),\n            restartSocket: ()=>this.webSocketManager.restart(),\n            pauseSocket: ()=>{\n                this.webSocketManager.pause();\n                this.state.pause();\n            },\n            resumeSocket: ()=>this.webSocketManager.resume(),\n            clearAuth: ()=>{\n                this.clearAuth();\n            }\n        }, {\n            logger: this.logger,\n            refreshTokenLeewaySeconds: authRefreshTokenLeewaySeconds\n        });\n        this.optimisticQueryResults = new _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__.OptimisticQueryResults();\n        this.addOnTransitionHandler((transition)=>{\n            onTransition(transition.queries.map((q)=>q.token));\n        });\n        this._nextRequestId = 0;\n        this._sessionId = (0,_session_js__WEBPACK_IMPORTED_MODULE_9__.newSessionId)();\n        const { unsavedChangesWarning } = options;\n        if (true) {\n            if (unsavedChangesWarning === true) {\n                throw new Error(\"unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.\");\n            }\n        } else {}\n        this.webSocketManager = new _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__.WebSocketManager(wsUri, {\n            onOpen: (reconnectMetadata)=>{\n                this.mark(\"convexWebSocketOpen\");\n                this.webSocketManager.sendMessage({\n                    ...reconnectMetadata,\n                    type: \"Connect\",\n                    sessionId: this._sessionId,\n                    maxObservedTimestamp: this.maxObservedTimestamp\n                });\n                const oldRemoteQueryResults = new Set(this.remoteQuerySet.remoteQueryResults().keys());\n                this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n                const [querySetModification, authModification] = this.state.restart(oldRemoteQueryResults);\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                this.webSocketManager.sendMessage(querySetModification);\n                for (const message of this.requestManager.restart()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onResume: ()=>{\n                const [querySetModification, authModification] = this.state.resume();\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                if (querySetModification) {\n                    this.webSocketManager.sendMessage(querySetModification);\n                }\n                for (const message of this.requestManager.resume()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onMessage: (serverMessage)=>{\n                if (!this.firstMessageReceived) {\n                    this.firstMessageReceived = true;\n                    this.mark(\"convexFirstMessageReceived\");\n                    this.reportMarks();\n                }\n                switch(serverMessage.type){\n                    case \"Transition\":\n                        {\n                            this.observedTimestamp(serverMessage.endVersion.ts);\n                            this.authenticationManager.onTransition(serverMessage);\n                            this.remoteQuerySet.transition(serverMessage);\n                            this.state.transition(serverMessage);\n                            const completedRequests = this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());\n                            this.notifyOnQueryResultChanges(completedRequests);\n                            break;\n                        }\n                    case \"MutationResponse\":\n                        {\n                            if (serverMessage.success) {\n                                this.observedTimestamp(serverMessage.ts);\n                            }\n                            const completedMutationInfo = this.requestManager.onResponse(serverMessage);\n                            if (completedMutationInfo !== null) {\n                                this.notifyOnQueryResultChanges(/* @__PURE__ */ new Map([\n                                    [\n                                        completedMutationInfo.requestId,\n                                        completedMutationInfo.result\n                                    ]\n                                ]));\n                            }\n                            break;\n                        }\n                    case \"ActionResponse\":\n                        {\n                            this.requestManager.onResponse(serverMessage);\n                            break;\n                        }\n                    case \"AuthError\":\n                        {\n                            this.authenticationManager.onAuthError(serverMessage);\n                            break;\n                        }\n                    case \"FatalError\":\n                        {\n                            const error = (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logFatalError)(this.logger, serverMessage.error);\n                            void this.webSocketManager.terminate();\n                            throw error;\n                        }\n                    case \"Ping\":\n                        break;\n                    default:\n                        {\n                            const _typeCheck = serverMessage;\n                        }\n                }\n                return {\n                    hasSyncedPastLastReconnect: this.hasSyncedPastLastReconnect()\n                };\n            }\n        }, webSocketConstructor, this.logger);\n        this.mark(\"convexClientConstructed\");\n    }\n    /**\n   * Return true if there is outstanding work from prior to the time of the most recent restart.\n   * This indicates that the client has not proven itself to have gotten past the issue that\n   * potentially led to the restart. Use this to influence when to reset backoff after a failure.\n   */ hasSyncedPastLastReconnect() {\n        const hasSyncedPastLastReconnect = this.requestManager.hasSyncedPastLastReconnect() || this.state.hasSyncedPastLastReconnect();\n        return hasSyncedPastLastReconnect;\n    }\n    observedTimestamp(observedTs) {\n        if (this.maxObservedTimestamp === void 0 || this.maxObservedTimestamp.lessThanOrEqual(observedTs)) {\n            this.maxObservedTimestamp = observedTs;\n        }\n    }\n    getMaxObservedTimestamp() {\n        return this.maxObservedTimestamp;\n    }\n    /**\n   * Compute the current query results based on the remoteQuerySet and the\n   * current optimistic updates and call `onTransition` for all the changed\n   * queries.\n   *\n   * @param completedMutations - A set of mutation IDs whose optimistic updates\n   * are no longer needed.\n   */ notifyOnQueryResultChanges(completedRequests) {\n        const remoteQueryResults = this.remoteQuerySet.remoteQueryResults();\n        const queryTokenToValue = /* @__PURE__ */ new Map();\n        for (const [queryId, result] of remoteQueryResults){\n            const queryToken = this.state.queryToken(queryId);\n            if (queryToken !== null) {\n                const query = {\n                    result,\n                    udfPath: this.state.queryPath(queryId),\n                    args: this.state.queryArgs(queryId)\n                };\n                queryTokenToValue.set(queryToken, query);\n            }\n        }\n        const changedQueryTokens = this.optimisticQueryResults.ingestQueryResultsFromServer(queryTokenToValue, new Set(completedRequests.keys()));\n        this.handleTransition({\n            queries: changedQueryTokens.map((token)=>({\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: queryTokenToValue.get(token).result\n                    }\n                })),\n            reflectedMutations: Array.from(completedRequests).map(([requestId, result])=>({\n                    requestId,\n                    result\n                })),\n            timestamp: this.remoteQuerySet.timestamp()\n        });\n    }\n    handleTransition(transition) {\n        for (const fn of this._onTransitionFns.values()){\n            fn(transition);\n        }\n    }\n    /**\n   * Add a handler that will be called on a transition.\n   *\n   * Any external side effects (e.g. setting React state) should be handled here.\n   *\n   * @param fn\n   *\n   * @returns\n   */ addOnTransitionHandler(fn) {\n        const id = this._transitionHandlerCounter++;\n        this._onTransitionFns.set(id, fn);\n        return ()=>this._onTransitionFns.delete(id);\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        void this.authenticationManager.setConfig(fetchToken, onChange);\n    }\n    hasAuth() {\n        return this.state.hasAuth();\n    }\n    /** @internal */ setAdminAuth(value, fakeUserIdentity) {\n        const message = this.state.setAdminAuth(value, fakeUserIdentity);\n        this.webSocketManager.sendMessage(message);\n    }\n    clearAuth() {\n        const message = this.state.clearAuth();\n        this.webSocketManager.sendMessage(message);\n    }\n    /**\n     * Subscribe to a query function.\n     *\n     * Whenever this query's result changes, the `onTransition` callback\n     * passed into the constructor will be called.\n     *\n     * @param name - The name of the query.\n     * @param args - An arguments object for the query. If this is omitted, the\n     * arguments will be `{}`.\n     * @param options - A {@link SubscribeOptions} options object for this query.\n  \n     * @returns An object containing a {@link QueryToken} corresponding to this\n     * query and an `unsubscribe` callback.\n     */ subscribe(name, args, options) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const { modification, queryToken, unsubscribe } = this.state.subscribe(name, argsObject, options?.journal, options?.componentPath);\n        if (modification !== null) {\n            this.webSocketManager.sendMessage(modification);\n        }\n        return {\n            queryToken,\n            unsubscribe: ()=>{\n                const modification2 = unsubscribe();\n                if (modification2) {\n                    this.webSocketManager.sendMessage(modification2);\n                }\n            }\n        };\n    }\n    /**\n   * A query result based only on the current, local state.\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   */ localQueryResult(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Get query result by query token based on current, local state\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   *\n   * @internal\n   */ localQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Whether local query result is available for a toke.\n   *\n   * This method does not throw if the result is an error.\n   *\n   * @internal\n   */ hasLocalQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.hasQueryResult(queryToken);\n    }\n    /**\n   * @internal\n   */ localQueryLogs(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryLogs(queryToken);\n    }\n    /**\n   * Retrieve the current {@link QueryJournal} for this query function.\n   *\n   * If we have not yet received a result for this query, this will be `undefined`.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for this query.\n   * @returns The query's {@link QueryJournal} or `undefined`.\n   */ queryJournal(name, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(name, argsObject);\n        return this.state.queryJournal(queryToken);\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return {\n            hasInflightRequests: this.requestManager.hasInflightRequests(),\n            isWebSocketConnected: this.webSocketManager.socketState() === \"ready\",\n            timeOfOldestInflightRequest: this.requestManager.timeOfOldestInflightRequest()\n        };\n    }\n    /**\n     * Execute a mutation function.\n     *\n     * @param name - The name of the mutation.\n     * @param args - An arguments object for the mutation. If this is omitted,\n     * the arguments will be `{}`.\n     * @param options - A {@link MutationOptions} options object for this mutation.\n  \n     * @returns - A promise of the mutation's result.\n     */ async mutation(name, args, options) {\n        const result = await this.mutationInternal(name, args, options);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async mutationInternal(udfPath, args, options, componentPath) {\n        const { mutationPromise } = this.enqueueMutation(udfPath, args, options, componentPath);\n        return mutationPromise;\n    }\n    /**\n   * @internal\n   */ enqueueMutation(udfPath, args, options, componentPath) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        this.tryReportLongDisconnect();\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        if (options !== void 0) {\n            const optimisticUpdate = options.optimisticUpdate;\n            if (optimisticUpdate !== void 0) {\n                const wrappedUpdate = (localQueryStore)=>{\n                    optimisticUpdate(localQueryStore, mutationArgs);\n                };\n                const changedQueryTokens = this.optimisticQueryResults.applyOptimisticUpdate(wrappedUpdate, requestId);\n                const changedQueries = changedQueryTokens.map((token)=>{\n                    const localResult = this.localQueryResultByToken(token);\n                    return {\n                        token,\n                        modification: {\n                            kind: \"Updated\",\n                            result: localResult === void 0 ? void 0 : {\n                                success: true,\n                                value: localResult,\n                                logLines: []\n                            }\n                        }\n                    };\n                });\n                this.handleTransition({\n                    queries: changedQueries,\n                    reflectedMutations: [],\n                    timestamp: this.remoteQuerySet.timestamp()\n                });\n            }\n        }\n        const message = {\n            type: \"Mutation\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(mutationArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        const mutationPromise = this.requestManager.request(message, mightBeSent);\n        return {\n            requestId,\n            mutationPromise\n        };\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param name - The name of the action.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(name, args) {\n        const result = await this.actionInternal(name, args);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async actionInternal(udfPath, args, componentPath) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        this.tryReportLongDisconnect();\n        const message = {\n            type: \"Action\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(actionArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        return this.requestManager.request(message, mightBeSent);\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with an {@link BaseConvexClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.authenticationManager.stop();\n        return this.webSocketManager.terminate();\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * @internal\n   */ get nextRequestId() {\n        return this._nextRequestId;\n    }\n    /**\n   * @internal\n   */ get sessionId() {\n        return this._sessionId;\n    }\n    /**\n   * Reports performance marks to the server. This should only be called when\n   * we have a functional websocket.\n   */ reportMarks() {\n        if (this.debug) {\n            const report = (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.getMarksReport)(this.sessionId);\n            this.webSocketManager.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientConnect\",\n                event: report\n            });\n        }\n    }\n    tryReportLongDisconnect() {\n        if (!this.debug) {\n            return;\n        }\n        const timeOfOldestRequest = this.connectionState().timeOfOldestInflightRequest;\n        if (timeOfOldestRequest === null || Date.now() - timeOfOldestRequest.getTime() <= 60 * 1e3) {\n            return;\n        }\n        const endpoint = `${this.address}/api/debug_event`;\n        fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}`\n            },\n            body: JSON.stringify({\n                event: \"LongWebsocketDisconnect\"\n            })\n        }).then((response)=>{\n            if (!response.ok) {\n                this.logger.warn(\"Analytics request failed with response:\", response.body);\n            }\n        }).catch((error)=>{\n            this.logger.warn(\"Analytics response failed with error:\", error);\n        });\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQy9EO0FBQ1k7QUFNOUI7QUFDMkI7QUFDSTtBQUdoQjtBQUNpQjtBQUNJO0FBQ0E7QUFDZjtBQUdQO0FBQ2U7QUFDcUI7QUFDcEI7QUFDOUMsTUFBTXdCO0lBQ1g7Ozs7Ozs7R0FPQyxHQUNEQyxZQUFZQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxDQUFFO1FBQzFDeEIsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLDZCQUE2QjtRQUNqREEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLG9CQUFvQixhQUFhLEdBQUcsSUFBSXlCO1FBQzVEekIsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLHdCQUF3QjtRQUM1Q0EsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtR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QUFDLElBQUksRUFBRW5NLDhDQUFPQSxDQUFDLENBQUM7WUFDbkM7WUFDQW9NLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFBRXRILE9BQU87WUFBMEI7UUFDMUQsR0FBR3VILElBQUksQ0FBQyxDQUFDQztZQUNQLElBQUksQ0FBQ0EsU0FBU0MsRUFBRSxFQUFFO2dCQUNoQixJQUFJLENBQUN2SyxNQUFNLENBQUN3SyxJQUFJLENBQ2QsMkNBQ0FGLFNBQVNKLElBQUk7WUFFakI7UUFDRixHQUFHTyxLQUFLLENBQUMsQ0FBQzdGO1lBQ1IsSUFBSSxDQUFDNUUsTUFBTSxDQUFDd0ssSUFBSSxDQUFDLHlDQUF5QzVGO1FBQzVEO0lBQ0Y7QUFDRixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2NsaWVudC5qcz85ZmMyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSxcbiAgZm9yd2FyZERhdGEsXG4gIGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcixcbiAgbG9nRmF0YWxFcnJvclxufSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHsgTG9jYWxTeW5jU3RhdGUgfSBmcm9tIFwiLi9sb2NhbF9zdGF0ZS5qc1wiO1xuaW1wb3J0IHsgUmVxdWVzdE1hbmFnZXIgfSBmcm9tIFwiLi9yZXF1ZXN0X21hbmFnZXIuanNcIjtcbmltcG9ydCB7XG4gIE9wdGltaXN0aWNRdWVyeVJlc3VsdHNcbn0gZnJvbSBcIi4vb3B0aW1pc3RpY191cGRhdGVzX2ltcGwuanNcIjtcbmltcG9ydCB7IFJlbW90ZVF1ZXJ5U2V0IH0gZnJvbSBcIi4vcmVtb3RlX3F1ZXJ5X3NldC5qc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplUGF0aEFuZEFyZ3MgfSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuaW1wb3J0IHsgV2ViU29ja2V0TWFuYWdlciB9IGZyb20gXCIuL3dlYl9zb2NrZXRfbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgbmV3U2Vzc2lvbklkIH0gZnJvbSBcIi4vc2Vzc2lvbi5qc1wiO1xuaW1wb3J0IHtcbiAgQXV0aGVudGljYXRpb25NYW5hZ2VyXG59IGZyb20gXCIuL2F1dGhlbnRpY2F0aW9uX21hbmFnZXIuanNcIjtcbmltcG9ydCB7IGdldE1hcmtzUmVwb3J0LCBtYXJrIH0gZnJvbSBcIi4vbWV0cmljcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzLCB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDb252ZXhFcnJvciB9IGZyb20gXCIuLi8uLi92YWx1ZXMvZXJyb3JzLmpzXCI7XG5leHBvcnQgY2xhc3MgQmFzZUNvbnZleENsaWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSB1cmwgb2YgeW91ciBDb252ZXggZGVwbG95bWVudCwgb2Z0ZW4gcHJvdmlkZWRcbiAgICogYnkgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuIEUuZy4gYGh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZGAuXG4gICAqIEBwYXJhbSBvblRyYW5zaXRpb24gLSBBIGNhbGxiYWNrIHJlY2VpdmluZyBhbiBhcnJheSBvZiBxdWVyeSB0b2tlbnNcbiAgICogY29ycmVzcG9uZGluZyB0byBxdWVyeSByZXN1bHRzIHRoYXQgaGF2ZSBjaGFuZ2VkIC0tIGFkZGl0aW9uYWwgaGFuZGxlcnNcbiAgICogY2FuIGJlIGFkZGVkIHZpYSBgYWRkT25UcmFuc2l0aW9uSGFuZGxlcmAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gU2VlIHtAbGluayBCYXNlQ29udmV4Q2xpZW50T3B0aW9uc30gZm9yIGEgZnVsbCBkZXNjcmlwdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3MsIG9uVHJhbnNpdGlvbiwgb3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhZGRyZXNzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVxdWVzdE1hbmFnZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIndlYlNvY2tldE1hbmFnZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImF1dGhlbnRpY2F0aW9uTWFuYWdlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVtb3RlUXVlcnlTZXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9wdGltaXN0aWNRdWVyeVJlc3VsdHNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl90cmFuc2l0aW9uSGFuZGxlckNvdW50ZXJcIiwgMCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9uZXh0UmVxdWVzdElkXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfb25UcmFuc2l0aW9uRm5zXCIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfc2Vzc2lvbklkXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmaXJzdE1lc3NhZ2VSZWNlaXZlZFwiLCBmYWxzZSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlYnVnXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsb2dnZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm1heE9ic2VydmVkVGltZXN0YW1wXCIpO1xuICAgIC8vIEluc3RhbmNlIHByb3BlcnR5IHNvIHRoYXQgYG1hcmsoKWAgZG9lc24ndCBuZWVkIHRvIGJlIGNhbGxlZCBhcyBhIG1ldGhvZC5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibWFya1wiLCAobmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgbWFyayhuYW1lLCB0aGlzLnNlc3Npb25JZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiUGFzc2luZyBhIENsaWVudENvbmZpZyBvYmplY3QgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGFzcyB0aGUgVVJMIG9mIHRoZSBDb252ZXggZGVwbG95bWVudCBhcyBhIHN0cmluZyBkaXJlY3RseS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGF1dGhSZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzID0gb3B0aW9ucy5hdXRoUmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcyA/PyAyO1xuICAgIGxldCB3ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IG9wdGlvbnMud2ViU29ja2V0Q29uc3RydWN0b3I7XG4gICAgaWYgKCF3ZWJTb2NrZXRDb25zdHJ1Y3RvciAmJiB0eXBlb2YgV2ViU29ja2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gV2ViU29ja2V0IGdsb2JhbCB2YXJpYWJsZSBkZWZpbmVkISBUbyB1c2UgQ29udmV4IGluIGFuIGVudmlyb25tZW50IHdpdGhvdXQgV2ViU29ja2V0IHRyeSB0aGUgSFRUUCBjbGllbnQ6IGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2FwaS9jbGFzc2VzL2Jyb3dzZXIuQ29udmV4SHR0cENsaWVudFwiXG4gICAgICApO1xuICAgIH1cbiAgICB3ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IHdlYlNvY2tldENvbnN0cnVjdG9yIHx8IFdlYlNvY2tldDtcbiAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5yZXBvcnREZWJ1Z0luZm9Ub0NvbnZleCA/PyBmYWxzZTtcbiAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5sb2dnZXIgPz8gaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyKHsgdmVyYm9zZTogb3B0aW9ucy52ZXJib3NlID8/IGZhbHNlIH0pO1xuICAgIGNvbnN0IGkgPSBhZGRyZXNzLnNlYXJjaChcIjovL1wiKTtcbiAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVkIGFkZHJlc3Mgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwuXCIpO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW4gPSBhZGRyZXNzLnN1YnN0cmluZyhpICsgMyk7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBhZGRyZXNzLnN1YnN0cmluZygwLCBpKTtcbiAgICBsZXQgd3NQcm90b2NvbDtcbiAgICBpZiAocHJvdG9jb2wgPT09IFwiaHR0cFwiKSB7XG4gICAgICB3c1Byb3RvY29sID0gXCJ3c1wiO1xuICAgIH0gZWxzZSBpZiAocHJvdG9jb2wgPT09IFwiaHR0cHNcIikge1xuICAgICAgd3NQcm90b2NvbCA9IFwid3NzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYXJlbnQgcHJvdG9jb2wgJHtwcm90b2NvbH1gKTtcbiAgICB9XG4gICAgY29uc3Qgd3NVcmkgPSBgJHt3c1Byb3RvY29sfTovLyR7b3JpZ2lufS9hcGkvJHt2ZXJzaW9ufS9zeW5jYDtcbiAgICB0aGlzLnN0YXRlID0gbmV3IExvY2FsU3luY1N0YXRlKCk7XG4gICAgdGhpcy5yZW1vdGVRdWVyeVNldCA9IG5ldyBSZW1vdGVRdWVyeVNldChcbiAgICAgIChxdWVyeUlkKSA9PiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKSxcbiAgICAgIHRoaXMubG9nZ2VyXG4gICAgKTtcbiAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gbmV3IFJlcXVlc3RNYW5hZ2VyKHRoaXMubG9nZ2VyKTtcbiAgICB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlciA9IG5ldyBBdXRoZW50aWNhdGlvbk1hbmFnZXIoXG4gICAgICB0aGlzLnN0YXRlLFxuICAgICAge1xuICAgICAgICBhdXRoZW50aWNhdGU6ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLnNldEF1dGgodG9rZW4pO1xuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcFNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnN0b3AoKSxcbiAgICAgICAgcmVzdGFydFNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnJlc3RhcnQoKSxcbiAgICAgICAgcGF1c2VTb2NrZXQ6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIucGF1c2UoKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnBhdXNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZVNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnJlc3VtZSgpLFxuICAgICAgICBjbGVhckF1dGg6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsZWFyQXV0aCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsb2dnZXI6IHRoaXMubG9nZ2VyLFxuICAgICAgICByZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzOiBhdXRoUmVmcmVzaFRva2VuTGVld2F5U2Vjb25kc1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzID0gbmV3IE9wdGltaXN0aWNRdWVyeVJlc3VsdHMoKTtcbiAgICB0aGlzLmFkZE9uVHJhbnNpdGlvbkhhbmRsZXIoKHRyYW5zaXRpb24pID0+IHtcbiAgICAgIG9uVHJhbnNpdGlvbih0cmFuc2l0aW9uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fbmV4dFJlcXVlc3RJZCA9IDA7XG4gICAgdGhpcy5fc2Vzc2lvbklkID0gbmV3U2Vzc2lvbklkKCk7XG4gICAgY29uc3QgeyB1bnNhdmVkQ2hhbmdlc1dhcm5pbmcgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInVuc2F2ZWRDaGFuZ2VzV2FybmluZyByZXF1ZXN0ZWQsIGJ1dCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBub3QgZm91bmQhIFJlbW92ZSB7dW5zYXZlZENoYW5nZXNXYXJuaW5nOiB0cnVlfSBmcm9tIENvbnZleCBjbGllbnQgb3B0aW9ucy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nICE9PSBmYWxzZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdE1hbmFnZXIuaGFzSW5jb21wbGV0ZVJlcXVlc3RzKCkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uTWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyBZb3VyIGNoYW5nZXMgbWF5IG5vdCBiZSBzYXZlZC5cIjtcbiAgICAgICAgICAoZSB8fCB3aW5kb3cuZXZlbnQpLnJldHVyblZhbHVlID0gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlciA9IG5ldyBXZWJTb2NrZXRNYW5hZ2VyKFxuICAgICAgd3NVcmksXG4gICAgICB7XG4gICAgICAgIG9uT3BlbjogKHJlY29ubmVjdE1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXJrKFwiY29udmV4V2ViU29ja2V0T3BlblwiKTtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgLi4ucmVjb25uZWN0TWV0YWRhdGEsXG4gICAgICAgICAgICB0eXBlOiBcIkNvbm5lY3RcIixcbiAgICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5fc2Vzc2lvbklkLFxuICAgICAgICAgICAgbWF4T2JzZXJ2ZWRUaW1lc3RhbXA6IHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBvbGRSZW1vdGVRdWVyeVJlc3VsdHMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5yZW1vdGVRdWVyeVJlc3VsdHMoKS5rZXlzKClcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQgPSBuZXcgUmVtb3RlUXVlcnlTZXQoXG4gICAgICAgICAgICAocXVlcnlJZCkgPT4gdGhpcy5zdGF0ZS5xdWVyeVBhdGgocXVlcnlJZCksXG4gICAgICAgICAgICB0aGlzLmxvZ2dlclxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgW3F1ZXJ5U2V0TW9kaWZpY2F0aW9uLCBhdXRoTW9kaWZpY2F0aW9uXSA9IHRoaXMuc3RhdGUucmVzdGFydChcbiAgICAgICAgICAgIG9sZFJlbW90ZVF1ZXJ5UmVzdWx0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGF1dGhNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShhdXRoTW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKHF1ZXJ5U2V0TW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXN0YXJ0KCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVzdW1lOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgW3F1ZXJ5U2V0TW9kaWZpY2F0aW9uLCBhdXRoTW9kaWZpY2F0aW9uXSA9IHRoaXMuc3RhdGUucmVzdW1lKCk7XG4gICAgICAgICAgaWYgKGF1dGhNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShhdXRoTW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHF1ZXJ5U2V0TW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UocXVlcnlTZXRNb2RpZmljYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXN1bWUoKSkge1xuICAgICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25NZXNzYWdlOiAoc2VydmVyTWVzc2FnZSkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5maXJzdE1lc3NhZ2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJzdE1lc3NhZ2VSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1hcmsoXCJjb252ZXhGaXJzdE1lc3NhZ2VSZWNlaXZlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3J0TWFya3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChzZXJ2ZXJNZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlZFRpbWVzdGFtcChzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24udHMpO1xuICAgICAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlci5vblRyYW5zaXRpb24oc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS50cmFuc2l0aW9uKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRSZXF1ZXN0cyA9IHRoaXMucmVxdWVzdE1hbmFnZXIucmVtb3ZlQ29tcGxldGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudGltZXN0YW1wKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcyhjb21wbGV0ZWRSZXF1ZXN0cyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgICAgICAgICBpZiAoc2VydmVyTWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlZFRpbWVzdGFtcChzZXJ2ZXJNZXNzYWdlLnRzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRNdXRhdGlvbkluZm8gPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uUmVzcG9uc2Uoc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGlmIChjb21wbGV0ZWRNdXRhdGlvbkluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKFxuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkTXV0YXRpb25JbmZvLnJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRNdXRhdGlvbkluZm8ucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJBY3Rpb25SZXNwb25zZVwiOiB7XG4gICAgICAgICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIub25SZXNwb25zZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiQXV0aEVycm9yXCI6IHtcbiAgICAgICAgICAgICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIub25BdXRoRXJyb3Ioc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkZhdGFsRXJyb3JcIjoge1xuICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGxvZ0ZhdGFsRXJyb3IodGhpcy5sb2dnZXIsIHNlcnZlck1lc3NhZ2UuZXJyb3IpO1xuICAgICAgICAgICAgICB2b2lkIHRoaXMud2ViU29ja2V0TWFuYWdlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiUGluZ1wiOlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgX3R5cGVDaGVjayA9IHNlcnZlck1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDogdGhpcy5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHdlYlNvY2tldENvbnN0cnVjdG9yLFxuICAgICAgdGhpcy5sb2dnZXJcbiAgICApO1xuICAgIHRoaXMubWFyayhcImNvbnZleENsaWVudENvbnN0cnVjdGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGVyZSBpcyBvdXRzdGFuZGluZyB3b3JrIGZyb20gcHJpb3IgdG8gdGhlIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50IHJlc3RhcnQuXG4gICAqIFRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IHByb3ZlbiBpdHNlbGYgdG8gaGF2ZSBnb3R0ZW4gcGFzdCB0aGUgaXNzdWUgdGhhdFxuICAgKiBwb3RlbnRpYWxseSBsZWQgdG8gdGhlIHJlc3RhcnQuIFVzZSB0aGlzIHRvIGluZmx1ZW5jZSB3aGVuIHRvIHJlc2V0IGJhY2tvZmYgYWZ0ZXIgYSBmYWlsdXJlLlxuICAgKi9cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKSB7XG4gICAgY29uc3QgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QgPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkgfHwgdGhpcy5zdGF0ZS5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpO1xuICAgIHJldHVybiBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDtcbiAgfVxuICBvYnNlcnZlZFRpbWVzdGFtcChvYnNlcnZlZFRzKSB7XG4gICAgaWYgKHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXAgPT09IHZvaWQgMCB8fCB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wLmxlc3NUaGFuT3JFcXVhbChvYnNlcnZlZFRzKSkge1xuICAgICAgdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcCA9IG9ic2VydmVkVHM7XG4gICAgfVxuICB9XG4gIGdldE1heE9ic2VydmVkVGltZXN0YW1wKCkge1xuICAgIHJldHVybiB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBjdXJyZW50IHF1ZXJ5IHJlc3VsdHMgYmFzZWQgb24gdGhlIHJlbW90ZVF1ZXJ5U2V0IGFuZCB0aGVcbiAgICogY3VycmVudCBvcHRpbWlzdGljIHVwZGF0ZXMgYW5kIGNhbGwgYG9uVHJhbnNpdGlvbmAgZm9yIGFsbCB0aGUgY2hhbmdlZFxuICAgKiBxdWVyaWVzLlxuICAgKlxuICAgKiBAcGFyYW0gY29tcGxldGVkTXV0YXRpb25zIC0gQSBzZXQgb2YgbXV0YXRpb24gSURzIHdob3NlIG9wdGltaXN0aWMgdXBkYXRlc1xuICAgKiBhcmUgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICovXG4gIG5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKGNvbXBsZXRlZFJlcXVlc3RzKSB7XG4gICAgY29uc3QgcmVtb3RlUXVlcnlSZXN1bHRzID0gdGhpcy5yZW1vdGVRdWVyeVNldC5yZW1vdGVRdWVyeVJlc3VsdHMoKTtcbiAgICBjb25zdCBxdWVyeVRva2VuVG9WYWx1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcXVlcnlJZCwgcmVzdWx0XSBvZiByZW1vdGVRdWVyeVJlc3VsdHMpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSB0aGlzLnN0YXRlLnF1ZXJ5VG9rZW4ocXVlcnlJZCk7XG4gICAgICBpZiAocXVlcnlUb2tlbiAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdWRmUGF0aDogdGhpcy5zdGF0ZS5xdWVyeVBhdGgocXVlcnlJZCksXG4gICAgICAgICAgYXJnczogdGhpcy5zdGF0ZS5xdWVyeUFyZ3MocXVlcnlJZClcbiAgICAgICAgfTtcbiAgICAgICAgcXVlcnlUb2tlblRvVmFsdWUuc2V0KHF1ZXJ5VG9rZW4sIHF1ZXJ5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZFF1ZXJ5VG9rZW5zID0gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLmluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIoXG4gICAgICBxdWVyeVRva2VuVG9WYWx1ZSxcbiAgICAgIG5ldyBTZXQoY29tcGxldGVkUmVxdWVzdHMua2V5cygpKVxuICAgICk7XG4gICAgdGhpcy5oYW5kbGVUcmFuc2l0aW9uKHtcbiAgICAgIHF1ZXJpZXM6IGNoYW5nZWRRdWVyeVRva2Vucy5tYXAoKHRva2VuKSA9PiAoe1xuICAgICAgICB0b2tlbixcbiAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAga2luZDogXCJVcGRhdGVkXCIsXG4gICAgICAgICAgcmVzdWx0OiBxdWVyeVRva2VuVG9WYWx1ZS5nZXQodG9rZW4pLnJlc3VsdFxuICAgICAgICB9XG4gICAgICB9KSksXG4gICAgICByZWZsZWN0ZWRNdXRhdGlvbnM6IEFycmF5LmZyb20oY29tcGxldGVkUmVxdWVzdHMpLm1hcChcbiAgICAgICAgKFtyZXF1ZXN0SWQsIHJlc3VsdF0pID0+ICh7XG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIHJlc3VsdFxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHRpbWVzdGFtcDogdGhpcy5yZW1vdGVRdWVyeVNldC50aW1lc3RhbXAoKVxuICAgIH0pO1xuICB9XG4gIGhhbmRsZVRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgIGZvciAoY29uc3QgZm4gb2YgdGhpcy5fb25UcmFuc2l0aW9uRm5zLnZhbHVlcygpKSB7XG4gICAgICBmbih0cmFuc2l0aW9uKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBhIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIEFueSBleHRlcm5hbCBzaWRlIGVmZmVjdHMgKGUuZy4gc2V0dGluZyBSZWFjdCBzdGF0ZSkgc2hvdWxkIGJlIGhhbmRsZWQgaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIGZuXG4gICAqXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhZGRPblRyYW5zaXRpb25IYW5kbGVyKGZuKSB7XG4gICAgY29uc3QgaWQgPSB0aGlzLl90cmFuc2l0aW9uSGFuZGxlckNvdW50ZXIrKztcbiAgICB0aGlzLl9vblRyYW5zaXRpb25GbnMuc2V0KGlkLCBmbik7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX29uVHJhbnNpdGlvbkZucy5kZWxldGUoaWQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlblxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpIHtcbiAgICB2b2lkIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLnNldENvbmZpZyhmZXRjaFRva2VuLCBvbkNoYW5nZSk7XG4gIH1cbiAgaGFzQXV0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5oYXNBdXRoKCk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzZXRBZG1pbkF1dGgodmFsdWUsIGZha2VVc2VySWRlbnRpdHkpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5zZXRBZG1pbkF1dGgodmFsdWUsIGZha2VVc2VySWRlbnRpdHkpO1xuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgfVxuICBjbGVhckF1dGgoKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuc3RhdGUuY2xlYXJBdXRoKCk7XG4gICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG4gIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBhIHF1ZXJ5IGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogV2hlbmV2ZXIgdGhpcyBxdWVyeSdzIHJlc3VsdCBjaGFuZ2VzLCB0aGUgYG9uVHJhbnNpdGlvbmAgY2FsbGJhY2tcbiAgICAgKiBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Igd2lsbCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAgICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS4gSWYgdGhpcyBpcyBvbWl0dGVkLCB0aGVcbiAgICAgKiBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgU3Vic2NyaWJlT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoaXMgcXVlcnkuXG4gIFxuICAgICAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIGEge0BsaW5rIFF1ZXJ5VG9rZW59IGNvcnJlc3BvbmRpbmcgdG8gdGhpc1xuICAgICAqIHF1ZXJ5IGFuZCBhbiBgdW5zdWJzY3JpYmVgIGNhbGxiYWNrLlxuICAgICAqL1xuICBzdWJzY3JpYmUobmFtZSwgYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgeyBtb2RpZmljYXRpb24sIHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLnN0YXRlLnN1YnNjcmliZShcbiAgICAgIG5hbWUsXG4gICAgICBhcmdzT2JqZWN0LFxuICAgICAgb3B0aW9ucz8uam91cm5hbCxcbiAgICAgIG9wdGlvbnM/LmNvbXBvbmVudFBhdGhcbiAgICApO1xuICAgIGlmIChtb2RpZmljYXRpb24gIT09IG51bGwpIHtcbiAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtb2RpZmljYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcXVlcnlUb2tlbixcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbjIgPSB1bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAobW9kaWZpY2F0aW9uMikge1xuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtb2RpZmljYXRpb24yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEEgcXVlcnkgcmVzdWx0IGJhc2VkIG9ubHkgb24gdGhlIGN1cnJlbnQsIGxvY2FsIHN0YXRlLlxuICAgKlxuICAgKiBUaGUgb25seSB3YXkgdGhpcyB3aWxsIHJldHVybiBhIHZhbHVlIGlzIGlmIHdlJ3JlIGFscmVhZHkgc3Vic2NyaWJlZCB0byB0aGVcbiAgICogcXVlcnkgb3IgaXRzIHZhbHVlIGhhcyBiZWVuIHNldCBvcHRpbWlzdGljYWxseS5cbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHQodWRmUGF0aCwgYXJncykge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKHVkZlBhdGgsIGFyZ3NPYmplY3QpO1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMucXVlcnlSZXN1bHQocXVlcnlUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBxdWVyeSByZXN1bHQgYnkgcXVlcnkgdG9rZW4gYmFzZWQgb24gY3VycmVudCwgbG9jYWwgc3RhdGVcbiAgICpcbiAgICogVGhlIG9ubHkgd2F5IHRoaXMgd2lsbCByZXR1cm4gYSB2YWx1ZSBpcyBpZiB3ZSdyZSBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhlXG4gICAqIHF1ZXJ5IG9yIGl0cyB2YWx1ZSBoYXMgYmVlbiBzZXQgb3B0aW1pc3RpY2FsbHkuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbikge1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMucXVlcnlSZXN1bHQocXVlcnlUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgbG9jYWwgcXVlcnkgcmVzdWx0IGlzIGF2YWlsYWJsZSBmb3IgYSB0b2tlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyBpZiB0aGUgcmVzdWx0IGlzIGFuIGVycm9yLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGhhc0xvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLmhhc1F1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlMb2dzKHVkZlBhdGgsIGFyZ3MpIHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzT2JqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnF1ZXJ5TG9ncyhxdWVyeVRva2VuKTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQge0BsaW5rIFF1ZXJ5Sm91cm5hbH0gZm9yIHRoaXMgcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqIElmIHdlIGhhdmUgbm90IHlldCByZWNlaXZlZCBhIHJlc3VsdCBmb3IgdGhpcyBxdWVyeSwgdGhpcyB3aWxsIGJlIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhpcyBxdWVyeS5cbiAgICogQHJldHVybnMgVGhlIHF1ZXJ5J3Mge0BsaW5rIFF1ZXJ5Sm91cm5hbH0gb3IgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBxdWVyeUpvdXJuYWwobmFtZSwgYXJncykge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKG5hbWUsIGFyZ3NPYmplY3QpO1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnF1ZXJ5Sm91cm5hbChxdWVyeVRva2VuKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGJldHdlZW4gdGhlIGNsaWVudCBhbmQgdGhlIENvbnZleFxuICAgKiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gd2l0aCB0aGUgQ29udmV4IGJhY2tlbmQuXG4gICAqL1xuICBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0luZmxpZ2h0UmVxdWVzdHM6IHRoaXMucmVxdWVzdE1hbmFnZXIuaGFzSW5mbGlnaHRSZXF1ZXN0cygpLFxuICAgICAgaXNXZWJTb2NrZXRDb25uZWN0ZWQ6IHRoaXMud2ViU29ja2V0TWFuYWdlci5zb2NrZXRTdGF0ZSgpID09PSBcInJlYWR5XCIsXG4gICAgICB0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3Q6IHRoaXMucmVxdWVzdE1hbmFnZXIudGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0KClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBtdXRhdGlvbiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG11dGF0aW9uLlxuICAgICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBNdXRhdGlvbk9wdGlvbnN9IG9wdGlvbnMgb2JqZWN0IGZvciB0aGlzIG11dGF0aW9uLlxuICBcbiAgICAgKiBAcmV0dXJucyAtIEEgcHJvbWlzZSBvZiB0aGUgbXV0YXRpb24ncyByZXN1bHQuXG4gICAgICovXG4gIGFzeW5jIG11dGF0aW9uKG5hbWUsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm11dGF0aW9uSW50ZXJuYWwobmFtZSwgYXJncywgb3B0aW9ucyk7XG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgaWYgKHJlc3VsdC5lcnJvckRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBmb3J3YXJkRGF0YShcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgbmV3IENvbnZleEVycm9yKFxuICAgICAgICAgICAgY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwibXV0YXRpb25cIiwgbmFtZSwgcmVzdWx0KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJtdXRhdGlvblwiLCBuYW1lLCByZXN1bHQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbkludGVybmFsKHVkZlBhdGgsIGFyZ3MsIG9wdGlvbnMsIGNvbXBvbmVudFBhdGgpIHtcbiAgICBjb25zdCB7IG11dGF0aW9uUHJvbWlzZSB9ID0gdGhpcy5lbnF1ZXVlTXV0YXRpb24oXG4gICAgICB1ZGZQYXRoLFxuICAgICAgYXJncyxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjb21wb25lbnRQYXRoXG4gICAgKTtcbiAgICByZXR1cm4gbXV0YXRpb25Qcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVNdXRhdGlvbih1ZGZQYXRoLCBhcmdzLCBvcHRpb25zLCBjb21wb25lbnRQYXRoKSB7XG4gICAgY29uc3QgbXV0YXRpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIHRoaXMudHJ5UmVwb3J0TG9uZ0Rpc2Nvbm5lY3QoKTtcbiAgICBjb25zdCByZXF1ZXN0SWQgPSB0aGlzLm5leHRSZXF1ZXN0SWQ7XG4gICAgdGhpcy5fbmV4dFJlcXVlc3RJZCsrO1xuICAgIGlmIChvcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IG9wdGltaXN0aWNVcGRhdGUgPSBvcHRpb25zLm9wdGltaXN0aWNVcGRhdGU7XG4gICAgICBpZiAob3B0aW1pc3RpY1VwZGF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRVcGRhdGUgPSAobG9jYWxRdWVyeVN0b3JlKSA9PiB7XG4gICAgICAgICAgb3B0aW1pc3RpY1VwZGF0ZShsb2NhbFF1ZXJ5U3RvcmUsIG11dGF0aW9uQXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5nZWRRdWVyeVRva2VucyA9IHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5hcHBseU9wdGltaXN0aWNVcGRhdGUoXG4gICAgICAgICAgd3JhcHBlZFVwZGF0ZSxcbiAgICAgICAgICByZXF1ZXN0SWRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFF1ZXJpZXMgPSBjaGFuZ2VkUXVlcnlUb2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvY2FsUmVzdWx0ID0gdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGtpbmQ6IFwiVXBkYXRlZFwiLFxuICAgICAgICAgICAgICByZXN1bHQ6IGxvY2FsUmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbG9jYWxSZXN1bHQsXG4gICAgICAgICAgICAgICAgbG9nTGluZXM6IFtdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVUcmFuc2l0aW9uKHtcbiAgICAgICAgICBxdWVyaWVzOiBjaGFuZ2VkUXVlcmllcyxcbiAgICAgICAgICByZWZsZWN0ZWRNdXRhdGlvbnM6IFtdLFxuICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5yZW1vdGVRdWVyeVNldC50aW1lc3RhbXAoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6IFwiTXV0YXRpb25cIixcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHVkZlBhdGgsXG4gICAgICBjb21wb25lbnRQYXRoLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXVxuICAgIH07XG4gICAgY29uc3QgbWlnaHRCZVNlbnQgPSB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgY29uc3QgbXV0YXRpb25Qcm9taXNlID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXF1ZXN0KG1lc3NhZ2UsIG1pZ2h0QmVTZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdElkLFxuICAgICAgbXV0YXRpb25Qcm9taXNlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhbiBhY3Rpb24gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgYWN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGFjdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGFjdGlvbihuYW1lLCBhcmdzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5hY3Rpb25JbnRlcm5hbChuYW1lLCBhcmdzKTtcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBpZiAocmVzdWx0LmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IGZvcndhcmREYXRhKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBuZXcgQ29udmV4RXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwiYWN0aW9uXCIsIG5hbWUsIHJlc3VsdCkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwiYWN0aW9uXCIsIG5hbWUsIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGFjdGlvbkludGVybmFsKHVkZlBhdGgsIGFyZ3MsIGNvbXBvbmVudFBhdGgpIHtcbiAgICBjb25zdCBhY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMubmV4dFJlcXVlc3RJZDtcbiAgICB0aGlzLl9uZXh0UmVxdWVzdElkKys7XG4gICAgdGhpcy50cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiBcIkFjdGlvblwiLFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgdWRmUGF0aCxcbiAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICBhcmdzOiBbY29udmV4VG9Kc29uKGFjdGlvbkFyZ3MpXVxuICAgIH07XG4gICAgY29uc3QgbWlnaHRCZVNlbnQgPSB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdE1hbmFnZXIucmVxdWVzdChtZXNzYWdlLCBtaWdodEJlU2VudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIGFueSBuZXR3b3JrIGhhbmRsZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50IGFuZCBzdG9wIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHdoZW4geW91J3JlIGRvbmUgd2l0aCBhbiB7QGxpbmsgQmFzZUNvbnZleENsaWVudH0gdG9cbiAgICogZGlzcG9zZSBvZiBpdHMgc29ja2V0cyBhbmQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCBmdWxmaWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWx5IGNsb3NlZC5cbiAgICovXG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLnN0b3AoKTtcbiAgICByZXR1cm4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnRlcm1pbmF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFkZHJlc3MgZm9yIHRoaXMgY2xpZW50LCB1c2VmdWwgZm9yIGNyZWF0aW5nIGEgbmV3IGNsaWVudC5cbiAgICpcbiAgICogTm90IGd1YXJhbnRlZWQgdG8gbWF0Y2ggdGhlIGFkZHJlc3Mgd2l0aCB3aGljaCB0aGlzIGNsaWVudCB3YXMgY29uc3RydWN0ZWQ6XG4gICAqIGl0IG1heSBiZSBjYW5vbmljYWxpemVkLlxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBuZXh0UmVxdWVzdElkKCkge1xuICAgIHJldHVybiB0aGlzLl9uZXh0UmVxdWVzdElkO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBzZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb25JZDtcbiAgfVxuICAvKipcbiAgICogUmVwb3J0cyBwZXJmb3JtYW5jZSBtYXJrcyB0byB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gICAqIHdlIGhhdmUgYSBmdW5jdGlvbmFsIHdlYnNvY2tldC5cbiAgICovXG4gIHJlcG9ydE1hcmtzKCkge1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBnZXRNYXJrc1JlcG9ydCh0aGlzLnNlc3Npb25JZCk7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcIkV2ZW50XCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJDbGllbnRDb25uZWN0XCIsXG4gICAgICAgIGV2ZW50OiByZXBvcnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB0cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpIHtcbiAgICBpZiAoIXRoaXMuZGVidWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGltZU9mT2xkZXN0UmVxdWVzdCA9IHRoaXMuY29ubmVjdGlvblN0YXRlKCkudGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0O1xuICAgIGlmICh0aW1lT2ZPbGRlc3RSZXF1ZXN0ID09PSBudWxsIHx8IERhdGUubm93KCkgLSB0aW1lT2ZPbGRlc3RSZXF1ZXN0LmdldFRpbWUoKSA8PSA2MCAqIDFlMykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYWRkcmVzc30vYXBpL2RlYnVnX2V2ZW50YDtcbiAgICBmZXRjaChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudDogXCJMb25nV2Vic29ja2V0RGlzY29ubmVjdFwiIH0pXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgICBcIkFuYWx5dGljcyByZXF1ZXN0IGZhaWxlZCB3aXRoIHJlc3BvbnNlOlwiLFxuICAgICAgICAgIHJlc3BvbnNlLmJvZHlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBbmFseXRpY3MgcmVzcG9uc2UgZmFpbGVkIHdpdGggZXJyb3I6XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwidmVyc2lvbiIsImNvbnZleFRvSnNvbiIsImNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSIsImZvcndhcmREYXRhIiwiaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyIiwibG9nRmF0YWxFcnJvciIsIkxvY2FsU3luY1N0YXRlIiwiUmVxdWVzdE1hbmFnZXIiLCJPcHRpbWlzdGljUXVlcnlSZXN1bHRzIiwiUmVtb3RlUXVlcnlTZXQiLCJzZXJpYWxpemVQYXRoQW5kQXJncyIsIldlYlNvY2tldE1hbmFnZXIiLCJuZXdTZXNzaW9uSWQiLCJBdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJnZXRNYXJrc1JlcG9ydCIsIm1hcmsiLCJwYXJzZUFyZ3MiLCJ2YWxpZGF0ZURlcGxveW1lbnRVcmwiLCJDb252ZXhFcnJvciIsIkJhc2VDb252ZXhDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJvblRyYW5zaXRpb24iLCJvcHRpb25zIiwiTWFwIiwibmFtZSIsImRlYnVnIiwic2Vzc2lvbklkIiwiRXJyb3IiLCJza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrIiwiYXV0aFJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHMiLCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvciIsIldlYlNvY2tldCIsInJlcG9ydERlYnVnSW5mb1RvQ29udmV4IiwibG9nZ2VyIiwidmVyYm9zZSIsImkiLCJzZWFyY2giLCJvcmlnaW4iLCJzdWJzdHJpbmciLCJwcm90b2NvbCIsIndzUHJvdG9jb2wiLCJ3c1VyaSIsInN0YXRlIiwicmVtb3RlUXVlcnlTZXQiLCJxdWVyeUlkIiwicXVlcnlQYXRoIiwicmVxdWVzdE1hbmFnZXIiLCJhdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJhdXRoZW50aWNhdGUiLCJ0b2tlbiIsIm1lc3NhZ2UiLCJzZXRBdXRoIiwid2ViU29ja2V0TWFuYWdlciIsInNlbmRNZXNzYWdlIiwic3RvcFNvY2tldCIsInN0b3AiLCJyZXN0YXJ0U29ja2V0IiwicmVzdGFydCIsInBhdXNlU29ja2V0IiwicGF1c2UiLCJyZXN1bWVTb2NrZXQiLCJyZXN1bWUiLCJjbGVhckF1dGgiLCJyZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzIiwib3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyIsImFkZE9uVHJhbnNpdGlvbkhhbmRsZXIiLCJ0cmFuc2l0aW9uIiwicXVlcmllcyIsIm1hcCIsInEiLCJfbmV4dFJlcXVlc3RJZCIsIl9zZXNzaW9uSWQiLCJ1bnNhdmVkQ2hhbmdlc1dhcm5pbmciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImhhc0luY29tcGxldGVSZXF1ZXN0cyIsInByZXZlbnREZWZhdWx0IiwiY29uZmlybWF0aW9uTWVzc2FnZSIsImV2ZW50IiwicmV0dXJuVmFsdWUiLCJvbk9wZW4iLCJyZWNvbm5lY3RNZXRhZGF0YSIsInR5cGUiLCJtYXhPYnNlcnZlZFRpbWVzdGFtcCIsIm9sZFJlbW90ZVF1ZXJ5UmVzdWx0cyIsIlNldCIsInJlbW90ZVF1ZXJ5UmVzdWx0cyIsImtleXMiLCJxdWVyeVNldE1vZGlmaWNhdGlvbiIsImF1dGhNb2RpZmljYXRpb24iLCJvblJlc3VtZSIsIm9uTWVzc2FnZSIsInNlcnZlck1lc3NhZ2UiLCJmaXJzdE1lc3NhZ2VSZWNlaXZlZCIsInJlcG9ydE1hcmtzIiwib2JzZXJ2ZWRUaW1lc3RhbXAiLCJlbmRWZXJzaW9uIiwidHMiLCJjb21wbGV0ZWRSZXF1ZXN0cyIsInJlbW92ZUNvbXBsZXRlZCIsInRpbWVzdGFtcCIsIm5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzIiwic3VjY2VzcyIsImNvbXBsZXRlZE11dGF0aW9uSW5mbyIsIm9uUmVzcG9uc2UiLCJyZXF1ZXN0SWQiLCJyZXN1bHQiLCJvbkF1dGhFcnJvciIsImVycm9yIiwidGVybWluYXRlIiwiX3R5cGVDaGVjayIsImhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0Iiwib2JzZXJ2ZWRUcyIsImxlc3NUaGFuT3JFcXVhbCIsImdldE1heE9ic2VydmVkVGltZXN0YW1wIiwicXVlcnlUb2tlblRvVmFsdWUiLCJxdWVyeVRva2VuIiwicXVlcnkiLCJ1ZGZQYXRoIiwiYXJncyIsInF1ZXJ5QXJncyIsInNldCIsImNoYW5nZWRRdWVyeVRva2VucyIsImluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIiLCJoYW5kbGVUcmFuc2l0aW9uIiwibW9kaWZpY2F0aW9uIiwia2luZCIsImdldCIsInJlZmxlY3RlZE11dGF0aW9ucyIsIkFycmF5IiwiZnJvbSIsImZuIiwiX29uVHJhbnNpdGlvbkZucyIsInZhbHVlcyIsImlkIiwiX3RyYW5zaXRpb25IYW5kbGVyQ291bnRlciIsImRlbGV0ZSIsImZldGNoVG9rZW4iLCJvbkNoYW5nZSIsInNldENvbmZpZyIsImhhc0F1dGgiLCJzZXRBZG1pbkF1dGgiLCJmYWtlVXNlcklkZW50aXR5Iiwic3Vic2NyaWJlIiwiYXJnc09iamVjdCIsInVuc3Vic2NyaWJlIiwiam91cm5hbCIsImNvbXBvbmVudFBhdGgiLCJtb2RpZmljYXRpb24yIiwibG9jYWxRdWVyeVJlc3VsdCIsInF1ZXJ5UmVzdWx0IiwibG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4iLCJoYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbiIsImhhc1F1ZXJ5UmVzdWx0IiwibG9jYWxRdWVyeUxvZ3MiLCJxdWVyeUxvZ3MiLCJxdWVyeUpvdXJuYWwiLCJjb25uZWN0aW9uU3RhdGUiLCJoYXNJbmZsaWdodFJlcXVlc3RzIiwiaXNXZWJTb2NrZXRDb25uZWN0ZWQiLCJzb2NrZXRTdGF0ZSIsInRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdCIsIm11dGF0aW9uIiwibXV0YXRpb25JbnRlcm5hbCIsImVycm9yRGF0YSIsIm11dGF0aW9uUHJvbWlzZSIsImVucXVldWVNdXRhdGlvbiIsIm11dGF0aW9uQXJncyIsInRyeVJlcG9ydExvbmdEaXNjb25uZWN0IiwibmV4dFJlcXVlc3RJZCIsIm9wdGltaXN0aWNVcGRhdGUiLCJ3cmFwcGVkVXBkYXRlIiwibG9jYWxRdWVyeVN0b3JlIiwiYXBwbHlPcHRpbWlzdGljVXBkYXRlIiwiY2hhbmdlZFF1ZXJpZXMiLCJsb2NhbFJlc3VsdCIsImxvZ0xpbmVzIiwibWlnaHRCZVNlbnQiLCJyZXF1ZXN0IiwiYWN0aW9uIiwiYWN0aW9uSW50ZXJuYWwiLCJhY3Rpb25BcmdzIiwiY2xvc2UiLCJ1cmwiLCJyZXBvcnQiLCJldmVudFR5cGUiLCJ0aW1lT2ZPbGRlc3RSZXF1ZXN0IiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJlbmRwb2ludCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJ3YXJuIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/local_state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSyncState: () => (/* binding */ LocalSyncState)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass LocalSyncState {\n    constructor(){\n        __publicField(this, \"nextQueryId\");\n        __publicField(this, \"querySetVersion\");\n        __publicField(this, \"querySet\");\n        __publicField(this, \"queryIdToToken\");\n        __publicField(this, \"identityVersion\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"outstandingQueriesOlderThanRestart\");\n        __publicField(this, \"outstandingAuthOlderThanRestart\");\n        __publicField(this, \"paused\");\n        __publicField(this, \"pendingQuerySetModifications\");\n        this.nextQueryId = 0;\n        this.querySetVersion = 0;\n        this.identityVersion = 0;\n        this.querySet = /* @__PURE__ */ new Map();\n        this.queryIdToToken = /* @__PURE__ */ new Map();\n        this.outstandingQueriesOlderThanRestart = /* @__PURE__ */ new Set();\n        this.outstandingAuthOlderThanRestart = false;\n        this.paused = false;\n        this.pendingQuerySetModifications = /* @__PURE__ */ new Map();\n    }\n    hasSyncedPastLastReconnect() {\n        return this.outstandingQueriesOlderThanRestart.size === 0 && !this.outstandingAuthOlderThanRestart;\n    }\n    markAuthCompletion() {\n        this.outstandingAuthOlderThanRestart = false;\n    }\n    subscribe(udfPath, args, journal, componentPath) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            existingEntry.numSubscribers += 1;\n            return {\n                queryToken,\n                modification: null,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        } else {\n            const queryId = this.nextQueryId++;\n            const query = {\n                id: queryId,\n                canonicalizedUdfPath,\n                args,\n                numSubscribers: 1,\n                journal,\n                componentPath\n            };\n            this.querySet.set(queryToken, query);\n            this.queryIdToToken.set(queryId, queryToken);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const add = {\n                type: \"Add\",\n                queryId,\n                udfPath: canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n                ],\n                journal,\n                componentPath\n            };\n            if (this.paused) {\n                this.pendingQuerySetModifications.set(queryId, add);\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            const modification = {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    add\n                ]\n            };\n            return {\n                queryToken,\n                modification,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        }\n    }\n    transition(transition) {\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                case \"QueryFailed\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        const journal = modification.journal;\n                        if (journal !== void 0) {\n                            const queryToken = this.queryIdToToken.get(modification.queryId);\n                            if (queryToken !== void 0) {\n                                this.querySet.get(queryToken).journal = journal;\n                            }\n                        }\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        const _ = modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n    }\n    queryId(udfPath, args) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            return existingEntry.id;\n        }\n        return null;\n    }\n    isCurrentOrNewerAuthVersion(version) {\n        return version >= this.identityVersion;\n    }\n    setAuth(value) {\n        this.auth = {\n            tokenType: \"User\",\n            value\n        };\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...this.auth\n        };\n    }\n    setAdminAuth(value, actingAs) {\n        const auth = {\n            tokenType: \"Admin\",\n            value,\n            impersonating: actingAs\n        };\n        this.auth = auth;\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...auth\n        };\n    }\n    clearAuth() {\n        this.auth = void 0;\n        this.markAuthCompletion();\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            tokenType: \"None\",\n            baseVersion\n        };\n    }\n    hasAuth() {\n        return !!this.auth;\n    }\n    isNewAuth(value) {\n        return this.auth?.value !== value;\n    }\n    queryPath(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).canonicalizedUdfPath;\n        }\n        return null;\n    }\n    queryArgs(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).args;\n        }\n        return null;\n    }\n    queryToken(queryId) {\n        return this.queryIdToToken.get(queryId) ?? null;\n    }\n    queryJournal(queryToken) {\n        return this.querySet.get(queryToken)?.journal;\n    }\n    restart(oldRemoteQueryResults) {\n        this.unpause();\n        this.outstandingQueriesOlderThanRestart.clear();\n        const modifications = [];\n        for (const localQuery of this.querySet.values()){\n            const add = {\n                type: \"Add\",\n                queryId: localQuery.id,\n                udfPath: localQuery.canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(localQuery.args)\n                ],\n                journal: localQuery.journal,\n                componentPath: localQuery.componentPath\n            };\n            modifications.push(add);\n            if (!oldRemoteQueryResults.has(localQuery.id)) {\n                this.outstandingQueriesOlderThanRestart.add(localQuery.id);\n            }\n        }\n        this.querySetVersion = 1;\n        const querySet = {\n            type: \"ModifyQuerySet\",\n            baseVersion: 0,\n            newVersion: 1,\n            modifications\n        };\n        if (!this.auth) {\n            this.identityVersion = 0;\n            return [\n                querySet,\n                void 0\n            ];\n        }\n        this.outstandingAuthOlderThanRestart = true;\n        const authenticate = {\n            type: \"Authenticate\",\n            baseVersion: 0,\n            ...this.auth\n        };\n        this.identityVersion = 1;\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    pause() {\n        this.paused = true;\n    }\n    resume() {\n        const querySet = this.pendingQuerySetModifications.size > 0 ? {\n            type: \"ModifyQuerySet\",\n            baseVersion: this.querySetVersion,\n            newVersion: ++this.querySetVersion,\n            modifications: Array.from(this.pendingQuerySetModifications.values())\n        } : void 0;\n        const authenticate = this.auth !== void 0 ? {\n            type: \"Authenticate\",\n            baseVersion: this.identityVersion++,\n            ...this.auth\n        } : void 0;\n        this.unpause();\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    unpause() {\n        this.paused = false;\n        this.pendingQuerySetModifications.clear();\n    }\n    removeSubscriber(queryToken) {\n        const localQuery = this.querySet.get(queryToken);\n        if (localQuery.numSubscribers > 1) {\n            localQuery.numSubscribers -= 1;\n            return null;\n        } else {\n            this.querySet.delete(queryToken);\n            this.queryIdToToken.delete(localQuery.id);\n            this.outstandingQueriesOlderThanRestart.delete(localQuery.id);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const remove = {\n                type: \"Remove\",\n                queryId: localQuery.id\n            };\n            if (this.paused) {\n                if (this.pendingQuerySetModifications.has(localQuery.id)) {\n                    this.pendingQuerySetModifications.delete(localQuery.id);\n                } else {\n                    this.pendingQuerySetModifications.set(localQuery.id, remove);\n                }\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            return {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    remove\n                ]\n            };\n        }\n    }\n} //# sourceMappingURL=local_state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9sb2NhbF9zdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFJeEI7QUFDdEIsTUFBTVE7SUFDWEMsYUFBYztRQUNaTCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNNLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLGVBQWUsR0FBRztRQUN2QixJQUFJLENBQUNDLGVBQWUsR0FBRztRQUN2QixJQUFJLENBQUNDLFFBQVEsR0FBRyxhQUFhLEdBQUcsSUFBSUM7UUFDcEMsSUFBSSxDQUFDQyxjQUFjLEdBQUcsYUFBYSxHQUFHLElBQUlEO1FBQzFDLElBQUksQ0FBQ0Usa0NBQWtDLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQzlELElBQUksQ0FBQ0MsK0JBQStCLEdBQUc7UUFDdkMsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJ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QixFQUFFLEdBQUc7b0JBQ3hELElBQUksQ0FBQ25CLDRCQUE0QixDQUFDMkIsTUFBTSxDQUFDc0IsV0FBVzlCLEVBQUU7Z0JBQ3hELE9BQU87b0JBQ0wsSUFBSSxDQUFDbkIsNEJBQTRCLENBQUNvQixHQUFHLENBQUM2QixXQUFXOUIsRUFBRSxFQUFFdUM7Z0JBQ3ZEO1lBQ0YsT0FBTztnQkFDTCxJQUFJLENBQUNuRSxlQUFlLEdBQUcrQjtZQUN6QjtZQUNBLE9BQU87Z0JBQ0xFLE1BQU07Z0JBQ05IO2dCQUNBQztnQkFDQUcsZUFBZTtvQkFBQ2lDO2lCQUFPO1lBQ3pCO1FBQ0Y7SUFDRjtBQUNGLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvbG9jYWxfc3RhdGUuanM/NGJhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBjYW5vbmljYWxpemVVZGZQYXRoLFxuICBzZXJpYWxpemVQYXRoQW5kQXJnc1xufSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuZXhwb3J0IGNsYXNzIExvY2FsU3luY1N0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm5leHRRdWVyeUlkXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJxdWVyeVNldFZlcnNpb25cIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInF1ZXJ5U2V0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJxdWVyeUlkVG9Ub2tlblwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaWRlbnRpdHlWZXJzaW9uXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhdXRoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwYXVzZWRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnNcIik7XG4gICAgdGhpcy5uZXh0UXVlcnlJZCA9IDA7XG4gICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSAwO1xuICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMDtcbiAgICB0aGlzLnF1ZXJ5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnF1ZXJ5SWRUb1Rva2VuID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IGZhbHNlO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LnNpemUgPT09IDAgJiYgIXRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydDtcbiAgfVxuICBtYXJrQXV0aENvbXBsZXRpb24oKSB7XG4gICAgdGhpcy5vdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0ID0gZmFsc2U7XG4gIH1cbiAgc3Vic2NyaWJlKHVkZlBhdGgsIGFyZ3MsIGpvdXJuYWwsIGNvbXBvbmVudFBhdGgpIHtcbiAgICBjb25zdCBjYW5vbmljYWxpemVkVWRmUGF0aCA9IGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKGNhbm9uaWNhbGl6ZWRVZGZQYXRoLCBhcmdzKTtcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKGV4aXN0aW5nRW50cnkgIT09IHZvaWQgMCkge1xuICAgICAgZXhpc3RpbmdFbnRyeS5udW1TdWJzY3JpYmVycyArPSAxO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnlUb2tlbixcbiAgICAgICAgbW9kaWZpY2F0aW9uOiBudWxsLFxuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4gdGhpcy5yZW1vdmVTdWJzY3JpYmVyKHF1ZXJ5VG9rZW4pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBxdWVyeUlkID0gdGhpcy5uZXh0UXVlcnlJZCsrO1xuICAgICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgIGlkOiBxdWVyeUlkLFxuICAgICAgICBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJncyxcbiAgICAgICAgbnVtU3Vic2NyaWJlcnM6IDEsXG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIGNvbXBvbmVudFBhdGhcbiAgICAgIH07XG4gICAgICB0aGlzLnF1ZXJ5U2V0LnNldChxdWVyeVRva2VuLCBxdWVyeSk7XG4gICAgICB0aGlzLnF1ZXJ5SWRUb1Rva2VuLnNldChxdWVyeUlkLCBxdWVyeVRva2VuKTtcbiAgICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb247XG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgYWRkID0ge1xuICAgICAgICB0eXBlOiBcIkFkZFwiLFxuICAgICAgICBxdWVyeUlkLFxuICAgICAgICB1ZGZQYXRoOiBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJnczogW2NvbnZleFRvSnNvbihhcmdzKV0sXG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIGNvbXBvbmVudFBhdGhcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLnNldChxdWVyeUlkLCBhZGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSBuZXdWZXJzaW9uO1xuICAgICAgfVxuICAgICAgY29uc3QgbW9kaWZpY2F0aW9uID0ge1xuICAgICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICAgIGJhc2VWZXJzaW9uLFxuICAgICAgICBuZXdWZXJzaW9uLFxuICAgICAgICBtb2RpZmljYXRpb25zOiBbYWRkXVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXJ5VG9rZW4sXG4gICAgICAgIG1vZGlmaWNhdGlvbixcbiAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHRoaXMucmVtb3ZlU3Vic2NyaWJlcihxdWVyeVRva2VuKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgdHJhbnNpdGlvbih0cmFuc2l0aW9uKSB7XG4gICAgZm9yIChjb25zdCBtb2RpZmljYXRpb24gb2YgdHJhbnNpdGlvbi5tb2RpZmljYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKG1vZGlmaWNhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJRdWVyeVVwZGF0ZWRcIjpcbiAgICAgICAgY2FzZSBcIlF1ZXJ5RmFpbGVkXCI6IHtcbiAgICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBjb25zdCBqb3VybmFsID0gbW9kaWZpY2F0aW9uLmpvdXJuYWw7XG4gICAgICAgICAgaWYgKGpvdXJuYWwgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlUb2tlbiA9IHRoaXMucXVlcnlJZFRvVG9rZW4uZ2V0KG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICAgIGlmIChxdWVyeVRva2VuICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbikuam91cm5hbCA9IGpvdXJuYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJRdWVyeVJlbW92ZWRcIjoge1xuICAgICAgICAgIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfID0gbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb2RpZmljYXRpb24gJHttb2RpZmljYXRpb24udHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBxdWVyeUlkKHVkZlBhdGgsIGFyZ3MpIHtcbiAgICBjb25zdCBjYW5vbmljYWxpemVkVWRmUGF0aCA9IGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKGNhbm9uaWNhbGl6ZWRVZGZQYXRoLCBhcmdzKTtcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKGV4aXN0aW5nRW50cnkgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nRW50cnkuaWQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlzQ3VycmVudE9yTmV3ZXJBdXRoVmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIHZlcnNpb24gPj0gdGhpcy5pZGVudGl0eVZlcnNpb247XG4gIH1cbiAgc2V0QXV0aCh2YWx1ZSkge1xuICAgIHRoaXMuYXV0aCA9IHtcbiAgICAgIHRva2VuVHlwZTogXCJVc2VyXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbjtcbiAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IGJhc2VWZXJzaW9uICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICBiYXNlVmVyc2lvbixcbiAgICAgIC4uLnRoaXMuYXV0aFxuICAgIH07XG4gIH1cbiAgc2V0QWRtaW5BdXRoKHZhbHVlLCBhY3RpbmdBcykge1xuICAgIGNvbnN0IGF1dGggPSB7XG4gICAgICB0b2tlblR5cGU6IFwiQWRtaW5cIixcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wZXJzb25hdGluZzogYWN0aW5nQXNcbiAgICB9O1xuICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbjtcbiAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IGJhc2VWZXJzaW9uICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICBiYXNlVmVyc2lvbixcbiAgICAgIC4uLmF1dGhcbiAgICB9O1xuICB9XG4gIGNsZWFyQXV0aCgpIHtcbiAgICB0aGlzLmF1dGggPSB2b2lkIDA7XG4gICAgdGhpcy5tYXJrQXV0aENvbXBsZXRpb24oKTtcbiAgICBjb25zdCBiYXNlVmVyc2lvbiA9IHRoaXMuaWRlbnRpdHlWZXJzaW9uO1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gYmFzZVZlcnNpb24gKyAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgIHRva2VuVHlwZTogXCJOb25lXCIsXG4gICAgICBiYXNlVmVyc2lvblxuICAgIH07XG4gIH1cbiAgaGFzQXV0aCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmF1dGg7XG4gIH1cbiAgaXNOZXdBdXRoKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aD8udmFsdWUgIT09IHZhbHVlO1xuICB9XG4gIHF1ZXJ5UGF0aChxdWVyeUlkKSB7XG4gICAgY29uc3QgcGF0aEFuZEFyZ3MgPSB0aGlzLnF1ZXJ5SWRUb1Rva2VuLmdldChxdWVyeUlkKTtcbiAgICBpZiAocGF0aEFuZEFyZ3MpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2V0LmdldChwYXRoQW5kQXJncykuY2Fub25pY2FsaXplZFVkZlBhdGg7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHF1ZXJ5QXJncyhxdWVyeUlkKSB7XG4gICAgY29uc3QgcGF0aEFuZEFyZ3MgPSB0aGlzLnF1ZXJ5SWRUb1Rva2VuLmdldChxdWVyeUlkKTtcbiAgICBpZiAocGF0aEFuZEFyZ3MpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2V0LmdldChwYXRoQW5kQXJncykuYXJncztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcXVlcnlUb2tlbihxdWVyeUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlJZFRvVG9rZW4uZ2V0KHF1ZXJ5SWQpID8/IG51bGw7XG4gIH1cbiAgcXVlcnlKb3VybmFsKHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik/LmpvdXJuYWw7XG4gIH1cbiAgcmVzdGFydChvbGRSZW1vdGVRdWVyeVJlc3VsdHMpIHtcbiAgICB0aGlzLnVucGF1c2UoKTtcbiAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuY2xlYXIoKTtcbiAgICBjb25zdCBtb2RpZmljYXRpb25zID0gW107XG4gICAgZm9yIChjb25zdCBsb2NhbFF1ZXJ5IG9mIHRoaXMucXVlcnlTZXQudmFsdWVzKCkpIHtcbiAgICAgIGNvbnN0IGFkZCA9IHtcbiAgICAgICAgdHlwZTogXCJBZGRcIixcbiAgICAgICAgcXVlcnlJZDogbG9jYWxRdWVyeS5pZCxcbiAgICAgICAgdWRmUGF0aDogbG9jYWxRdWVyeS5jYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJnczogW2NvbnZleFRvSnNvbihsb2NhbFF1ZXJ5LmFyZ3MpXSxcbiAgICAgICAgam91cm5hbDogbG9jYWxRdWVyeS5qb3VybmFsLFxuICAgICAgICBjb21wb25lbnRQYXRoOiBsb2NhbFF1ZXJ5LmNvbXBvbmVudFBhdGhcbiAgICAgIH07XG4gICAgICBtb2RpZmljYXRpb25zLnB1c2goYWRkKTtcbiAgICAgIGlmICghb2xkUmVtb3RlUXVlcnlSZXN1bHRzLmhhcyhsb2NhbFF1ZXJ5LmlkKSkge1xuICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuYWRkKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnF1ZXJ5U2V0VmVyc2lvbiA9IDE7XG4gICAgY29uc3QgcXVlcnlTZXQgPSB7XG4gICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICBiYXNlVmVyc2lvbjogMCxcbiAgICAgIG5ld1ZlcnNpb246IDEsXG4gICAgICBtb2RpZmljYXRpb25zXG4gICAgfTtcbiAgICBpZiAoIXRoaXMuYXV0aCkge1xuICAgICAgdGhpcy5pZGVudGl0eVZlcnNpb24gPSAwO1xuICAgICAgcmV0dXJuIFtxdWVyeVNldCwgdm9pZCAwXTtcbiAgICB9XG4gICAgdGhpcy5vdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0ID0gdHJ1ZTtcbiAgICBjb25zdCBhdXRoZW50aWNhdGUgPSB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb246IDAsXG4gICAgICAuLi50aGlzLmF1dGhcbiAgICB9O1xuICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMTtcbiAgICByZXR1cm4gW3F1ZXJ5U2V0LCBhdXRoZW50aWNhdGVdO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgfVxuICByZXN1bWUoKSB7XG4gICAgY29uc3QgcXVlcnlTZXQgPSB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuc2l6ZSA+IDAgPyB7XG4gICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICBiYXNlVmVyc2lvbjogdGhpcy5xdWVyeVNldFZlcnNpb24sXG4gICAgICBuZXdWZXJzaW9uOiArK3RoaXMucXVlcnlTZXRWZXJzaW9uLFxuICAgICAgbW9kaWZpY2F0aW9uczogQXJyYXkuZnJvbShcbiAgICAgICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLnZhbHVlcygpXG4gICAgICApXG4gICAgfSA6IHZvaWQgMDtcbiAgICBjb25zdCBhdXRoZW50aWNhdGUgPSB0aGlzLmF1dGggIT09IHZvaWQgMCA/IHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICBiYXNlVmVyc2lvbjogdGhpcy5pZGVudGl0eVZlcnNpb24rKyxcbiAgICAgIC4uLnRoaXMuYXV0aFxuICAgIH0gOiB2b2lkIDA7XG4gICAgdGhpcy51bnBhdXNlKCk7XG4gICAgcmV0dXJuIFtxdWVyeVNldCwgYXV0aGVudGljYXRlXTtcbiAgfVxuICB1bnBhdXNlKCkge1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLmNsZWFyKCk7XG4gIH1cbiAgcmVtb3ZlU3Vic2NyaWJlcihxdWVyeVRva2VuKSB7XG4gICAgY29uc3QgbG9jYWxRdWVyeSA9IHRoaXMucXVlcnlTZXQuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgIGlmIChsb2NhbFF1ZXJ5Lm51bVN1YnNjcmliZXJzID4gMSkge1xuICAgICAgbG9jYWxRdWVyeS5udW1TdWJzY3JpYmVycyAtPSAxO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucXVlcnlTZXQuZGVsZXRlKHF1ZXJ5VG9rZW4pO1xuICAgICAgdGhpcy5xdWVyeUlkVG9Ub2tlbi5kZWxldGUobG9jYWxRdWVyeS5pZCk7XG4gICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLnF1ZXJ5U2V0VmVyc2lvbjtcbiAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSB0aGlzLnF1ZXJ5U2V0VmVyc2lvbiArIDE7XG4gICAgICBjb25zdCByZW1vdmUgPSB7XG4gICAgICAgIHR5cGU6IFwiUmVtb3ZlXCIsXG4gICAgICAgIHF1ZXJ5SWQ6IGxvY2FsUXVlcnkuaWRcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5oYXMobG9jYWxRdWVyeS5pZCkpIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5zZXQobG9jYWxRdWVyeS5pZCwgcmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSBuZXdWZXJzaW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgICBiYXNlVmVyc2lvbixcbiAgICAgICAgbmV3VmVyc2lvbixcbiAgICAgICAgbW9kaWZpY2F0aW9uczogW3JlbW92ZV1cbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbF9zdGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImNvbnZleFRvSnNvbiIsImNhbm9uaWNhbGl6ZVVkZlBhdGgiLCJzZXJpYWxpemVQYXRoQW5kQXJncyIsIkxvY2FsU3luY1N0YXRlIiwiY29uc3RydWN0b3IiLCJuZXh0UXVlcnlJZCIsInF1ZXJ5U2V0VmVyc2lvbiIsImlkZW50aXR5VmVyc2lvbiIsInF1ZXJ5U2V0IiwiTWFwIiwicXVlcnlJZFRvVG9rZW4iLCJvdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0IiwiU2V0Iiwib3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCIsInBhdXNlZCIsInBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMiLCJoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCIsInNpemUiLCJtYXJrQXV0aENvbXBsZXRpb24iLCJzdWJzY3JpYmUiLCJ1ZGZQYXRoIiwiYXJncyIsImpvdXJuYWwiLCJjb21wb25lbnRQYXRoIiwiY2Fub25pY2FsaXplZFVkZlBhdGgiLCJxdWVyeVRva2VuIiwiZXhpc3RpbmdFbnRyeSIsImdldCIsIm51bVN1YnNjcmliZXJzIiwibW9kaWZpY2F0aW9uIiwidW5zdWJzY3JpYmUiLCJyZW1vdmVTdWJzY3JpYmVyIiwicXVlcnlJZCIsInF1ZXJ5IiwiaWQiLCJzZXQiLCJiYXNlVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJhZGQiLCJ0eXBlIiwibW9kaWZpY2F0aW9ucyIsInRyYW5zaXRpb24iLCJkZWxldGUiLCJfIiwiRXJyb3IiLCJpc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24iLCJ2ZXJzaW9uIiwic2V0QXV0aCIsImF1dGgiLCJ0b2tlblR5cGUiLCJzZXRBZG1pbkF1dGgiLCJhY3RpbmdBcyIsImltcGVyc29uYXRpbmciLCJjbGVhckF1dGgiLCJoYXNBdXRoIiwiaXNOZXdBdXRoIiwicXVlcnlQYXRoIiwicGF0aEFuZEFyZ3MiLCJxdWVyeUFyZ3MiLCJxdWVyeUpvdXJuYWwiLCJyZXN0YXJ0Iiwib2xkUmVtb3RlUXVlcnlSZXN1bHRzIiwidW5wYXVzZSIsImNsZWFyIiwibG9jYWxRdWVyeSIsInZhbHVlcyIsInB1c2giLCJoYXMiLCJhdXRoZW50aWNhdGUiLCJwYXVzZSIsInJlc3VtZSIsIkFycmF5IiwiZnJvbSIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/metrics.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMarksReport: () => (/* binding */ getMarksReport),\n/* harmony export */   mark: () => (/* binding */ mark)\n/* harmony export */ });\n\nconst markNames = [\n    \"convexClientConstructed\",\n    \"convexWebSocketOpen\",\n    \"convexFirstMessageReceived\"\n];\nfunction mark(name, sessionId) {\n    const detail = {\n        sessionId\n    };\n    if (typeof performance === \"undefined\" || !performance.mark) return;\n    performance.mark(name, {\n        detail\n    });\n}\nfunction performanceMarkToJson(mark2) {\n    let name = mark2.name.slice(\"convex\".length);\n    name = name.charAt(0).toLowerCase() + name.slice(1);\n    return {\n        name,\n        startTime: mark2.startTime\n    };\n}\nfunction getMarksReport(sessionId) {\n    if (typeof performance === \"undefined\" || !performance.getEntriesByName) {\n        return [];\n    }\n    const allMarks = [];\n    for (const name of markNames){\n        const marks = performance.getEntriesByName(name).filter((entry)=>entry.entryType === \"mark\").filter((mark2)=>mark2.detail.sessionId === sessionId);\n        allMarks.push(...marks);\n    }\n    return allMarks.map(performanceMarkToJson);\n} //# sourceMappingURL=metrics.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9tZXRyaWNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDYixNQUFNQSxZQUFZO0lBQ2hCO0lBQ0E7SUFDQTtDQUNEO0FBQ00sU0FBU0MsS0FBS0MsSUFBSSxFQUFFQyxTQUFTO0lBQ2xDLE1BQU1DLFNBQVM7UUFBRUQ7SUFBVTtJQUMzQixJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlKLElBQUksRUFBRTtJQUM3REksWUFBWUosSUFBSSxDQUFDQyxNQUFNO1FBQUVFO0lBQU87QUFDbEM7QUFDQSxTQUFTRSxzQkFBc0JDLEtBQUs7SUFDbEMsSUFBSUwsT0FBT0ssTUFBTUwsSUFBSSxDQUFDTSxLQUFLLENBQUMsU0FBU0MsTUFBTTtJQUMzQ1AsT0FBT0EsS0FBS1EsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1QsS0FBS00sS0FBSyxDQUFDO0lBQ2pELE9BQU87UUFDTE47UUFDQVUsV0FBV0wsTUFBTUssU0FBUztJQUM1QjtBQUNGO0FBQ08sU0FBU0MsZUFBZVYsU0FBUztJQUN0QyxJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlTLGdCQUFnQixFQUFFO1FBQ3ZFLE9BQU8sRUFBRTtJQUNYO0lBQ0EsTUFBTUMsV0FBVyxFQUFFO0lBQ25CLEtBQUssTUFBTWIsUUFBUUYsVUFBVztRQUM1QixNQUFNZ0IsUUFBUVgsWUFBWVMsZ0JBQWdCLENBQUNaLE1BQU1lLE1BQU0sQ0FBQyxDQUFDQyxRQUFVQSxNQUFNQyxTQUFTLEtBQUssUUFBUUYsTUFBTSxDQUFDLENBQUNWLFFBQVVBLE1BQU1ILE1BQU0sQ0FBQ0QsU0FBUyxLQUFLQTtRQUM1SVksU0FBU0ssSUFBSSxJQUFJSjtJQUNuQjtJQUNBLE9BQU9ELFNBQVNNLEdBQUcsQ0FBQ2Y7QUFDdEIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9tZXRyaWNzLmpzPzNmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBtYXJrTmFtZXMgPSBbXG4gIFwiY29udmV4Q2xpZW50Q29uc3RydWN0ZWRcIixcbiAgXCJjb252ZXhXZWJTb2NrZXRPcGVuXCIsXG4gIFwiY29udmV4Rmlyc3RNZXNzYWdlUmVjZWl2ZWRcIlxuXTtcbmV4cG9ydCBmdW5jdGlvbiBtYXJrKG5hbWUsIHNlc3Npb25JZCkge1xuICBjb25zdCBkZXRhaWwgPSB7IHNlc3Npb25JZCB9O1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5tYXJrKSByZXR1cm47XG4gIHBlcmZvcm1hbmNlLm1hcmsobmFtZSwgeyBkZXRhaWwgfSk7XG59XG5mdW5jdGlvbiBwZXJmb3JtYW5jZU1hcmtUb0pzb24obWFyazIpIHtcbiAgbGV0IG5hbWUgPSBtYXJrMi5uYW1lLnNsaWNlKFwiY29udmV4XCIubGVuZ3RoKTtcbiAgbmFtZSA9IG5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgc3RhcnRUaW1lOiBtYXJrMi5zdGFydFRpbWVcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJrc1JlcG9ydChzZXNzaW9uSWQpIHtcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBhbGxNYXJrcyA9IFtdO1xuICBmb3IgKGNvbnN0IG5hbWUgb2YgbWFya05hbWVzKSB7XG4gICAgY29uc3QgbWFya3MgPSBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKG5hbWUpLmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmVudHJ5VHlwZSA9PT0gXCJtYXJrXCIpLmZpbHRlcigobWFyazIpID0+IG1hcmsyLmRldGFpbC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCk7XG4gICAgYWxsTWFya3MucHVzaCguLi5tYXJrcyk7XG4gIH1cbiAgcmV0dXJuIGFsbE1hcmtzLm1hcChwZXJmb3JtYW5jZU1hcmtUb0pzb24pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0cmljcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJtYXJrTmFtZXMiLCJtYXJrIiwibmFtZSIsInNlc3Npb25JZCIsImRldGFpbCIsInBlcmZvcm1hbmNlIiwicGVyZm9ybWFuY2VNYXJrVG9Kc29uIiwibWFyazIiLCJzbGljZSIsImxlbmd0aCIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwic3RhcnRUaW1lIiwiZ2V0TWFya3NSZXBvcnQiLCJnZXRFbnRyaWVzQnlOYW1lIiwiYWxsTWFya3MiLCJtYXJrcyIsImZpbHRlciIsImVudHJ5IiwiZW50cnlUeXBlIiwicHVzaCIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptimisticQueryResults: () => (/* binding */ OptimisticQueryResults)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nclass OptimisticLocalStoreImpl {\n    constructor(queryResults){\n        // A references of the query results in OptimisticQueryResults\n        __publicField(this, \"queryResults\");\n        // All of the queries modified by this class\n        __publicField(this, \"modifiedQueries\");\n        this.queryResults = queryResults;\n        this.modifiedQueries = [];\n    }\n    getQuery(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const queryResult = this.queryResults.get((0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs));\n        if (queryResult === void 0) {\n            return void 0;\n        }\n        return OptimisticLocalStoreImpl.queryValue(queryResult.result);\n    }\n    getAllQueries(query) {\n        const queriesWithName = [];\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        for (const queryResult of this.queryResults.values()){\n            if (queryResult.udfPath === (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.canonicalizeUdfPath)(name)) {\n                queriesWithName.push({\n                    args: queryResult.args,\n                    value: OptimisticLocalStoreImpl.queryValue(queryResult.result)\n                });\n            }\n        }\n        return queriesWithName;\n    }\n    setQuery(queryReference, args, value) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(queryReference);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs);\n        let result;\n        if (value === void 0) {\n            result = void 0;\n        } else {\n            result = {\n                success: true,\n                value,\n                // It's an optimistic update, so there are no function logs to show.\n                logLines: []\n            };\n        }\n        const query = {\n            udfPath: name,\n            args: queryArgs,\n            result\n        };\n        this.queryResults.set(queryToken, query);\n        this.modifiedQueries.push(queryToken);\n    }\n    static queryValue(result) {\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            return void 0;\n        }\n    }\n}\nclass OptimisticQueryResults {\n    constructor(){\n        __publicField(this, \"queryResults\");\n        __publicField(this, \"optimisticUpdates\");\n        this.queryResults = /* @__PURE__ */ new Map();\n        this.optimisticUpdates = [];\n    }\n    ingestQueryResultsFromServer(serverQueryResults, optimisticUpdatesToDrop) {\n        this.optimisticUpdates = this.optimisticUpdates.filter((updateAndId)=>{\n            return !optimisticUpdatesToDrop.has(updateAndId.mutationId);\n        });\n        const oldQueryResults = this.queryResults;\n        this.queryResults = new Map(serverQueryResults);\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        for (const updateAndId of this.optimisticUpdates){\n            updateAndId.update(localStore);\n        }\n        const changedQueries = [];\n        for (const [queryToken, query] of this.queryResults){\n            const oldQuery = oldQueryResults.get(queryToken);\n            if (oldQuery === void 0 || oldQuery.result !== query.result) {\n                changedQueries.push(queryToken);\n            }\n        }\n        return changedQueries;\n    }\n    applyOptimisticUpdate(update, mutationId) {\n        this.optimisticUpdates.push({\n            update,\n            mutationId\n        });\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        update(localStore);\n        return localStore.modifiedQueries;\n    }\n    queryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        const result = query.result;\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result));\n        }\n    }\n    hasQueryResult(queryToken) {\n        return this.queryResults.get(queryToken) !== void 0;\n    }\n    /**\n   * @internal\n   */ queryLogs(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        return query?.result?.logLines;\n    }\n} //# sourceMappingURL=optimistic_updates_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFHM0U7QUFDcUI7QUFDdUI7QUFJNUM7QUFDd0I7QUFDckQsTUFBTVk7SUFDSkMsWUFBWUMsWUFBWSxDQUFFO1FBQ3hCLDhEQUE4RDtRQUM5RFYsY0FBYyxJQUFJLEVBQUU7UUFDcEIsNENBQTRDO1FBQzVDQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNVLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxlQUFlLEdBQUcsRUFBRTtJQUMzQjtJQUNBQyxTQUFTQyxLQUFLLEVBQUUsR0FBR0MsSUFBSSxFQUFFO1FBQ3ZCLE1BQU1DLFlBQVliLDJEQUFTQSxDQUFDWSxJQUFJLENBQUMsRUFBRTtRQUNuQyxNQUFNRSxPQUFPZiwrREFBZUEsQ0FBQ1k7UUFDN0IsTUFBTUksY0FBYyxJQUFJLENBQUNQLFlBQVksQ0FBQ1EsR0FBRyxDQUN2Q1osd0VBQW9CQSxDQUFDVSxNQUFNRDtRQUU3QixJQUFJRSxnQkFBZ0IsS0FBSyxHQUFHO1lBQzFCLE9BQU8sS0FBSztRQUNkO1FBQ0EsT0FBT1QseUJBQXlCVyxVQUFVLENBQUNGLFlBQVlHLE1BQU07SUFDL0Q7SUFDQUMsY0FBY1IsS0FBSyxFQUFFO1FBQ25CLE1B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QUFlO0lBQ25DO0lBQ0FNLFlBQVlXLFVBQVUsRUFBRTtRQUN0QixNQUFNZixRQUFRLElBQUksQ0FBQ0gsWUFBWSxDQUFDUSxHQUFHLENBQUNVO1FBQ3BDLElBQUlmLFVBQVUsS0FBSyxHQUFHO1lBQ3BCLE9BQU8sS0FBSztRQUNkO1FBQ0EsTUFBTU8sU0FBU1AsTUFBTU8sTUFBTTtRQUMzQixJQUFJQSxXQUFXLEtBQUssR0FBRztZQUNyQixPQUFPLEtBQUs7UUFDZCxPQUFPLElBQUlBLE9BQU9TLE9BQU8sRUFBRTtZQUN6QixPQUFPVCxPQUFPeEIsS0FBSztRQUNyQixPQUFPO1lBQ0wsSUFBSXdCLE9BQU80QixTQUFTLEtBQUssS0FBSyxHQUFHO2dCQUMvQixNQUFNNUMsd0RBQVdBLENBQ2ZnQixRQUNBLElBQUliLDBEQUFXQSxDQUNiSix3RUFBMkJBLENBQUMsU0FBU1UsTUFBTVcsT0FBTyxFQUFFSjtZQUcxRDtZQUNBLE1BQU0sSUFBSTZCLE1BQ1I5Qyx3RUFBMkJBLENBQUMsU0FBU1UsTUFBTVcsT0FBTyxFQUFFSjtRQUV4RDtJQUNGO0lBQ0E4QixlQUFldEIsVUFBVSxFQUFFO1FBQ3pCLE9BQU8sSUFBSSxDQUFDbEIsWUFBWSxDQUFDUSxHQUFHLENBQUNVLGdCQUFnQixLQUFLO0lBQ3BEO0lBQ0E7O0dBRUMsR0FDRHVCLFVBQVV2QixVQUFVLEVBQUU7UUFDcEIsTUFBTWYsUUFBUSxJQUFJLENBQUNILFlBQVksQ0FBQ1EsR0FBRyxDQUFDVTtRQUNwQyxPQUFPZixPQUFPTyxRQUFRVTtJQUN4QjtBQUNGLEVBQ0EsbURBQW1EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvb3B0aW1pc3RpY191cGRhdGVzX2ltcGwuanM/NDVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbk5hbWVcbn0gZnJvbSBcIi4uLy4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSwgZm9yd2FyZERhdGEgfSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHtcbiAgY2Fub25pY2FsaXplVWRmUGF0aCxcbiAgc2VyaWFsaXplUGF0aEFuZEFyZ3Ncbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmNsYXNzIE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5UmVzdWx0cykge1xuICAgIC8vIEEgcmVmZXJlbmNlcyBvZiB0aGUgcXVlcnkgcmVzdWx0cyBpbiBPcHRpbWlzdGljUXVlcnlSZXN1bHRzXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInF1ZXJ5UmVzdWx0c1wiKTtcbiAgICAvLyBBbGwgb2YgdGhlIHF1ZXJpZXMgbW9kaWZpZWQgYnkgdGhpcyBjbGFzc1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtb2RpZmllZFF1ZXJpZXNcIik7XG4gICAgdGhpcy5xdWVyeVJlc3VsdHMgPSBxdWVyeVJlc3VsdHM7XG4gICAgdGhpcy5tb2RpZmllZFF1ZXJpZXMgPSBbXTtcbiAgfVxuICBnZXRRdWVyeShxdWVyeSwgLi4uYXJncykge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICBjb25zdCBxdWVyeVJlc3VsdCA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChcbiAgICAgIHNlcmlhbGl6ZVBhdGhBbmRBcmdzKG5hbWUsIHF1ZXJ5QXJncylcbiAgICApO1xuICAgIGlmIChxdWVyeVJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsLnF1ZXJ5VmFsdWUocXVlcnlSZXN1bHQucmVzdWx0KTtcbiAgfVxuICBnZXRBbGxRdWVyaWVzKHF1ZXJ5KSB7XG4gICAgY29uc3QgcXVlcmllc1dpdGhOYW1lID0gW107XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgZm9yIChjb25zdCBxdWVyeVJlc3VsdCBvZiB0aGlzLnF1ZXJ5UmVzdWx0cy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHF1ZXJ5UmVzdWx0LnVkZlBhdGggPT09IGNhbm9uaWNhbGl6ZVVkZlBhdGgobmFtZSkpIHtcbiAgICAgICAgcXVlcmllc1dpdGhOYW1lLnB1c2goe1xuICAgICAgICAgIGFyZ3M6IHF1ZXJ5UmVzdWx0LmFyZ3MsXG4gICAgICAgICAgdmFsdWU6IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbC5xdWVyeVZhbHVlKHF1ZXJ5UmVzdWx0LnJlc3VsdClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyaWVzV2l0aE5hbWU7XG4gIH1cbiAgc2V0UXVlcnkocXVlcnlSZWZlcmVuY2UsIGFyZ3MsIHZhbHVlKSB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnlSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhuYW1lLCBxdWVyeUFyZ3MpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHJlc3VsdCA9IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgLy8gSXQncyBhbiBvcHRpbWlzdGljIHVwZGF0ZSwgc28gdGhlcmUgYXJlIG5vIGZ1bmN0aW9uIGxvZ3MgdG8gc2hvdy5cbiAgICAgICAgbG9nTGluZXM6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgIHVkZlBhdGg6IG5hbWUsXG4gICAgICBhcmdzOiBxdWVyeUFyZ3MsXG4gICAgICByZXN1bHRcbiAgICB9O1xuICAgIHRoaXMucXVlcnlSZXN1bHRzLnNldChxdWVyeVRva2VuLCBxdWVyeSk7XG4gICAgdGhpcy5tb2RpZmllZFF1ZXJpZXMucHVzaChxdWVyeVRva2VuKTtcbiAgfVxuICBzdGF0aWMgcXVlcnlWYWx1ZShyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBPcHRpbWlzdGljUXVlcnlSZXN1bHRzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInF1ZXJ5UmVzdWx0c1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW1pc3RpY1VwZGF0ZXNcIik7XG4gICAgdGhpcy5xdWVyeVJlc3VsdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMgPSBbXTtcbiAgfVxuICBpbmdlc3RRdWVyeVJlc3VsdHNGcm9tU2VydmVyKHNlcnZlclF1ZXJ5UmVzdWx0cywgb3B0aW1pc3RpY1VwZGF0ZXNUb0Ryb3ApIHtcbiAgICB0aGlzLm9wdGltaXN0aWNVcGRhdGVzID0gdGhpcy5vcHRpbWlzdGljVXBkYXRlcy5maWx0ZXIoKHVwZGF0ZUFuZElkKSA9PiB7XG4gICAgICByZXR1cm4gIW9wdGltaXN0aWNVcGRhdGVzVG9Ecm9wLmhhcyh1cGRhdGVBbmRJZC5tdXRhdGlvbklkKTtcbiAgICB9KTtcbiAgICBjb25zdCBvbGRRdWVyeVJlc3VsdHMgPSB0aGlzLnF1ZXJ5UmVzdWx0cztcbiAgICB0aGlzLnF1ZXJ5UmVzdWx0cyA9IG5ldyBNYXAoc2VydmVyUXVlcnlSZXN1bHRzKTtcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gbmV3IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCh0aGlzLnF1ZXJ5UmVzdWx0cyk7XG4gICAgZm9yIChjb25zdCB1cGRhdGVBbmRJZCBvZiB0aGlzLm9wdGltaXN0aWNVcGRhdGVzKSB7XG4gICAgICB1cGRhdGVBbmRJZC51cGRhdGUobG9jYWxTdG9yZSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZWRRdWVyaWVzID0gW107XG4gICAgZm9yIChjb25zdCBbcXVlcnlUb2tlbiwgcXVlcnldIG9mIHRoaXMucXVlcnlSZXN1bHRzKSB7XG4gICAgICBjb25zdCBvbGRRdWVyeSA9IG9sZFF1ZXJ5UmVzdWx0cy5nZXQocXVlcnlUb2tlbik7XG4gICAgICBpZiAob2xkUXVlcnkgPT09IHZvaWQgMCB8fCBvbGRRdWVyeS5yZXN1bHQgIT09IHF1ZXJ5LnJlc3VsdCkge1xuICAgICAgICBjaGFuZ2VkUXVlcmllcy5wdXNoKHF1ZXJ5VG9rZW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZFF1ZXJpZXM7XG4gIH1cbiAgYXBwbHlPcHRpbWlzdGljVXBkYXRlKHVwZGF0ZSwgbXV0YXRpb25JZCkge1xuICAgIHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMucHVzaCh7XG4gICAgICB1cGRhdGUsXG4gICAgICBtdXRhdGlvbklkXG4gICAgfSk7XG4gICAgY29uc3QgbG9jYWxTdG9yZSA9IG5ldyBPcHRpbWlzdGljTG9jYWxTdG9yZUltcGwodGhpcy5xdWVyeVJlc3VsdHMpO1xuICAgIHVwZGF0ZShsb2NhbFN0b3JlKTtcbiAgICByZXR1cm4gbG9jYWxTdG9yZS5tb2RpZmllZFF1ZXJpZXM7XG4gIH1cbiAgcXVlcnlSZXN1bHQocXVlcnlUb2tlbikge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeVJlc3VsdHMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBxdWVyeS5yZXN1bHQ7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgZm9yd2FyZERhdGEoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihcbiAgICAgICAgICAgIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcInF1ZXJ5XCIsIHF1ZXJ5LnVkZlBhdGgsIHJlc3VsdClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcInF1ZXJ5XCIsIHF1ZXJ5LnVkZlBhdGgsIHJlc3VsdClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGhhc1F1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVJlc3VsdHMuZ2V0KHF1ZXJ5VG9rZW4pICE9PSB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcXVlcnlMb2dzKHF1ZXJ5VG9rZW4pIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICByZXR1cm4gcXVlcnk/LnJlc3VsdD8ubG9nTGluZXM7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGltaXN0aWNfdXBkYXRlc19pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiZ2V0RnVuY3Rpb25OYW1lIiwicGFyc2VBcmdzIiwiY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlIiwiZm9yd2FyZERhdGEiLCJjYW5vbmljYWxpemVVZGZQYXRoIiwic2VyaWFsaXplUGF0aEFuZEFyZ3MiLCJDb252ZXhFcnJvciIsIk9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCIsImNvbnN0cnVjdG9yIiwicXVlcnlSZXN1bHRzIiwibW9kaWZpZWRRdWVyaWVzIiwiZ2V0UXVlcnkiLCJxdWVyeSIsImFyZ3MiLCJxdWVyeUFyZ3MiLCJuYW1lIiwicXVlcnlSZXN1bHQiLCJnZXQiLCJxdWVyeVZhbHVlIiwicmVzdWx0IiwiZ2V0QWxsUXVlcmllcyIsInF1ZXJpZXNXaXRoTmFtZSIsInZhbHVlcyIsInVkZlBhdGgiLCJwdXNoIiwic2V0UXVlcnkiLCJxdWVyeVJlZmVyZW5jZSIsInF1ZXJ5VG9rZW4iLCJzdWNjZXNzIiwibG9nTGluZXMiLCJzZXQiLCJPcHRpbWlzdGljUXVlcnlSZXN1bHRzIiwiTWFwIiwib3B0aW1pc3RpY1VwZGF0ZXMiLCJpbmdlc3RRdWVyeVJlc3VsdHNGcm9tU2VydmVyIiwic2VydmVyUXVlcnlSZXN1bHRzIiwib3B0aW1pc3RpY1VwZGF0ZXNUb0Ryb3AiLCJmaWx0ZXIiLCJ1cGRhdGVBbmRJZCIsImhhcyIsIm11dGF0aW9uSWQiLCJvbGRRdWVyeVJlc3VsdHMiLCJsb2NhbFN0b3JlIiwidXBkYXRlIiwiY2hhbmdlZFF1ZXJpZXMiLCJvbGRRdWVyeSIsImFwcGx5T3B0aW1pc3RpY1VwZGF0ZSIsImVycm9yRGF0YSIsIkVycm9yIiwiaGFzUXVlcnlSZXN1bHQiLCJxdWVyeUxvZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/protocol.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeClientMessage: () => (/* binding */ encodeClientMessage),\n/* harmony export */   longToU64: () => (/* binding */ longToU64),\n/* harmony export */   parseServerMessage: () => (/* binding */ parseServerMessage),\n/* harmony export */   u64ToLong: () => (/* binding */ u64ToLong)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../long.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/long.js\");\n\n\n\nfunction u64ToLong(encoded) {\n    const integerBytes = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.toByteArray(encoded);\n    return _long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromBytesLE(Array.from(integerBytes));\n}\nfunction longToU64(raw) {\n    const integerBytes = new Uint8Array(raw.toBytesLE());\n    return _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.fromByteArray(integerBytes);\n}\nfunction parseServerMessage(encoded) {\n    switch(encoded.type){\n        case \"FatalError\":\n        case \"AuthError\":\n        case \"ActionResponse\":\n        case \"Ping\":\n            {\n                return {\n                    ...encoded\n                };\n            }\n        case \"MutationResponse\":\n            {\n                if (encoded.success) {\n                    return {\n                        ...encoded,\n                        ts: u64ToLong(encoded.ts)\n                    };\n                } else {\n                    return {\n                        ...encoded\n                    };\n                }\n            }\n        case \"Transition\":\n            {\n                return {\n                    ...encoded,\n                    startVersion: {\n                        ...encoded.startVersion,\n                        ts: u64ToLong(encoded.startVersion.ts)\n                    },\n                    endVersion: {\n                        ...encoded.endVersion,\n                        ts: u64ToLong(encoded.endVersion.ts)\n                    }\n                };\n            }\n        default:\n            {\n                const _exhaustivenessCheck = encoded;\n            }\n    }\n    return void 0;\n}\nfunction encodeClientMessage(message) {\n    switch(message.type){\n        case \"Authenticate\":\n        case \"ModifyQuerySet\":\n        case \"Mutation\":\n        case \"Action\":\n        case \"Event\":\n            {\n                return {\n                    ...message\n                };\n            }\n        case \"Connect\":\n            {\n                if (message.maxObservedTimestamp !== void 0) {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: longToU64(message.maxObservedTimestamp)\n                    };\n                } else {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: void 0\n                    };\n                }\n            }\n        default:\n            {\n                const _exhaustivenessCheck = message;\n            }\n    }\n    return void 0;\n} //# sourceMappingURL=protocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wcm90b2NvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNrQztBQUNiO0FBQzNCLFNBQVNFLFVBQVVDLE9BQU87SUFDL0IsTUFBTUMsZUFBZUosZ0VBQWtCLENBQUNHO0lBQ3hDLE9BQU9GLDBDQUFJQSxDQUFDSyxXQUFXLENBQUNDLE1BQU1DLElBQUksQ0FBQ0o7QUFDckM7QUFDTyxTQUFTSyxVQUFVQyxHQUFHO0lBQzNCLE1BQU1OLGVBQWUsSUFBSU8sV0FBV0QsSUFBSUUsU0FBUztJQUNqRCxPQUFPWixrRUFBb0IsQ0FBQ0k7QUFDOUI7QUFDTyxTQUFTVSxtQkFBbUJYLE9BQU87SUFDeEMsT0FBUUEsUUFBUVksSUFBSTtRQUNsQixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQVE7Z0JBQ1gsT0FBTztvQkFBRSxHQUFHWixPQUFPO2dCQUFDO1lBQ3RCO1FBQ0EsS0FBSztZQUFvQjtnQkFDdkIsSUFBSUEsUUFBUWEsT0FBTyxFQUFFO29CQUNuQixPQUFPO3dCQUFFLEdBQUdiLE9BQU87d0JBQUVjLElBQUlmLFVBQVVDLFFBQVFjLEVBQUU7b0JBQUU7Z0JBQ2pELE9BQU87b0JBQ0wsT0FBTzt3QkFBRSxHQUFHZCxPQUFPO29CQUFDO2dCQUN0QjtZQUNGO1FBQ0EsS0FBSztZQUFjO2dCQUNqQixPQUFPO29CQUNMLEdBQUdBLE9BQU87b0JBQ1ZlLGNBQWM7d0JBQ1osR0FBR2YsUUFBUWUsWUFBWTt3QkFDdkJELElBQUlmLFVBQVVDLFFBQVFlLFlBQVksQ0FBQ0QsRUFBRTtvQkFDdkM7b0JBQ0FFLFlBQVk7d0JBQ1YsR0FBR2hCLFFBQVFnQixVQUFVO3dCQUNyQkYsSUFBSWYsVUFBVUMsUUFBUWdCLFVBQVUsQ0FBQ0YsRUFBRTtvQkFDckM7Z0JBQ0Y7WUFDRjtRQUNBO1lBQVM7Z0JBQ1AsTUFBTUcsdUJBQXVCakI7WUFDL0I7SUFDRjtJQUNBLE9BQU8sS0FBSztBQUNkO0FBQ08sU0FBU2tCLG9CQUFvQkMsT0FBTztJQUN6QyxPQUFRQSxRQUFRUCxJQUFJO1FBQ2xCLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQVM7Z0JBQ1osT0FBTztvQkFBRSxHQUFHTyxPQUFPO2dCQUFDO1lBQ3RCO1FBQ0EsS0FBSztZQUFXO2dCQUNkLElBQUlBLFFBQVFDLG9CQUFvQixLQUFLLEtBQUssR0FBRztvQkFDM0MsT0FBTzt3QkFDTCxHQUFHRCxPQUFPO3dCQUNWQyxzQkFBc0JkLFVBQVVhLFFBQVFDLG9CQUFvQjtvQkFDOUQ7Z0JBQ0YsT0FBTztvQkFDTCxPQUFPO3dCQUFFLEdBQUdELE9BQU87d0JBQUVDLHNCQUFzQixLQUFLO29CQUFFO2dCQUNwRDtZQUNGO1FBQ0E7WUFBUztnQkFDUCxNQUFNSCx1QkFBdUJFO1lBQy9CO0lBQ0Y7SUFDQSxPQUFPLEtBQUs7QUFDZCxFQUNBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3Byb3RvY29sLmpzPzI1MjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBCYXNlNjQgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uL2xvbmcuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1NjRUb0xvbmcoZW5jb2RlZCkge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkoZW5jb2RlZCk7XG4gIHJldHVybiBMb25nLmZyb21CeXRlc0xFKEFycmF5LmZyb20oaW50ZWdlckJ5dGVzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9uZ1RvVTY0KHJhdykge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBuZXcgVWludDhBcnJheShyYXcudG9CeXRlc0xFKCkpO1xuICByZXR1cm4gQmFzZTY0LmZyb21CeXRlQXJyYXkoaW50ZWdlckJ5dGVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNlcnZlck1lc3NhZ2UoZW5jb2RlZCkge1xuICBzd2l0Y2ggKGVuY29kZWQudHlwZSkge1xuICAgIGNhc2UgXCJGYXRhbEVycm9yXCI6XG4gICAgY2FzZSBcIkF1dGhFcnJvclwiOlxuICAgIGNhc2UgXCJBY3Rpb25SZXNwb25zZVwiOlxuICAgIGNhc2UgXCJQaW5nXCI6IHtcbiAgICAgIHJldHVybiB7IC4uLmVuY29kZWQgfTtcbiAgICB9XG4gICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgaWYgKGVuY29kZWQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkLCB0czogdTY0VG9Mb25nKGVuY29kZWQudHMpIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkIH07XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVuY29kZWQsXG4gICAgICAgIHN0YXJ0VmVyc2lvbjoge1xuICAgICAgICAgIC4uLmVuY29kZWQuc3RhcnRWZXJzaW9uLFxuICAgICAgICAgIHRzOiB1NjRUb0xvbmcoZW5jb2RlZC5zdGFydFZlcnNpb24udHMpXG4gICAgICAgIH0sXG4gICAgICAgIGVuZFZlcnNpb246IHtcbiAgICAgICAgICAuLi5lbmNvZGVkLmVuZFZlcnNpb24sXG4gICAgICAgICAgdHM6IHU2NFRvTG9uZyhlbmNvZGVkLmVuZFZlcnNpb24udHMpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlbmVzc0NoZWNrID0gZW5jb2RlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVDbGllbnRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICBjYXNlIFwiQXV0aGVudGljYXRlXCI6XG4gICAgY2FzZSBcIk1vZGlmeVF1ZXJ5U2V0XCI6XG4gICAgY2FzZSBcIk11dGF0aW9uXCI6XG4gICAgY2FzZSBcIkFjdGlvblwiOlxuICAgIGNhc2UgXCJFdmVudFwiOiB7XG4gICAgICByZXR1cm4geyAuLi5tZXNzYWdlIH07XG4gICAgfVxuICAgIGNhc2UgXCJDb25uZWN0XCI6IHtcbiAgICAgIGlmIChtZXNzYWdlLm1heE9ic2VydmVkVGltZXN0YW1wICE9PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgIG1heE9ic2VydmVkVGltZXN0YW1wOiBsb25nVG9VNjQobWVzc2FnZS5tYXhPYnNlcnZlZFRpbWVzdGFtcClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLm1lc3NhZ2UsIG1heE9ic2VydmVkVGltZXN0YW1wOiB2b2lkIDAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVuZXNzQ2hlY2sgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdG9jb2wuanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZTY0IiwiTG9uZyIsInU2NFRvTG9uZyIsImVuY29kZWQiLCJpbnRlZ2VyQnl0ZXMiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlc0xFIiwiQXJyYXkiLCJmcm9tIiwibG9uZ1RvVTY0IiwicmF3IiwiVWludDhBcnJheSIsInRvQnl0ZXNMRSIsImZyb21CeXRlQXJyYXkiLCJwYXJzZVNlcnZlck1lc3NhZ2UiLCJ0eXBlIiwic3VjY2VzcyIsInRzIiwic3RhcnRWZXJzaW9uIiwiZW5kVmVyc2lvbiIsIl9leGhhdXN0aXZlbmVzc0NoZWNrIiwiZW5jb2RlQ2xpZW50TWVzc2FnZSIsIm1lc3NhZ2UiLCJtYXhPYnNlcnZlZFRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/remote_query_set.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoteQuerySet: () => (/* binding */ RemoteQuerySet)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../long.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/long.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass RemoteQuerySet {\n    constructor(queryPath, logger){\n        __publicField(this, \"version\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"queryPath\");\n        __publicField(this, \"logger\");\n        this.version = {\n            querySet: 0,\n            ts: _long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromNumber(0),\n            identity: 0\n        };\n        this.remoteQuerySet = /* @__PURE__ */ new Map();\n        this.queryPath = queryPath;\n        this.logger = logger;\n    }\n    transition(transition) {\n        const start = transition.startVersion;\n        if (this.version.querySet !== start.querySet || this.version.ts.notEquals(start.ts) || this.version.identity !== start.identity) {\n            throw new Error(`Invalid start version: ${start.ts.toString()}:${start.querySet}`);\n        }\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const value = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(modification.value ?? null);\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: true,\n                            value,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryFailed\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const { errorData } = modification;\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: false,\n                            errorMessage: modification.errorMessage,\n                            errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.remoteQuerySet.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        const _ = modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n        this.version = transition.endVersion;\n    }\n    remoteQueryResults() {\n        return this.remoteQuerySet;\n    }\n    timestamp() {\n        return this.version.ts;\n    }\n} //# sourceMappingURL=remote_query_set.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZW1vdGVfcXVlcnlfc2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDbkI7QUFDYTtBQUN4QyxNQUFNUTtJQUNYQyxZQUFZQyxTQUFTLEVBQUVDLE1BQU0sQ0FBRTtRQUM3QlAsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDUSxPQUFPLEdBQUc7WUFBRUMsVUFBVTtZQUFHQyxJQUFJUiwwQ0FBSUEsQ0FBQ1MsVUFBVSxDQUFDO1lBQUlDLFVBQVU7UUFBRTtRQUNsRSxJQUFJLENBQUNDLGNBQWMsR0FBRyxhQUFhLEdBQUcsSUFBSUM7UUFDMUMsSUFBSSxDQUFDUixTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtJQUNoQjtJQUNBUSxXQUFXQSxVQUFVLEVBQUU7UUFDckIsTUFBTUMsUUFBUUQsV0FBV0UsWUFBWTtRQUNyQyxJQUFJLElBQUksQ0FBQ1QsT0FBTyxDQUFDQyxRQUFRLEtBQUtPLE1BQU1QLFFBQVEsSUFBSSxJQUFJLENBQUNELE9BQU8sQ0FBQ0UsRUFBRSxDQUFDUSxTQUFTLENBQUNGLE1BQU1OLEVBQUUsS0FBSyxJQUFJLENBQUNGLE9BQU8sQ0FBQ0ksUUFBUSxLQUFLSSxNQUFNSixRQUFRLEVBQUU7WUFDL0gsTUFBTSxJQUFJTyxNQUNSLENBQUMsdUJBQXVCLEVBQUVILE1BQU1OLEVBQUUsQ0FBQ1UsUUFBUSxHQUFHLENBQUMsRUFBRUosTUFBTVAsUUFBUSxDQUFDLENBQUM7UUFFckU7UUFDQSxLQUFLLE1BQU1ZLGdCQUFnQk4sV0FBV08sYUFBYSxDQUFFO1lBQ25ELE9BQVFELGFBQWFFLElBQUk7Z0JBQ3ZCLEtBQUs7b0JBQWdCO3dCQUNuQixNQUFNakIsWUFBWSxJQUFJLENBQUNBLFNBQVMsQ0FBQ2UsYUFBYUcsT0FBTzt3QkFDckQsSUFBSWxCLFdBQVc7NEJBQ2IsS0FBSyxNQUFNbUIsUUFBUUosYUFBYUssUUFBUSxDQUFFO2dDQUN4Q3ZCLDJEQUFjQSxDQUFDLElBQUksQ0FBQ0ksTUFBTSxFQUFFLFFBQVEsU0FBU0QsV0FBV21COzRCQUMxRDt3QkFDRjt3QkFDQSxNQUFNN0IsUUFBUUssOERBQVlBLENBQUNvQixhQUFhekIsS0FBSyxJQUFJO3dCQUNqRCxJQUFJLENBQUNpQixjQUFjLENBQUNjLEdBQUcsQ0FBQ04sYUFBYUcsT0FBTyxFQUFFOzRCQUM1Q0ksU0FBUzs0QkFDVGhDOzRCQUNBOEIsVUFBVUwsYUFBYUssUUFBUTt3QkFDakM7d0JBQ0E7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBZTt3QkFDbEIsTUFBTXBCLFlBQVksSUFBSSxDQUFDQSxTQUFTLENBQUNlLGFBQWFHLE9BQU87d0JBQ3JELElBQUlsQixXQUFXOzRCQUNiLEtBQUssTUFBTW1CLFFBQVFKLGFBQWFLLFFBQVEsQ0FBRTtnQ0FDeEN2QiwyREFBY0EsQ0FBQyxJQUFJLENBQUNJLE1BQU0sRUFBRSxRQUFRLFNBQVNELFdBQVdtQjs0QkFDMUQ7d0JBQ0Y7d0JBQ0EsTUFBTSxFQUFFSSxTQUFTLEVBQUUsR0FBR1I7d0JBQ3RCLElBQUksQ0FBQ1IsY0FBYyxDQUFDYyxHQUFHLENBQUNOLGFBQWFHLE9BQU8sRUFBRTs0QkFDNUNJLFNBQVM7NEJBQ1RFLGNBQWNULGFBQWFTLFlBQVk7NEJBQ3ZDRCxXQUFXQSxjQUFjLEtBQUssSUFBSTVCLDhEQUFZQSxDQUFDNEIsYUFBYSxLQUFLOzRCQUNqRUgsVUFBVUwsYUFBYUssUUFBUTt3QkFDakM7d0JBQ0E7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBZ0I7d0JBQ25CLElBQUksQ0FBQ2IsY0FBYyxDQUFDa0IsTUFBTSxDQUFDVixhQUFhRyxPQUFPO3dCQUMvQztvQkFDRjtnQkFDQTtvQkFBUzt3QkFDUCxNQUFNUSxJQUFJWDt3QkFDVixNQUFNLElBQUlGLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRUUsYUFBYUUsSUFBSSxDQUFDLENBQUM7b0JBQzdEO1lBQ0Y7UUFDRjtRQUNBLElBQUksQ0FBQ2YsT0FBTyxHQUFHTyxXQUFXa0IsVUFBVTtJQUN0QztJQUNBQyxxQkFBcUI7UUFDbkIsT0FBTyxJQUFJLENBQUNyQixjQUFjO0lBQzVCO0lBQ0FzQixZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMzQixPQUFPLENBQUNFLEVBQUU7SUFDeEI7QUFDRixFQUNBLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3JlbW90ZV9xdWVyeV9zZXQuanM/YWNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uL2xvbmcuanNcIjtcbmltcG9ydCB7IGxvZ0ZvckZ1bmN0aW9uIH0gZnJvbSBcIi4uL2xvZ2dpbmcuanNcIjtcbmV4cG9ydCBjbGFzcyBSZW1vdGVRdWVyeVNldCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5UGF0aCwgbG9nZ2VyKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZlcnNpb25cIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlbW90ZVF1ZXJ5U2V0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJxdWVyeVBhdGhcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvZ2dlclwiKTtcbiAgICB0aGlzLnZlcnNpb24gPSB7IHF1ZXJ5U2V0OiAwLCB0czogTG9uZy5mcm9tTnVtYmVyKDApLCBpZGVudGl0eTogMCB9O1xuICAgIHRoaXMucmVtb3RlUXVlcnlTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMucXVlcnlQYXRoID0gcXVlcnlQYXRoO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICB9XG4gIHRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgIGNvbnN0IHN0YXJ0ID0gdHJhbnNpdGlvbi5zdGFydFZlcnNpb247XG4gICAgaWYgKHRoaXMudmVyc2lvbi5xdWVyeVNldCAhPT0gc3RhcnQucXVlcnlTZXQgfHwgdGhpcy52ZXJzaW9uLnRzLm5vdEVxdWFscyhzdGFydC50cykgfHwgdGhpcy52ZXJzaW9uLmlkZW50aXR5ICE9PSBzdGFydC5pZGVudGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgSW52YWxpZCBzdGFydCB2ZXJzaW9uOiAke3N0YXJ0LnRzLnRvU3RyaW5nKCl9OiR7c3RhcnQucXVlcnlTZXR9YFxuICAgICAgKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtb2RpZmljYXRpb24gb2YgdHJhbnNpdGlvbi5tb2RpZmljYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKG1vZGlmaWNhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJRdWVyeVVwZGF0ZWRcIjoge1xuICAgICAgICAgIGNvbnN0IHF1ZXJ5UGF0aCA9IHRoaXMucXVlcnlQYXRoKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBpZiAocXVlcnlQYXRoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbW9kaWZpY2F0aW9uLmxvZ0xpbmVzKSB7XG4gICAgICAgICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJxdWVyeVwiLCBxdWVyeVBhdGgsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGpzb25Ub0NvbnZleChtb2RpZmljYXRpb24udmFsdWUgPz8gbnVsbCk7XG4gICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5zZXQobW9kaWZpY2F0aW9uLnF1ZXJ5SWQsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxvZ0xpbmVzOiBtb2RpZmljYXRpb24ubG9nTGluZXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUXVlcnlGYWlsZWRcIjoge1xuICAgICAgICAgIGNvbnN0IHF1ZXJ5UGF0aCA9IHRoaXMucXVlcnlQYXRoKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBpZiAocXVlcnlQYXRoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbW9kaWZpY2F0aW9uLmxvZ0xpbmVzKSB7XG4gICAgICAgICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJxdWVyeVwiLCBxdWVyeVBhdGgsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IGVycm9yRGF0YSB9ID0gbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQuc2V0KG1vZGlmaWNhdGlvbi5xdWVyeUlkLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogbW9kaWZpY2F0aW9uLmVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9yRGF0YTogZXJyb3JEYXRhICE9PSB2b2lkIDAgPyBqc29uVG9Db252ZXgoZXJyb3JEYXRhKSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGxvZ0xpbmVzOiBtb2RpZmljYXRpb24ubG9nTGluZXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUXVlcnlSZW1vdmVkXCI6IHtcbiAgICAgICAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0LmRlbGV0ZShtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF8gPSBtb2RpZmljYXRpb247XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1vZGlmaWNhdGlvbiAke21vZGlmaWNhdGlvbi50eXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmVyc2lvbiA9IHRyYW5zaXRpb24uZW5kVmVyc2lvbjtcbiAgfVxuICByZW1vdGVRdWVyeVJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3RlUXVlcnlTZXQ7XG4gIH1cbiAgdGltZXN0YW1wKCkge1xuICAgIHJldHVybiB0aGlzLnZlcnNpb24udHM7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbW90ZV9xdWVyeV9zZXQuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJqc29uVG9Db252ZXgiLCJMb25nIiwibG9nRm9yRnVuY3Rpb24iLCJSZW1vdGVRdWVyeVNldCIsImNvbnN0cnVjdG9yIiwicXVlcnlQYXRoIiwibG9nZ2VyIiwidmVyc2lvbiIsInF1ZXJ5U2V0IiwidHMiLCJmcm9tTnVtYmVyIiwiaWRlbnRpdHkiLCJyZW1vdGVRdWVyeVNldCIsIk1hcCIsInRyYW5zaXRpb24iLCJzdGFydCIsInN0YXJ0VmVyc2lvbiIsIm5vdEVxdWFscyIsIkVycm9yIiwidG9TdHJpbmciLCJtb2RpZmljYXRpb24iLCJtb2RpZmljYXRpb25zIiwidHlwZSIsInF1ZXJ5SWQiLCJsaW5lIiwibG9nTGluZXMiLCJzZXQiLCJzdWNjZXNzIiwiZXJyb3JEYXRhIiwiZXJyb3JNZXNzYWdlIiwiZGVsZXRlIiwiXyIsImVuZFZlcnNpb24iLCJyZW1vdGVRdWVyeVJlc3VsdHMiLCJ0aW1lc3RhbXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/request_manager.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestManager: () => (/* binding */ RequestManager)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass RequestManager {\n    constructor(logger){\n        this.logger = logger;\n        __publicField(this, \"inflightRequests\");\n        __publicField(this, \"requestsOlderThanRestart\");\n        this.inflightRequests = /* @__PURE__ */ new Map();\n        this.requestsOlderThanRestart = /* @__PURE__ */ new Set();\n    }\n    request(message, sent) {\n        const result = new Promise((resolve)=>{\n            const status = sent ? \"Requested\" : \"NotSent\";\n            this.inflightRequests.set(message.requestId, {\n                message,\n                status: {\n                    status,\n                    requestedAt: /* @__PURE__ */ new Date(),\n                    onResult: resolve\n                }\n            });\n        });\n        return result;\n    }\n    /**\n   * Update the state after receiving a response.\n   *\n   * @returns A RequestId if the request is complete and its optimistic update\n   * can be dropped, null otherwise.\n   */ onResponse(response) {\n        const requestInfo = this.inflightRequests.get(response.requestId);\n        if (requestInfo === void 0) {\n            return null;\n        }\n        if (requestInfo.status.status === \"Completed\") {\n            return null;\n        }\n        const udfType = requestInfo.message.type === \"Mutation\" ? \"mutation\" : \"action\";\n        const udfPath = requestInfo.message.udfPath;\n        for (const line of response.logLines){\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"info\", udfType, udfPath, line);\n        }\n        const status = requestInfo.status;\n        let result;\n        let onResolve;\n        if (response.success) {\n            result = {\n                success: true,\n                logLines: response.logLines,\n                value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(response.result)\n            };\n            onResolve = ()=>status.onResult(result);\n        } else {\n            const errorMessage = response.result;\n            const { errorData } = response;\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"error\", udfType, udfPath, errorMessage);\n            result = {\n                success: false,\n                errorMessage,\n                errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                logLines: response.logLines\n            };\n            onResolve = ()=>status.onResult(result);\n        }\n        if (response.type === \"ActionResponse\" || !response.success) {\n            onResolve();\n            this.inflightRequests.delete(response.requestId);\n            this.requestsOlderThanRestart.delete(response.requestId);\n            return {\n                requestId: response.requestId,\n                result\n            };\n        }\n        requestInfo.status = {\n            status: \"Completed\",\n            result,\n            ts: response.ts,\n            onResolve\n        };\n        return null;\n    }\n    // Remove and returns completed requests.\n    removeCompleted(ts) {\n        const completeRequests = /* @__PURE__ */ new Map();\n        for (const [requestId, requestInfo] of this.inflightRequests.entries()){\n            const status = requestInfo.status;\n            if (status.status === \"Completed\" && status.ts.lessThanOrEqual(ts)) {\n                status.onResolve();\n                completeRequests.set(requestId, status.result);\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n            }\n        }\n        return completeRequests;\n    }\n    restart() {\n        this.requestsOlderThanRestart = new Set(this.inflightRequests.keys());\n        const allMessages = [];\n        for (const [requestId, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n            if (value.message.type === \"Mutation\") {\n                allMessages.push(value.message);\n            } else {\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n                if (value.status.status === \"Completed\") {\n                    throw new Error(\"Action should never be in 'Completed' state\");\n                }\n                value.status.onResult({\n                    success: false,\n                    errorMessage: \"Connection lost while action was in flight\",\n                    logLines: []\n                });\n            }\n        }\n        return allMessages;\n    }\n    resume() {\n        const allMessages = [];\n        for (const [, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n        }\n        return allMessages;\n    }\n    /**\n   * @returns true if there are any requests that have been requested but have\n   * not be completed yet.\n   */ hasIncompleteRequests() {\n        for (const requestInfo of this.inflightRequests.values()){\n            if (requestInfo.status.status === \"Requested\") {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n   * @returns true if there are any inflight requests, including ones that have\n   * completed on the server, but have not been applied.\n   */ hasInflightRequests() {\n        return this.inflightRequests.size > 0;\n    }\n    /**\n   * @returns true if there are any inflight requests, that have been hanging around\n   * since prior to the most recent restart.\n   */ hasSyncedPastLastReconnect() {\n        return this.requestsOlderThanRestart.size === 0;\n    }\n    timeOfOldestInflightRequest() {\n        if (this.inflightRequests.size === 0) {\n            return null;\n        }\n        let oldestInflightRequest = Date.now();\n        for (const request of this.inflightRequests.values()){\n            if (request.status.status !== \"Completed\") {\n                if (request.status.requestedAt.getTime() < oldestInflightRequest) {\n                    oldestInflightRequest = request.status.requestedAt.getTime();\n                }\n            }\n        }\n        return new Date(oldestInflightRequest);\n    }\n} //# sourceMappingURL=request_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZXF1ZXN0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ25EO0FBQ047QUFDeEMsTUFBTU87SUFDWEMsWUFBWUMsTUFBTSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0EsTUFBTSxHQUFHQTtRQUNkTCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDTSxnQkFBZ0IsR0FBRyxhQUFhLEdBQUcsSUFBSUM7UUFDNUMsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxhQUFhLEdBQUcsSUFBSUM7SUFDdEQ7SUFDQUMsUUFBUUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7UUFDckIsTUFBTUMsU0FBUyxJQUFJQyxRQUFRLENBQUNDO1lBQzFCLE1BQU1DLFNBQVNKLE9BQU8sY0FBYztZQUNwQyxJQUFJLENBQUNOLGdCQUFnQixDQUFDVyxHQUFHLENBQUNOLFFBQVFPLFNBQVMsRUFBRTtnQkFDM0NQO2dCQUNBSyxRQUFRO29CQUFFQTtvQkFBUUcsYUFBYSxhQUFhLEdBQUcsSUFBSUM7b0JBQVFDLFVBQVVOO2dCQUFRO1lBQy9FO1FBQ0Y7UUFDQSxPQUFPRjtJQUNUO0lBQ0E7Ozs7O0dBS0MsR0FDRFMsV0FBV0MsUUFBUSxFQUFFO1FBQ25CLE1BQU1DLGNBQWMsSUFBSSxD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QUksQ0FBQzNDLGdCQUFnQixDQUFDNEMsSUFBSSxHQUFHO0lBQ3RDO0lBQ0E7OztHQUdDLEdBQ0RDLDZCQUE2QjtRQUMzQixPQUFPLElBQUksQ0FBQzNDLHdCQUF3QixDQUFDMEMsSUFBSSxLQUFLO0lBQ2hEO0lBQ0FFLDhCQUE4QjtRQUM1QixJQUFJLElBQUksQ0FBQzlDLGdCQUFnQixDQUFDNEMsSUFBSSxLQUFLLEdBQUc7WUFDcEMsT0FBTztRQUNUO1FBQ0EsSUFBSUcsd0JBQXdCakMsS0FBS2tDLEdBQUc7UUFDcEMsS0FBSyxNQUFNNUMsV0FBVyxJQUFJLENBQUNKLGdCQUFnQixDQUFDMEMsTUFBTSxHQUFJO1lBQ3BELElBQUl0QyxRQUFRTSxNQUFNLENBQUNBLE1BQU0sS0FBSyxhQUFhO2dCQUN6QyxJQUFJTixRQUFRTSxNQUFNLENBQUNHLFdBQVcsQ0FBQ29DLE9BQU8sS0FBS0YsdUJBQXVCO29CQUNoRUEsd0JBQXdCM0MsUUFBUU0sTUFBTSxDQUFDRyxXQUFXLENBQUNvQyxPQUFPO2dCQUM1RDtZQUNGO1FBQ0Y7UUFDQSxPQUFPLElBQUluQyxLQUFLaUM7SUFDbEI7QUFDRixFQUNBLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3JlcXVlc3RfbWFuYWdlci5qcz8yNzY5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IGxvZ0ZvckZ1bmN0aW9uIH0gZnJvbSBcIi4uL2xvZ2dpbmcuanNcIjtcbmV4cG9ydCBjbGFzcyBSZXF1ZXN0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbmZsaWdodFJlcXVlc3RzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZXF1ZXN0c09sZGVyVGhhblJlc3RhcnRcIik7XG4gICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgcmVxdWVzdChtZXNzYWdlLCBzZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHNlbnQgPyBcIlJlcXVlc3RlZFwiIDogXCJOb3RTZW50XCI7XG4gICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuc2V0KG1lc3NhZ2UucmVxdWVzdElkLCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogeyBzdGF0dXMsIHJlcXVlc3RlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgb25SZXN1bHQ6IHJlc29sdmUgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzdGF0ZSBhZnRlciByZWNlaXZpbmcgYSByZXNwb25zZS5cbiAgICpcbiAgICogQHJldHVybnMgQSBSZXF1ZXN0SWQgaWYgdGhlIHJlcXVlc3QgaXMgY29tcGxldGUgYW5kIGl0cyBvcHRpbWlzdGljIHVwZGF0ZVxuICAgKiBjYW4gYmUgZHJvcHBlZCwgbnVsbCBvdGhlcndpc2UuXG4gICAqL1xuICBvblJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZ2V0KHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgaWYgKHJlcXVlc3RJbmZvID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdEluZm8uc3RhdHVzLnN0YXR1cyA9PT0gXCJDb21wbGV0ZWRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVkZlR5cGUgPSByZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIiA/IFwibXV0YXRpb25cIiA6IFwiYWN0aW9uXCI7XG4gICAgY29uc3QgdWRmUGF0aCA9IHJlcXVlc3RJbmZvLm1lc3NhZ2UudWRmUGF0aDtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcG9uc2UubG9nTGluZXMpIHtcbiAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgdWRmVHlwZSwgdWRmUGF0aCwgbGluZSk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXR1cyA9IHJlcXVlc3RJbmZvLnN0YXR1cztcbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBvblJlc29sdmU7XG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbG9nTGluZXM6IHJlc3BvbnNlLmxvZ0xpbmVzLFxuICAgICAgICB2YWx1ZToganNvblRvQ29udmV4KHJlc3BvbnNlLnJlc3VsdClcbiAgICAgIH07XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgY29uc3QgeyBlcnJvckRhdGEgfSA9IHJlc3BvbnNlO1xuICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiZXJyb3JcIiwgdWRmVHlwZSwgdWRmUGF0aCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgICAgZXJyb3JEYXRhOiBlcnJvckRhdGEgIT09IHZvaWQgMCA/IGpzb25Ub0NvbnZleChlcnJvckRhdGEpIDogdm9pZCAwLFxuICAgICAgICBsb2dMaW5lczogcmVzcG9uc2UubG9nTGluZXNcbiAgICAgIH07XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwiQWN0aW9uUmVzcG9uc2VcIiB8fCAhcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgb25SZXNvbHZlKCk7XG4gICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZGVsZXRlKHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUocmVzcG9uc2UucmVxdWVzdElkKTtcbiAgICAgIHJldHVybiB7IHJlcXVlc3RJZDogcmVzcG9uc2UucmVxdWVzdElkLCByZXN1bHQgfTtcbiAgICB9XG4gICAgcmVxdWVzdEluZm8uc3RhdHVzID0ge1xuICAgICAgc3RhdHVzOiBcIkNvbXBsZXRlZFwiLFxuICAgICAgcmVzdWx0LFxuICAgICAgdHM6IHJlc3BvbnNlLnRzLFxuICAgICAgb25SZXNvbHZlXG4gICAgfTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBSZW1vdmUgYW5kIHJldHVybnMgY29tcGxldGVkIHJlcXVlc3RzLlxuICByZW1vdmVDb21wbGV0ZWQodHMpIHtcbiAgICBjb25zdCBjb21wbGV0ZVJlcXVlc3RzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IFtyZXF1ZXN0SWQsIHJlcXVlc3RJbmZvXSBvZiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZW50cmllcygpKSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSByZXF1ZXN0SW5mby5zdGF0dXM7XG4gICAgICBpZiAoc3RhdHVzLnN0YXR1cyA9PT0gXCJDb21wbGV0ZWRcIiAmJiBzdGF0dXMudHMubGVzc1RoYW5PckVxdWFsKHRzKSkge1xuICAgICAgICBzdGF0dXMub25SZXNvbHZlKCk7XG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdHMuc2V0KHJlcXVlc3RJZCwgc3RhdHVzLnJlc3VsdCk7XG4gICAgICAgIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wbGV0ZVJlcXVlc3RzO1xuICB9XG4gIHJlc3RhcnQoKSB7XG4gICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQgPSBuZXcgU2V0KHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5rZXlzKCkpO1xuICAgIGNvbnN0IGFsbE1lc3NhZ2VzID0gW107XG4gICAgZm9yIChjb25zdCBbcmVxdWVzdElkLCB2YWx1ZV0gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzKSB7XG4gICAgICBpZiAodmFsdWUuc3RhdHVzLnN0YXR1cyA9PT0gXCJOb3RTZW50XCIpIHtcbiAgICAgICAgdmFsdWUuc3RhdHVzLnN0YXR1cyA9IFwiUmVxdWVzdGVkXCI7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLm1lc3NhZ2UudHlwZSA9PT0gXCJNdXRhdGlvblwiKSB7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICBpZiAodmFsdWUuc3RhdHVzLnN0YXR1cyA9PT0gXCJDb21wbGV0ZWRcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFjdGlvbiBzaG91bGQgbmV2ZXIgYmUgaW4gJ0NvbXBsZXRlZCcgc3RhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUuc3RhdHVzLm9uUmVzdWx0KHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsb3N0IHdoaWxlIGFjdGlvbiB3YXMgaW4gZmxpZ2h0XCIsXG4gICAgICAgICAgbG9nTGluZXM6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsTWVzc2FnZXM7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGNvbnN0IGFsbE1lc3NhZ2VzID0gW107XG4gICAgZm9yIChjb25zdCBbLCB2YWx1ZV0gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzKSB7XG4gICAgICBpZiAodmFsdWUuc3RhdHVzLnN0YXR1cyA9PT0gXCJOb3RTZW50XCIpIHtcbiAgICAgICAgdmFsdWUuc3RhdHVzLnN0YXR1cyA9IFwiUmVxdWVzdGVkXCI7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsTWVzc2FnZXM7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGFueSByZXF1ZXN0cyB0aGF0IGhhdmUgYmVlbiByZXF1ZXN0ZWQgYnV0IGhhdmVcbiAgICogbm90IGJlIGNvbXBsZXRlZCB5ZXQuXG4gICAqL1xuICBoYXNJbmNvbXBsZXRlUmVxdWVzdHMoKSB7XG4gICAgZm9yIChjb25zdCByZXF1ZXN0SW5mbyBvZiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChyZXF1ZXN0SW5mby5zdGF0dXMuc3RhdHVzID09PSBcIlJlcXVlc3RlZFwiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGFueSBpbmZsaWdodCByZXF1ZXN0cywgaW5jbHVkaW5nIG9uZXMgdGhhdCBoYXZlXG4gICAqIGNvbXBsZXRlZCBvbiB0aGUgc2VydmVyLCBidXQgaGF2ZSBub3QgYmVlbiBhcHBsaWVkLlxuICAgKi9cbiAgaGFzSW5mbGlnaHRSZXF1ZXN0cygpIHtcbiAgICByZXR1cm4gdGhpcy5pbmZsaWdodFJlcXVlc3RzLnNpemUgPiAwO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgaW5mbGlnaHQgcmVxdWVzdHMsIHRoYXQgaGF2ZSBiZWVuIGhhbmdpbmcgYXJvdW5kXG4gICAqIHNpbmNlIHByaW9yIHRvIHRoZSBtb3N0IHJlY2VudCByZXN0YXJ0LlxuICAgKi9cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0LnNpemUgPT09IDA7XG4gIH1cbiAgdGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmluZmxpZ2h0UmVxdWVzdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBvbGRlc3RJbmZsaWdodFJlcXVlc3QgPSBEYXRlLm5vdygpO1xuICAgIGZvciAoY29uc3QgcmVxdWVzdCBvZiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cy5zdGF0dXMgIT09IFwiQ29tcGxldGVkXCIpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzLnJlcXVlc3RlZEF0LmdldFRpbWUoKSA8IG9sZGVzdEluZmxpZ2h0UmVxdWVzdCkge1xuICAgICAgICAgIG9sZGVzdEluZmxpZ2h0UmVxdWVzdCA9IHJlcXVlc3Quc3RhdHVzLnJlcXVlc3RlZEF0LmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUob2xkZXN0SW5mbGlnaHRSZXF1ZXN0KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdF9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwianNvblRvQ29udmV4IiwibG9nRm9yRnVuY3Rpb24iLCJSZXF1ZXN0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwibG9nZ2VyIiwiaW5mbGlnaHRSZXF1ZXN0cyIsIk1hcCIsInJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydCIsIlNldCIsInJlcXVlc3QiLCJtZXNzYWdlIiwic2VudCIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhdHVzIiwic2V0IiwicmVxdWVzdElkIiwicmVxdWVzdGVkQXQiLCJEYXRlIiwib25SZXN1bHQiLCJvblJlc3BvbnNlIiwicmVzcG9uc2UiLCJyZXF1ZXN0SW5mbyIsImdldCIsInVkZlR5cGUiLCJ0eXBlIiwidWRmUGF0aCIsImxpbmUiLCJsb2dMaW5lcyIsIm9uUmVzb2x2ZSIsInN1Y2Nlc3MiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRhdGEiLCJkZWxldGUiLCJ0cyIsInJlbW92ZUNvbXBsZXRlZCIsImNvbXBsZXRlUmVxdWVzdHMiLCJlbnRyaWVzIiwibGVzc1RoYW5PckVxdWFsIiwicmVzdGFydCIsImtleXMiLCJhbGxNZXNzYWdlcyIsInB1c2giLCJFcnJvciIsInJlc3VtZSIsImhhc0luY29tcGxldGVSZXF1ZXN0cyIsInZhbHVlcyIsImhhc0luZmxpZ2h0UmVxdWVzdHMiLCJzaXplIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJ0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJvbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJub3ciLCJnZXRUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/session.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newSessionId: () => (/* binding */ newSessionId)\n/* harmony export */ });\n\nfunction newSessionId() {\n    return uuidv4();\n}\nfunction uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0, v = c === \"x\" ? r : r & 3 | 8;\n        return v.toString(16);\n    });\n} //# sourceMappingURL=session.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLFNBQVNBO0lBQ2QsT0FBT0M7QUFDVDtBQUNBLFNBQVNBO0lBQ1AsT0FBTyx1Q0FBdUNDLE9BQU8sQ0FBQyxTQUFTLENBQUNDO1FBQzlELE1BQU1DLElBQUlDLEtBQUtDLE1BQU0sS0FBSyxLQUFLLEdBQUdDLElBQUlKLE1BQU0sTUFBTUMsSUFBSUEsSUFBSSxJQUFJO1FBQzlELE9BQU9HLEVBQUVDLFFBQVEsQ0FBQztJQUNwQjtBQUNGLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvc2Vzc2lvbi5qcz9lMTAyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Nlc3Npb25JZCgpIHtcbiAgcmV0dXJuIHV1aWR2NCgpO1xufVxuZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XG4gICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSBcInhcIiA/IHIgOiByICYgMyB8IDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwXG4iXSwibmFtZXMiOlsibmV3U2Vzc2lvbklkIiwidXVpZHY0IiwicmVwbGFjZSIsImMiLCJyIiwiTWF0aCIsInJhbmRvbSIsInYiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canonicalizeUdfPath: () => (/* binding */ canonicalizeUdfPath),\n/* harmony export */   serializePathAndArgs: () => (/* binding */ serializePathAndArgs)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\nfunction canonicalizeUdfPath(udfPath) {\n    const pieces = udfPath.split(\":\");\n    let moduleName;\n    let functionName;\n    if (pieces.length === 1) {\n        moduleName = pieces[0];\n        functionName = \"default\";\n    } else {\n        moduleName = pieces.slice(0, pieces.length - 1).join(\":\");\n        functionName = pieces[pieces.length - 1];\n    }\n    if (moduleName.endsWith(\".js\")) {\n        moduleName = moduleName.slice(0, -3);\n    }\n    return `${moduleName}:${functionName}`;\n}\nfunction serializePathAndArgs(udfPath, args) {\n    return JSON.stringify({\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n    });\n} //# sourceMappingURL=udf_path_utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy91ZGZfcGF0aF91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUN3QztBQUM5QyxTQUFTQyxvQkFBb0JDLE9BQU87SUFDekMsTUFBTUMsU0FBU0QsUUFBUUUsS0FBSyxDQUFDO0lBQzdCLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJSCxPQUFPSSxNQUFNLEtBQUssR0FBRztRQUN2QkYsYUFBYUYsTUFBTSxDQUFDLEVBQUU7UUFDdEJHLGVBQWU7SUFDakIsT0FBTztRQUNMRCxhQUFhRixPQUFPSyxLQUFLLENBQUMsR0FBR0wsT0FBT0ksTUFBTSxHQUFHLEdBQUdFLElBQUksQ0FBQztRQUNyREgsZUFBZUgsTUFBTSxDQUFDQSxPQUFPSSxNQUFNLEdBQUcsRUFBRTtJQUMxQztJQUNBLElBQUlGLFdBQVdLLFFBQVEsQ0FBQyxRQUFRO1FBQzlCTCxhQUFhQSxXQUFXRyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQ3BDO0lBQ0EsT0FBTyxDQUFDLEVBQUVILFdBQVcsQ0FBQyxFQUFFQyxhQUFhLENBQUM7QUFDeEM7QUFDTyxTQUFTSyxxQkFBcUJULE9BQU8sRUFBRVUsSUFBSTtJQUNoRCxPQUFPQyxLQUFLQyxTQUFTLENBQUM7UUFDcEJaLFNBQVNELG9CQUFvQkM7UUFDN0JVLE1BQU1aLDhEQUFZQSxDQUFDWTtJQUNyQjtBQUNGLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvdWRmX3BhdGhfdXRpbHMuanM/MDVhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpIHtcbiAgY29uc3QgcGllY2VzID0gdWRmUGF0aC5zcGxpdChcIjpcIik7XG4gIGxldCBtb2R1bGVOYW1lO1xuICBsZXQgZnVuY3Rpb25OYW1lO1xuICBpZiAocGllY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgIG1vZHVsZU5hbWUgPSBwaWVjZXNbMF07XG4gICAgZnVuY3Rpb25OYW1lID0gXCJkZWZhdWx0XCI7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlTmFtZSA9IHBpZWNlcy5zbGljZSgwLCBwaWVjZXMubGVuZ3RoIC0gMSkuam9pbihcIjpcIik7XG4gICAgZnVuY3Rpb25OYW1lID0gcGllY2VzW3BpZWNlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBpZiAobW9kdWxlTmFtZS5lbmRzV2l0aChcIi5qc1wiKSkge1xuICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnNsaWNlKDAsIC0zKTtcbiAgfVxuICByZXR1cm4gYCR7bW9kdWxlTmFtZX06JHtmdW5jdGlvbk5hbWV9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgdWRmUGF0aDogY2Fub25pY2FsaXplVWRmUGF0aCh1ZGZQYXRoKSxcbiAgICBhcmdzOiBjb252ZXhUb0pzb24oYXJncylcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11ZGZfcGF0aF91dGlscy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJjYW5vbmljYWxpemVVZGZQYXRoIiwidWRmUGF0aCIsInBpZWNlcyIsInNwbGl0IiwibW9kdWxlTmFtZSIsImZ1bmN0aW9uTmFtZSIsImxlbmd0aCIsInNsaWNlIiwiam9pbiIsImVuZHNXaXRoIiwic2VyaWFsaXplUGF0aEFuZEFyZ3MiLCJhcmdzIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager)\n/* harmony export */ });\n/* harmony import */ var _protocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst CLOSE_NORMAL = 1e3;\nconst CLOSE_GOING_AWAY = 1001;\nconst CLOSE_NO_STATUS = 1005;\nconst CLOSE_NOT_FOUND = 4040;\nclass WebSocketManager {\n    constructor(uri, callbacks, webSocketConstructor, logger){\n        __publicField(this, \"socket\");\n        __publicField(this, \"connectionCount\");\n        __publicField(this, \"lastCloseReason\");\n        /** Upon HTTPS/WSS failure, the first jittered backoff duration, in ms. */ __publicField(this, \"initialBackoff\");\n        /** We backoff exponentially, but we need to cap that--this is the jittered max. */ __publicField(this, \"maxBackoff\");\n        /** How many times have we failed consecutively? */ __publicField(this, \"retries\");\n        /** How long before lack of server response causes us to initiate a reconnect,\n     * in ms */ __publicField(this, \"serverInactivityThreshold\");\n        __publicField(this, \"reconnectDueToServerInactivityTimeout\");\n        __publicField(this, \"uri\");\n        __publicField(this, \"onOpen\");\n        __publicField(this, \"onResume\");\n        __publicField(this, \"onMessage\");\n        __publicField(this, \"webSocketConstructor\");\n        __publicField(this, \"logger\");\n        this.webSocketConstructor = webSocketConstructor;\n        this.socket = {\n            state: \"disconnected\"\n        };\n        this.connectionCount = 0;\n        this.lastCloseReason = \"InitialConnect\";\n        this.initialBackoff = 100;\n        this.maxBackoff = 16e3;\n        this.retries = 0;\n        this.serverInactivityThreshold = 3e4;\n        this.reconnectDueToServerInactivityTimeout = null;\n        this.uri = uri;\n        this.onOpen = callbacks.onOpen;\n        this.onResume = callbacks.onResume;\n        this.onMessage = callbacks.onMessage;\n        this.logger = logger;\n        this.connect();\n    }\n    connect() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.socket.state !== \"disconnected\" && this.socket.state !== \"stopped\") {\n            throw new Error(\"Didn't start connection from disconnected state: \" + this.socket.state);\n        }\n        const ws = new this.webSocketConstructor(this.uri);\n        this._logVerbose(\"constructed WebSocket\");\n        this.socket = {\n            state: \"connecting\",\n            ws,\n            paused: \"no\"\n        };\n        this.resetServerInactivityTimeout();\n        ws.onopen = ()=>{\n            this.logger.logVerbose(\"begin ws.onopen\");\n            if (this.socket.state !== \"connecting\") {\n                throw new Error(\"onopen called with socket not in connecting state\");\n            }\n            this.socket = {\n                state: \"ready\",\n                ws,\n                paused: this.socket.paused === \"yes\" ? \"uninitialized\" : \"no\"\n            };\n            this.resetServerInactivityTimeout();\n            if (this.socket.paused === \"no\") {\n                this.onOpen({\n                    connectionCount: this.connectionCount,\n                    lastCloseReason: this.lastCloseReason\n                });\n            }\n            if (this.lastCloseReason !== \"InitialConnect\") {\n                this.logger.log(\"WebSocket reconnected\");\n            }\n            this.connectionCount += 1;\n            this.lastCloseReason = null;\n        };\n        ws.onerror = (error)=>{\n            const message = error.message;\n            this.logger.log(`WebSocket error: ${message}`);\n        };\n        ws.onmessage = (message)=>{\n            this.resetServerInactivityTimeout();\n            const serverMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(message.data));\n            this._logVerbose(`received ws message with type ${serverMessage.type}`);\n            const response = this.onMessage(serverMessage);\n            if (response.hasSyncedPastLastReconnect) {\n                this.retries = 0;\n            }\n        };\n        ws.onclose = (event)=>{\n            this._logVerbose(\"begin ws.onclose\");\n            if (this.lastCloseReason === null) {\n                this.lastCloseReason = event.reason ?? \"OnCloseInvoked\";\n            }\n            if (event.code !== CLOSE_NORMAL && event.code !== CLOSE_GOING_AWAY && // This commonly gets fired on mobile apps when the app is backgrounded\n            event.code !== CLOSE_NO_STATUS && event.code !== CLOSE_NOT_FOUND) {\n                let msg = `WebSocket closed with code ${event.code}`;\n                if (event.reason) {\n                    msg += `: ${event.reason}`;\n                }\n                this.logger.log(msg);\n            }\n            this.scheduleReconnect();\n            return;\n        };\n    }\n    /**\n   * @returns The state of the {@link Socket}.\n   */ socketState() {\n        return this.socket.state;\n    }\n    /**\n   * @param message - A ClientMessage to send.\n   * @returns Whether the message (might have been) sent.\n   */ sendMessage(message) {\n        this._logVerbose(`sending message with type ${message.type}`);\n        if (this.socket.state === \"ready\" && this.socket.paused === \"no\") {\n            const encodedMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.encodeClientMessage)(message);\n            const request = JSON.stringify(encodedMessage);\n            try {\n                this.socket.ws.send(request);\n            } catch (error) {\n                this.logger.log(`Failed to send message on WebSocket, reconnecting: ${error}`);\n                this.closeAndReconnect(\"FailedToSendMessage\");\n            }\n            return true;\n        }\n        return false;\n    }\n    resetServerInactivityTimeout() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.reconnectDueToServerInactivityTimeout !== null) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n            this.reconnectDueToServerInactivityTimeout = null;\n        }\n        this.reconnectDueToServerInactivityTimeout = setTimeout(()=>{\n            this.closeAndReconnect(\"InactiveServer\");\n        }, this.serverInactivityThreshold);\n    }\n    scheduleReconnect() {\n        this.socket = {\n            state: \"disconnected\"\n        };\n        const backoff = this.nextBackoff();\n        this.logger.log(`Attempting reconnect in ${backoff}ms`);\n        setTimeout(()=>this.connect(), backoff);\n    }\n    /**\n   * Close the WebSocket and schedule a reconnect.\n   *\n   * This should be used when we hit an error and would like to restart the session.\n   */ closeAndReconnect(closeReason) {\n        this._logVerbose(`begin closeAndReconnect with reason ${closeReason}`);\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.lastCloseReason = closeReason;\n                    void this.close();\n                    this.scheduleReconnect();\n                    return;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n    }\n    /**\n   * Close the WebSocket, being careful to clear the onclose handler to avoid re-entrant\n   * calls. Use this instead of directly calling `ws.close()`\n   *\n   * It is the callers responsibility to update the state after this method is called so that the\n   * closed socket is not accessible or used again after this method is called\n   */ close() {\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return Promise.resolve();\n            case \"connecting\":\n                {\n                    const ws = this.socket.ws;\n                    return new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            this._logVerbose(\"Closed after connecting\");\n                            r();\n                        };\n                        ws.onopen = ()=>{\n                            this._logVerbose(\"Opened after connecting\");\n                            ws.close();\n                        };\n                    });\n                }\n            case \"ready\":\n                {\n                    this._logVerbose(\"ws.close called\");\n                    const ws = this.socket.ws;\n                    const result = new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            r();\n                        };\n                    });\n                    ws.close();\n                    return result;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Close the WebSocket and do not reconnect.\n   * @returns A Promise that resolves when the WebSocket `onClose` callback is called.\n   */ terminate() {\n        if (this.reconnectDueToServerInactivityTimeout) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n        }\n        switch(this.socket.state){\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"connecting\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.socket = {\n                        state: \"terminated\"\n                    };\n                    return result;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                    throw new Error(`Invalid websocket state: ${this.socket.state}`);\n                }\n        }\n    }\n    stop() {\n        switch(this.socket.state){\n            case \"terminated\":\n                return Promise.resolve();\n            case \"connecting\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.socket = {\n                        state: \"stopped\"\n                    };\n                    return result;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Create a new WebSocket after a previous `stop()`, unless `terminate()` was\n   * called before.\n   */ restart() {\n        switch(this.socket.state){\n            case \"stopped\":\n                break;\n            case \"terminated\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n            case \"disconnected\":\n                throw new Error(\"`restart()` is only valid after `stop()`\");\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n        this.connect();\n    }\n    pause() {\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"stopped\":\n            case \"terminated\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"yes\"\n                    };\n                    return;\n                }\n            default:\n                {\n                    const _ = this.socket;\n                    return;\n                }\n        }\n    }\n    /**\n   * Resume the state machine if previously paused.\n   */ resume() {\n        switch(this.socket.state){\n            case \"connecting\":\n                this.socket = {\n                    ...this.socket,\n                    paused: \"no\"\n                };\n                return;\n            case \"ready\":\n                if (this.socket.paused === \"uninitialized\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onOpen({\n                        connectionCount: this.connectionCount,\n                        lastCloseReason: this.lastCloseReason\n                    });\n                } else if (this.socket.paused === \"yes\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onResume();\n                }\n                return;\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n                return;\n            default:\n                {\n                    const _ = this.socket;\n                }\n        }\n        this.connect();\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(message);\n    }\n    nextBackoff() {\n        const baseBackoff = this.initialBackoff * Math.pow(2, this.retries);\n        this.retries += 1;\n        const actualBackoff = Math.min(baseBackoff, this.maxBackoff);\n        const jitter = actualBackoff * (Math.random() - 0.5);\n        return actualBackoff + jitter;\n    }\n} //# sourceMappingURL=web_socket_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy93ZWJfc29ja2V0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFJakY7QUFDdkIsTUFBTU8sZUFBZTtBQUNyQixNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLGtCQUFrQjtBQUNqQixNQUFNQztJQUNYQyxZQUFZQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsb0JBQW9CLEVBQUVDLE1BQU0sQ0FBRTtRQUN4RFosY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQix3RUFBd0UsR0FDeEVBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLGlGQUFpRixHQUNqRkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsaURBQWlELEdBQ2pEQSxjQUFjLElBQUksRUFBRTtRQUNwQjthQUNTLEdBQ1RBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNX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TztJQUNkO0lBQ0FHLFlBQVlRLE9BQU8sRUFBRTtRQUNuQixJQUFJLENBQUN4QixNQUFNLENBQUNvQixVQUFVLENBQUNJO0lBQ3pCO0lBQ0F5QixjQUFjO1FBQ1osTUFBTWEsY0FBYyxJQUFJLENBQUN6RCxjQUFjLEdBQUcwRCxLQUFLQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUN6RCxPQUFPO1FBQ2xFLElBQUksQ0FBQ0EsT0FBTyxJQUFJO1FBQ2hCLE1BQU0wRCxnQkFBZ0JGLEtBQUtHLEdBQUcsQ0FBQ0osYUFBYSxJQUFJLENBQUN4RCxVQUFVO1FBQzNELE1BQU02RCxTQUFTRixnQkFBaUJGLENBQUFBLEtBQUtLLE1BQU0sS0FBSyxHQUFFO1FBQ2xELE9BQU9ILGdCQUFnQkU7SUFDekI7QUFDRixFQUNBLDhDQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3dlYl9zb2NrZXRfbWFuYWdlci5qcz8xM2IzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7XG4gIGVuY29kZUNsaWVudE1lc3NhZ2UsXG4gIHBhcnNlU2VydmVyTWVzc2FnZVxufSBmcm9tIFwiLi9wcm90b2NvbC5qc1wiO1xuY29uc3QgQ0xPU0VfTk9STUFMID0gMWUzO1xuY29uc3QgQ0xPU0VfR09JTkdfQVdBWSA9IDEwMDE7XG5jb25zdCBDTE9TRV9OT19TVEFUVVMgPSAxMDA1O1xuY29uc3QgQ0xPU0VfTk9UX0ZPVU5EID0gNDA0MDtcbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IodXJpLCBjYWxsYmFja3MsIHdlYlNvY2tldENvbnN0cnVjdG9yLCBsb2dnZXIpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic29ja2V0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjb25uZWN0aW9uQ291bnRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxhc3RDbG9zZVJlYXNvblwiKTtcbiAgICAvKiogVXBvbiBIVFRQUy9XU1MgZmFpbHVyZSwgdGhlIGZpcnN0IGppdHRlcmVkIGJhY2tvZmYgZHVyYXRpb24sIGluIG1zLiAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbml0aWFsQmFja29mZlwiKTtcbiAgICAvKiogV2UgYmFja29mZiBleHBvbmVudGlhbGx5LCBidXQgd2UgbmVlZCB0byBjYXAgdGhhdC0tdGhpcyBpcyB0aGUgaml0dGVyZWQgbWF4LiAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtYXhCYWNrb2ZmXCIpO1xuICAgIC8qKiBIb3cgbWFueSB0aW1lcyBoYXZlIHdlIGZhaWxlZCBjb25zZWN1dGl2ZWx5PyAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZXRyaWVzXCIpO1xuICAgIC8qKiBIb3cgbG9uZyBiZWZvcmUgbGFjayBvZiBzZXJ2ZXIgcmVzcG9uc2UgY2F1c2VzIHVzIHRvIGluaXRpYXRlIGEgcmVjb25uZWN0LFxuICAgICAqIGluIG1zICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNlcnZlckluYWN0aXZpdHlUaHJlc2hvbGRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlY29ubmVjdER1ZVRvU2VydmVySW5hY3Rpdml0eVRpbWVvdXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInVyaVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25PcGVuXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvblJlc3VtZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25NZXNzYWdlXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibG9nZ2VyXCIpO1xuICAgIHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IgPSB3ZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwiZGlzY29ubmVjdGVkXCIgfTtcbiAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IDA7XG4gICAgdGhpcy5sYXN0Q2xvc2VSZWFzb24gPSBcIkluaXRpYWxDb25uZWN0XCI7XG4gICAgdGhpcy5pbml0aWFsQmFja29mZiA9IDEwMDtcbiAgICB0aGlzLm1heEJhY2tvZmYgPSAxNmUzO1xuICAgIHRoaXMucmV0cmllcyA9IDA7XG4gICAgdGhpcy5zZXJ2ZXJJbmFjdGl2aXR5VGhyZXNob2xkID0gM2U0O1xuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy51cmkgPSB1cmk7XG4gICAgdGhpcy5vbk9wZW4gPSBjYWxsYmFja3Mub25PcGVuO1xuICAgIHRoaXMub25SZXN1bWUgPSBjYWxsYmFja3Mub25SZXN1bWU7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBjYWxsYmFja3Mub25NZXNzYWdlO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIHRoaXMuY29ubmVjdCgpO1xuICB9XG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zb2NrZXQuc3RhdGUgIT09IFwiZGlzY29ubmVjdGVkXCIgJiYgdGhpcy5zb2NrZXQuc3RhdGUgIT09IFwic3RvcHBlZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRGlkbid0IHN0YXJ0IGNvbm5lY3Rpb24gZnJvbSBkaXNjb25uZWN0ZWQgc3RhdGU6IFwiICsgdGhpcy5zb2NrZXQuc3RhdGVcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHdzID0gbmV3IHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IodGhpcy51cmkpO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJjb25zdHJ1Y3RlZCBXZWJTb2NrZXRcIik7XG4gICAgdGhpcy5zb2NrZXQgPSB7XG4gICAgICBzdGF0ZTogXCJjb25uZWN0aW5nXCIsXG4gICAgICB3cyxcbiAgICAgIHBhdXNlZDogXCJub1wiXG4gICAgfTtcbiAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKFwiYmVnaW4gd3Mub25vcGVuXCIpO1xuICAgICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlICE9PSBcImNvbm5lY3RpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbm9wZW4gY2FsbGVkIHdpdGggc29ja2V0IG5vdCBpbiBjb25uZWN0aW5nIHN0YXRlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5zb2NrZXQgPSB7XG4gICAgICAgIHN0YXRlOiBcInJlYWR5XCIsXG4gICAgICAgIHdzLFxuICAgICAgICBwYXVzZWQ6IHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJ5ZXNcIiA/IFwidW5pbml0aWFsaXplZFwiIDogXCJub1wiXG4gICAgICB9O1xuICAgICAgdGhpcy5yZXNldFNlcnZlckluYWN0aXZpdHlUaW1lb3V0KCk7XG4gICAgICBpZiAodGhpcy5zb2NrZXQucGF1c2VkID09PSBcIm5vXCIpIHtcbiAgICAgICAgdGhpcy5vbk9wZW4oe1xuICAgICAgICAgIGNvbm5lY3Rpb25Db3VudDogdGhpcy5jb25uZWN0aW9uQ291bnQsXG4gICAgICAgICAgbGFzdENsb3NlUmVhc29uOiB0aGlzLmxhc3RDbG9zZVJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmxhc3RDbG9zZVJlYXNvbiAhPT0gXCJJbml0aWFsQ29ubmVjdFwiKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIldlYlNvY2tldCByZWNvbm5lY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ICs9IDE7XG4gICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IG51bGw7XG4gICAgfTtcbiAgICB3cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhgV2ViU29ja2V0IGVycm9yOiAke21lc3NhZ2V9YCk7XG4gICAgfTtcbiAgICB3cy5vbm1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgdGhpcy5yZXNldFNlcnZlckluYWN0aXZpdHlUaW1lb3V0KCk7XG4gICAgICBjb25zdCBzZXJ2ZXJNZXNzYWdlID0gcGFyc2VTZXJ2ZXJNZXNzYWdlKEpTT04ucGFyc2UobWVzc2FnZS5kYXRhKSk7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKGByZWNlaXZlZCB3cyBtZXNzYWdlIHdpdGggdHlwZSAke3NlcnZlck1lc3NhZ2UudHlwZX1gKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5vbk1lc3NhZ2Uoc2VydmVyTWVzc2FnZSk7XG4gICAgICBpZiAocmVzcG9uc2UuaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QpIHtcbiAgICAgICAgdGhpcy5yZXRyaWVzID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJiZWdpbiB3cy5vbmNsb3NlXCIpO1xuICAgICAgaWYgKHRoaXMubGFzdENsb3NlUmVhc29uID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMubGFzdENsb3NlUmVhc29uID0gZXZlbnQucmVhc29uID8/IFwiT25DbG9zZUludm9rZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5jb2RlICE9PSBDTE9TRV9OT1JNQUwgJiYgZXZlbnQuY29kZSAhPT0gQ0xPU0VfR09JTkdfQVdBWSAmJiAvLyBUaGlzIGNvbW1vbmx5IGdldHMgZmlyZWQgb24gbW9iaWxlIGFwcHMgd2hlbiB0aGUgYXBwIGlzIGJhY2tncm91bmRlZFxuICAgICAgZXZlbnQuY29kZSAhPT0gQ0xPU0VfTk9fU1RBVFVTICYmIGV2ZW50LmNvZGUgIT09IENMT1NFX05PVF9GT1VORCkge1xuICAgICAgICBsZXQgbXNnID0gYFdlYlNvY2tldCBjbG9zZWQgd2l0aCBjb2RlICR7ZXZlbnQuY29kZX1gO1xuICAgICAgICBpZiAoZXZlbnQucmVhc29uKSB7XG4gICAgICAgICAgbXNnICs9IGA6ICR7ZXZlbnQucmVhc29ufWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKG1zZyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjaGVkdWxlUmVjb25uZWN0KCk7XG4gICAgICByZXR1cm47XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMgVGhlIHN0YXRlIG9mIHRoZSB7QGxpbmsgU29ja2V0fS5cbiAgICovXG4gIHNvY2tldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnNvY2tldC5zdGF0ZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBBIENsaWVudE1lc3NhZ2UgdG8gc2VuZC5cbiAgICogQHJldHVybnMgV2hldGhlciB0aGUgbWVzc2FnZSAobWlnaHQgaGF2ZSBiZWVuKSBzZW50LlxuICAgKi9cbiAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYHNlbmRpbmcgbWVzc2FnZSB3aXRoIHR5cGUgJHttZXNzYWdlLnR5cGV9YCk7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInJlYWR5XCIgJiYgdGhpcy5zb2NrZXQucGF1c2VkID09PSBcIm5vXCIpIHtcbiAgICAgIGNvbnN0IGVuY29kZWRNZXNzYWdlID0gZW5jb2RlQ2xpZW50TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBKU09OLnN0cmluZ2lmeShlbmNvZGVkTWVzc2FnZSk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnNvY2tldC53cy5zZW5kKHJlcXVlc3QpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICAgIGBGYWlsZWQgdG8gc2VuZCBtZXNzYWdlIG9uIFdlYlNvY2tldCwgcmVjb25uZWN0aW5nOiAke2Vycm9yfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkZhaWxlZFRvU2VuZE1lc3NhZ2VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkluYWN0aXZlU2VydmVyXCIpO1xuICAgIH0sIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCk7XG4gIH1cbiAgc2NoZWR1bGVSZWNvbm5lY3QoKSB7XG4gICAgdGhpcy5zb2NrZXQgPSB7IHN0YXRlOiBcImRpc2Nvbm5lY3RlZFwiIH07XG4gICAgY29uc3QgYmFja29mZiA9IHRoaXMubmV4dEJhY2tvZmYoKTtcbiAgICB0aGlzLmxvZ2dlci5sb2coYEF0dGVtcHRpbmcgcmVjb25uZWN0IGluICR7YmFja29mZn1tc2ApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jb25uZWN0KCksIGJhY2tvZmYpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGFuZCBzY2hlZHVsZSBhIHJlY29ubmVjdC5cbiAgICpcbiAgICogVGhpcyBzaG91bGQgYmUgdXNlZCB3aGVuIHdlIGhpdCBhbiBlcnJvciBhbmQgd291bGQgbGlrZSB0byByZXN0YXJ0IHRoZSBzZXNzaW9uLlxuICAgKi9cbiAgY2xvc2VBbmRSZWNvbm5lY3QoY2xvc2VSZWFzb24pIHtcbiAgICB0aGlzLl9sb2dWZXJib3NlKGBiZWdpbiBjbG9zZUFuZFJlY29ubmVjdCB3aXRoIHJlYXNvbiAke2Nsb3NlUmVhc29ufWApO1xuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJkaXNjb25uZWN0ZWRcIjpcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6IHtcbiAgICAgICAgdGhpcy5sYXN0Q2xvc2VSZWFzb24gPSBjbG9zZVJlYXNvbjtcbiAgICAgICAgdm9pZCB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfID0gdGhpcy5zb2NrZXQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0LCBiZWluZyBjYXJlZnVsIHRvIGNsZWFyIHRoZSBvbmNsb3NlIGhhbmRsZXIgdG8gYXZvaWQgcmUtZW50cmFudFxuICAgKiBjYWxscy4gVXNlIHRoaXMgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIGB3cy5jbG9zZSgpYFxuICAgKlxuICAgKiBJdCBpcyB0aGUgY2FsbGVycyByZXNwb25zaWJpbGl0eSB0byB1cGRhdGUgdGhlIHN0YXRlIGFmdGVyIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBzbyB0aGF0IHRoZVxuICAgKiBjbG9zZWQgc29ja2V0IGlzIG5vdCBhY2Nlc3NpYmxlIG9yIHVzZWQgYWdhaW4gYWZ0ZXIgdGhpcyBtZXRob2QgaXMgY2FsbGVkXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwidGVybWluYXRlZFwiOlxuICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjoge1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0LndzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIpID0+IHtcbiAgICAgICAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nVmVyYm9zZShcIkNsb3NlZCBhZnRlciBjb25uZWN0aW5nXCIpO1xuICAgICAgICAgICAgcigpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nVmVyYm9zZShcIk9wZW5lZCBhZnRlciBjb25uZWN0aW5nXCIpO1xuICAgICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJ3cy5jbG9zZSBjYWxsZWRcIik7XG4gICAgICAgIGNvbnN0IHdzID0gdGhpcy5zb2NrZXQud3M7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBQcm9taXNlKChyKSA9PiB7XG4gICAgICAgICAgd3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHIoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgXyA9IHRoaXMuc29ja2V0O1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGFuZCBkbyBub3QgcmVjb25uZWN0LlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBXZWJTb2NrZXQgYG9uQ2xvc2VgIGNhbGxiYWNrIGlzIGNhbGxlZC5cbiAgICovXG4gIHRlcm1pbmF0ZSgpIHtcbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwidGVybWluYXRlZFwiIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF8gPSB0aGlzLnNvY2tldDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBJbnZhbGlkIHdlYnNvY2tldCBzdGF0ZTogJHt0aGlzLnNvY2tldC5zdGF0ZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN0b3AoKSB7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyBzdGF0ZTogXCJzdG9wcGVkXCIgfTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgXyA9IHRoaXMuc29ja2V0O1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgV2ViU29ja2V0IGFmdGVyIGEgcHJldmlvdXMgYHN0b3AoKWAsIHVubGVzcyBgdGVybWluYXRlKClgIHdhc1xuICAgKiBjYWxsZWQgYmVmb3JlLlxuICAgKi9cbiAgcmVzdGFydCgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjpcbiAgICAgIGNhc2UgXCJkaXNjb25uZWN0ZWRcIjpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYHJlc3RhcnQoKWAgaXMgb25seSB2YWxpZCBhZnRlciBgc3RvcCgpYFwiKTtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgXyA9IHRoaXMuc29ja2V0O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcInllc1wiIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgXyA9IHRoaXMuc29ja2V0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXN1bWUgdGhlIHN0YXRlIG1hY2hpbmUgaWYgcHJldmlvdXNseSBwYXVzZWQuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgICAgdGhpcy5zb2NrZXQgPSB7IC4uLnRoaXMuc29ja2V0LCBwYXVzZWQ6IFwibm9cIiB9O1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwicmVhZHlcIjpcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJ1bmluaXRpYWxpemVkXCIpIHtcbiAgICAgICAgICB0aGlzLnNvY2tldCA9IHsgLi4udGhpcy5zb2NrZXQsIHBhdXNlZDogXCJub1wiIH07XG4gICAgICAgICAgdGhpcy5vbk9wZW4oe1xuICAgICAgICAgICAgY29ubmVjdGlvbkNvdW50OiB0aGlzLmNvbm5lY3Rpb25Db3VudCxcbiAgICAgICAgICAgIGxhc3RDbG9zZVJlYXNvbjogdGhpcy5sYXN0Q2xvc2VSZWFzb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvY2tldC5wYXVzZWQgPT09IFwieWVzXCIpIHtcbiAgICAgICAgICB0aGlzLnNvY2tldCA9IHsgLi4udGhpcy5zb2NrZXQsIHBhdXNlZDogXCJub1wiIH07XG4gICAgICAgICAgdGhpcy5vblJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF8gPSB0aGlzLnNvY2tldDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jb25uZWN0KCk7XG4gIH1cbiAgX2xvZ1ZlcmJvc2UobWVzc2FnZSkge1xuICAgIHRoaXMubG9nZ2VyLmxvZ1ZlcmJvc2UobWVzc2FnZSk7XG4gIH1cbiAgbmV4dEJhY2tvZmYoKSB7XG4gICAgY29uc3QgYmFzZUJhY2tvZmYgPSB0aGlzLmluaXRpYWxCYWNrb2ZmICogTWF0aC5wb3coMiwgdGhpcy5yZXRyaWVzKTtcbiAgICB0aGlzLnJldHJpZXMgKz0gMTtcbiAgICBjb25zdCBhY3R1YWxCYWNrb2ZmID0gTWF0aC5taW4oYmFzZUJhY2tvZmYsIHRoaXMubWF4QmFja29mZik7XG4gICAgY29uc3Qgaml0dGVyID0gYWN0dWFsQmFja29mZiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICByZXR1cm4gYWN0dWFsQmFja29mZiArIGppdHRlcjtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViX3NvY2tldF9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiZW5jb2RlQ2xpZW50TWVzc2FnZSIsInBhcnNlU2VydmVyTWVzc2FnZSIsIkNMT1NFX05PUk1BTCIsIkNMT1NFX0dPSU5HX0FXQVkiLCJDTE9TRV9OT19TVEFUVVMiLCJDTE9TRV9OT1RfRk9VTkQiLCJXZWJTb2NrZXRNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ1cmkiLCJjYWxsYmFja3MiLCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvciIsImxvZ2dlciIsInNvY2tldCIsInN0YXRlIiwiY29ubmVjdGlvbkNvdW50IiwibGFzdENsb3NlUmVhc29uIiwiaW5pdGlhbEJhY2tvZmYiLCJtYXhCYWNrb2ZmIiwicmV0cmllcyIsInNlcnZlckluYWN0aXZpdHlUaHJlc2hvbGQiLCJyZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0Iiwib25PcGVuIiwib25SZXN1bWUiLCJvbk1lc3NhZ2UiLCJjb25uZWN0IiwiRXJyb3IiLCJ3cyIsIl9sb2dWZXJib3NlIiwicGF1c2VkIiwicmVzZXRTZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCIsIm9ub3BlbiIsImxvZ1ZlcmJvc2UiLCJsb2ciLCJvbmVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwib25tZXNzYWdlIiwic2VydmVyTWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJ0eXBlIiwicmVzcG9uc2UiLCJoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCIsIm9uY2xvc2UiLCJldmVudCIsInJlYXNvbiIsImNvZGUiLCJtc2ciLCJzY2hlZHVsZVJlY29ubmVjdCIsInNvY2tldFN0YXRlIiwic2VuZE1lc3NhZ2UiLCJlbmNvZGVkTWVzc2FnZSIsInJlcXVlc3QiLCJzdHJpbmdpZnkiLCJzZW5kIiwiY2xvc2VBbmRSZWNvbm5lY3QiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmFja29mZiIsIm5leHRCYWNrb2ZmIiwiY2xvc2VSZWFzb24iLCJjbG9zZSIsIl8iLCJQcm9taXNlIiwicmVzb2x2ZSIsInIiLCJyZXN1bHQiLCJ0ZXJtaW5hdGUiLCJzdG9wIiwicmVzdGFydCIsInBhdXNlIiwicmVzdW1lIiwiYmFzZUJhY2tvZmYiLCJNYXRoIiwicG93IiwiYWN0dWFsQmFja29mZiIsIm1pbiIsImppdHRlciIsInJhbmRvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/common/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/common/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSimpleObject: () => (/* binding */ isSimpleObject),\n/* harmony export */   parseArgs: () => (/* binding */ parseArgs),\n/* harmony export */   validateDeploymentUrl: () => (/* binding */ validateDeploymentUrl)\n/* harmony export */ });\n\nfunction parseArgs(args) {\n    if (args === void 0) {\n        return {};\n    }\n    if (!isSimpleObject(args)) {\n        throw new Error(`The arguments to a Convex function must be an object. Received: ${args}`);\n    }\n    return args;\n}\nfunction validateDeploymentUrl(deploymentUrl) {\n    if (typeof deploymentUrl === \"undefined\") {\n        throw new Error(`Client created with undefined deployment address. If you used an environment variable, check that it's set.`);\n    }\n    if (typeof deploymentUrl !== \"string\") {\n        throw new Error(`Invalid deployment address: found ${deploymentUrl}\".`);\n    }\n    if (!(deploymentUrl.startsWith(\"http:\") || deploymentUrl.startsWith(\"https:\"))) {\n        throw new Error(`Invalid deployment address: Must start with \"https://\" or \"http://\". Found \"${deploymentUrl}\".`);\n    }\n    try {\n        new URL(deploymentUrl);\n    } catch  {\n        throw new Error(`Invalid deployment address: \"${deploymentUrl}\" is not a valid URL. If you believe this URL is correct, use the \\`skipConvexDeploymentUrlCheck\\` option to bypass this.`);\n    }\n    if (deploymentUrl.endsWith(\".convex.site\")) {\n        throw new Error(`Invalid deployment address: \"${deploymentUrl}\" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \\`skipConvexDeploymentUrlCheck\\` option to bypass this.`);\n    }\n}\nfunction isSimpleObject(value) {\n    const isObject = typeof value === \"object\";\n    const prototype = Object.getPrototypeOf(value);\n    const isSimple = prototype === null || prototype === Object.prototype || // Objects generated from other contexts (e.g. across Node.js `vm` modules) will not satisfy the previous\n    // conditions but are still simple objects.\n    prototype?.constructor?.name === \"Object\";\n    return isObject && isSimple;\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2NvbW1vbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNOLFNBQVNBLFVBQVVDLElBQUk7SUFDNUIsSUFBSUEsU0FBUyxLQUFLLEdBQUc7UUFDbkIsT0FBTyxDQUFDO0lBQ1Y7SUFDQSxJQUFJLENBQUNDLGVBQWVELE9BQU87UUFDekIsTUFBTSxJQUFJRSxNQUNSLENBQUMsZ0VBQWdFLEVBQUVGLEtBQUssQ0FBQztJQUU3RTtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxTQUFTRyxzQkFBc0JDLGFBQWE7SUFDakQsSUFBSSxPQUFPQSxrQkFBa0IsYUFBYTtRQUN4QyxNQUFNLElBQUlGLE1BQ1IsQ0FBQywyR0FBMkcsQ0FBQztJQUVqSDtJQUNBLElBQUksT0FBT0Usa0JBQWtCLFVBQVU7UUFDckMsTUFBTSxJQUFJRixNQUNSLENBQUMsa0NBQWtDLEVBQUVFLGNBQWMsRUFBRSxDQUFDO0lBRTFEO0lBQ0EsSUFBSSxDQUFFQSxDQUFBQSxjQUFjQyxVQUFVLENBQUMsWUFBWUQsY0FBY0MsVUFBVSxDQUFDLFNBQVEsR0FBSTtRQUM5RSxNQUFNLElBQUlILE1BQ1IsQ0FBQyw0RUFBNEUsRUFBRUUsY0FBYyxFQUFFLENBQUM7SUFFcEc7SUFDQSxJQUFJO1FBQ0YsSUFBSUUsSUFBSUY7SUFDVixFQUFFLE9BQU07UUFDTixNQUFNLElBQUlGLE1BQ1IsQ0FBQyw2QkFBNkIsRUFBRUUsY0FBYyx5SEFBeUgsQ0FBQztJQUU1SztJQUNBLElBQUlBLGNBQWNHLFFBQVEsQ0FBQyxpQkFBaUI7UUFDMUMsTUFBTSxJQUFJTCxNQUNSLENBQUMsNkJBQTZCLEVBQUVFLGNBQWMsc05BQXNOLENBQUM7SUFFelE7QUFDRjtBQUNPLFNBQVNILGVBQWVPLEtBQUs7SUFDbEMsTUFBTUMsV0FBVyxPQUFPRCxVQUFVO0lBQ2xDLE1BQU1FLFlBQVlDLE9BQU9DLGNBQWMsQ0FBQ0o7SUFDeEMsTUFBTUssV0FBV0gsY0FBYyxRQUFRQSxjQUFjQyxPQUFPRCxTQUFTLElBQUkseUdBQXlHO0lBQ2xMLDJDQUEyQztJQUMzQ0EsV0FBV0ksYUFBYUMsU0FBUztJQUNqQyxPQUFPTixZQUFZSTtBQUNyQixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vY29tbW9uL2luZGV4LmpzP2IzMWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcmdzKGFyZ3MpIHtcbiAgaWYgKGFyZ3MgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBpZiAoIWlzU2ltcGxlT2JqZWN0KGFyZ3MpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBhcmd1bWVudHMgdG8gYSBDb252ZXggZnVuY3Rpb24gbXVzdCBiZSBhbiBvYmplY3QuIFJlY2VpdmVkOiAke2FyZ3N9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVEZXBsb3ltZW50VXJsKGRlcGxveW1lbnRVcmwpIHtcbiAgaWYgKHR5cGVvZiBkZXBsb3ltZW50VXJsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENsaWVudCBjcmVhdGVkIHdpdGggdW5kZWZpbmVkIGRlcGxveW1lbnQgYWRkcmVzcy4gSWYgeW91IHVzZWQgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUsIGNoZWNrIHRoYXQgaXQncyBzZXQuYFxuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXBsb3ltZW50VXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBmb3VuZCAke2RlcGxveW1lbnRVcmx9XCIuYFxuICAgICk7XG4gIH1cbiAgaWYgKCEoZGVwbG95bWVudFVybC5zdGFydHNXaXRoKFwiaHR0cDpcIikgfHwgZGVwbG95bWVudFVybC5zdGFydHNXaXRoKFwiaHR0cHM6XCIpKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogTXVzdCBzdGFydCB3aXRoIFwiaHR0cHM6Ly9cIiBvciBcImh0dHA6Ly9cIi4gRm91bmQgXCIke2RlcGxveW1lbnRVcmx9XCIuYFxuICAgICk7XG4gIH1cbiAgdHJ5IHtcbiAgICBuZXcgVVJMKGRlcGxveW1lbnRVcmwpO1xuICB9IGNhdGNoIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBkZXBsb3ltZW50IGFkZHJlc3M6IFwiJHtkZXBsb3ltZW50VXJsfVwiIGlzIG5vdCBhIHZhbGlkIFVSTC4gSWYgeW91IGJlbGlldmUgdGhpcyBVUkwgaXMgY29ycmVjdCwgdXNlIHRoZSBcXGBza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrXFxgIG9wdGlvbiB0byBieXBhc3MgdGhpcy5gXG4gICAgKTtcbiAgfVxuICBpZiAoZGVwbG95bWVudFVybC5lbmRzV2l0aChcIi5jb252ZXguc2l0ZVwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogXCIke2RlcGxveW1lbnRVcmx9XCIgZW5kcyB3aXRoIC5jb252ZXguc2l0ZSwgd2hpY2ggaXMgdXNlZCBmb3IgSFRUUCBBY3Rpb25zLiBDb252ZXggZGVwbG95bWVudCBVUkxzIHR5cGljYWxseSBlbmQgd2l0aCAuY29udmV4LmNsb3VkPyBJZiB5b3UgYmVsaWV2ZSB0aGlzIFVSTCBpcyBjb3JyZWN0LCB1c2UgdGhlIFxcYHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2tcXGAgb3B0aW9uIHRvIGJ5cGFzcyB0aGlzLmBcbiAgICApO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaW1wbGVPYmplY3QodmFsdWUpIHtcbiAgY29uc3QgaXNPYmplY3QgPSB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIGNvbnN0IGlzU2ltcGxlID0gcHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCAvLyBPYmplY3RzIGdlbmVyYXRlZCBmcm9tIG90aGVyIGNvbnRleHRzIChlLmcuIGFjcm9zcyBOb2RlLmpzIGB2bWAgbW9kdWxlcykgd2lsbCBub3Qgc2F0aXNmeSB0aGUgcHJldmlvdXNcbiAgLy8gY29uZGl0aW9ucyBidXQgYXJlIHN0aWxsIHNpbXBsZSBvYmplY3RzLlxuICBwcm90b3R5cGU/LmNvbnN0cnVjdG9yPy5uYW1lID09PSBcIk9iamVjdFwiO1xuICByZXR1cm4gaXNPYmplY3QgJiYgaXNTaW1wbGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJwYXJzZUFyZ3MiLCJhcmdzIiwiaXNTaW1wbGVPYmplY3QiLCJFcnJvciIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsImRlcGxveW1lbnRVcmwiLCJzdGFydHNXaXRoIiwiVVJMIiwiZW5kc1dpdGgiLCJ2YWx1ZSIsImlzT2JqZWN0IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJpc1NpbXBsZSIsImNvbnN0cnVjdG9yIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/common/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/index.js":
/*!***********************************************!*\
  !*** ./node_modules/convex/dist/esm/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n\nconst version = \"1.18.2\"; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLE1BQU1BLFVBQVUsU0FBUyxDQUNoQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2luZGV4LmpzP2RhODQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiMS4xOC4yXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ2ZXJzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/ConvexAuthState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProviderWithAuth: () => (/* binding */ ConvexProviderWithAuth),\n/* harmony export */   useConvexAuth: () => (/* binding */ useConvexAuth)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\nconst ConvexAuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useConvexAuth() {\n    const authContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConvexAuthContext);\n    if (authContext === void 0) {\n        throw new Error(\"Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.\");\n    }\n    return authContext;\n}\nfunction ConvexProviderWithAuth({ children, client, useAuth }) {\n    const { isLoading: authProviderLoading, isAuthenticated: authProviderAuthenticated, fetchAccessToken } = useAuth();\n    const [isConvexAuthenticated, setIsConvexAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    if (authProviderLoading && isConvexAuthenticated !== null) {\n        setIsConvexAuthenticated(null);\n    }\n    if (!authProviderLoading && !authProviderAuthenticated && isConvexAuthenticated !== false) {\n        setIsConvexAuthenticated(false);\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthContext.Provider, {\n        value: {\n            isLoading: isConvexAuthenticated === null,\n            isAuthenticated: authProviderAuthenticated && (isConvexAuthenticated ?? false)\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateFirstEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexProvider, {\n        client\n    }, children), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateLastEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }));\n}\nfunction ConvexAuthStateFirstEffect({ authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isThisEffectRelevant = true;\n        if (authProviderAuthenticated) {\n            client.setAuth(fetchAccessToken, (backendReportsIsAuthenticated)=>{\n                if (isThisEffectRelevant) {\n                    setIsConvexAuthenticated(()=>backendReportsIsAuthenticated);\n                }\n            });\n            return ()=>{\n                isThisEffectRelevant = false;\n                setIsConvexAuthenticated((isConvexAuthenticated)=>isConvexAuthenticated ? false : null);\n            };\n        }\n    }, [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n}\nfunction ConvexAuthStateLastEffect({ authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (authProviderAuthenticated) {\n            return ()=>{\n                client.clearAuth();\n                setIsConvexAuthenticated(()=>null);\n            };\n        }\n    }, [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n} //# sourceMappingURL=ConvexAuthState.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L0NvbnZleEF1dGhTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFNRTtBQUM4QjtBQUM3QyxNQUFNTSxrQ0FBb0JMLG9EQUFhQSxDQUFDLEtBQUs7QUFDdEMsU0FBU007SUFDZCxNQUFNQyxjQUFjTixpREFBVUEsQ0FBQ0k7SUFDL0IsSUFBSUUsZ0JBQWdCLEtBQUssR0FBRztRQUMxQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE9BQU9EO0FBQ1Q7QUFDTyxTQUFTRSx1QkFBdUIsRUFDckNDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1I7SUFDQyxNQUFNLEVBQ0pDLFdBQVdDLG1CQUFtQixFQUM5QkMsaUJBQWlCQyx5QkFBeUIsRUFDMUNDLGdCQUFnQixFQUNqQixHQUFHTDtJQUNKLE1BQU0sQ0FBQ00sdUJBQXVCQyx5QkFBeUIsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ25FLElBQUlXLHVCQUF1QkksMEJBQTBCLE1BQU07UUFDekRDLHlCQUF5QjtJQUMzQjtJQUNBLElBQUksQ0FBQ0wsdUJBQXVCLENBQUNFLDZCQUE2QkUsMEJBQTBCLE9BQU87UUFDekZDLHlCQUF5QjtJQUMzQjtJQUNBLE9BQU8sYUFBYSxpQkFBR3BCLGdEQUFtQixDQUN4Q00sa0JBQWtCZ0IsUUFBUSxFQUMxQjtRQUNFQyxPQUFPO1lBQ0xULFdBQVdLLDBCQUEwQjtZQUNyQ0gsaUJBQWlCQyw2QkFBOEJFLENBQUFBLHlCQUF5QixLQUFJO1FBQzlFO0lBQ0YsR0FDQSxhQUFhLGlCQUFHbkIsZ0RBQW1CLENBQ2pDd0IsNEJBQ0E7UUFDRVA7UUFDQUM7UUFDQUg7UUFDQUg7UUFDQVE7SUFDRixJQUVGLGFBQWEsaUJBQUdwQixnREFBbUIsQ0FBQ0ssc0RBQWNBLEVBQUU7UUFBRU87SUFBTyxHQUFHRCxXQUNoRSxhQUFhLGlCQUFHWCxnREFBbUIsQ0FDakN5QiwyQkFDQTtRQUNFUjtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtJQUNGO0FBR047QUFDQSxTQUFTSSwyQkFBMkIsRUFDbENQLHlCQUF5QixFQUN6QkMsZ0JBQWdCLEVBQ2hCSCxtQkFBbUIsRUFDbkJILE1BQU0sRUFDTlEsd0JBQXdCLEVBQ3pCO0lBQ0NqQixnREFBU0EsQ0FBQztRQUNSLElBQUl1Qix1QkFBdUI7UUFDM0IsSUFBSVQsMkJBQTJCO1lBQzdCTCxPQUFPZSxPQUFPLENBQUNULGtCQUFrQixDQUFDVTtnQkFDaEMsSUFBSUYsc0JBQXNCO29CQUN4Qk4seUJBQXlCLElBQU1RO2dCQUNqQztZQUNGO1lBQ0EsT0FBTztnQkFDTEYsdUJBQXVCO2dCQUN2Qk4seUJBQ0UsQ0FBQ0Qsd0JBQTBCQSx3QkFBd0IsUUFBUTtZQUUvRDtRQUNGO0lBQ0YsR0FBRztRQUNERjtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtLQUNEO0lBQ0QsT0FBTztBQUNUO0FBQ0EsU0FBU0ssMEJBQTBCLEVBQ2pDUix5QkFBeUIsRUFDekJDLGdCQUFnQixFQUNoQkgsbUJBQW1CLEVBQ25CSCxNQUFNLEVBQ05RLHdCQUF3QixFQUN6QjtJQUNDakIsZ0RBQVNBLENBQUM7UUFDUixJQUFJYywyQkFBMkI7WUFDN0IsT0FBTztnQkFDTEwsT0FBT2lCLFNBQVM7Z0JBQ2hCVCx5QkFBeUIsSUFBTTtZQUNqQztRQUNGO0lBQ0YsR0FBRztRQUNESDtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtLQUNEO0lBQ0QsT0FBTztBQUNULEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9Db252ZXhBdXRoU3RhdGUuanM/Y2FhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBSZWFjdCwge1xuICBjcmVhdGVDb250ZXh0LFxuICB1c2VDb250ZXh0LFxuICB1c2VFZmZlY3QsXG4gIHVzZVN0YXRlXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ29udmV4UHJvdmlkZXIgfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmNvbnN0IENvbnZleEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleEF1dGgoKSB7XG4gIGNvbnN0IGF1dGhDb250ZXh0ID0gdXNlQ29udGV4dChDb252ZXhBdXRoQ29udGV4dCk7XG4gIGlmIChhdXRoQ29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBgQ29udmV4UHJvdmlkZXJXaXRoQXV0aGAgKG9yIGBDb252ZXhQcm92aWRlcldpdGhDbGVya2Agb3IgYENvbnZleFByb3ZpZGVyV2l0aEF1dGgwYCkgYXMgYW4gYW5jZXN0b3IgY29tcG9uZW50LiBUaGlzIGNvbXBvbmVudCBtYXkgYmUgbWlzc2luZywgb3IgeW91IG1pZ2h0IGhhdmUgdHdvIGluc3RhbmNlcyBvZiB0aGUgYGNvbnZleC9yZWFjdGAgbW9kdWxlIGxvYWRlZCBpbiB5b3VyIHByb2plY3QuXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBhdXRoQ29udGV4dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBDb252ZXhQcm92aWRlcldpdGhBdXRoKHtcbiAgY2hpbGRyZW4sXG4gIGNsaWVudCxcbiAgdXNlQXV0aFxufSkge1xuICBjb25zdCB7XG4gICAgaXNMb2FkaW5nOiBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgIGlzQXV0aGVudGljYXRlZDogYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgICBmZXRjaEFjY2Vzc1Rva2VuXG4gIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtpc0NvbnZleEF1dGhlbnRpY2F0ZWQsIHNldElzQ29udmV4QXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgaWYgKGF1dGhQcm92aWRlckxvYWRpbmcgJiYgaXNDb252ZXhBdXRoZW50aWNhdGVkICE9PSBudWxsKSB7XG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKG51bGwpO1xuICB9XG4gIGlmICghYXV0aFByb3ZpZGVyTG9hZGluZyAmJiAhYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCAmJiBpc0NvbnZleEF1dGhlbnRpY2F0ZWQgIT09IGZhbHNlKSB7XG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKGZhbHNlKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQ29udmV4QXV0aENvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgaXNMb2FkaW5nOiBpc0NvbnZleEF1dGhlbnRpY2F0ZWQgPT09IG51bGwsXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCAmJiAoaXNDb252ZXhBdXRoZW50aWNhdGVkID8/IGZhbHNlKVxuICAgICAgfVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBDb252ZXhBdXRoU3RhdGVGaXJzdEVmZmVjdCxcbiAgICAgIHtcbiAgICAgICAgYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgICAgICAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgICAgICAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgICAgICAgY2xpZW50LFxuICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnZleFByb3ZpZGVyLCB7IGNsaWVudCB9LCBjaGlsZHJlbiksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBDb252ZXhBdXRoU3RhdGVMYXN0RWZmZWN0LFxuICAgICAge1xuICAgICAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgICAgICBmZXRjaEFjY2Vzc1Rva2VuLFxuICAgICAgICBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIHNldElzQ29udmV4QXV0aGVudGljYXRlZFxuICAgICAgfVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIENvbnZleEF1dGhTdGF0ZUZpcnN0RWZmZWN0KHtcbiAgYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgY2xpZW50LFxuICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRcbn0pIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNUaGlzRWZmZWN0UmVsZXZhbnQgPSB0cnVlO1xuICAgIGlmIChhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkKSB7XG4gICAgICBjbGllbnQuc2V0QXV0aChmZXRjaEFjY2Vzc1Rva2VuLCAoYmFja2VuZFJlcG9ydHNJc0F1dGhlbnRpY2F0ZWQpID0+IHtcbiAgICAgICAgaWYgKGlzVGhpc0VmZmVjdFJlbGV2YW50KSB7XG4gICAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKCgpID0+IGJhY2tlbmRSZXBvcnRzSXNBdXRoZW50aWNhdGVkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc1RoaXNFZmZlY3RSZWxldmFudCA9IGZhbHNlO1xuICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoXG4gICAgICAgICAgKGlzQ29udmV4QXV0aGVudGljYXRlZCkgPT4gaXNDb252ZXhBdXRoZW50aWNhdGVkID8gZmFsc2UgOiBudWxsXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW1xuICAgIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQsXG4gICAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgICBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgIGNsaWVudCxcbiAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRcbiAgXSk7XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gQ29udmV4QXV0aFN0YXRlTGFzdEVmZmVjdCh7XG4gIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQsXG4gIGZldGNoQWNjZXNzVG9rZW4sXG4gIGF1dGhQcm92aWRlckxvYWRpbmcsXG4gIGNsaWVudCxcbiAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkXG59KSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsaWVudC5jbGVhckF1dGgoKTtcbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKCgpID0+IG51bGwpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtcbiAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgIGZldGNoQWNjZXNzVG9rZW4sXG4gICAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgICBjbGllbnQsXG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkXG4gIF0pO1xuICByZXR1cm4gbnVsbDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnZleEF1dGhTdGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJDb252ZXhQcm92aWRlciIsIkNvbnZleEF1dGhDb250ZXh0IiwidXNlQ29udmV4QXV0aCIsImF1dGhDb250ZXh0IiwiRXJyb3IiLCJDb252ZXhQcm92aWRlcldpdGhBdXRoIiwiY2hpbGRyZW4iLCJjbGllbnQiLCJ1c2VBdXRoIiwiaXNMb2FkaW5nIiwiYXV0aFByb3ZpZGVyTG9hZGluZyIsImlzQXV0aGVudGljYXRlZCIsImF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQiLCJmZXRjaEFjY2Vzc1Rva2VuIiwiaXNDb252ZXhBdXRoZW50aWNhdGVkIiwic2V0SXNDb252ZXhBdXRoZW50aWNhdGVkIiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJDb252ZXhBdXRoU3RhdGVGaXJzdEVmZmVjdCIsIkNvbnZleEF1dGhTdGF0ZUxhc3RFZmZlY3QiLCJpc1RoaXNFZmZlY3RSZWxldmFudCIsInNldEF1dGgiLCJiYWNrZW5kUmVwb3J0c0lzQXV0aGVudGljYXRlZCIsImNsZWFyQXV0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js":
/*!************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/auth_helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* binding */ AuthLoading),\n/* harmony export */   Authenticated: () => (/* binding */ Authenticated),\n/* harmony export */   Unauthenticated: () => (/* binding */ Unauthenticated)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n\n\n\nfunction Authenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || !isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction Unauthenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction AuthLoading({ children }) {\n    const { isLoading } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (!isLoading) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n} //# sourceMappingURL=auth_helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2F1dGhfaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ2E7QUFDMkI7QUFDOUMsU0FBU0UsY0FBYyxFQUFFQyxRQUFRLEVBQUU7SUFDeEMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYSxDQUFDQyxpQkFBaUI7UUFDakMsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHTCxnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRTtBQUNPLFNBQVNLLGdCQUFnQixFQUFFTCxRQUFRLEVBQUU7SUFDMUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYUMsaUJBQWlCO1FBQ2hDLE9BQU87SUFDVDtJQUNBLE9BQU8sYUFBYSxpQkFBR0wsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTUc7QUFDbkU7QUFDTyxTQUFTTSxZQUFZLEVBQUVOLFFBQVEsRUFBRTtJQUN0QyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHSCxrRUFBYUE7SUFDbkMsSUFBSSxDQUFDRyxXQUFXO1FBQ2QsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHSixnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRSxFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvYXV0aF9oZWxwZXJzLmpzP2EyZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXhBdXRoIH0gZnJvbSBcIi4vQ29udmV4QXV0aFN0YXRlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gQXV0aGVudGljYXRlZCh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcsIGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQ29udmV4QXV0aCgpO1xuICBpZiAoaXNMb2FkaW5nIHx8ICFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBVbmF1dGhlbnRpY2F0ZWQoeyBjaGlsZHJlbiB9KSB7XG4gIGNvbnN0IHsgaXNMb2FkaW5nLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZUNvbnZleEF1dGgoKTtcbiAgaWYgKGlzTG9hZGluZyB8fCBpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBBdXRoTG9hZGluZyh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcgfSA9IHVzZUNvbnZleEF1dGgoKTtcbiAgaWYgKCFpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGhfaGVscGVycy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnZleEF1dGgiLCJBdXRoZW50aWNhdGVkIiwiY2hpbGRyZW4iLCJpc0xvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJVbmF1dGhlbnRpY2F0ZWQiLCJBdXRoTG9hZGluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/client.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/client.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProvider: () => (/* binding */ ConvexProvider),\n/* harmony export */   ConvexReactClient: () => (/* binding */ ConvexReactClient),\n/* harmony export */   createMutation: () => (/* binding */ createMutation),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useConvex: () => (/* binding */ useConvex),\n/* harmony export */   useMutation: () => (/* binding */ useMutation),\n/* harmony export */   useQuery: () => (/* binding */ useQuery)\n/* harmony export */ });\n/* harmony import */ var _browser_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _browser_logging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../browser/logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\nif (typeof react__WEBPACK_IMPORTED_MODULE_1__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react' not found\");\n}\nif (typeof react_dom__WEBPACK_IMPORTED_MODULE_3__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react-dom' not found\");\n}\nfunction createMutation(mutationReference, client, update) {\n    function mutation(args) {\n        assertNotAccidentalArgument(args);\n        return client.mutation(mutationReference, args, {\n            optimisticUpdate: update\n        });\n    }\n    mutation.withOptimisticUpdate = function withOptimisticUpdate(optimisticUpdate) {\n        if (update !== void 0) {\n            throw new Error(`Already specified optimistic update for mutation ${(0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)}`);\n        }\n        return createMutation(mutationReference, client, optimisticUpdate);\n    };\n    return mutation;\n}\nfunction createAction(actionReference, client) {\n    return function(args) {\n        return client.action(actionReference, args);\n    };\n}\nclass ConvexReactClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - See {@link ConvexReactClientOptions} for a full description.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"cachedSync\");\n        __publicField(this, \"listeners\");\n        __publicField(this, \"options\");\n        __publicField(this, \"closed\", false);\n        __publicField(this, \"_logger\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"fakeUserIdentity\");\n        if (address === void 0) {\n            throw new Error(\"No address provided to ConvexReactClient.\\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.\");\n        }\n        if (typeof address !== \"string\") {\n            throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof address} instead.`);\n        }\n        if (!address.includes(\"://\")) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        this.address = address;\n        this.listeners = /* @__PURE__ */ new Map();\n        this._logger = options?.logger ?? (0,_browser_logging_js__WEBPACK_IMPORTED_MODULE_7__.instantiateDefaultLogger)({\n            verbose: options?.verbose ?? false\n        });\n        this.options = {\n            ...options,\n            logger: this._logger\n        };\n    }\n    /**\n   * Lazily instantiate the `BaseConvexClient` so we don't create the WebSocket\n   * when server-side rendering.\n   *\n   * @internal\n   */ get sync() {\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            return this.cachedSync;\n        }\n        this.cachedSync = new _browser_index_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient(this.address, (updatedQueries)=>this.transition(updatedQueries), this.options);\n        if (this.adminAuth) {\n            this.cachedSync.setAdminAuth(this.adminAuth, this.fakeUserIdentity);\n        }\n        return this.cachedSync;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (typeof fetchToken === \"string\") {\n            throw new Error(\"Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.\");\n        }\n        this.sync.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.sync.clearAuth();\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        this.adminAuth = token;\n        this.fakeUserIdentity = identity;\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            this.sync.setAdminAuth(token, identity);\n        }\n    }\n    /**\n   * Construct a new {@link Watch} on a Convex query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchQueryOptions} options object for this query.\n   *\n   * @returns The {@link Watch} object.\n   */ watchQuery(query, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { queryToken, unsubscribe } = this.sync.subscribe(name, args, options);\n                const currentListeners = this.listeners.get(queryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(queryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(queryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(queryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryResult(name, args);\n                }\n                return void 0;\n            },\n            localQueryLogs: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryLogs(name, args);\n                }\n                return void 0;\n            },\n            journal: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.queryJournal(name, args);\n                }\n                return void 0;\n            }\n        };\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ mutation(mutation, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutation);\n        return this.sync.mutation(name, args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ action(action, ...args) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(action);\n        return this.sync.action(name, ...args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * **Most application code should subscribe to queries instead, using\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ query(query, ...args) {\n        const watch = this.watchQuery(query, ...args);\n        const existingResult = watch.localQueryResult();\n        if (existingResult !== void 0) {\n            return Promise.resolve(existingResult);\n        }\n        return new Promise((resolve, reject)=>{\n            const unsubscribe = watch.onUpdate(()=>{\n                unsubscribe();\n                try {\n                    resolve(watch.localQueryResult());\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return this.sync.connectionState();\n    }\n    /**\n   * Get the logger for this client.\n   *\n   * @returns The {@link Logger} for this client.\n   */ get logger() {\n        return this._logger;\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with a {@link ConvexReactClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.closed = true;\n        this.listeners = /* @__PURE__ */ new Map();\n        if (this.cachedSync) {\n            const sync = this.cachedSync;\n            this.cachedSync = void 0;\n            await sync.close();\n        }\n    }\n    transition(updatedQueries) {\n        react_dom__WEBPACK_IMPORTED_MODULE_3__.unstable_batchedUpdates(()=>{\n            for (const queryToken of updatedQueries){\n                const callbacks = this.listeners.get(queryToken);\n                if (callbacks) {\n                    for (const callback of callbacks){\n                        callback();\n                    }\n                }\n            }\n        });\n    }\n}\nconst ConvexContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction useConvex() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n}\nconst ConvexProvider = ({ client, children })=>{\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(ConvexContext.Provider, {\n        value: client\n    }, children);\n};\nfunction useQuery(query, ...args) {\n    const skip = args[0] === \"skip\";\n    const argsObject = args[0] === \"skip\" ? {} : (0,_common_index_js__WEBPACK_IMPORTED_MODULE_5__.parseArgs)(args[0]);\n    const queryReference = typeof query === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(query) : query;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(queryReference);\n    const queries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>skip ? {} : {\n            query: {\n                query: queryReference,\n                args: argsObject\n            }\n        }, // Stringify args so args that are semantically the same don't trigger a\n    // rerender. Saves developers from adding `useMemo` on every args usage.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)),\n        queryName,\n        skip\n    ]);\n    const results = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_4__.useQueries)(queries);\n    const result = results[\"query\"];\n    if (result instanceof Error) {\n        throw result;\n    }\n    return result;\n}\nfunction useMutation(mutation) {\n    const mutationReference = typeof mutation === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(mutation) : mutation;\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createMutation(mutationReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)\n    ]);\n}\nfunction useAction(action) {\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    const actionReference = typeof action === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(action) : action;\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createAction(actionReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(actionReference)\n    ]);\n}\nfunction assertNotAccidentalArgument(value) {\n    if (typeof value === \"object\" && value !== null && \"bubbles\" in value && \"persist\" in value && \"isDefaultPrevented\" in value) {\n        throw new Error(`Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like \\`const handler = () => myMutation();\\` and using \\`handler\\` in the event handler.`);\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakQ7QUFDSjtBQUNEO0FBQ2pCO0FBQ2E7QUFDQztBQUlyQjtBQUN1QztBQUNqRSxJQUFJLE9BQU9NLGtDQUFLQSxLQUFLLGFBQWE7SUFDaEMsTUFBTSxJQUFJVSxNQUFNO0FBQ2xCO0FBQ0EsSUFBSSxPQUFPTixzQ0FBUUEsS0FBSyxhQUFhO0lBQ25DLE1BQU0sSUFBSU0sTUFBTTtBQUNsQjtBQUNPLFNBQVNDLGVBQWVDLGlCQUFpQixFQUFFQyxNQUFNLEVBQUVDLE1BQU07SUFDOUQsU0FBU0MsU0FBU0MsSUFBSTtRQUNwQkMsNEJBQTRCRDtRQUM1QixPQUFPSCxPQUFPRSxRQUFRLENBQUNILG1CQUFtQkksTUFBTTtZQUM5Q0Usa0JBQWtCSjtRQUNwQjtJQUNGO0lBQ0FDLFNBQVNJLG9CQUFvQixHQUFHLFNBQVNBLHFCQUFxQkQsZ0JBQWdCO1FBQzVFLElBQUlKLFdBQVcsS0FBSyxHQUFHO1lBQ3JCLE1BQU0sSUFBSUosTUFDUixDQUFDLGlEQUFpRCxFQUFFSCwrREFBZUEsQ0FDakVLLG1CQUNBLENBQUM7UUFFUDtRQUNBLE9BQU9ELGVBQWVDLG1CQUFtQkMsUUFBUUs7SUFDbkQ7SUFDQSxPQUFPSDtBQUNUO0FBQ0EsU0FBU0ssYUFB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QUFlQSxDQUFDYztLQUFpQjtBQUU5QztBQUNBLFNBQVNKLDRCQUE0QnZCLEtBQUs7SUFDeEMsSUFBSSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxhQUFhQSxTQUFTLGFBQWFBLFNBQVMsd0JBQXdCQSxPQUFPO1FBQzVILE1BQU0sSUFBSWdCLE1BQ1IsQ0FBQyx3V0FBd1csQ0FBQztJQUU5VztBQUNGLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9jbGllbnQuanM/YjNmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBCYXNlQ29udmV4Q2xpZW50IH0gZnJvbSBcIi4uL2Jyb3dzZXIvaW5kZXguanNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbk5hbWUsXG4gIG1ha2VGdW5jdGlvblJlZmVyZW5jZVxufSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyIH0gZnJvbSBcIi4uL2Jyb3dzZXIvbG9nZ2luZy5qc1wiO1xuaWYgKHR5cGVvZiBSZWFjdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBkZXBlbmRlbmN5ICdyZWFjdCcgbm90IGZvdW5kXCIpO1xufVxuaWYgKHR5cGVvZiBSZWFjdERPTSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBkZXBlbmRlbmN5ICdyZWFjdC1kb20nIG5vdCBmb3VuZFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY2xpZW50LCB1cGRhdGUpIHtcbiAgZnVuY3Rpb24gbXV0YXRpb24oYXJncykge1xuICAgIGFzc2VydE5vdEFjY2lkZW50YWxBcmd1bWVudChhcmdzKTtcbiAgICByZXR1cm4gY2xpZW50Lm11dGF0aW9uKG11dGF0aW9uUmVmZXJlbmNlLCBhcmdzLCB7XG4gICAgICBvcHRpbWlzdGljVXBkYXRlOiB1cGRhdGVcbiAgICB9KTtcbiAgfVxuICBtdXRhdGlvbi53aXRoT3B0aW1pc3RpY1VwZGF0ZSA9IGZ1bmN0aW9uIHdpdGhPcHRpbWlzdGljVXBkYXRlKG9wdGltaXN0aWNVcGRhdGUpIHtcbiAgICBpZiAodXBkYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEFscmVhZHkgc3BlY2lmaWVkIG9wdGltaXN0aWMgdXBkYXRlIGZvciBtdXRhdGlvbiAke2dldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICBtdXRhdGlvblJlZmVyZW5jZVxuICAgICAgICApfWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY2xpZW50LCBvcHRpbWlzdGljVXBkYXRlKTtcbiAgfTtcbiAgcmV0dXJuIG11dGF0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uKGFjdGlvblJlZmVyZW5jZSwgY2xpZW50KSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGNsaWVudC5hY3Rpb24oYWN0aW9uUmVmZXJlbmNlLCBhcmdzKTtcbiAgfTtcbn1cbmV4cG9ydCBjbGFzcyBDb252ZXhSZWFjdENsaWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSB1cmwgb2YgeW91ciBDb252ZXggZGVwbG95bWVudCwgb2Z0ZW4gcHJvdmlkZWRcbiAgICogYnkgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuIEUuZy4gYGh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZGAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gU2VlIHtAbGluayBDb252ZXhSZWFjdENsaWVudE9wdGlvbnN9IGZvciBhIGZ1bGwgZGVzY3JpcHRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZHJlc3NcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNhY2hlZFN5bmNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxpc3RlbmVyc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW9uc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2xvc2VkXCIsIGZhbHNlKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2xvZ2dlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYWRtaW5BdXRoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmYWtlVXNlcklkZW50aXR5XCIpO1xuICAgIGlmIChhZGRyZXNzID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBhZGRyZXNzIHByb3ZpZGVkIHRvIENvbnZleFJlYWN0Q2xpZW50LlxcbklmIHRyeWluZyB0byBkZXBsb3kgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIGZvbGxvdyBhbGwgdGhlIGluc3RydWN0aW9ucyBmb3VuZCBhdCBodHRwczovL2RvY3MuY29udmV4LmRldi9wcm9kdWN0aW9uL2hvc3RpbmcvXFxuSWYgcnVubmluZyBsb2NhbGx5LCBtYWtlIHN1cmUgdG8gcnVuIGBjb252ZXggZGV2YCBhbmQgZW5zdXJlIHRoZSAuZW52LmxvY2FsIGZpbGUgaXMgcG9wdWxhdGVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFkZHJlc3MgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvbnZleFJlYWN0Q2xpZW50IHJlcXVpcmVzIGEgVVJMIGxpa2UgJ2h0dHBzOi8vaGFwcHktb3R0ZXItMTIzLmNvbnZleC5jbG91ZCcsIHJlY2VpdmVkIHNvbWV0aGluZyBvZiB0eXBlICR7dHlwZW9mIGFkZHJlc3N9IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFhZGRyZXNzLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCBhZGRyZXNzIHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMLlwiKTtcbiAgICB9XG4gICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5fbG9nZ2VyID0gb3B0aW9ucz8ubG9nZ2VyID8/IGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcih7IHZlcmJvc2U6IG9wdGlvbnM/LnZlcmJvc2UgPz8gZmFsc2UgfSk7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5vcHRpb25zLCBsb2dnZXI6IHRoaXMuX2xvZ2dlciB9O1xuICB9XG4gIC8qKlxuICAgKiBMYXppbHkgaW5zdGFudGlhdGUgdGhlIGBCYXNlQ29udmV4Q2xpZW50YCBzbyB3ZSBkb24ndCBjcmVhdGUgdGhlIFdlYlNvY2tldFxuICAgKiB3aGVuIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgc3luYygpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleFJlYWN0Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYztcbiAgICB9XG4gICAgdGhpcy5jYWNoZWRTeW5jID0gbmV3IEJhc2VDb252ZXhDbGllbnQoXG4gICAgICB0aGlzLmFkZHJlc3MsXG4gICAgICAodXBkYXRlZFF1ZXJpZXMpID0+IHRoaXMudHJhbnNpdGlvbih1cGRhdGVkUXVlcmllcyksXG4gICAgICB0aGlzLm9wdGlvbnNcbiAgICApO1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgdGhpcy5jYWNoZWRTeW5jLnNldEFkbWluQXV0aCh0aGlzLmFkbWluQXV0aCwgdGhpcy5mYWtlVXNlcklkZW50aXR5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYztcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHF1ZXJpZXMgYW5kIG11dGF0aW9ucy5cbiAgICogYGZldGNoVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYWdhaW4gaWYgYSB0b2tlbiBleHBpcmVzLlxuICAgKiBgZmV0Y2hUb2tlbmAgc2hvdWxkIHJldHVybiBgbnVsbGAgaWYgdGhlIHRva2VuIGNhbm5vdCBiZSByZXRyaWV2ZWQsIGZvciBleGFtcGxlXG4gICAqIHdoZW4gdGhlIHVzZXIncyByaWdodHMgd2VyZSBwZXJtYW5lbnRseSByZXZva2VkLlxuICAgKiBAcGFyYW0gZmV0Y2hUb2tlbiAtIGFuIGFzeW5jIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgSldULWVuY29kZWQgT3BlbklEIENvbm5lY3QgSWRlbnRpdHkgVG9rZW5cbiAgICogQHBhcmFtIG9uQ2hhbmdlIC0gYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBjaGFuZ2VzXG4gICAqL1xuICBzZXRBdXRoKGZldGNoVG9rZW4sIG9uQ2hhbmdlKSB7XG4gICAgaWYgKHR5cGVvZiBmZXRjaFRva2VuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiUGFzc2luZyBhIHN0cmluZyB0byBDb252ZXhSZWFjdENsaWVudC5zZXRBdXRoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQsIHBsZWFzZSB1cGdyYWRlIHRvIHBhc3NpbmcgaW4gYW4gYXN5bmMgZnVuY3Rpb24gdG8gaGFuZGxlIHJlYXV0aGVudGljYXRpb24uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuc3luYy5zZXRBdXRoKFxuICAgICAgZmV0Y2hUb2tlbixcbiAgICAgIG9uQ2hhbmdlID8/ICgoKSA9PiB7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHRva2VuIGlmIHNldC5cbiAgICovXG4gIGNsZWFyQXV0aCgpIHtcbiAgICB0aGlzLnN5bmMuY2xlYXJBdXRoKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSkge1xuICAgIHRoaXMuYWRtaW5BdXRoID0gdG9rZW47XG4gICAgdGhpcy5mYWtlVXNlcklkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhSZWFjdENsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgIHRoaXMuc3luYy5zZXRBZG1pbkF1dGgodG9rZW4sIGlkZW50aXR5KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyB7QGxpbmsgV2F0Y2h9IG9uIGEgQ29udmV4IHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiAqKk1vc3QgYXBwbGljYXRpb24gY29kZSBzaG91bGQgbm90IGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAqIHRoZSB7QGxpbmsgdXNlUXVlcnl9IGhvb2suKipcbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIFdhdGNoUXVlcnlPcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBxdWVyeS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBXYXRjaH0gb2JqZWN0LlxuICAgKi9cbiAgd2F0Y2hRdWVyeShxdWVyeSwgLi4uYXJnc0FuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBbYXJncywgb3B0aW9uc10gPSBhcmdzQW5kT3B0aW9ucztcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICByZXR1cm4ge1xuICAgICAgb25VcGRhdGU6IChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjb25zdCB7IHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLnN5bmMuc3Vic2NyaWJlKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYXJncyxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQocXVlcnlUb2tlbik7XG4gICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHF1ZXJ5VG9rZW4sIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtjYWxsYmFja10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXJyZW50TGlzdGVuZXJzMiA9IHRoaXMubGlzdGVuZXJzLmdldChxdWVyeVRva2VuKTtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzMi5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzMi5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUocXVlcnlUb2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbG9jYWxRdWVyeVJlc3VsdDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYy5sb2NhbFF1ZXJ5UmVzdWx0KG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgbG9jYWxRdWVyeUxvZ3M6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMubG9jYWxRdWVyeUxvZ3MobmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBqb3VybmFsOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRTeW5jLnF1ZXJ5Sm91cm5hbChuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBtdXRhdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBtdXRhdGlvblxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIE11dGF0aW9uT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBtdXRhdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIG11dGF0aW9uKG11dGF0aW9uLCAuLi5hcmdzQW5kT3B0aW9ucykge1xuICAgIGNvbnN0IFthcmdzLCBvcHRpb25zXSA9IGFyZ3NBbmRPcHRpb25zO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb24pO1xuICAgIHJldHVybiB0aGlzLnN5bmMubXV0YXRpb24obmFtZSwgYXJncywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYWN0aW9uKGFjdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5zeW5jLmFjdGlvbihuYW1lLCAuLi5hcmdzKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBxdWVyeSByZXN1bHQgb25jZS5cbiAgICpcbiAgICogKipNb3N0IGFwcGxpY2F0aW9uIGNvZGUgc2hvdWxkIHN1YnNjcmliZSB0byBxdWVyaWVzIGluc3RlYWQsIHVzaW5nXG4gICAqIHRoZSB7QGxpbmsgdXNlUXVlcnl9IGhvb2suKipcbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeVxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHF1ZXJ5J3MgcmVzdWx0LlxuICAgKi9cbiAgcXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB3YXRjaCA9IHRoaXMud2F0Y2hRdWVyeShxdWVyeSwgLi4uYXJncyk7XG4gICAgY29uc3QgZXhpc3RpbmdSZXN1bHQgPSB3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCk7XG4gICAgaWYgKGV4aXN0aW5nUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzb2x2ZSh3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGJldHdlZW4gdGhlIGNsaWVudCBhbmQgdGhlIENvbnZleFxuICAgKiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gd2l0aCB0aGUgQ29udmV4IGJhY2tlbmQuXG4gICAqL1xuICBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3luYy5jb25uZWN0aW9uU3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBsb2dnZXIgZm9yIHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExvZ2dlcn0gZm9yIHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGxvZ2dlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9nZ2VyO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBhbnkgbmV0d29yayBoYW5kbGVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNsaWVudCBhbmQgc3RvcCBhbGwgc3Vic2NyaXB0aW9ucy5cbiAgICpcbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB3aGVuIHlvdSdyZSBkb25lIHdpdGggYSB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnR9IHRvXG4gICAqIGRpc3Bvc2Ugb2YgaXRzIHNvY2tldHMgYW5kIHJlc291cmNlcy5cbiAgICpcbiAgICogQHJldHVybnMgQSBgUHJvbWlzZWAgZnVsZmlsbGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaGFzIGJlZW4gY29tcGxldGVseSBjbG9zZWQuXG4gICAqL1xuICBhc3luYyBjbG9zZSgpIHtcbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgIGNvbnN0IHN5bmMgPSB0aGlzLmNhY2hlZFN5bmM7XG4gICAgICB0aGlzLmNhY2hlZFN5bmMgPSB2b2lkIDA7XG4gICAgICBhd2FpdCBzeW5jLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIHRyYW5zaXRpb24odXBkYXRlZFF1ZXJpZXMpIHtcbiAgICBSZWFjdERPTS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHF1ZXJ5VG9rZW4gb2YgdXBkYXRlZFF1ZXJpZXMpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IENvbnZleENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFxuICB2b2lkIDBcbiAgLy8gaW4gdGhlIGZ1dHVyZSB0aGlzIHdpbGwgYmUgYSBtb2NrZWQgY2xpZW50IGZvciB0ZXN0aW5nXG4pO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQ29udmV4Q29udGV4dCk7XG59XG5leHBvcnQgY29uc3QgQ29udmV4UHJvdmlkZXIgPSAoeyBjbGllbnQsIGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQ29udmV4Q29udGV4dC5Qcm92aWRlcixcbiAgICB7IHZhbHVlOiBjbGllbnQgfSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeShxdWVyeSwgLi4uYXJncykge1xuICBjb25zdCBza2lwID0gYXJnc1swXSA9PT0gXCJza2lwXCI7XG4gIGNvbnN0IGFyZ3NPYmplY3QgPSBhcmdzWzBdID09PSBcInNraXBcIiA/IHt9IDogcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICBjb25zdCBxdWVyeVJlZmVyZW5jZSA9IHR5cGVvZiBxdWVyeSA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShxdWVyeSkgOiBxdWVyeTtcbiAgY29uc3QgcXVlcnlOYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5UmVmZXJlbmNlKTtcbiAgY29uc3QgcXVlcmllcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc2tpcCA/IHt9IDogeyBxdWVyeTogeyBxdWVyeTogcXVlcnlSZWZlcmVuY2UsIGFyZ3M6IGFyZ3NPYmplY3QgfSB9LFxuICAgIC8vIFN0cmluZ2lmeSBhcmdzIHNvIGFyZ3MgdGhhdCBhcmUgc2VtYW50aWNhbGx5IHRoZSBzYW1lIGRvbid0IHRyaWdnZXIgYVxuICAgIC8vIHJlcmVuZGVyLiBTYXZlcyBkZXZlbG9wZXJzIGZyb20gYWRkaW5nIGB1c2VNZW1vYCBvbiBldmVyeSBhcmdzIHVzYWdlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3NPYmplY3QpKSwgcXVlcnlOYW1lLCBza2lwXVxuICApO1xuICBjb25zdCByZXN1bHRzID0gdXNlUXVlcmllcyhxdWVyaWVzKTtcbiAgY29uc3QgcmVzdWx0ID0gcmVzdWx0c1tcInF1ZXJ5XCJdO1xuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB0aHJvdyByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VNdXRhdGlvbihtdXRhdGlvbikge1xuICBjb25zdCBtdXRhdGlvblJlZmVyZW5jZSA9IHR5cGVvZiBtdXRhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShtdXRhdGlvbikgOiBtdXRhdGlvbjtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udGV4dChDb252ZXhDb250ZXh0KTtcbiAgaWYgKGNvbnZleCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBDb252ZXggY2xpZW50ISBgdXNlTXV0YXRpb25gIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IHRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi9xdWljay1zdGFydCNzZXQtdXAtY29udmV4LWluLXlvdXItcmVhY3QtYXBwXCJcbiAgICApO1xuICB9XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZU11dGF0aW9uKG11dGF0aW9uUmVmZXJlbmNlLCBjb252ZXgpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbY29udmV4LCBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb25SZWZlcmVuY2UpXVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGlvbihhY3Rpb24pIHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udGV4dChDb252ZXhDb250ZXh0KTtcbiAgY29uc3QgYWN0aW9uUmVmZXJlbmNlID0gdHlwZW9mIGFjdGlvbiA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShhY3Rpb24pIDogYWN0aW9uO1xuICBpZiAoY29udmV4ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIENvbnZleCBjbGllbnQhIGB1c2VBY3Rpb25gIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IHRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi9xdWljay1zdGFydCNzZXQtdXAtY29udmV4LWluLXlvdXItcmVhY3QtYXBwXCJcbiAgICApO1xuICB9XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZUFjdGlvbihhY3Rpb25SZWZlcmVuY2UsIGNvbnZleCksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtjb252ZXgsIGdldEZ1bmN0aW9uTmFtZShhY3Rpb25SZWZlcmVuY2UpXVxuICApO1xufVxuZnVuY3Rpb24gYXNzZXJ0Tm90QWNjaWRlbnRhbEFyZ3VtZW50KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgXCJidWJibGVzXCIgaW4gdmFsdWUgJiYgXCJwZXJzaXN0XCIgaW4gdmFsdWUgJiYgXCJpc0RlZmF1bHRQcmV2ZW50ZWRcIiBpbiB2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb252ZXggZnVuY3Rpb24gY2FsbGVkIHdpdGggU3ludGhldGljRXZlbnQgb2JqZWN0LiBEaWQgeW91IHVzZSBhIENvbnZleCBmdW5jdGlvbiBhcyBhbiBldmVudCBoYW5kbGVyIGRpcmVjdGx5PyBFdmVudCBoYW5kbGVycyBsaWtlIG9uQ2xpY2sgcmVjZWl2ZSBhbiBldmVudCBvYmplY3QgYXMgdGhlaXIgZmlyc3QgYXJndW1lbnQuIFRoZXNlIFN5bnRoZXRpY0V2ZW50IG9iamVjdHMgYXJlIG5vdCB2YWxpZCBDb252ZXggdmFsdWVzLiBUcnkgd3JhcHBpbmcgdGhlIGZ1bmN0aW9uIGxpa2UgXFxgY29uc3QgaGFuZGxlciA9ICgpID0+IG15TXV0YXRpb24oKTtcXGAgYW5kIHVzaW5nIFxcYGhhbmRsZXJcXGAgaW4gdGhlIGV2ZW50IGhhbmRsZXIuYFxuICAgICk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIkJhc2VDb252ZXhDbGllbnQiLCJSZWFjdCIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwiY29udmV4VG9Kc29uIiwiUmVhY3RET00iLCJ1c2VRdWVyaWVzIiwicGFyc2VBcmdzIiwiZ2V0RnVuY3Rpb25OYW1lIiwibWFrZUZ1bmN0aW9uUmVmZXJlbmNlIiwiaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyIiwiRXJyb3IiLCJjcmVhdGVNdXRhdGlvbiIsIm11dGF0aW9uUmVmZXJlbmNlIiwiY2xpZW50IiwidXBkYXRlIiwibXV0YXRpb24iLCJhcmdzIiwiYXNzZXJ0Tm90QWNjaWRlbnRhbEFyZ3VtZW50Iiwib3B0aW1pc3RpY1VwZGF0ZSIsIndpdGhPcHRpbWlzdGljVXBkYXRlIiwiY3JlYXRlQWN0aW9uIiwiYWN0aW9uUmVmZXJlbmNlIiwiYWN0aW9uIiwiQ29udmV4UmVhY3RDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJvcHRpb25zIiwiaW5jbHVkZXMiLCJsaXN0ZW5lcnMiLCJNYXAiLCJfbG9nZ2VyIiwibG9nZ2VyIiwidmVyYm9zZSIsInN5bmMiLCJjbG9zZWQiLCJjYWNoZWRTeW5jIiwidXBkYXRlZFF1ZXJpZXMiLCJ0cmFuc2l0aW9uIiwiYWRtaW5BdXRoIiwic2V0QWRtaW5BdXRoIiwiZmFrZVVzZXJJZGVudGl0eSIsInNldEF1dGgiLCJmZXRjaFRva2VuIiwib25DaGFuZ2UiLCJjbGVhckF1dGgiLCJ0b2tlbiIsImlkZW50aXR5Iiwid2F0Y2hRdWVyeSIsInF1ZXJ5IiwiYXJnc0FuZE9wdGlvbnMiLCJuYW1lIiwib25VcGRhdGUiLCJjYWxsYmFjayIsInF1ZXJ5VG9rZW4iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZSIsImN1cnJlbnRMaXN0ZW5lcnMiLCJnZXQiLCJhZGQiLCJzZXQiLCJTZXQiLCJjdXJyZW50TGlzdGVuZXJzMiIsImRlbGV0ZSIsInNpemUiLCJsb2NhbFF1ZXJ5UmVzdWx0IiwibG9jYWxRdWVyeUxvZ3MiLCJqb3VybmFsIiwicXVlcnlKb3VybmFsIiwid2F0Y2giLCJleGlzdGluZ1Jlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZSIsImNvbm5lY3Rpb25TdGF0ZSIsImNsb3NlIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJjYWxsYmFja3MiLCJDb252ZXhDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnZleCIsIkNvbnZleFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInNraXAiLCJhcmdzT2JqZWN0IiwicXVlcnlSZWZlcmVuY2UiLCJxdWVyeU5hbWUiLCJxdWVyaWVzIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdHMiLCJyZXN1bHQiLCJ1c2VNdXRhdGlvbiIsImNvbnZleCIsInVzZUFjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/hydration.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/hydration.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePreloadedQuery: () => (/* binding */ usePreloadedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../react/client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\n\n\n\nfunction usePreloadedQuery(preloadedQuery) {\n    const args = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._argsJSON), [\n        preloadedQuery._argsJSON\n    ]);\n    const preloadedResult = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._valueJSON), [\n        preloadedQuery._valueJSON\n    ]);\n    const result = (0,_react_client_js__WEBPACK_IMPORTED_MODULE_1__.useQuery)((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.makeFunctionReference)(preloadedQuery._name), args);\n    return result === void 0 ? preloadedResult : result;\n} //# sourceMappingURL=hydration.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2h5ZHJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ21CO0FBQ2M7QUFDVztBQUNQO0FBQzNDLFNBQVNJLGtCQUFrQkMsY0FBYztJQUM5QyxNQUFNQyxPQUFPTiw4Q0FBT0EsQ0FDbEIsSUFBTUcsOERBQVlBLENBQUNFLGVBQWVFLFNBQVMsR0FDM0M7UUFBQ0YsZUFBZUUsU0FBUztLQUFDO0lBRTVCLE1BQU1DLGtCQUFrQlIsOENBQU9BLENBQzdCLElBQU1HLDhEQUFZQSxDQUFDRSxlQUFlSSxVQUFVLEdBQzVDO1FBQUNKLGVBQWVJLFVBQVU7S0FBQztJQUU3QixNQUFNQyxTQUFTVCwwREFBUUEsQ0FDckJDLHFFQUFxQkEsQ0FBQ0csZUFBZU0sS0FBSyxHQUMxQ0w7SUFFRixPQUFPSSxXQUFXLEtBQUssSUFBSUYsa0JBQWtCRTtBQUMvQyxFQUNBLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvaHlkcmF0aW9uLmpzPzgyMTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gXCIuLi9yZWFjdC9jbGllbnQuanNcIjtcbmltcG9ydCB7IG1ha2VGdW5jdGlvblJlZmVyZW5jZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlUHJlbG9hZGVkUXVlcnkocHJlbG9hZGVkUXVlcnkpIHtcbiAgY29uc3QgYXJncyA9IHVzZU1lbW8oXG4gICAgKCkgPT4ganNvblRvQ29udmV4KHByZWxvYWRlZFF1ZXJ5Ll9hcmdzSlNPTiksXG4gICAgW3ByZWxvYWRlZFF1ZXJ5Ll9hcmdzSlNPTl1cbiAgKTtcbiAgY29uc3QgcHJlbG9hZGVkUmVzdWx0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiBqc29uVG9Db252ZXgocHJlbG9hZGVkUXVlcnkuX3ZhbHVlSlNPTiksXG4gICAgW3ByZWxvYWRlZFF1ZXJ5Ll92YWx1ZUpTT05dXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVF1ZXJ5KFxuICAgIG1ha2VGdW5jdGlvblJlZmVyZW5jZShwcmVsb2FkZWRRdWVyeS5fbmFtZSksXG4gICAgYXJnc1xuICApO1xuICByZXR1cm4gcmVzdWx0ID09PSB2b2lkIDAgPyBwcmVsb2FkZWRSZXN1bHQgOiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oeWRyYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVF1ZXJ5IiwibWFrZUZ1bmN0aW9uUmVmZXJlbmNlIiwianNvblRvQ29udmV4IiwidXNlUHJlbG9hZGVkUXVlcnkiLCJwcmVsb2FkZWRRdWVyeSIsImFyZ3MiLCJfYXJnc0pTT04iLCJwcmVsb2FkZWRSZXN1bHQiLCJfdmFsdWVKU09OIiwicmVzdWx0IiwiX25hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/hydration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.AuthLoading),\n/* harmony export */   Authenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.Authenticated),\n/* harmony export */   ConvexProvider: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.ConvexProvider),\n/* harmony export */   ConvexProviderWithAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__.ConvexProviderWithAuth),\n/* harmony export */   ConvexReactClient: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.ConvexReactClient),\n/* harmony export */   Unauthenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__.Unauthenticated),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   resetPaginationId: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.resetPaginationId),\n/* harmony export */   useAction: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useAction),\n/* harmony export */   useConvex: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useConvex),\n/* harmony export */   useConvexAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__.useConvexAuth),\n/* harmony export */   useMutation: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useMutation),\n/* harmony export */   usePaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQuery),\n/* harmony export */   usePreloadedQuery: () => (/* reexport safe */ _hydration_js__WEBPACK_IMPORTED_MODULE_4__.usePreloadedQuery),\n/* harmony export */   useQueries: () => (/* reexport safe */ _use_queries_js__WEBPACK_IMPORTED_MODULE_1__.useQueries),\n/* harmony export */   useQuery: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_6__.useQuery),\n/* harmony export */   useSubscription: () => (/* reexport safe */ _use_subscription_js__WEBPACK_IMPORTED_MODULE_5__.useSubscription)\n/* harmony export */ });\n/* harmony import */ var _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use_paginated_query.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _auth_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth_helpers.js */ \"(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n/* harmony import */ var _hydration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hydration.js */ \"(ssr)/./node_modules/convex/dist/esm/react/hydration.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQzRCO0FBQ0s7QUFDWjtBQUNHO0FBQ047QUFDeUI7QUFRbkMsQ0FDckIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9pbmRleC5qcz8zNTViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdXNlX3BhZ2luYXRlZF9xdWVyeS5qc1wiO1xuZXhwb3J0IHsgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9hdXRoX2hlbHBlcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0NvbnZleEF1dGhTdGF0ZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vaHlkcmF0aW9uLmpzXCI7XG5leHBvcnQgeyB1c2VTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi91c2Vfc3Vic2NyaXB0aW9uLmpzXCI7XG5leHBvcnQge1xuICBDb252ZXhSZWFjdENsaWVudCxcbiAgdXNlQ29udmV4LFxuICBDb252ZXhQcm92aWRlcixcbiAgdXNlUXVlcnksXG4gIHVzZU11dGF0aW9uLFxuICB1c2VBY3Rpb25cbn0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VRdWVyaWVzIiwidXNlU3Vic2NyaXB0aW9uIiwiQ29udmV4UmVhY3RDbGllbnQiLCJ1c2VDb252ZXgiLCJDb252ZXhQcm92aWRlciIsInVzZVF1ZXJ5IiwidXNlTXV0YXRpb24iLCJ1c2VBY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/queries_observer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueriesObserver: () => (/* binding */ QueriesObserver)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass QueriesObserver {\n    constructor(createWatch){\n        __publicField(this, \"createWatch\");\n        __publicField(this, \"queries\");\n        __publicField(this, \"listeners\");\n        this.createWatch = createWatch;\n        this.queries = {};\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    setQueries(newQueries) {\n        for (const identifier of Object.keys(newQueries)){\n            const { query, args } = newQueries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            if (this.queries[identifier] === void 0) {\n                this.addQuery(identifier, query, args);\n            } else {\n                const existingInfo = this.queries[identifier];\n                if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(existingInfo.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(existingInfo.args))) {\n                    this.removeQuery(identifier);\n                    this.addQuery(identifier, query, args);\n                }\n            }\n        }\n        for (const identifier of Object.keys(this.queries)){\n            if (newQueries[identifier] === void 0) {\n                this.removeQuery(identifier);\n            }\n        }\n    }\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return ()=>{\n            this.listeners.delete(listener);\n        };\n    }\n    getLocalResults(queries) {\n        const result = {};\n        for (const identifier of Object.keys(queries)){\n            const { query, args } = queries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            const watch = this.createWatch(query, args);\n            let value;\n            try {\n                value = watch.localQueryResult();\n            } catch (e) {\n                if (e instanceof Error) {\n                    value = e;\n                } else {\n                    throw e;\n                }\n            }\n            result[identifier] = value;\n        }\n        return result;\n    }\n    setCreateWatch(createWatch) {\n        this.createWatch = createWatch;\n        for (const identifier of Object.keys(this.queries)){\n            const { query, args, watch } = this.queries[identifier];\n            const journal = watch.journal();\n            this.removeQuery(identifier);\n            this.addQuery(identifier, query, args, journal);\n        }\n    }\n    destroy() {\n        for (const identifier of Object.keys(this.queries)){\n            this.removeQuery(identifier);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    addQuery(identifier, query, args, journal) {\n        if (this.queries[identifier] !== void 0) {\n            throw new Error(`Tried to add a new query with identifier ${identifier} when it already exists.`);\n        }\n        const watch = this.createWatch(query, args, journal);\n        const unsubscribe = watch.onUpdate(()=>this.notifyListeners());\n        this.queries[identifier] = {\n            query,\n            args,\n            watch,\n            unsubscribe\n        };\n    }\n    removeQuery(identifier) {\n        const info = this.queries[identifier];\n        if (info === void 0) {\n            throw new Error(`No query found with identifier ${identifier}.`);\n        }\n        info.unsubscribe();\n        delete this.queries[identifier];\n    }\n    notifyListeners() {\n        for (const listener of this.listeners){\n            listener();\n        }\n    }\n} //# sourceMappingURL=queries_observer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3REO0FBQ0M7QUFDNUMsTUFBTU87SUFDWEMsWUFBWUMsV0FBVyxDQUFFO1FBQ3ZCTCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0ssV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLE9BQU8sR0FBRyxDQUFDO1FBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLGFBQWEsR0FBRyxJQUFJQztJQUN2QztJQUNBQyxXQUFXQyxVQUFVLEVBQUU7UUFDckIsS0FBSyxNQUFNQyxjQUFjcEIsT0FBT3FCLElBQUksQ0FBQ0YsWUFBYTtZQUNoRCxNQUFNLEVBQUVHLEtBQUssRUFBRUMsSUFBSSxFQUFFLEdBQUdKLFVBQVUsQ0FBQ0MsV0FBVztZQUM5Q1QsK0RBQWVBLENBQUNXO1lBQ2hCLElBQUksSUFBSSxDQUFDUCxPQUFPLENBQUNLLFdBQVcsS0FBSyxLQUFLLEdBQUc7Z0JBQ3ZDLElBQUksQ0FBQ0ksUUFBUSxDQUFDSixZQUFZRSxPQUFPQztZQUNuQyxPQUFPO2dCQUNMLE1BQU1FLGVBQWUsSUFBSSxDQUFDVixPQUFPLENBQUNLLFdBQVc7Z0JBQzdDLElBQUlU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QUNyQyxJQUFJeUIsU0FBUyxLQUFLLEdBQUc7WUFDbkIsTUFBTSxJQUFJUCxNQUFNLENBQUMsK0JBQStCLEVBQUVsQixXQUFXLENBQUMsQ0FBQztRQUNqRTtRQUNBeUIsS0FBS0gsV0FBVztRQUNoQixPQUFPLElBQUksQ0FBQzNCLE9BQU8sQ0FBQ0ssV0FBVztJQUNqQztJQUNBd0Isa0JBQWtCO1FBQ2hCLEtBQUssTUFBTWQsWUFBWSxJQUFJLENBQUNkLFNBQVMsQ0FBRTtZQUNyQ2M7UUFDRjtJQUNGO0FBQ0YsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIuanM/OTQyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuZXhwb3J0IGNsYXNzIFF1ZXJpZXNPYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKGNyZWF0ZVdhdGNoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNyZWF0ZVdhdGNoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJxdWVyaWVzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsaXN0ZW5lcnNcIik7XG4gICAgdGhpcy5jcmVhdGVXYXRjaCA9IGNyZWF0ZVdhdGNoO1xuICAgIHRoaXMucXVlcmllcyA9IHt9O1xuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgfVxuICBzZXRRdWVyaWVzKG5ld1F1ZXJpZXMpIHtcbiAgICBmb3IgKGNvbnN0IGlkZW50aWZpZXIgb2YgT2JqZWN0LmtleXMobmV3UXVlcmllcykpIHtcbiAgICAgIGNvbnN0IHsgcXVlcnksIGFyZ3MgfSA9IG5ld1F1ZXJpZXNbaWRlbnRpZmllcl07XG4gICAgICBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgICAgaWYgKHRoaXMucXVlcmllc1tpZGVudGlmaWVyXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRoaXMuYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbmZvID0gdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgICAgICBpZiAoZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSAhPT0gZ2V0RnVuY3Rpb25OYW1lKGV4aXN0aW5nSW5mby5xdWVyeSkgfHwgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3MpKSAhPT0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGV4aXN0aW5nSW5mby5hcmdzKSkpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVF1ZXJ5KGlkZW50aWZpZXIpO1xuICAgICAgICAgIHRoaXMuYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICBpZiAobmV3UXVlcmllc1tpZGVudGlmaWVyXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuICBnZXRMb2NhbFJlc3VsdHMocXVlcmllcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyhxdWVyaWVzKSkge1xuICAgICAgY29uc3QgeyBxdWVyeSwgYXJncyB9ID0gcXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgICBjb25zdCB3YXRjaCA9IHRoaXMuY3JlYXRlV2F0Y2gocXVlcnksIGFyZ3MpO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSB3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICB2YWx1ZSA9IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0W2lkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc2V0Q3JlYXRlV2F0Y2goY3JlYXRlV2F0Y2gpIHtcbiAgICB0aGlzLmNyZWF0ZVdhdGNoID0gY3JlYXRlV2F0Y2g7XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykpIHtcbiAgICAgIGNvbnN0IHsgcXVlcnksIGFyZ3MsIHdhdGNoIH0gPSB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl07XG4gICAgICBjb25zdCBqb3VybmFsID0gd2F0Y2guam91cm5hbCgpO1xuICAgICAgdGhpcy5yZW1vdmVRdWVyeShpZGVudGlmaWVyKTtcbiAgICAgIHRoaXMuYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MsIGpvdXJuYWwpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICB0aGlzLnJlbW92ZVF1ZXJ5KGlkZW50aWZpZXIpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MsIGpvdXJuYWwpIHtcbiAgICBpZiAodGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRyaWVkIHRvIGFkZCBhIG5ldyBxdWVyeSB3aXRoIGlkZW50aWZpZXIgJHtpZGVudGlmaWVyfSB3aGVuIGl0IGFscmVhZHkgZXhpc3RzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGNoID0gdGhpcy5jcmVhdGVXYXRjaChxdWVyeSwgYXJncywgam91cm5hbCk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB0aGlzLm5vdGlmeUxpc3RlbmVycygpKTtcbiAgICB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl0gPSB7XG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3MsXG4gICAgICB3YXRjaCxcbiAgICAgIHVuc3Vic2NyaWJlXG4gICAgfTtcbiAgfVxuICByZW1vdmVRdWVyeShpZGVudGlmaWVyKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICBpZiAoaW5mbyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHF1ZXJ5IGZvdW5kIHdpdGggaWRlbnRpZmllciAke2lkZW50aWZpZXJ9LmApO1xuICAgIH1cbiAgICBpbmZvLnVuc3Vic2NyaWJlKCk7XG4gICAgZGVsZXRlIHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgfVxuICBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJpZXNfb2JzZXJ2ZXIuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhUb0pzb24iLCJnZXRGdW5jdGlvbk5hbWUiLCJRdWVyaWVzT2JzZXJ2ZXIiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZVdhdGNoIiwicXVlcmllcyIsImxpc3RlbmVycyIsIlNldCIsInNldFF1ZXJpZXMiLCJuZXdRdWVyaWVzIiwiaWRlbnRpZmllciIsImtleXMiLCJxdWVyeSIsImFyZ3MiLCJhZGRRdWVyeSIsImV4aXN0aW5nSW5mbyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVRdWVyeSIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwiYWRkIiwiZGVsZXRlIiwiZ2V0TG9jYWxSZXN1bHRzIiwicmVzdWx0Iiwid2F0Y2giLCJsb2NhbFF1ZXJ5UmVzdWx0IiwiZSIsIkVycm9yIiwic2V0Q3JlYXRlV2F0Y2giLCJqb3VybmFsIiwiZGVzdHJveSIsInVuc3Vic2NyaWJlIiwib25VcGRhdGUiLCJub3RpZnlMaXN0ZW5lcnMiLCJpbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* binding */ optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery: () => (/* binding */ usePaginatedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\nconst splitQuery = (key, splitCursor, continueCursor)=>(prevState)=>{\n        const queries = {\n            ...prevState.queries\n        };\n        const splitKey1 = prevState.nextPageKey;\n        const splitKey2 = prevState.nextPageKey + 1;\n        const nextPageKey = prevState.nextPageKey + 2;\n        queries[splitKey1] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    endCursor: splitCursor\n                }\n            }\n        };\n        queries[splitKey2] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    cursor: splitCursor,\n                    endCursor: continueCursor\n                }\n            }\n        };\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        ongoingSplits[key] = [\n            splitKey1,\n            splitKey2\n        ];\n        return {\n            ...prevState,\n            nextPageKey,\n            queries,\n            ongoingSplits\n        };\n    };\nconst completeSplitQuery = (key)=>(prevState)=>{\n        const completedSplit = prevState.ongoingSplits[key];\n        if (completedSplit === void 0) {\n            return prevState;\n        }\n        const queries = {\n            ...prevState.queries\n        };\n        delete queries[key];\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        delete ongoingSplits[key];\n        let pageKeys = prevState.pageKeys.slice();\n        const pageIndex = prevState.pageKeys.findIndex((v)=>v === key);\n        if (pageIndex >= 0) {\n            pageKeys = [\n                ...prevState.pageKeys.slice(0, pageIndex),\n                ...completedSplit,\n                ...prevState.pageKeys.slice(pageIndex + 1)\n            ];\n        }\n        return {\n            ...prevState,\n            queries,\n            pageKeys,\n            ongoingSplits\n        };\n    };\nfunction usePaginatedQuery(query, args, options) {\n    if (typeof options?.initialNumItems !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(`\\`options.initialNumItems\\` must be a positive number. Received \\`${options?.initialNumItems}\\`.`);\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query);\n    const createInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return ()=>{\n            const id = nextPaginationId();\n            return {\n                query,\n                args: argsObject,\n                id,\n                nextPageKey: 1,\n                pageKeys: skip ? [] : [\n                    0\n                ],\n                queries: skip ? {} : {\n                    0: {\n                        query,\n                        args: {\n                            ...argsObject,\n                            paginationOpts: {\n                                numItems: options.initialNumItems,\n                                cursor: null,\n                                id\n                            }\n                        }\n                    }\n                },\n                ongoingSplits: {},\n                skip\n            };\n        };\n    }, [\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)),\n        queryName,\n        options.initialNumItems,\n        skip\n    ]);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(state.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const convexClient = (0,_client_js__WEBPACK_IMPORTED_MODULE_4__.useConvex)();\n    const logger = convexClient.logger;\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries)(currState.queries);\n    const [results, maybeLastResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        let currResult = void 0;\n        const allItems = [];\n        for (const pageKey of currState.pageKeys){\n            currResult = resultsObject[pageKey];\n            if (currResult === void 0) {\n                break;\n            }\n            if (currResult instanceof Error) {\n                if (currResult.message.includes(\"InvalidCursor\") || currResult instanceof _values_index_js__WEBPACK_IMPORTED_MODULE_1__.ConvexError && typeof currResult.data === \"object\" && currResult.data?.isConvexSystemError === true && currResult.data?.paginationError === \"InvalidCursor\") {\n                    logger.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + currResult.message);\n                    setState(createInitialState);\n                    return [\n                        [],\n                        void 0\n                    ];\n                } else {\n                    throw currResult;\n                }\n            }\n            const ongoingSplit = currState.ongoingSplits[pageKey];\n            if (ongoingSplit !== void 0) {\n                if (resultsObject[ongoingSplit[0]] !== void 0 && resultsObject[ongoingSplit[1]] !== void 0) {\n                    setState(completeSplitQuery(pageKey));\n                }\n            } else if (currResult.splitCursor && (currResult.pageStatus === \"SplitRecommended\" || currResult.pageStatus === \"SplitRequired\" || currResult.page.length > options.initialNumItems * 2)) {\n                setState(splitQuery(pageKey, currResult.splitCursor, currResult.continueCursor));\n            }\n            if (currResult.pageStatus === \"SplitRequired\") {\n                return [\n                    allItems,\n                    void 0\n                ];\n            }\n            allItems.push(...currResult.page);\n        }\n        return [\n            allItems,\n            currResult\n        ];\n    }, [\n        resultsObject,\n        currState.pageKeys,\n        currState.ongoingSplits,\n        options.initialNumItems,\n        createInitialState,\n        logger\n    ]);\n    const statusObject = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (maybeLastResult === void 0) {\n            if (currState.nextPageKey === 1) {\n                return {\n                    status: \"LoadingFirstPage\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            } else {\n                return {\n                    status: \"LoadingMore\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            }\n        }\n        if (maybeLastResult.isDone) {\n            return {\n                status: \"Exhausted\",\n                isLoading: false,\n                loadMore: (_numItems)=>{}\n            };\n        }\n        const continueCursor = maybeLastResult.continueCursor;\n        let alreadyLoadingMore = false;\n        return {\n            status: \"CanLoadMore\",\n            isLoading: false,\n            loadMore: (numItems)=>{\n                if (!alreadyLoadingMore) {\n                    alreadyLoadingMore = true;\n                    setState((prevState)=>{\n                        const pageKeys = [\n                            ...prevState.pageKeys,\n                            prevState.nextPageKey\n                        ];\n                        const queries = {\n                            ...prevState.queries\n                        };\n                        queries[prevState.nextPageKey] = {\n                            query: prevState.query,\n                            args: {\n                                ...prevState.args,\n                                paginationOpts: {\n                                    numItems,\n                                    cursor: continueCursor,\n                                    id: prevState.id\n                                }\n                            }\n                        };\n                        return {\n                            ...prevState,\n                            nextPageKey: prevState.nextPageKey + 1,\n                            pageKeys,\n                            queries\n                        };\n                    });\n                }\n            }\n        };\n    }, [\n        maybeLastResult,\n        currState.nextPageKey\n    ]);\n    return {\n        results,\n        ...statusObject\n    };\n}\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n}\nfunction optimisticallyUpdateValueInPaginatedQuery(localStore, query, args, updateValue) {\n    const expectedArgs = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(args));\n    for (const queryResult of localStore.getAllQueries(query)){\n        if (queryResult.value !== void 0) {\n            const { paginationOpts: _, ...innerArgs } = queryResult.args;\n            if (JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(innerArgs)) === expectedArgs) {\n                const value = queryResult.value;\n                if (typeof value === \"object\" && value !== null && Array.isArray(value.page)) {\n                    localStore.setQuery(query, queryResult.args, {\n                        ...value,\n                        page: value.page.map(updateValue)\n                    });\n                }\n            }\n        }\n    }\n} //# sourceMappingURL=use_paginated_query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBYTtBQUM2QjtBQUNxQjtBQUNqQjtBQUdwQjtBQUNjO0FBQ3hDLE1BQU1PLGFBQWEsQ0FBQ0MsS0FBS0MsYUFBYUMsaUJBQW1CLENBQUNDO1FBQ3hELE1BQU1DLFVBQVU7WUFBRSxHQUFHRCxVQUFVQyxPQUFPO1FBQUM7UUFDdkMsTUFBTUMsWUFBWUYsVUFBVUcsV0FBVztRQUN2QyxNQUFNQyxZQUFZSixVQUFVRyxXQUFXLEdBQUc7UUFDMUMsTUFBTUEsY0FBY0gsVUFBVUcsV0FBVyxHQUFHO1FBQzVDRixPQUFPLENBQUNDLFVBQVUsR0FBRztZQUNuQkcsT0FBT0wsVUFBVUssS0FBSztZQUN0QkMsTUFBTTtnQkFDSixHQUFHTixVQUFVTSxJQUFJO2dCQUNqQkMsZ0JBQWdCO29CQUNkLEdBQUdQLFVBQVVDLE9BQU8sQ0FBQ0osSUFBSSxDQUFDUyxJQUFJLENBQUNDLGNBQWM7b0JBQzdDQyxXQUFXVjtnQkFDYjtZQUNGO1FBQ0Y7UUFDQUcsT0FBTyxDQUFDRyxVQUFVLEdBQUc7WUFDbkJDLE9BQU9MLFVBQVVLLEtBQUs7WUFDdEJDLE1BQU07Z0JBQ0osR0FBR04sVUFBVU0sSUFBSTtnQkFDakJDLGdCQUFnQjtvQkFDZCxHQUFHUCxVQUFVQyxPQUFPLENBQUNKLElBQUksQ0FBQ1MsSUFBSSxDQUFDQyxjQUFjO29CQUM3Q0UsUUFBUVg7b0JBQ1JVLFdBQVdUO2dCQUNiO1lBQ0Y7UUFDRjtRQUNBLE1BQU1XLGdCQUFnQjtZQUFFLEdBQUdWLFVBQVVVLGFBQWE7UUFBQztRQUNuREEsYUFBYSxDQUFDYixJQUFJLEdBQUc7WUFBQ0s7WUFBV0U7U0FBVTtRQUMzQyxPQUFPO1lBQ0wsR0FBR0osU0FBUztZQUNaRztZQUNBRjtZQUNBUztRQUNGO0lBQ0Y7QUFDQSxNQUFNQyxxQkFBcUIsQ0FBQ2QsTUFBUSxDQUFD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aXN0L2VzbS9yZWFjdC91c2VfcGFnaW5hdGVkX3F1ZXJ5LmpzPzM2ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ29udmV4RXJyb3IsIGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lXG59IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyB1c2VDb252ZXggfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmNvbnN0IHNwbGl0UXVlcnkgPSAoa2V5LCBzcGxpdEN1cnNvciwgY29udGludWVDdXJzb3IpID0+IChwcmV2U3RhdGUpID0+IHtcbiAgY29uc3QgcXVlcmllcyA9IHsgLi4ucHJldlN0YXRlLnF1ZXJpZXMgfTtcbiAgY29uc3Qgc3BsaXRLZXkxID0gcHJldlN0YXRlLm5leHRQYWdlS2V5O1xuICBjb25zdCBzcGxpdEtleTIgPSBwcmV2U3RhdGUubmV4dFBhZ2VLZXkgKyAxO1xuICBjb25zdCBuZXh0UGFnZUtleSA9IHByZXZTdGF0ZS5uZXh0UGFnZUtleSArIDI7XG4gIHF1ZXJpZXNbc3BsaXRLZXkxXSA9IHtcbiAgICBxdWVyeTogcHJldlN0YXRlLnF1ZXJ5LFxuICAgIGFyZ3M6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5hcmdzLFxuICAgICAgcGFnaW5hdGlvbk9wdHM6IHtcbiAgICAgICAgLi4ucHJldlN0YXRlLnF1ZXJpZXNba2V5XS5hcmdzLnBhZ2luYXRpb25PcHRzLFxuICAgICAgICBlbmRDdXJzb3I6IHNwbGl0Q3Vyc29yXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBxdWVyaWVzW3NwbGl0S2V5Ml0gPSB7XG4gICAgcXVlcnk6IHByZXZTdGF0ZS5xdWVyeSxcbiAgICBhcmdzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuYXJncyxcbiAgICAgIHBhZ2luYXRpb25PcHRzOiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5xdWVyaWVzW2tleV0uYXJncy5wYWdpbmF0aW9uT3B0cyxcbiAgICAgICAgY3Vyc29yOiBzcGxpdEN1cnNvcixcbiAgICAgICAgZW5kQ3Vyc29yOiBjb250aW51ZUN1cnNvclxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25nb2luZ1NwbGl0cyA9IHsgLi4ucHJldlN0YXRlLm9uZ29pbmdTcGxpdHMgfTtcbiAgb25nb2luZ1NwbGl0c1trZXldID0gW3NwbGl0S2V5MSwgc3BsaXRLZXkyXTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcmV2U3RhdGUsXG4gICAgbmV4dFBhZ2VLZXksXG4gICAgcXVlcmllcyxcbiAgICBvbmdvaW5nU3BsaXRzXG4gIH07XG59O1xuY29uc3QgY29tcGxldGVTcGxpdFF1ZXJ5ID0gKGtleSkgPT4gKHByZXZTdGF0ZSkgPT4ge1xuICBjb25zdCBjb21wbGV0ZWRTcGxpdCA9IHByZXZTdGF0ZS5vbmdvaW5nU3BsaXRzW2tleV07XG4gIGlmIChjb21wbGV0ZWRTcGxpdCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxuICBjb25zdCBxdWVyaWVzID0geyAuLi5wcmV2U3RhdGUucXVlcmllcyB9O1xuICBkZWxldGUgcXVlcmllc1trZXldO1xuICBjb25zdCBvbmdvaW5nU3BsaXRzID0geyAuLi5wcmV2U3RhdGUub25nb2luZ1NwbGl0cyB9O1xuICBkZWxldGUgb25nb2luZ1NwbGl0c1trZXldO1xuICBsZXQgcGFnZUtleXMgPSBwcmV2U3RhdGUucGFnZUtleXMuc2xpY2UoKTtcbiAgY29uc3QgcGFnZUluZGV4ID0gcHJldlN0YXRlLnBhZ2VLZXlzLmZpbmRJbmRleCgodikgPT4gdiA9PT0ga2V5KTtcbiAgaWYgKHBhZ2VJbmRleCA+PSAwKSB7XG4gICAgcGFnZUtleXMgPSBbXG4gICAgICAuLi5wcmV2U3RhdGUucGFnZUtleXMuc2xpY2UoMCwgcGFnZUluZGV4KSxcbiAgICAgIC4uLmNvbXBsZXRlZFNwbGl0LFxuICAgICAgLi4ucHJldlN0YXRlLnBhZ2VLZXlzLnNsaWNlKHBhZ2VJbmRleCArIDEpXG4gICAgXTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnByZXZTdGF0ZSxcbiAgICBxdWVyaWVzLFxuICAgIHBhZ2VLZXlzLFxuICAgIG9uZ29pbmdTcGxpdHNcbiAgfTtcbn07XG5leHBvcnQgZnVuY3Rpb24gdXNlUGFnaW5hdGVkUXVlcnkocXVlcnksIGFyZ3MsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zPy5pbml0aWFsTnVtSXRlbXMgIT09IFwibnVtYmVyXCIgfHwgb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFxcYG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zXFxgIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuIFJlY2VpdmVkIFxcYCR7b3B0aW9ucz8uaW5pdGlhbE51bUl0ZW1zfVxcYC5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBza2lwID0gYXJncyA9PT0gXCJza2lwXCI7XG4gIGNvbnN0IGFyZ3NPYmplY3QgPSBza2lwID8ge30gOiBhcmdzO1xuICBjb25zdCBxdWVyeU5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICBjb25zdCBjcmVhdGVJbml0aWFsU3RhdGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBuZXh0UGFnaW5hdGlvbklkKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeSxcbiAgICAgICAgYXJnczogYXJnc09iamVjdCxcbiAgICAgICAgaWQsXG4gICAgICAgIG5leHRQYWdlS2V5OiAxLFxuICAgICAgICBwYWdlS2V5czogc2tpcCA/IFtdIDogWzBdLFxuICAgICAgICBxdWVyaWVzOiBza2lwID8ge30gOiB7XG4gICAgICAgICAgMDoge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgIC4uLmFyZ3NPYmplY3QsXG4gICAgICAgICAgICAgIHBhZ2luYXRpb25PcHRzOiB7XG4gICAgICAgICAgICAgICAgbnVtSXRlbXM6IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogbnVsbCxcbiAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbmdvaW5nU3BsaXRzOiB7fSxcbiAgICAgICAgc2tpcFxuICAgICAgfTtcbiAgICB9O1xuICB9LCBbXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0KSksXG4gICAgcXVlcnlOYW1lLFxuICAgIG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgIHNraXBcbiAgXSk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoY3JlYXRlSW5pdGlhbFN0YXRlKTtcbiAgbGV0IGN1cnJTdGF0ZSA9IHN0YXRlO1xuICBpZiAoZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSAhPT0gZ2V0RnVuY3Rpb25OYW1lKHN0YXRlLnF1ZXJ5KSB8fCBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oYXJnc09iamVjdCkpICE9PSBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oc3RhdGUuYXJncykpIHx8IHNraXAgIT09IHN0YXRlLnNraXApIHtcbiAgICBjdXJyU3RhdGUgPSBjcmVhdGVJbml0aWFsU3RhdGUoKTtcbiAgICBzZXRTdGF0ZShjdXJyU3RhdGUpO1xuICB9XG4gIGNvbnN0IGNvbnZleENsaWVudCA9IHVzZUNvbnZleCgpO1xuICBjb25zdCBsb2dnZXIgPSBjb252ZXhDbGllbnQubG9nZ2VyO1xuICBjb25zdCByZXN1bHRzT2JqZWN0ID0gdXNlUXVlcmllcyhjdXJyU3RhdGUucXVlcmllcyk7XG4gIGNvbnN0IFtyZXN1bHRzLCBtYXliZUxhc3RSZXN1bHRdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGN1cnJSZXN1bHQgPSB2b2lkIDA7XG4gICAgY29uc3QgYWxsSXRlbXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VLZXkgb2YgY3VyclN0YXRlLnBhZ2VLZXlzKSB7XG4gICAgICBjdXJyUmVzdWx0ID0gcmVzdWx0c09iamVjdFtwYWdlS2V5XTtcbiAgICAgIGlmIChjdXJyUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoY3VyclJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChjdXJyUmVzdWx0Lm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkQ3Vyc29yXCIpIHx8IGN1cnJSZXN1bHQgaW5zdGFuY2VvZiBDb252ZXhFcnJvciAmJiB0eXBlb2YgY3VyclJlc3VsdC5kYXRhID09PSBcIm9iamVjdFwiICYmIGN1cnJSZXN1bHQuZGF0YT8uaXNDb252ZXhTeXN0ZW1FcnJvciA9PT0gdHJ1ZSAmJiBjdXJyUmVzdWx0LmRhdGE/LnBhZ2luYXRpb25FcnJvciA9PT0gXCJJbnZhbGlkQ3Vyc29yXCIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIFwidXNlUGFnaW5hdGVkUXVlcnkgaGl0IGVycm9yLCByZXNldHRpbmcgcGFnaW5hdGlvbiBzdGF0ZTogXCIgKyBjdXJyUmVzdWx0Lm1lc3NhZ2VcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldFN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIFtbXSwgdm9pZCAwXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBjdXJyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBvbmdvaW5nU3BsaXQgPSBjdXJyU3RhdGUub25nb2luZ1NwbGl0c1twYWdlS2V5XTtcbiAgICAgIGlmIChvbmdvaW5nU3BsaXQgIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAocmVzdWx0c09iamVjdFtvbmdvaW5nU3BsaXRbMF1dICE9PSB2b2lkIDAgJiYgcmVzdWx0c09iamVjdFtvbmdvaW5nU3BsaXRbMV1dICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBzZXRTdGF0ZShjb21wbGV0ZVNwbGl0UXVlcnkocGFnZUtleSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGN1cnJSZXN1bHQuc3BsaXRDdXJzb3IgJiYgKGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlY29tbWVuZGVkXCIgfHwgY3VyclJlc3VsdC5wYWdlU3RhdHVzID09PSBcIlNwbGl0UmVxdWlyZWRcIiB8fCBjdXJyUmVzdWx0LnBhZ2UubGVuZ3RoID4gb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgKiAyKSkge1xuICAgICAgICBzZXRTdGF0ZShcbiAgICAgICAgICBzcGxpdFF1ZXJ5KFxuICAgICAgICAgICAgcGFnZUtleSxcbiAgICAgICAgICAgIGN1cnJSZXN1bHQuc3BsaXRDdXJzb3IsXG4gICAgICAgICAgICBjdXJyUmVzdWx0LmNvbnRpbnVlQ3Vyc29yXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFthbGxJdGVtcywgdm9pZCAwXTtcbiAgICAgIH1cbiAgICAgIGFsbEl0ZW1zLnB1c2goLi4uY3VyclJlc3VsdC5wYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIFthbGxJdGVtcywgY3VyclJlc3VsdF07XG4gIH0sIFtcbiAgICByZXN1bHRzT2JqZWN0LFxuICAgIGN1cnJTdGF0ZS5wYWdlS2V5cyxcbiAgICBjdXJyU3RhdGUub25nb2luZ1NwbGl0cyxcbiAgICBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICBjcmVhdGVJbml0aWFsU3RhdGUsXG4gICAgbG9nZ2VyXG4gIF0pO1xuICBjb25zdCBzdGF0dXNPYmplY3QgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWF5YmVMYXN0UmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgIGlmIChjdXJyU3RhdGUubmV4dFBhZ2VLZXkgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IFwiTG9hZGluZ0ZpcnN0UGFnZVwiLFxuICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtcykgPT4ge1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiBcIkxvYWRpbmdNb3JlXCIsXG4gICAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICAgIGxvYWRNb3JlOiAoX251bUl0ZW1zKSA9PiB7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF5YmVMYXN0UmVzdWx0LmlzRG9uZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcIkV4aGF1c3RlZFwiLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtcykgPT4ge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjb250aW51ZUN1cnNvciA9IG1heWJlTGFzdFJlc3VsdC5jb250aW51ZUN1cnNvcjtcbiAgICBsZXQgYWxyZWFkeUxvYWRpbmdNb3JlID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogXCJDYW5Mb2FkTW9yZVwiLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGxvYWRNb3JlOiAobnVtSXRlbXMpID0+IHtcbiAgICAgICAgaWYgKCFhbHJlYWR5TG9hZGluZ01vcmUpIHtcbiAgICAgICAgICBhbHJlYWR5TG9hZGluZ01vcmUgPSB0cnVlO1xuICAgICAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VLZXlzID0gWy4uLnByZXZTdGF0ZS5wYWdlS2V5cywgcHJldlN0YXRlLm5leHRQYWdlS2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJpZXMgPSB7IC4uLnByZXZTdGF0ZS5xdWVyaWVzIH07XG4gICAgICAgICAgICBxdWVyaWVzW3ByZXZTdGF0ZS5uZXh0UGFnZUtleV0gPSB7XG4gICAgICAgICAgICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUuYXJncyxcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgICAgICAgICAgbnVtSXRlbXMsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgICAgICAgICAgICAgaWQ6IHByZXZTdGF0ZS5pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dFBhZ2VLZXk6IHByZXZTdGF0ZS5uZXh0UGFnZUtleSArIDEsXG4gICAgICAgICAgICAgIHBhZ2VLZXlzLFxuICAgICAgICAgICAgICBxdWVyaWVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW21heWJlTGFzdFJlc3VsdCwgY3VyclN0YXRlLm5leHRQYWdlS2V5XSk7XG4gIHJldHVybiB7XG4gICAgcmVzdWx0cyxcbiAgICAuLi5zdGF0dXNPYmplY3RcbiAgfTtcbn1cbmxldCBwYWdpbmF0aW9uSWQgPSAwO1xuZnVuY3Rpb24gbmV4dFBhZ2luYXRpb25JZCgpIHtcbiAgcGFnaW5hdGlvbklkKys7XG4gIHJldHVybiBwYWdpbmF0aW9uSWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRQYWdpbmF0aW9uSWQoKSB7XG4gIHBhZ2luYXRpb25JZCA9IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pc3RpY2FsbHlVcGRhdGVWYWx1ZUluUGFnaW5hdGVkUXVlcnkobG9jYWxTdG9yZSwgcXVlcnksIGFyZ3MsIHVwZGF0ZVZhbHVlKSB7XG4gIGNvbnN0IGV4cGVjdGVkQXJncyA9IEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzKSk7XG4gIGZvciAoY29uc3QgcXVlcnlSZXN1bHQgb2YgbG9jYWxTdG9yZS5nZXRBbGxRdWVyaWVzKHF1ZXJ5KSkge1xuICAgIGlmIChxdWVyeVJlc3VsdC52YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCB7IHBhZ2luYXRpb25PcHRzOiBfLCAuLi5pbm5lckFyZ3MgfSA9IHF1ZXJ5UmVzdWx0LmFyZ3M7XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGlubmVyQXJncykpID09PSBleHBlY3RlZEFyZ3MpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlLnBhZ2UpKSB7XG4gICAgICAgICAgbG9jYWxTdG9yZS5zZXRRdWVyeShxdWVyeSwgcXVlcnlSZXN1bHQuYXJncywge1xuICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICBwYWdlOiB2YWx1ZS5wYWdlLm1hcCh1cGRhdGVWYWx1ZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlX3BhZ2luYXRlZF9xdWVyeS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJDb252ZXhFcnJvciIsImNvbnZleFRvSnNvbiIsInVzZVF1ZXJpZXMiLCJnZXRGdW5jdGlvbk5hbWUiLCJ1c2VDb252ZXgiLCJzcGxpdFF1ZXJ5Iiwia2V5Iiwic3BsaXRDdXJzb3IiLCJjb250aW51ZUN1cnNvciIsInByZXZTdGF0ZSIsInF1ZXJpZXMiLCJzcGxpdEtleTEiLCJuZXh0UGFnZUtleSIsInNwbGl0S2V5MiIsInF1ZXJ5IiwiYXJncyIsInBhZ2luYXRpb25PcHRzIiwiZW5kQ3Vyc29yIiwiY3Vyc29yIiwib25nb2luZ1NwbGl0cyIsImNvbXBsZXRlU3BsaXRRdWVyeSIsImNvbXBsZXRlZFNwbGl0IiwicGFnZUtleXMiLCJzbGljZSIsInBhZ2VJbmRleCIsImZpbmRJbmRleCIsInYiLCJ1c2VQYWdpbmF0ZWRRdWVyeSIsIm9wdGlvbnMiLCJpbml0aWFsTnVtSXRlbXMiLCJFcnJvciIsInNraXAiLCJhcmdzT2JqZWN0IiwicXVlcnlOYW1lIiwiY3JlYXRlSW5pdGlhbFN0YXRlIiwiaWQiLCJuZXh0UGFnaW5hdGlvbklkIiwibnVtSXRlbXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImN1cnJTdGF0ZSIsImNvbnZleENsaWVudCIsImxvZ2dlciIsInJlc3VsdHNPYmplY3QiLCJyZXN1bHRzIiwibWF5YmVMYXN0UmVzdWx0IiwiY3VyclJlc3VsdCIsImFsbEl0ZW1zIiwicGFnZUtleSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImRhdGEiLCJpc0NvbnZleFN5c3RlbUVycm9yIiwicGFnaW5hdGlvbkVycm9yIiwid2FybiIsIm9uZ29pbmdTcGxpdCIsInBhZ2VTdGF0dXMiLCJwYWdlIiwibGVuZ3RoIiwicHVzaCIsInN0YXR1c09iamVjdCIsInN0YXR1cyIsImlzTG9hZGluZyIsImxvYWRNb3JlIiwiX251bUl0ZW1zIiwiaXNEb25lIiwiYWxyZWFkeUxvYWRpbmdNb3JlIiwicGFnaW5hdGlvbklkIiwicmVzZXRQYWdpbmF0aW9uSWQiLCJvcHRpbWlzdGljYWxseVVwZGF0ZVZhbHVlSW5QYWdpbmF0ZWRRdWVyeSIsImxvY2FsU3RvcmUiLCJ1cGRhdGVWYWx1ZSIsImV4cGVjdGVkQXJncyIsInF1ZXJ5UmVzdWx0IiwiZ2V0QWxsUXVlcmllcyIsInZhbHVlIiwiXyIsImlubmVyQXJncyIsIkFycmF5IiwiaXNBcnJheSIsInNldFF1ZXJ5IiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_queries.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_queries.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useQueries: () => (/* binding */ useQueries),\n/* harmony export */   useQueriesHelper: () => (/* binding */ useQueriesHelper)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries_observer.js */ \"(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n\n\n\n\n\nfunction useQueries(queries) {\n    const convex = (0,_client_js__WEBPACK_IMPORTED_MODULE_1__.useConvex)();\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const createWatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return (query, args, journal)=>{\n            return convex.watchQuery(query, args, {\n                journal\n            });\n        };\n    }, [\n        convex\n    ]);\n    return useQueriesHelper(queries, createWatch);\n}\nfunction useQueriesHelper(queries, createWatch) {\n    const [observer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__.QueriesObserver(createWatch));\n    if (observer.createWatch !== createWatch) {\n        observer.setCreateWatch(createWatch);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>observer.destroy(), [\n        observer\n    ]);\n    const subscription = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            getCurrentValue: ()=>{\n                return observer.getLocalResults(queries);\n            },\n            subscribe: (callback)=>{\n                observer.setQueries(queries);\n                return observer.subscribe(callback);\n            }\n        }), [\n        observer,\n        queries\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_3__.useSubscription)(subscription);\n} //# sourceMappingURL=use_queries.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9xdWVyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhO0FBQ3dDO0FBQ2I7QUFDZ0I7QUFDQTtBQUNqRCxTQUFTTSxXQUFXQyxPQUFPO0lBQ2hDLE1BQU1DLFNBQVNMLHFEQUFTQTtJQUN4QixJQUFJSyxXQUFXLEtBQUssR0FBRztRQUNyQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLGNBQWNULDhDQUFPQSxDQUFDO1FBQzFCLE9BQU8sQ0FBQ1UsT0FBT0MsTUFBTUM7WUFDbkIsT0FBT0wsT0FBT00sVUFBVSxDQUFDSCxPQUFPQyxNQUFNO2dCQUFFQztZQUFRO1FBQ2xEO0lBQ0YsR0FBRztRQUFDTDtLQUFPO0lBQ1gsT0FBT08saUJBQWlCUixTQUFTRztBQUNuQztBQUNPLFNBQVNLLGlCQUFpQlIsT0FBTyxFQUFFRyxXQUFXO0lBQ25ELE1BQU0sQ0FBQ00sU0FBUyxHQUFHZCwrQ0FBUUEsQ0FBQyxJQUFNLElBQUlFLGlFQUFlQSxDQUFDTTtJQUN0RCxJQUFJTSxTQUFTTixXQUFXLEtBQUtBLGFBQWE7UUFDeENNLFNBQVNDLGNBQWMsQ0FBQ1A7SUFDMUI7SUFDQVYsZ0RBQVNBLENBQUMsSUFBTSxJQUFNZ0IsU0FBU0UsT0FBTyxJQUFJO1FBQUNGO0tBQVM7SUFDcEQsTUFBTUcsZUFBZWxCLDhDQUFPQSxDQUMxQixJQUFPO1lBQ0xtQixpQkFBaUI7Z0JBQ2YsT0FBT0osU0FBU0ssZUFBZSxDQUFDZDtZQUNsQztZQUNBZSxXQUFXLENBQUNDO2dCQUNWUCxTQUFTUSxVQUFVLENBQUNqQjtnQkFDcEIsT0FBT1MsU0FBU00sU0FBUyxDQUFDQztZQUM1QjtRQUNGLElBQ0E7UUFBQ1A7UUFBVVQ7S0FBUTtJQUVyQixPQUFPRixxRUFBZUEsQ0FBQ2M7QUFDekIsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9xdWVyaWVzLmpzPzhlMmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXggfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmltcG9ydCB7IFF1ZXJpZXNPYnNlcnZlciB9IGZyb20gXCIuL3F1ZXJpZXNfb2JzZXJ2ZXIuanNcIjtcbmltcG9ydCB7IHVzZVN1YnNjcmlwdGlvbiB9IGZyb20gXCIuL3VzZV9zdWJzY3JpcHRpb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyaWVzKHF1ZXJpZXMpIHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udmV4KCk7XG4gIGlmIChjb252ZXggPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgQ29udmV4IGNsaWVudCEgYHVzZVF1ZXJ5YCBtdXN0IGJlIHVzZWQgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBjcmVhdGVXYXRjaCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAocXVlcnksIGFyZ3MsIGpvdXJuYWwpID0+IHtcbiAgICAgIHJldHVybiBjb252ZXgud2F0Y2hRdWVyeShxdWVyeSwgYXJncywgeyBqb3VybmFsIH0pO1xuICAgIH07XG4gIH0sIFtjb252ZXhdKTtcbiAgcmV0dXJuIHVzZVF1ZXJpZXNIZWxwZXIocXVlcmllcywgY3JlYXRlV2F0Y2gpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJpZXNIZWxwZXIocXVlcmllcywgY3JlYXRlV2F0Y2gpIHtcbiAgY29uc3QgW29ic2VydmVyXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBRdWVyaWVzT2JzZXJ2ZXIoY3JlYXRlV2F0Y2gpKTtcbiAgaWYgKG9ic2VydmVyLmNyZWF0ZVdhdGNoICE9PSBjcmVhdGVXYXRjaCkge1xuICAgIG9ic2VydmVyLnNldENyZWF0ZVdhdGNoKGNyZWF0ZVdhdGNoKTtcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4gb2JzZXJ2ZXIuZGVzdHJveSgpLCBbb2JzZXJ2ZXJdKTtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlci5nZXRMb2NhbFJlc3VsdHMocXVlcmllcyk7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuc2V0UXVlcmllcyhxdWVyaWVzKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLnN1YnNjcmliZShjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW29ic2VydmVyLCBxdWVyaWVzXVxuICApO1xuICByZXR1cm4gdXNlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VfcXVlcmllcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VDb252ZXgiLCJRdWVyaWVzT2JzZXJ2ZXIiLCJ1c2VTdWJzY3JpcHRpb24iLCJ1c2VRdWVyaWVzIiwicXVlcmllcyIsImNvbnZleCIsIkVycm9yIiwiY3JlYXRlV2F0Y2giLCJxdWVyeSIsImFyZ3MiLCJqb3VybmFsIiwid2F0Y2hRdWVyeSIsInVzZVF1ZXJpZXNIZWxwZXIiLCJvYnNlcnZlciIsInNldENyZWF0ZVdhdGNoIiwiZGVzdHJveSIsInN1YnNjcmlwdGlvbiIsImdldEN1cnJlbnRWYWx1ZSIsImdldExvY2FsUmVzdWx0cyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwic2V0UXVlcmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_subscription.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSubscription: () => (/* binding */ useSubscription)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nfunction useSubscription({ // (Synchronously) returns the current value of our subscription.\ngetCurrentValue, // This function is passed an event handler to attach to the subscription.\n// It should return an unsubscribe function that removes the handler.\nsubscribe }) {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>({\n            getCurrentValue,\n            subscribe,\n            value: getCurrentValue()\n        }));\n    let valueToReturn = state.value;\n    if (state.getCurrentValue !== getCurrentValue || state.subscribe !== subscribe) {\n        valueToReturn = getCurrentValue();\n        setState({\n            getCurrentValue,\n            subscribe,\n            value: valueToReturn\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let didUnsubscribe = false;\n        const checkForUpdates = ()=>{\n            if (didUnsubscribe) {\n                return;\n            }\n            setState((prevState)=>{\n                if (prevState.getCurrentValue !== getCurrentValue || prevState.subscribe !== subscribe) {\n                    return prevState;\n                }\n                const value = getCurrentValue();\n                if (prevState.value === value) {\n                    return prevState;\n                }\n                return {\n                    ...prevState,\n                    value\n                };\n            });\n        };\n        const unsubscribe = subscribe(checkForUpdates);\n        checkForUpdates();\n        return ()=>{\n            didUnsubscribe = true;\n            unsubscribe();\n        };\n    }, [\n        getCurrentValue,\n        subscribe\n    ]);\n    return valueToReturn;\n} //# sourceMappingURL=use_subscription.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9zdWJzY3JpcHRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUMrQjtBQUNyQyxTQUFTRSxnQkFBZ0IsRUFDOUIsaUVBQWlFO0FBQ2pFQyxlQUFlLEVBQ2YsMEVBQTBFO0FBQzFFLHFFQUFxRTtBQUNyRUMsU0FBUyxFQUNWO0lBQ0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdMLCtDQUFRQSxDQUFDLElBQU87WUFDeENFO1lBQ0FDO1lBQ0FHLE9BQU9KO1FBQ1Q7SUFDQSxJQUFJSyxnQkFBZ0JILE1BQU1FLEtBQUs7SUFDL0IsSUFBSUYsTUFBTUYsZUFBZSxLQUFLQSxtQkFBbUJFLE1BQU1ELFNBQVMsS0FBS0EsV0FBVztRQUM5RUksZ0JBQWdCTDtRQUNoQkcsU0FBUztZQUNQSDtZQUNBQztZQUNBRyxPQUFPQztRQUNUO0lBQ0Y7SUFDQVIsZ0RBQVNBLENBQUM7UUFDUixJQUFJUyxpQkFBaUI7UUFDckIsTUFBTUMsa0JBQWtCO1lBQ3RCLElBQUlELGdCQUFnQjtnQkFDbEI7WUFDRjtZQUNBSCxTQUFTLENBQUNLO2dCQUNSLElBQUlBLFVBQVVSLGVBQWUsS0FBS0EsbUJBQW1CUSxVQUFVUCxTQUFTLEtBQUtBLFdBQVc7b0JBQ3RGLE9BQU9PO2dCQUNUO2dCQUNBLE1BQU1KLFFBQVFKO2dCQUNkLElBQUlRLFVBQVVKLEtBQUssS0FBS0EsT0FBTztvQkFDN0IsT0FBT0k7Z0JBQ1Q7Z0JBQ0EsT0FBTztvQkFBRSxHQUFHQSxTQUFTO29CQUFFSjtnQkFBTTtZQUMvQjtRQUNGO1FBQ0EsTUFBTUssY0FBY1IsVUFBVU07UUFDOUJBO1FBQ0EsT0FBTztZQUNMRCxpQkFBaUI7WUFDakJHO1FBQ0Y7SUFDRixHQUFHO1FBQUNUO1FBQWlCQztLQUFVO0lBQy9CLE9BQU9JO0FBQ1QsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9zdWJzY3JpcHRpb24uanM/OWZkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VTdWJzY3JpcHRpb24oe1xuICAvLyAoU3luY2hyb25vdXNseSkgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiBvdXIgc3Vic2NyaXB0aW9uLlxuICBnZXRDdXJyZW50VmFsdWUsXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIGFuIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoIHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gIC8vIEl0IHNob3VsZCByZXR1cm4gYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLlxuICBzdWJzY3JpYmVcbn0pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiAoe1xuICAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICBzdWJzY3JpYmUsXG4gICAgdmFsdWU6IGdldEN1cnJlbnRWYWx1ZSgpXG4gIH0pKTtcbiAgbGV0IHZhbHVlVG9SZXR1cm4gPSBzdGF0ZS52YWx1ZTtcbiAgaWYgKHN0YXRlLmdldEN1cnJlbnRWYWx1ZSAhPT0gZ2V0Q3VycmVudFZhbHVlIHx8IHN0YXRlLnN1YnNjcmliZSAhPT0gc3Vic2NyaWJlKSB7XG4gICAgdmFsdWVUb1JldHVybiA9IGdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIHNldFN0YXRlKHtcbiAgICAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIHZhbHVlOiB2YWx1ZVRvUmV0dXJuXG4gICAgfSk7XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGVja0ZvclVwZGF0ZXMgPSAoKSA9PiB7XG4gICAgICBpZiAoZGlkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICBpZiAocHJldlN0YXRlLmdldEN1cnJlbnRWYWx1ZSAhPT0gZ2V0Q3VycmVudFZhbHVlIHx8IHByZXZTdGF0ZS5zdWJzY3JpYmUgIT09IHN1YnNjcmliZSkge1xuICAgICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgaWYgKHByZXZTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgdmFsdWUgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUoY2hlY2tGb3JVcGRhdGVzKTtcbiAgICBjaGVja0ZvclVwZGF0ZXMoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlkVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbZ2V0Q3VycmVudFZhbHVlLCBzdWJzY3JpYmVdKTtcbiAgcmV0dXJuIHZhbHVlVG9SZXR1cm47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2Vfc3Vic2NyaXB0aW9uLmpzLm1hcFxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlU3Vic2NyaXB0aW9uIiwiZ2V0Q3VycmVudFZhbHVlIiwic3Vic2NyaWJlIiwic3RhdGUiLCJzZXRTdGF0ZSIsInZhbHVlIiwidmFsdWVUb1JldHVybiIsImRpZFVuc3Vic2NyaWJlIiwiY2hlY2tGb3JVcGRhdGVzIiwicHJldlN0YXRlIiwidW5zdWJzY3JpYmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/api.js":
/*!****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/api.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anyApi: () => (/* binding */ anyApi),\n/* harmony export */   filterApi: () => (/* binding */ filterApi),\n/* harmony export */   getFunctionName: () => (/* binding */ getFunctionName),\n/* harmony export */   justActions: () => (/* binding */ justActions),\n/* harmony export */   justInternal: () => (/* binding */ justInternal),\n/* harmony export */   justMutations: () => (/* binding */ justMutations),\n/* harmony export */   justPaginatedQueries: () => (/* binding */ justPaginatedQueries),\n/* harmony export */   justPublic: () => (/* binding */ justPublic),\n/* harmony export */   justQueries: () => (/* binding */ justQueries),\n/* harmony export */   justSchedulable: () => (/* binding */ justSchedulable),\n/* harmony export */   makeFunctionReference: () => (/* binding */ makeFunctionReference)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functionName.js */ \"(ssr)/./node_modules/convex/dist/esm/server/functionName.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\nfunction getFunctionName(functionReference) {\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionAddress)(functionReference);\n    if (address.name === void 0) {\n        if (address.functionHandle !== void 0) {\n            throw new Error(`Expected function reference like \"api.file.func\" or \"internal.file.func\", but received function handle ${address.functionHandle}`);\n        } else if (address.reference !== void 0) {\n            throw new Error(`Expected function reference in the current component like \"api.file.func\" or \"internal.file.func\", but received reference ${address.reference}`);\n        }\n        throw new Error(`Expected function reference like \"api.file.func\" or \"internal.file.func\", but received ${JSON.stringify(address)}`);\n    }\n    if (typeof functionReference === \"string\") return functionReference;\n    const name = functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName];\n    if (!name) {\n        throw new Error(`${functionReference} is not a functionReference`);\n    }\n    return name;\n}\nfunction makeFunctionReference(name) {\n    return {\n        [_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]: name\n    };\n}\nfunction createApi(pathParts = []) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createApi(newParts);\n            } else if (prop === _functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName) {\n                if (pathParts.length < 2) {\n                    const found = [\n                        \"api\",\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(`API path is expected to be of the form \\`api.moduleName.functionName\\`. Found: \\`${found}\\``);\n                }\n                const path = pathParts.slice(0, -1).join(\"/\");\n                const exportName = pathParts[pathParts.length - 1];\n                if (exportName === \"default\") {\n                    return path;\n                } else {\n                    return path + \":\" + exportName;\n                }\n            } else if (prop === Symbol.toStringTag) {\n                return \"FunctionReference\";\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction filterApi(api) {\n    return api;\n}\nfunction justInternal(api) {\n    return api;\n}\nfunction justPublic(api) {\n    return api;\n}\nfunction justQueries(api) {\n    return api;\n}\nfunction justMutations(api) {\n    return api;\n}\nfunction justActions(api) {\n    return api;\n}\nfunction justPaginatedQueries(api) {\n    return api;\n}\nfunction justSchedulable(api) {\n    return api;\n}\nconst anyApi = createApi(); //# sourceMappingURL=api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ29DO0FBQ1U7QUFDcEQsU0FBU0UsZ0JBQWdCQyxpQkFBaUI7SUFDL0MsTUFBTUMsVUFBVUgsd0VBQWtCQSxDQUFDRTtJQUNuQyxJQUFJQyxRQUFRQyxJQUFJLEtBQUssS0FBSyxHQUFHO1FBQzNCLElBQUlELFFBQVFFLGNBQWMsS0FBSyxLQUFLLEdBQUc7WUFDckMsTUFBTSxJQUFJQyxNQUNSLENBQUMsdUdBQXVHLEVBQUVILFFBQVFFLGNBQWMsQ0FBQyxDQUFDO1FBRXRJLE9BQU8sSUFBSUYsUUFBUUksU0FBUyxLQUFLLEtBQUssR0FBRztZQUN2QyxNQUFNLElBQUlELE1BQ1IsQ0FBQywwSEFBMEgsRUFBRUgsUUFBUUksU0FBUyxDQUFDLENBQUM7UUFFcEo7UUFDQSxNQUFNLElBQUlELE1BQ1IsQ0FBQyx1RkFBdUYsRUFBRUUsS0FBS0MsU0FBUyxDQUFDTixTQUFTLENBQUM7SUFFdkg7SUFDQSxJQUFJLE9BQU9ELHNCQUFzQixVQUFVLE9BQU9BO0lBQ2xELE1BQU1FLE9BQU9GLGlCQUFpQixDQUFDSCwwREFBWUEsQ0FBQztJQUM1QyxJQUFJLENBQUNLLE1BQU07UUFDVCxNQUFNLElBQUlFLE1BQU0sQ0FBQyxFQUFFSixrQkFBa0IsMkJBQTJCLENBQUM7SUFDbkU7SUFDQSxPQUFPRTtBQUNUO0FBQ08sU0FBU00sc0JBQXNCTixJQUFJO0lBQ3hDLE9BQU87UUFBRSxDQUFDTCwwREFBWUEsQ0FBQyxFQUFFSztJQUFLO0FBQ2hDO0FBQ0EsU0FBU08sVUFBVUMsWUFBWSxFQUFFO0lBQy9CLE1BQU1DLFVBQVU7UUFDZEMsS0FBSUMsQ0FBQyxFQUFFQyxJQUFJO1lBQ1QsSUFBSSxPQUFPQSxTQUFTLFVBQVU7Z0JBQzVCLE1BQU1DLFdBQVc7dUJBQUlMO29CQUFXSTtpQkFBSztnQkFDckMsT0FBT0wsVUFBVU07WUFDbkIsT0FBTyxJQUFJRCxTQUFTakIsMERBQVlBLEVBQUU7Z0JBQ2hDLElBQUlhLFVBQVVNLE1BQU0sR0FBRyxHQUFHO29CQUN4QixNQUFNQyxRQUFRO3dCQUFDOzJCQUFVUDtxQkFBVSxDQUFDUSxJQUFJLENBQUM7b0JBQ3pDLE1BQU0sSUFBSWQsTUFDUixDQUFDLGlGQUFpRixFQUFFYSxNQUFNLEVBQUUsQ0FBQztnQkFFakc7Z0JBQ0EsTUFBTUUsT0FBT1QsVUFBVVUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHRixJQUFJLENBQUM7Z0JBQ3pDLE1BQU1HLGFBQWFYLFNBQVMsQ0FBQ0EsVUFBVU0sTUFBTSxHQUFHLEVBQUU7Z0JBQ2xELElBQUlLLGVBQWUsV0FBVztvQkFDNUIsT0FBT0Y7Z0JBQ1QsT0FBTztvQkFDTCxPQUFPQSxPQUFPLE1BQU1FO2dCQUN0QjtZQUNGLE9BQU8sSUFBSVAsU0FBU1EsT0FBT0MsV0FBVyxFQUFFO2dCQUN0QyxPQUFPO1lBQ1QsT0FBTztnQkFDTCxPQUFPLEtBQUs7WUFDZDtRQUNGO0lBQ0Y7SUFDQSxPQUFPLElBQUlDLE1BQU0sQ0FBQyxHQUFHYjtBQUN2QjtBQUNPLFNBQVNjLFVBQVVDLEdBQUc7SUFDM0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNDLGFBQWFELEdBQUc7SUFDOUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNFLFdBQVdGLEdBQUc7SUFDNUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNHLFlBQVlILEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNJLGNBQWNKLEdBQUc7SUFDL0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNLLFlBQVlMLEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNNLHFCQUFxQk4sR0FBRztJQUN0QyxPQUFPQTtBQUNUO0FBQ08sU0FBU08sZ0JBQWdCUCxHQUFHO0lBQ2pDLE9BQU9BO0FBQ1Q7QUFDTyxNQUFNUSxTQUFTekIsWUFBWSxDQUNsQywrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9hcGkuanM/NmMxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuL2Z1bmN0aW9uTmFtZS5qc1wiO1xuaW1wb3J0IHsgZ2V0RnVuY3Rpb25BZGRyZXNzIH0gZnJvbSBcIi4vY29tcG9uZW50cy9wYXRocy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0aW9uTmFtZShmdW5jdGlvblJlZmVyZW5jZSkge1xuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgaWYgKGFkZHJlc3MubmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgaWYgKGFkZHJlc3MuZnVuY3Rpb25IYW5kbGUgIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRXhwZWN0ZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGxpa2UgXCJhcGkuZmlsZS5mdW5jXCIgb3IgXCJpbnRlcm5hbC5maWxlLmZ1bmNcIiwgYnV0IHJlY2VpdmVkIGZ1bmN0aW9uIGhhbmRsZSAke2FkZHJlc3MuZnVuY3Rpb25IYW5kbGV9YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGFkZHJlc3MucmVmZXJlbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIHJlZmVyZW5jZSBpbiB0aGUgY3VycmVudCBjb21wb25lbnQgbGlrZSBcImFwaS5maWxlLmZ1bmNcIiBvciBcImludGVybmFsLmZpbGUuZnVuY1wiLCBidXQgcmVjZWl2ZWQgcmVmZXJlbmNlICR7YWRkcmVzcy5yZWZlcmVuY2V9YFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIHJlZmVyZW5jZSBsaWtlIFwiYXBpLmZpbGUuZnVuY1wiIG9yIFwiaW50ZXJuYWwuZmlsZS5mdW5jXCIsIGJ1dCByZWNlaXZlZCAke0pTT04uc3RyaW5naWZ5KGFkZHJlc3MpfWBcbiAgICApO1xuICB9XG4gIGlmICh0eXBlb2YgZnVuY3Rpb25SZWZlcmVuY2UgPT09IFwic3RyaW5nXCIpIHJldHVybiBmdW5jdGlvblJlZmVyZW5jZTtcbiAgY29uc3QgbmFtZSA9IGZ1bmN0aW9uUmVmZXJlbmNlW2Z1bmN0aW9uTmFtZV07XG4gIGlmICghbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtmdW5jdGlvblJlZmVyZW5jZX0gaXMgbm90IGEgZnVuY3Rpb25SZWZlcmVuY2VgKTtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRnVuY3Rpb25SZWZlcmVuY2UobmFtZSkge1xuICByZXR1cm4geyBbZnVuY3Rpb25OYW1lXTogbmFtZSB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQXBpKHBhdGhQYXJ0cyA9IFtdKSB7XG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZ2V0KF8sIHByb3ApIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5wYXRoUGFydHMsIHByb3BdO1xuICAgICAgICByZXR1cm4gY3JlYXRlQXBpKG5ld1BhcnRzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gZnVuY3Rpb25OYW1lKSB7XG4gICAgICAgIGlmIChwYXRoUGFydHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gW1wiYXBpXCIsIC4uLnBhdGhQYXJ0c10uam9pbihcIi5cIik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEFQSSBwYXRoIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHRoZSBmb3JtIFxcYGFwaS5tb2R1bGVOYW1lLmZ1bmN0aW9uTmFtZVxcYC4gRm91bmQ6IFxcYCR7Zm91bmR9XFxgYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhQYXJ0cy5zbGljZSgwLCAtMSkuam9pbihcIi9cIik7XG4gICAgICAgIGNvbnN0IGV4cG9ydE5hbWUgPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZXhwb3J0TmFtZSA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcGF0aCArIFwiOlwiICsgZXhwb3J0TmFtZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiAgICAgICAgcmV0dXJuIFwiRnVuY3Rpb25SZWZlcmVuY2VcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gbmV3IFByb3h5KHt9LCBoYW5kbGVyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBcGkoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgZnVuY3Rpb24ganVzdEludGVybmFsKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RQdWJsaWMoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgZnVuY3Rpb24ganVzdFF1ZXJpZXMoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgZnVuY3Rpb24ganVzdE11dGF0aW9ucyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0QWN0aW9ucyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0UGFnaW5hdGVkUXVlcmllcyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0U2NoZWR1bGFibGUoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgY29uc3QgYW55QXBpID0gY3JlYXRlQXBpKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcGkuanMubWFwXG4iXSwibmFtZXMiOlsiZnVuY3Rpb25OYW1lIiwiZ2V0RnVuY3Rpb25BZGRyZXNzIiwiZ2V0RnVuY3Rpb25OYW1lIiwiZnVuY3Rpb25SZWZlcmVuY2UiLCJhZGRyZXNzIiwibmFtZSIsImZ1bmN0aW9uSGFuZGxlIiwiRXJyb3IiLCJyZWZlcmVuY2UiLCJKU09OIiwic3RyaW5naWZ5IiwibWFrZUZ1bmN0aW9uUmVmZXJlbmNlIiwiY3JlYXRlQXBpIiwicGF0aFBhcnRzIiwiaGFuZGxlciIsImdldCIsIl8iLCJwcm9wIiwibmV3UGFydHMiLCJsZW5ndGgiLCJmb3VuZCIsImpvaW4iLCJwYXRoIiwic2xpY2UiLCJleHBvcnROYW1lIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJQcm94eSIsImZpbHRlckFwaSIsImFwaSIsImp1c3RJbnRlcm5hbCIsImp1c3RQdWJsaWMiLCJqdXN0UXVlcmllcyIsImp1c3RNdXRhdGlvbnMiLCJqdXN0QWN0aW9ucyIsImp1c3RQYWdpbmF0ZWRRdWVyaWVzIiwianVzdFNjaGVkdWxhYmxlIiwiYW55QXBpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/components/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/components/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   componentsGeneric: () => (/* binding */ componentsGeneric),\n/* harmony export */   createFunctionHandle: () => (/* binding */ createFunctionHandle),\n/* harmony export */   currentSystemUdfInComponent: () => (/* binding */ currentSystemUdfInComponent),\n/* harmony export */   defineApp: () => (/* binding */ defineApp),\n/* harmony export */   defineComponent: () => (/* binding */ defineComponent),\n/* harmony export */   getFunctionAddress: () => (/* reexport safe */ _paths_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionAddress)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _impl_syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../impl/syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _paths_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nasync function createFunctionHandle(functionReference) {\n    const address = (0,_paths_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionAddress)(functionReference);\n    return await (0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/createFunctionHandle\", {\n        ...address,\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    });\n}\nclass InstalledComponent {\n    constructor(definition, name){\n        /**\n     * @internal\n     */ __publicField(this, \"_definition\");\n        /**\n     * @internal\n     */ __publicField(this, \"_name\");\n        this._definition = definition;\n        this._name = name;\n        (0,_paths_js__WEBPACK_IMPORTED_MODULE_3__.setReferencePath)(this, `_reference/childComponent/${name}`);\n    }\n    get exports() {\n        return createExports(this._name, []);\n    }\n}\nfunction createExports(name, pathParts) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createExports(name, newParts);\n            } else if (prop === _paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath) {\n                let reference = `_reference/childComponent/${name}`;\n                for (const part of pathParts){\n                    reference += `/${part}`;\n                }\n                return reference;\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction use(definition, options) {\n    const importedComponentDefinition = definition;\n    if (typeof importedComponentDefinition.componentDefinitionPath !== \"string\") {\n        throw new Error(\"Component definition does not have the required componentDefinitionPath property. This code only works in Convex runtime.\");\n    }\n    const name = options?.name || // added recently\n    importedComponentDefinition.defaultName || // can be removed once backend is out\n    importedComponentDefinition.componentDefinitionPath.split(\"/\").pop();\n    this._childComponents.push([\n        name,\n        importedComponentDefinition,\n        {}\n    ]);\n    return new InstalledComponent(definition, name);\n}\nfunction exportAppForAnalysis() {\n    const definitionType = {\n        type: \"app\"\n    };\n    const childComponents = serializeChildComponents(this._childComponents);\n    return {\n        definitionType,\n        childComponents,\n        httpMounts: {},\n        exports: serializeExportTree(this._exportTree)\n    };\n}\nfunction serializeExportTree(tree) {\n    const branch = [];\n    for (const [key, child] of Object.entries(tree)){\n        let node;\n        if (typeof child === \"string\") {\n            node = {\n                type: \"leaf\",\n                leaf: child\n            };\n        } else {\n            node = serializeExportTree(child);\n        }\n        branch.push([\n            key,\n            node\n        ]);\n    }\n    return {\n        type: \"branch\",\n        branch\n    };\n}\nfunction serializeChildComponents(childComponents) {\n    return childComponents.map(([name, definition, p])=>{\n        let args = null;\n        if (p !== null) {\n            args = [];\n            for (const [name2, value] of Object.entries(p)){\n                if (value !== void 0) {\n                    args.push([\n                        name2,\n                        {\n                            type: \"value\",\n                            value: JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value))\n                        }\n                    ]);\n                }\n            }\n        }\n        const path = definition.componentDefinitionPath;\n        if (!path) throw new Error(\"no .componentPath for component definition \" + JSON.stringify(definition, null, 2));\n        return {\n            name,\n            path,\n            args\n        };\n    });\n}\nfunction exportComponentForAnalysis() {\n    const args = Object.entries(this._args).map(([name, validator])=>[\n            name,\n            {\n                type: \"value\",\n                value: JSON.stringify(validator.json)\n            }\n        ]);\n    const definitionType = {\n        type: \"childComponent\",\n        name: this._name,\n        args\n    };\n    const childComponents = serializeChildComponents(this._childComponents);\n    return {\n        name: this._name,\n        definitionType,\n        childComponents,\n        httpMounts: {},\n        exports: serializeExportTree(this._exportTree)\n    };\n}\nfunction defineComponent(name) {\n    const ret = {\n        _isRoot: false,\n        _name: name,\n        _args: {},\n        _childComponents: [],\n        _exportTree: {},\n        _onInitCallbacks: {},\n        export: exportComponentForAnalysis,\n        use,\n        // pretend to conform to ComponentDefinition, which temporarily expects __args\n        ...{}\n    };\n    return ret;\n}\nfunction defineApp() {\n    const ret = {\n        _isRoot: true,\n        _childComponents: [],\n        _exportTree: {},\n        export: exportAppForAnalysis,\n        use\n    };\n    return ret;\n}\nfunction currentSystemUdfInComponent(componentId) {\n    return {\n        [_paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath]: `_reference/currentSystemUdfInComponent/${componentId}`\n    };\n}\nfunction createChildComponents(root, pathParts) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createChildComponents(root, newParts);\n            } else if (prop === _paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath) {\n                if (pathParts.length < 1) {\n                    const found = [\n                        root,\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(`API path is expected to be of the form \\`${root}.childComponent.functionName\\`. Found: \\`${found}\\``);\n                }\n                return `_reference/childComponent/` + pathParts.join(\"/\");\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nconst componentsGeneric = ()=>createChildComponents(\"components\", []); //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jb21wb25lbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDWjtBQUNnQjtBQUtyQztBQUM0QjtBQUN6QyxlQUFlVyxxQkFBcUJDLGlCQUFpQjtJQUMxRCxNQUFNQyxVQUFVTCw2REFBa0JBLENBQUNJO0lBQ25DLE9BQU8sTUFBTUwscUVBQW1CQSxDQUFDLDRCQUE0QjtRQUMzRCxHQUFHTSxPQUFPO1FBQ1ZQLE9BQU9BLGdEQUFBQTtJQUNUO0FBQ0Y7QUFDQSxNQUFNUTtJQUNKQyxZQUFZQyxVQUFVLEVBQUVDLElBQUksQ0FBRTtRQUM1Qjs7S0FFQyxHQUNEYixjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNjLFdBQVcsR0FBR0Y7UUFDbkIsSUFBSSxDQUFDRyxLQUFLLEdBQUdGO1FBQ2JSLDJEQUFnQkEsQ0FBQyxJQUFJLEVBQUUsQ0FBQywwQkFBMEIsRUFBRVEsS0FBSyxDQUFDO0lBQzVEO0lBQ0EsSUFBSUcsVUFBVTtRQUNaLE9BQU9DLGNBQWMsSUFBSSxDQUFDRixLQUFLLEVBQUUsRUFBRTtJQUNyQztBQUNGO0FBQ0EsU0FBU0UsY0FBY0osSUFBSSxFQUFFSyxTQUFTO0lBQ3BDLE1BQU1DLFVBQVU7UUFD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QUlMO29CQUFXSTtpQkFBSztnQkFDckMsT0FBT2dELHNCQUFzQkMsTUFBTWhEO1lBQ3JDLE9BQU8sSUFBSUQsU0FBU2hCLHNEQUFlQSxFQUFFO2dCQUNuQyxJQUFJWSxVQUFVc0QsTUFBTSxHQUFHLEdBQUc7b0JBQ3hCLE1BQU1DLFFBQVE7d0JBQUNGOzJCQUFTckQ7cUJBQVUsQ0FBQ3dELElBQUksQ0FBQztvQkFDeEMsTUFBTSxJQUFJM0MsTUFDUixDQUFDLHlDQUF5QyxFQUFFd0MsS0FBSyx5Q0FBeUMsRUFBRUUsTUFBTSxFQUFFLENBQUM7Z0JBRXpHO2dCQUNBLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxHQUFHdkQsVUFBVXdELElBQUksQ0FBQztZQUN2RCxPQUFPO2dCQUNMLE9BQU8sS0FBSztZQUNkO1FBQ0Y7SUFDRjtJQUNBLE9BQU8sSUFBSWhELE1BQU0sQ0FBQyxHQUFHUDtBQUN2QjtBQUNPLE1BQU13RCxvQkFBb0IsSUFBTUwsc0JBQXNCLGNBQWMsRUFBRSxFQUFFLENBQy9FLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2NvbXBvbmVudHMvaW5kZXguanM/MDYyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsIH0gZnJvbSBcIi4uL2ltcGwvc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25BZGRyZXNzLFxuICBzZXRSZWZlcmVuY2VQYXRoLFxuICB0b1JlZmVyZW5jZVBhdGhcbn0gZnJvbSBcIi4vcGF0aHMuanNcIjtcbmV4cG9ydCB7IGdldEZ1bmN0aW9uQWRkcmVzcyB9IGZyb20gXCIuL3BhdGhzLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25IYW5kbGUoZnVuY3Rpb25SZWZlcmVuY2UpIHtcbiAgY29uc3QgYWRkcmVzcyA9IGdldEZ1bmN0aW9uQWRkcmVzcyhmdW5jdGlvblJlZmVyZW5jZSk7XG4gIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2NyZWF0ZUZ1bmN0aW9uSGFuZGxlXCIsIHtcbiAgICAuLi5hZGRyZXNzLFxuICAgIHZlcnNpb25cbiAgfSk7XG59XG5jbGFzcyBJbnN0YWxsZWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihkZWZpbml0aW9uLCBuYW1lKSB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9kZWZpbml0aW9uXCIpO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfbmFtZVwiKTtcbiAgICB0aGlzLl9kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICBzZXRSZWZlcmVuY2VQYXRoKHRoaXMsIGBfcmVmZXJlbmNlL2NoaWxkQ29tcG9uZW50LyR7bmFtZX1gKTtcbiAgfVxuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gY3JlYXRlRXhwb3J0cyh0aGlzLl9uYW1lLCBbXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUV4cG9ydHMobmFtZSwgcGF0aFBhcnRzKSB7XG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZ2V0KF8sIHByb3ApIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5wYXRoUGFydHMsIHByb3BdO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXhwb3J0cyhuYW1lLCBuZXdQYXJ0cyk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IHRvUmVmZXJlbmNlUGF0aCkge1xuICAgICAgICBsZXQgcmVmZXJlbmNlID0gYF9yZWZlcmVuY2UvY2hpbGRDb21wb25lbnQvJHtuYW1lfWA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXRoUGFydHMpIHtcbiAgICAgICAgICByZWZlcmVuY2UgKz0gYC8ke3BhcnR9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmZXJlbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBuZXcgUHJveHkoe30sIGhhbmRsZXIpO1xufVxuZnVuY3Rpb24gdXNlKGRlZmluaXRpb24sIG9wdGlvbnMpIHtcbiAgY29uc3QgaW1wb3J0ZWRDb21wb25lbnREZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgaWYgKHR5cGVvZiBpbXBvcnRlZENvbXBvbmVudERlZmluaXRpb24uY29tcG9uZW50RGVmaW5pdGlvblBhdGggIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvbXBvbmVudCBkZWZpbml0aW9uIGRvZXMgbm90IGhhdmUgdGhlIHJlcXVpcmVkIGNvbXBvbmVudERlZmluaXRpb25QYXRoIHByb3BlcnR5LiBUaGlzIGNvZGUgb25seSB3b3JrcyBpbiBDb252ZXggcnVudGltZS5cIlxuICAgICk7XG4gIH1cbiAgY29uc3QgbmFtZSA9IG9wdGlvbnM/Lm5hbWUgfHwgLy8gYWRkZWQgcmVjZW50bHlcbiAgaW1wb3J0ZWRDb21wb25lbnREZWZpbml0aW9uLmRlZmF1bHROYW1lIHx8IC8vIGNhbiBiZSByZW1vdmVkIG9uY2UgYmFja2VuZCBpcyBvdXRcbiAgaW1wb3J0ZWRDb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudERlZmluaXRpb25QYXRoLnNwbGl0KFwiL1wiKS5wb3AoKTtcbiAgdGhpcy5fY2hpbGRDb21wb25lbnRzLnB1c2goW25hbWUsIGltcG9ydGVkQ29tcG9uZW50RGVmaW5pdGlvbiwge31dKTtcbiAgcmV0dXJuIG5ldyBJbnN0YWxsZWRDb21wb25lbnQoZGVmaW5pdGlvbiwgbmFtZSk7XG59XG5mdW5jdGlvbiBleHBvcnRBcHBGb3JBbmFseXNpcygpIHtcbiAgY29uc3QgZGVmaW5pdGlvblR5cGUgPSB7IHR5cGU6IFwiYXBwXCIgfTtcbiAgY29uc3QgY2hpbGRDb21wb25lbnRzID0gc2VyaWFsaXplQ2hpbGRDb21wb25lbnRzKHRoaXMuX2NoaWxkQ29tcG9uZW50cyk7XG4gIHJldHVybiB7XG4gICAgZGVmaW5pdGlvblR5cGUsXG4gICAgY2hpbGRDb21wb25lbnRzLFxuICAgIGh0dHBNb3VudHM6IHt9LFxuICAgIGV4cG9ydHM6IHNlcmlhbGl6ZUV4cG9ydFRyZWUodGhpcy5fZXhwb3J0VHJlZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUV4cG9ydFRyZWUodHJlZSkge1xuICBjb25zdCBicmFuY2ggPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCBjaGlsZF0gb2YgT2JqZWN0LmVudHJpZXModHJlZSkpIHtcbiAgICBsZXQgbm9kZTtcbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBub2RlID0geyB0eXBlOiBcImxlYWZcIiwgbGVhZjogY2hpbGQgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHNlcmlhbGl6ZUV4cG9ydFRyZWUoY2hpbGQpO1xuICAgIH1cbiAgICBicmFuY2gucHVzaChba2V5LCBub2RlXSk7XG4gIH1cbiAgcmV0dXJuIHsgdHlwZTogXCJicmFuY2hcIiwgYnJhbmNoIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVDaGlsZENvbXBvbmVudHMoY2hpbGRDb21wb25lbnRzKSB7XG4gIHJldHVybiBjaGlsZENvbXBvbmVudHMubWFwKChbbmFtZSwgZGVmaW5pdGlvbiwgcF0pID0+IHtcbiAgICBsZXQgYXJncyA9IG51bGw7XG4gICAgaWYgKHAgIT09IG51bGwpIHtcbiAgICAgIGFyZ3MgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgW25hbWUyLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocCkpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBhcmdzLnB1c2goW1xuICAgICAgICAgICAgbmFtZTIsXG4gICAgICAgICAgICB7IHR5cGU6IFwidmFsdWVcIiwgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbih2YWx1ZSkpIH1cbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXRoID0gZGVmaW5pdGlvbi5jb21wb25lbnREZWZpbml0aW9uUGF0aDtcbiAgICBpZiAoIXBhdGgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwibm8gLmNvbXBvbmVudFBhdGggZm9yIGNvbXBvbmVudCBkZWZpbml0aW9uIFwiICsgSlNPTi5zdHJpbmdpZnkoZGVmaW5pdGlvbiwgbnVsbCwgMilcbiAgICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWUsXG4gICAgICBwYXRoLFxuICAgICAgYXJnc1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gZXhwb3J0Q29tcG9uZW50Rm9yQW5hbHlzaXMoKSB7XG4gIGNvbnN0IGFyZ3MgPSBPYmplY3QuZW50cmllcyhcbiAgICB0aGlzLl9hcmdzXG4gICkubWFwKChbbmFtZSwgdmFsaWRhdG9yXSkgPT4gW1xuICAgIG5hbWUsXG4gICAge1xuICAgICAgdHlwZTogXCJ2YWx1ZVwiLFxuICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHZhbGlkYXRvci5qc29uKVxuICAgIH1cbiAgXSk7XG4gIGNvbnN0IGRlZmluaXRpb25UeXBlID0ge1xuICAgIHR5cGU6IFwiY2hpbGRDb21wb25lbnRcIixcbiAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgIGFyZ3NcbiAgfTtcbiAgY29uc3QgY2hpbGRDb21wb25lbnRzID0gc2VyaWFsaXplQ2hpbGRDb21wb25lbnRzKHRoaXMuX2NoaWxkQ29tcG9uZW50cyk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICBkZWZpbml0aW9uVHlwZSxcbiAgICBjaGlsZENvbXBvbmVudHMsXG4gICAgaHR0cE1vdW50czoge30sXG4gICAgZXhwb3J0czogc2VyaWFsaXplRXhwb3J0VHJlZSh0aGlzLl9leHBvcnRUcmVlKVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChuYW1lKSB7XG4gIGNvbnN0IHJldCA9IHtcbiAgICBfaXNSb290OiBmYWxzZSxcbiAgICBfbmFtZTogbmFtZSxcbiAgICBfYXJnczoge30sXG4gICAgX2NoaWxkQ29tcG9uZW50czogW10sXG4gICAgX2V4cG9ydFRyZWU6IHt9LFxuICAgIF9vbkluaXRDYWxsYmFja3M6IHt9LFxuICAgIGV4cG9ydDogZXhwb3J0Q29tcG9uZW50Rm9yQW5hbHlzaXMsXG4gICAgdXNlLFxuICAgIC8vIHByZXRlbmQgdG8gY29uZm9ybSB0byBDb21wb25lbnREZWZpbml0aW9uLCB3aGljaCB0ZW1wb3JhcmlseSBleHBlY3RzIF9fYXJnc1xuICAgIC4uLnt9XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQXBwKCkge1xuICBjb25zdCByZXQgPSB7XG4gICAgX2lzUm9vdDogdHJ1ZSxcbiAgICBfY2hpbGRDb21wb25lbnRzOiBbXSxcbiAgICBfZXhwb3J0VHJlZToge30sXG4gICAgZXhwb3J0OiBleHBvcnRBcHBGb3JBbmFseXNpcyxcbiAgICB1c2VcbiAgfTtcbiAgcmV0dXJuIHJldDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQoY29tcG9uZW50SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBbdG9SZWZlcmVuY2VQYXRoXTogYF9yZWZlcmVuY2UvY3VycmVudFN5c3RlbVVkZkluQ29tcG9uZW50LyR7Y29tcG9uZW50SWR9YFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ2hpbGRDb21wb25lbnRzKHJvb3QsIHBhdGhQYXJ0cykge1xuICBjb25zdCBoYW5kbGVyID0ge1xuICAgIGdldChfLCBwcm9wKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3QgbmV3UGFydHMgPSBbLi4ucGF0aFBhcnRzLCBwcm9wXTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNoaWxkQ29tcG9uZW50cyhyb290LCBuZXdQYXJ0cyk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IHRvUmVmZXJlbmNlUGF0aCkge1xuICAgICAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICBjb25zdCBmb3VuZCA9IFtyb290LCAuLi5wYXRoUGFydHNdLmpvaW4oXCIuXCIpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBBUEkgcGF0aCBpcyBleHBlY3RlZCB0byBiZSBvZiB0aGUgZm9ybSBcXGAke3Jvb3R9LmNoaWxkQ29tcG9uZW50LmZ1bmN0aW9uTmFtZVxcYC4gRm91bmQ6IFxcYCR7Zm91bmR9XFxgYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBfcmVmZXJlbmNlL2NoaWxkQ29tcG9uZW50L2AgKyBwYXRoUGFydHMuam9pbihcIi9cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5ldyBQcm94eSh7fSwgaGFuZGxlcik7XG59XG5leHBvcnQgY29uc3QgY29tcG9uZW50c0dlbmVyaWMgPSAoKSA9PiBjcmVhdGVDaGlsZENvbXBvbmVudHMoXCJjb21wb25lbnRzXCIsIFtdKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiY29udmV4VG9Kc29uIiwidmVyc2lvbiIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJzZXRSZWZlcmVuY2VQYXRoIiwidG9SZWZlcmVuY2VQYXRoIiwiY3JlYXRlRnVuY3Rpb25IYW5kbGUiLCJmdW5jdGlvblJlZmVyZW5jZSIsImFkZHJlc3MiLCJJbnN0YWxsZWRDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImRlZmluaXRpb24iLCJuYW1lIiwiX2RlZmluaXRpb24iLCJfbmFtZSIsImV4cG9ydHMiLCJjcmVhdGVFeHBvcnRzIiwicGF0aFBhcnRzIiwiaGFuZGxlciIsImdldCIsIl8iLCJwcm9wIiwibmV3UGFydHMiLCJyZWZlcmVuY2UiLCJwYXJ0IiwiUHJveHkiLCJ1c2UiLCJvcHRpb25zIiwiaW1wb3J0ZWRDb21wb25lbnREZWZpbml0aW9uIiwiY29tcG9uZW50RGVmaW5pdGlvblBhdGgiLCJFcnJvciIsImRlZmF1bHROYW1lIiwic3BsaXQiLCJwb3AiLCJfY2hpbGRDb21wb25lbnRzIiwicHVzaCIsImV4cG9ydEFwcEZvckFuYWx5c2lzIiwiZGVmaW5pdGlvblR5cGUiLCJ0eXBlIiwiY2hpbGRDb21wb25lbnRzIiwic2VyaWFsaXplQ2hpbGRDb21wb25lbnRzIiwiaHR0cE1vdW50cyIsInNlcmlhbGl6ZUV4cG9ydFRyZWUiLCJfZXhwb3J0VHJlZSIsInRyZWUiLCJicmFuY2giLCJjaGlsZCIsImVudHJpZXMiLCJub2RlIiwibGVhZiIsIm1hcCIsInAiLCJhcmdzIiwibmFtZTIiLCJKU09OIiwic3RyaW5naWZ5IiwicGF0aCIsImV4cG9ydENvbXBvbmVudEZvckFuYWx5c2lzIiwiX2FyZ3MiLCJ2YWxpZGF0b3IiLCJqc29uIiwiZGVmaW5lQ29tcG9uZW50IiwicmV0IiwiX2lzUm9vdCIsIl9vbkluaXRDYWxsYmFja3MiLCJleHBvcnQiLCJkZWZpbmVBcHAiLCJjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQiLCJjb21wb25lbnRJZCIsImNyZWF0ZUNoaWxkQ29tcG9uZW50cyIsInJvb3QiLCJsZW5ndGgiLCJmb3VuZCIsImpvaW4iLCJjb21wb25lbnRzR2VuZXJpYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/components/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/components/paths.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/components/paths.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractReferencePath: () => (/* binding */ extractReferencePath),\n/* harmony export */   getFunctionAddress: () => (/* binding */ getFunctionAddress),\n/* harmony export */   isFunctionHandle: () => (/* binding */ isFunctionHandle),\n/* harmony export */   setReferencePath: () => (/* binding */ setReferencePath),\n/* harmony export */   toReferencePath: () => (/* binding */ toReferencePath)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functionName.js */ \"(ssr)/./node_modules/convex/dist/esm/server/functionName.js\");\n\n\nconst toReferencePath = Symbol.for(\"toReferencePath\");\nfunction setReferencePath(obj, value) {\n    obj[toReferencePath] = value;\n}\nfunction extractReferencePath(reference) {\n    return reference[toReferencePath] ?? null;\n}\nfunction isFunctionHandle(s) {\n    return s.startsWith(\"function://\");\n}\nfunction getFunctionAddress(functionReference) {\n    let functionAddress;\n    if (typeof functionReference === \"string\") {\n        if (isFunctionHandle(functionReference)) {\n            functionAddress = {\n                functionHandle: functionReference\n            };\n        } else {\n            functionAddress = {\n                name: functionReference\n            };\n        }\n    } else if (functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]) {\n        functionAddress = {\n            name: functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]\n        };\n    } else {\n        const referencePath = extractReferencePath(functionReference);\n        if (!referencePath) {\n            throw new Error(`${functionReference} is not a functionReference`);\n        }\n        functionAddress = {\n            reference: referencePath\n        };\n    }\n    return functionAddress;\n} //# sourceMappingURL=paths.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jb21wb25lbnRzL3BhdGhzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhO0FBQ3FDO0FBQzNDLE1BQU1DLGtCQUFrQkMsT0FBT0MsR0FBRyxDQUFDLG1CQUFtQjtBQUN0RCxTQUFTQyxpQkFBaUJDLEdBQUcsRUFBRUMsS0FBSztJQUN6Q0QsR0FBRyxDQUFDSixnQkFBZ0IsR0FBR0s7QUFDekI7QUFDTyxTQUFTQyxxQkFBcUJDLFNBQVM7SUFDNUMsT0FBT0EsU0FBUyxDQUFDUCxnQkFBZ0IsSUFBSTtBQUN2QztBQUNPLFNBQVNRLGlCQUFpQkMsQ0FBQztJQUNoQyxPQUFPQSxFQUFFQyxVQUFVLENBQUM7QUFDdEI7QUFDTyxTQUFTQyxtQkFBbUJDLGlCQUFpQjtJQUNsRCxJQUFJQztJQUNKLElBQUksT0FBT0Qsc0JBQXNCLFVBQVU7UUFDekMsSUFBSUosaUJBQWlCSSxvQkFBb0I7WUFDdkNDLGtCQUFrQjtnQkFBRUMsZ0JBQWdCRjtZQUFrQjtRQUN4RCxPQUFPO1lBQ0xDLGtCQUFrQjtnQkFBRUUsTUFBTUg7WUFBa0I7UUFDOUM7SUFDRixPQUFPLElBQUlBLGlCQUFpQixDQUFDYiwwREFBWUEsQ0FBQyxFQUFFO1FBQzFDYyxrQkFBa0I7WUFBRUUsTUFBTUgsaUJBQWlCLENBQUNiLDBEQUFZQSxDQUFDO1FBQUM7SUFDNUQsT0FBTztRQUNMLE1BQU1pQixnQkFBZ0JWLHFCQUFxQk07UUFDM0MsSUFBSSxDQUFDSSxlQUFlO1lBQ2xCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLEVBQUVMLGtCQUFrQiwyQkFBMkIsQ0FBQztRQUNuRTtRQUNBQyxrQkFBa0I7WUFBRU4sV0FBV1M7UUFBYztJQUMvQztJQUNBLE9BQU9IO0FBQ1QsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jb21wb25lbnRzL3BhdGhzLmpzPzAyZTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBmdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vZnVuY3Rpb25OYW1lLmpzXCI7XG5leHBvcnQgY29uc3QgdG9SZWZlcmVuY2VQYXRoID0gU3ltYm9sLmZvcihcInRvUmVmZXJlbmNlUGF0aFwiKTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRSZWZlcmVuY2VQYXRoKG9iaiwgdmFsdWUpIHtcbiAgb2JqW3RvUmVmZXJlbmNlUGF0aF0gPSB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UmVmZXJlbmNlUGF0aChyZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlZmVyZW5jZVt0b1JlZmVyZW5jZVBhdGhdID8/IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbkhhbmRsZShzKSB7XG4gIHJldHVybiBzLnN0YXJ0c1dpdGgoXCJmdW5jdGlvbjovL1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdGlvbkFkZHJlc3MoZnVuY3Rpb25SZWZlcmVuY2UpIHtcbiAgbGV0IGZ1bmN0aW9uQWRkcmVzcztcbiAgaWYgKHR5cGVvZiBmdW5jdGlvblJlZmVyZW5jZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChpc0Z1bmN0aW9uSGFuZGxlKGZ1bmN0aW9uUmVmZXJlbmNlKSkge1xuICAgICAgZnVuY3Rpb25BZGRyZXNzID0geyBmdW5jdGlvbkhhbmRsZTogZnVuY3Rpb25SZWZlcmVuY2UgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVuY3Rpb25BZGRyZXNzID0geyBuYW1lOiBmdW5jdGlvblJlZmVyZW5jZSB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChmdW5jdGlvblJlZmVyZW5jZVtmdW5jdGlvbk5hbWVdKSB7XG4gICAgZnVuY3Rpb25BZGRyZXNzID0geyBuYW1lOiBmdW5jdGlvblJlZmVyZW5jZVtmdW5jdGlvbk5hbWVdIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVmZXJlbmNlUGF0aCA9IGV4dHJhY3RSZWZlcmVuY2VQYXRoKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgICBpZiAoIXJlZmVyZW5jZVBhdGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtmdW5jdGlvblJlZmVyZW5jZX0gaXMgbm90IGEgZnVuY3Rpb25SZWZlcmVuY2VgKTtcbiAgICB9XG4gICAgZnVuY3Rpb25BZGRyZXNzID0geyByZWZlcmVuY2U6IHJlZmVyZW5jZVBhdGggfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb25BZGRyZXNzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aHMuanMubWFwXG4iXSwibmFtZXMiOlsiZnVuY3Rpb25OYW1lIiwidG9SZWZlcmVuY2VQYXRoIiwiU3ltYm9sIiwiZm9yIiwic2V0UmVmZXJlbmNlUGF0aCIsIm9iaiIsInZhbHVlIiwiZXh0cmFjdFJlZmVyZW5jZVBhdGgiLCJyZWZlcmVuY2UiLCJpc0Z1bmN0aW9uSGFuZGxlIiwicyIsInN0YXJ0c1dpdGgiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJmdW5jdGlvblJlZmVyZW5jZSIsImZ1bmN0aW9uQWRkcmVzcyIsImZ1bmN0aW9uSGFuZGxlIiwibmFtZSIsInJlZmVyZW5jZVBhdGgiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/cron.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/cron.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Crons: () => (/* binding */ Crons),\n/* harmony export */   cronJobs: () => (/* binding */ cronJobs)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nconst DAYS_OF_WEEK = [\n    \"sunday\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\"\n];\nconst cronJobs = ()=>new Crons();\nfunction validateIntervalNumber(n) {\n    if (!Number.isInteger(n) || n <= 0) {\n        throw new Error(\"Interval must be an integer greater than 0\");\n    }\n}\nfunction validatedDayOfMonth(n) {\n    if (!Number.isInteger(n) || n < 1 || n > 31) {\n        throw new Error(\"Day of month must be an integer from 1 to 31\");\n    }\n    return n;\n}\nfunction validatedDayOfWeek(s) {\n    if (typeof s !== \"string\" || !DAYS_OF_WEEK.includes(s)) {\n        throw new Error('Day of week must be a string like \"monday\".');\n    }\n    return s;\n}\nfunction validatedHourOfDay(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 23) {\n        throw new Error(\"Hour of day must be an integer from 0 to 23\");\n    }\n    return n;\n}\nfunction validatedMinuteOfHour(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 59) {\n        throw new Error(\"Minute of hour must be an integer from 0 to 59\");\n    }\n    return n;\n}\nfunction validatedCronString(s) {\n    return s;\n}\nfunction validatedCronIdentifier(s) {\n    if (!s.match(/^[ -~]*$/)) {\n        throw new Error(`Invalid cron identifier ${s}: use ASCII letters that are not control characters`);\n    }\n    return s;\n}\nclass Crons {\n    constructor(){\n        __publicField(this, \"crons\");\n        __publicField(this, \"isCrons\");\n        this.isCrons = true;\n        this.crons = {};\n    }\n    /** @internal */ schedule(cronIdentifier, schedule, functionReference, args) {\n        const cronArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        validatedCronIdentifier(cronIdentifier);\n        if (cronIdentifier in this.crons) {\n            throw new Error(`Cron identifier registered twice: ${cronIdentifier}`);\n        }\n        this.crons[cronIdentifier] = {\n            name: (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(functionReference),\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(cronArgs)\n            ],\n            schedule\n        };\n    }\n    /**\n   * Schedule a mutation or action to run at some interval.\n   *\n   * ```js\n   * crons.interval(\"Clear presence data\", {seconds: 30}, api.presence.clear);\n   * ```\n   *\n   * @param identifier - A unique name for this scheduled job.\n   * @param schedule - The time between runs for this scheduled job.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ interval(cronIdentifier, schedule, functionReference, ...args) {\n        const s = schedule;\n        const hasSeconds = +(\"seconds\" in s && s.seconds !== void 0);\n        const hasMinutes = +(\"minutes\" in s && s.minutes !== void 0);\n        const hasHours = +(\"hours\" in s && s.hours !== void 0);\n        const total = hasSeconds + hasMinutes + hasHours;\n        if (total !== 1) {\n            throw new Error(\"Must specify one of seconds, minutes, or hours\");\n        }\n        if (hasSeconds) {\n            validateIntervalNumber(schedule.seconds);\n        } else if (hasMinutes) {\n            validateIntervalNumber(schedule.minutes);\n        } else if (hasHours) {\n            validateIntervalNumber(schedule.hours);\n        }\n        this.schedule(cronIdentifier, {\n            ...schedule,\n            type: \"interval\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on an hourly basis.\n   *\n   * ```js\n   * crons.hourly(\n   *   \"Reset high scores\",\n   *   {\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ hourly(cronIdentifier, schedule, functionReference, ...args) {\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            minuteUTC,\n            type: \"hourly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a daily basis.\n   *\n   * ```js\n   * crons.daily(\n   *   \"Reset high scores\",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ daily(cronIdentifier, schedule, functionReference, ...args) {\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            hourUTC,\n            minuteUTC,\n            type: \"daily\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a weekly basis.\n   *\n   * ```js\n   * crons.weekly(\n   *   \"Weekly re-engagement email\",\n   *   {\n   *     dayOfWeek: \"Tuesday\",\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.emails.send\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each week to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   */ weekly(cronIdentifier, schedule, functionReference, ...args) {\n        const dayOfWeek = validatedDayOfWeek(schedule.dayOfWeek);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            dayOfWeek,\n            hourUTC,\n            minuteUTC,\n            type: \"weekly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a monthly basis.\n   *\n   * Note that some months have fewer days than others, so e.g. a function\n   * scheduled to run on the 30th will not run in February.\n   *\n   * ```js\n   * crons.monthly(\n   *   \"Bill customers at \",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *     day: 1,\n   *   },\n   *   api.billing.billCustomers\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each month to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ monthly(cronIdentifier, schedule, functionReference, ...args) {\n        const day = validatedDayOfMonth(schedule.day);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            day,\n            hourUTC,\n            minuteUTC,\n            type: \"monthly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a recurring basis.\n   *\n   * Like the unix command `cron`, Sunday is 0, Monday is 1, etc.\n   *\n   * ```\n   *  ┌─ minute (0 - 59)\n   *  │ ┌─ hour (0 - 23)\n   *  │ │ ┌─ day of the month (1 - 31)\n   *  │ │ │ ┌─ month (1 - 12)\n   *  │ │ │ │ ┌─ day of the week (0 - 6) (Sunday to Saturday)\n   * \"* * * * *\"\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param cron - Cron string like `\"15 7 * * *\"` (Every day at 7:15 UTC)\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ cron(cronIdentifier, cron, functionReference, ...args) {\n        const c = validatedCronString(cron);\n        this.schedule(cronIdentifier, {\n            cron: c,\n            type: \"cron\"\n        }, functionReference, ...args);\n    }\n    /** @internal */ export() {\n        return JSON.stringify(this.crons);\n    }\n} //# sourceMappingURL=cron.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jcm9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3JEO0FBQ0o7QUFDRztBQUNsRCxNQUFNUSxlQUFlO0lBQ25CO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFDTSxNQUFNQyxXQUFXLElBQU0sSUFBSUMsUUFBUTtBQUMxQyxTQUFTQyx1QkFBdUJDLENBQUM7SUFDL0IsSUFBSSxDQUFDQyxPQUFPQyxTQUFTLENBQUNGLE1BQU1BLEtBQUssR0FBRztRQUNsQyxNQUFNLElBQUlHLE1BQU07SUFDbEI7QUFDRjtBQUNBLFNBQVNDLG9CQUFvQkosQ0FBQztJQUM1QixJQUFJLENBQUNDLE9BQU9DLFNBQVMsQ0FBQ0YsTUFBTUEsSUFBSSxLQUFLQSxJQUFJLElBQUk7UUFDM0MsTUFBTSxJQUFJRyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0g7QUFDVDtBQUNBLFNBQVNLLG1CQUFtQkMsQ0FBQztJQUMzQixJQUFJLE9BQU9BLE1BQU0sWUFBWSxDQUFDVixhQUFhVyxRQUFRLENBQUNELElBQUk7UUFDdEQsTUFBTSxJQUFJSCxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0c7QUFDVDtBQUNBLFNBQVNFLG1CQUFtQlIsQ0FBQztJQUMzQixJQUFJLENBQUNDLE9BQU9DLFNBQVMsQ0FBQ0YsTUFBTUEsSUFBSSxLQUFL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LFNBQVM7UUFDUCxPQUFPQyxLQUFLQyxTQUFTLENBQUMsSUFBSSxDQUFDNUIsS0FBSztJQUNsQztBQUNGLEVBQ0EsZ0NBQWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvY3Jvbi5qcz81NjNlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5jb25zdCBEQVlTX09GX1dFRUsgPSBbXG4gIFwic3VuZGF5XCIsXG4gIFwibW9uZGF5XCIsXG4gIFwidHVlc2RheVwiLFxuICBcIndlZG5lc2RheVwiLFxuICBcInRodXJzZGF5XCIsXG4gIFwiZnJpZGF5XCIsXG4gIFwic2F0dXJkYXlcIlxuXTtcbmV4cG9ydCBjb25zdCBjcm9uSm9icyA9ICgpID0+IG5ldyBDcm9ucygpO1xuZnVuY3Rpb24gdmFsaWRhdGVJbnRlcnZhbE51bWJlcihuKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihuKSB8fCBuIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcnZhbCBtdXN0IGJlIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIDBcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZERheU9mTW9udGgobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8IDEgfHwgbiA+IDMxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRGF5IG9mIG1vbnRoIG11c3QgYmUgYW4gaW50ZWdlciBmcm9tIDEgdG8gMzFcIik7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWREYXlPZldlZWsocykge1xuICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIgfHwgIURBWVNfT0ZfV0VFSy5pbmNsdWRlcyhzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRGF5IG9mIHdlZWsgbXVzdCBiZSBhIHN0cmluZyBsaWtlIFwibW9uZGF5XCIuJyk7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWRIb3VyT2ZEYXkobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8IDAgfHwgbiA+IDIzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSG91ciBvZiBkYXkgbXVzdCBiZSBhbiBpbnRlZ2VyIGZyb20gMCB0byAyM1wiKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZE1pbnV0ZU9mSG91cihuKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihuKSB8fCBuIDwgMCB8fCBuID4gNTkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaW51dGUgb2YgaG91ciBtdXN0IGJlIGFuIGludGVnZXIgZnJvbSAwIHRvIDU5XCIpO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkQ3JvblN0cmluZyhzKSB7XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkQ3JvbklkZW50aWZpZXIocykge1xuICBpZiAoIXMubWF0Y2goL15bIC1+XSokLykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBjcm9uIGlkZW50aWZpZXIgJHtzfTogdXNlIEFTQ0lJIGxldHRlcnMgdGhhdCBhcmUgbm90IGNvbnRyb2wgY2hhcmFjdGVyc2BcbiAgICApO1xuICB9XG4gIHJldHVybiBzO1xufVxuZXhwb3J0IGNsYXNzIENyb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNyb25zXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpc0Nyb25zXCIpO1xuICAgIHRoaXMuaXNDcm9ucyA9IHRydWU7XG4gICAgdGhpcy5jcm9ucyA9IHt9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc2NoZWR1bGUoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykge1xuICAgIGNvbnN0IGNyb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIHZhbGlkYXRlZENyb25JZGVudGlmaWVyKGNyb25JZGVudGlmaWVyKTtcbiAgICBpZiAoY3JvbklkZW50aWZpZXIgaW4gdGhpcy5jcm9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDcm9uIGlkZW50aWZpZXIgcmVnaXN0ZXJlZCB0d2ljZTogJHtjcm9uSWRlbnRpZmllcn1gKTtcbiAgICB9XG4gICAgdGhpcy5jcm9uc1tjcm9uSWRlbnRpZmllcl0gPSB7XG4gICAgICBuYW1lOiBnZXRGdW5jdGlvbk5hbWUoZnVuY3Rpb25SZWZlcmVuY2UpLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihjcm9uQXJncyldLFxuICAgICAgc2NoZWR1bGVcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIG11dGF0aW9uIG9yIGFjdGlvbiB0byBydW4gYXQgc29tZSBpbnRlcnZhbC5cbiAgICpcbiAgICogYGBganNcbiAgICogY3JvbnMuaW50ZXJ2YWwoXCJDbGVhciBwcmVzZW5jZSBkYXRhXCIsIHtzZWNvbmRzOiAzMH0sIGFwaS5wcmVzZW5jZS5jbGVhcik7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gVGhlIHRpbWUgYmV0d2VlbiBydW5zIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBmdW5jdGlvblJlZmVyZW5jZSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgaW50ZXJ2YWwoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHMgPSBzY2hlZHVsZTtcbiAgICBjb25zdCBoYXNTZWNvbmRzID0gKyhcInNlY29uZHNcIiBpbiBzICYmIHMuc2Vjb25kcyAhPT0gdm9pZCAwKTtcbiAgICBjb25zdCBoYXNNaW51dGVzID0gKyhcIm1pbnV0ZXNcIiBpbiBzICYmIHMubWludXRlcyAhPT0gdm9pZCAwKTtcbiAgICBjb25zdCBoYXNIb3VycyA9ICsoXCJob3Vyc1wiIGluIHMgJiYgcy5ob3VycyAhPT0gdm9pZCAwKTtcbiAgICBjb25zdCB0b3RhbCA9IGhhc1NlY29uZHMgKyBoYXNNaW51dGVzICsgaGFzSG91cnM7XG4gICAgaWYgKHRvdGFsICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgb25lIG9mIHNlY29uZHMsIG1pbnV0ZXMsIG9yIGhvdXJzXCIpO1xuICAgIH1cbiAgICBpZiAoaGFzU2Vjb25kcykge1xuICAgICAgdmFsaWRhdGVJbnRlcnZhbE51bWJlcihzY2hlZHVsZS5zZWNvbmRzKTtcbiAgICB9IGVsc2UgaWYgKGhhc01pbnV0ZXMpIHtcbiAgICAgIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIoc2NoZWR1bGUubWludXRlcyk7XG4gICAgfSBlbHNlIGlmIChoYXNIb3Vycykge1xuICAgICAgdmFsaWRhdGVJbnRlcnZhbE51bWJlcihzY2hlZHVsZS5ob3Vycyk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGUoXG4gICAgICBjcm9uSWRlbnRpZmllcixcbiAgICAgIHsgLi4uc2NoZWR1bGUsIHR5cGU6IFwiaW50ZXJ2YWxcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGFuIGhvdXJseSBiYXNpcy5cbiAgICpcbiAgICogYGBganNcbiAgICogY3JvbnMuaG91cmx5KFxuICAgKiAgIFwiUmVzZXQgaGlnaCBzY29yZXNcIixcbiAgICogICB7XG4gICAqICAgICBtaW51dGVVVEM6IDMwLFxuICAgKiAgIH0sXG4gICAqICAgYXBpLnNjb3Jlcy5yZXNldFxuICAgKiApXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFdoYXQgdGltZSAoVVRDKSBlYWNoIGRheSB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBob3VybHkoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IG1pbnV0ZVVUQyA9IHZhbGlkYXRlZE1pbnV0ZU9mSG91cihzY2hlZHVsZS5taW51dGVVVEMpO1xuICAgIHRoaXMuc2NoZWR1bGUoXG4gICAgICBjcm9uSWRlbnRpZmllcixcbiAgICAgIHsgbWludXRlVVRDLCB0eXBlOiBcImhvdXJseVwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIG11dGF0aW9uIG9yIGFjdGlvbiB0byBydW4gb24gYSBkYWlseSBiYXNpcy5cbiAgICpcbiAgICogYGBganNcbiAgICogY3JvbnMuZGFpbHkoXG4gICAqICAgXCJSZXNldCBoaWdoIHNjb3Jlc1wiLFxuICAgKiAgIHtcbiAgICogICAgIGhvdXJVVEM6IDE3LCAvLyAoOTozMGFtIFBhY2lmaWMvMTA6MzBhbSBEYXlsaWdodCBTYXZpbmdzIFBhY2lmaWMpXG4gICAqICAgICBtaW51dGVVVEM6IDMwLFxuICAgKiAgIH0sXG4gICAqICAgYXBpLnNjb3Jlcy5yZXNldFxuICAgKiApXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFdoYXQgdGltZSAoVVRDKSBlYWNoIGRheSB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBkYWlseShjcm9uSWRlbnRpZmllciwgc2NoZWR1bGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaG91clVUQyA9IHZhbGlkYXRlZEhvdXJPZkRheShzY2hlZHVsZS5ob3VyVVRDKTtcbiAgICBjb25zdCBtaW51dGVVVEMgPSB2YWxpZGF0ZWRNaW51dGVPZkhvdXIoc2NoZWR1bGUubWludXRlVVRDKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGhvdXJVVEMsIG1pbnV0ZVVUQywgdHlwZTogXCJkYWlseVwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIG11dGF0aW9uIG9yIGFjdGlvbiB0byBydW4gb24gYSB3ZWVrbHkgYmFzaXMuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLndlZWtseShcbiAgICogICBcIldlZWtseSByZS1lbmdhZ2VtZW50IGVtYWlsXCIsXG4gICAqICAge1xuICAgKiAgICAgZGF5T2ZXZWVrOiBcIlR1ZXNkYXlcIixcbiAgICogICAgIGhvdXJVVEM6IDE3LCAvLyAoOTozMGFtIFBhY2lmaWMvMTA6MzBhbSBEYXlsaWdodCBTYXZpbmdzIFBhY2lmaWMpXG4gICAqICAgICBtaW51dGVVVEM6IDMwLFxuICAgKiAgIH0sXG4gICAqICAgYXBpLmVtYWlscy5zZW5kXG4gICAqIClcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gV2hhdCBkYXkgYW5kIHRpbWUgKFVUQykgZWFjaCB3ZWVrIHRvIHJ1biB0aGlzIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICovXG4gIHdlZWtseShjcm9uSWRlbnRpZmllciwgc2NoZWR1bGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gdmFsaWRhdGVkRGF5T2ZXZWVrKHNjaGVkdWxlLmRheU9mV2Vlayk7XG4gICAgY29uc3QgaG91clVUQyA9IHZhbGlkYXRlZEhvdXJPZkRheShzY2hlZHVsZS5ob3VyVVRDKTtcbiAgICBjb25zdCBtaW51dGVVVEMgPSB2YWxpZGF0ZWRNaW51dGVPZkhvdXIoc2NoZWR1bGUubWludXRlVVRDKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGRheU9mV2VlaywgaG91clVUQywgbWludXRlVVRDLCB0eXBlOiBcIndlZWtseVwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIG11dGF0aW9uIG9yIGFjdGlvbiB0byBydW4gb24gYSBtb250aGx5IGJhc2lzLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgc29tZSBtb250aHMgaGF2ZSBmZXdlciBkYXlzIHRoYW4gb3RoZXJzLCBzbyBlLmcuIGEgZnVuY3Rpb25cbiAgICogc2NoZWR1bGVkIHRvIHJ1biBvbiB0aGUgMzB0aCB3aWxsIG5vdCBydW4gaW4gRmVicnVhcnkuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLm1vbnRobHkoXG4gICAqICAgXCJCaWxsIGN1c3RvbWVycyBhdCBcIixcbiAgICogICB7XG4gICAqICAgICBob3VyVVRDOiAxNywgLy8gKDk6MzBhbSBQYWNpZmljLzEwOjMwYW0gRGF5bGlnaHQgU2F2aW5ncyBQYWNpZmljKVxuICAgKiAgICAgbWludXRlVVRDOiAzMCxcbiAgICogICAgIGRheTogMSxcbiAgICogICB9LFxuICAgKiAgIGFwaS5iaWxsaW5nLmJpbGxDdXN0b21lcnNcbiAgICogKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGNyb25JZGVudGlmaWVyIC0gQSB1bmlxdWUgbmFtZSBmb3IgdGhpcyBzY2hlZHVsZWQgam9iLlxuICAgKiBAcGFyYW0gc2NoZWR1bGUgLSBXaGF0IGRheSBhbmQgdGltZSAoVVRDKSBlYWNoIG1vbnRoIHRvIHJ1biB0aGlzIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIG1vbnRobHkoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGRheSA9IHZhbGlkYXRlZERheU9mTW9udGgoc2NoZWR1bGUuZGF5KTtcbiAgICBjb25zdCBob3VyVVRDID0gdmFsaWRhdGVkSG91ck9mRGF5KHNjaGVkdWxlLmhvdXJVVEMpO1xuICAgIGNvbnN0IG1pbnV0ZVVUQyA9IHZhbGlkYXRlZE1pbnV0ZU9mSG91cihzY2hlZHVsZS5taW51dGVVVEMpO1xuICAgIHRoaXMuc2NoZWR1bGUoXG4gICAgICBjcm9uSWRlbnRpZmllcixcbiAgICAgIHsgZGF5LCBob3VyVVRDLCBtaW51dGVVVEMsIHR5cGU6IFwibW9udGhseVwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIG11dGF0aW9uIG9yIGFjdGlvbiB0byBydW4gb24gYSByZWN1cnJpbmcgYmFzaXMuXG4gICAqXG4gICAqIExpa2UgdGhlIHVuaXggY29tbWFuZCBgY3JvbmAsIFN1bmRheSBpcyAwLCBNb25kYXkgaXMgMSwgZXRjLlxuICAgKlxuICAgKiBgYGBcbiAgICogIOKUjOKUgCBtaW51dGUgKDAgLSA1OSlcbiAgICogIOKUgiDilIzilIAgaG91ciAoMCAtIDIzKVxuICAgKiAg4pSCIOKUgiDilIzilIAgZGF5IG9mIHRoZSBtb250aCAoMSAtIDMxKVxuICAgKiAg4pSCIOKUgiDilIIg4pSM4pSAIG1vbnRoICgxIC0gMTIpXG4gICAqICDilIIg4pSCIOKUgiDilIIg4pSM4pSAIGRheSBvZiB0aGUgd2VlayAoMCAtIDYpIChTdW5kYXkgdG8gU2F0dXJkYXkpXG4gICAqIFwiKiAqICogKiAqXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIGNyb24gLSBDcm9uIHN0cmluZyBsaWtlIGBcIjE1IDcgKiAqICpcImAgKEV2ZXJ5IGRheSBhdCA3OjE1IFVUQylcbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBjcm9uKGNyb25JZGVudGlmaWVyLCBjcm9uLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGMgPSB2YWxpZGF0ZWRDcm9uU3RyaW5nKGNyb24pO1xuICAgIHRoaXMuc2NoZWR1bGUoXG4gICAgICBjcm9uSWRlbnRpZmllcixcbiAgICAgIHsgY3JvbjogYywgdHlwZTogXCJjcm9uXCIgfSxcbiAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBleHBvcnQoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY3JvbnMpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcm9uLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiZ2V0RnVuY3Rpb25OYW1lIiwicGFyc2VBcmdzIiwiY29udmV4VG9Kc29uIiwiREFZU19PRl9XRUVLIiwiY3JvbkpvYnMiLCJDcm9ucyIsInZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIiLCJuIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiRXJyb3IiLCJ2YWxpZGF0ZWREYXlPZk1vbnRoIiwidmFsaWRhdGVkRGF5T2ZXZWVrIiwicyIsImluY2x1ZGVzIiwidmFsaWRhdGVkSG91ck9mRGF5IiwidmFsaWRhdGVkTWludXRlT2ZIb3VyIiwidmFsaWRhdGVkQ3JvblN0cmluZyIsInZhbGlkYXRlZENyb25JZGVudGlmaWVyIiwibWF0Y2giLCJjb25zdHJ1Y3RvciIsImlzQ3JvbnMiLCJjcm9ucyIsInNjaGVkdWxlIiwiY3JvbklkZW50aWZpZXIiLCJmdW5jdGlvblJlZmVyZW5jZSIsImFyZ3MiLCJjcm9uQXJncyIsIm5hbWUiLCJpbnRlcnZhbCIsImhhc1NlY29uZHMiLCJzZWNvbmRzIiwiaGFzTWludXRlcyIsIm1pbnV0ZXMiLCJoYXNIb3VycyIsImhvdXJzIiwidG90YWwiLCJ0eXBlIiwiaG91cmx5IiwibWludXRlVVRDIiwiZGFpbHkiLCJob3VyVVRDIiwid2Vla2x5IiwiZGF5T2ZXZWVrIiwibW9udGhseSIsImRheSIsImNyb24iLCJjIiwiZXhwb3J0IiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/cron.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/database.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/database.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=database.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9kYXRhYmFzZS5qcyIsIm1hcHBpbmdzIjoiO0FBQWEsQ0FDYixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9kYXRhYmFzZS5qcz9jOWE3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YWJhc2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/database.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/filter_builder.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Expression: () => (/* binding */ Expression)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass Expression {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isExpression\");\n        // Property to distinguish expressions by the type they resolve to.\n        __publicField(this, \"_value\");\n    }\n} //# sourceMappingURL=filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9maWx0ZXJfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ2pHLE1BQU1LO0lBQ1g7O0dBRUMsR0FDREMsYUFBYztRQUNaLHFDQUFxQztRQUNyQ0YsY0FBYyxJQUFJLEVBQUU7UUFDcEIsbUVBQW1FO1FBQ25FQSxjQUFjLElBQUksRUFBRTtJQUN0QjtBQUNGLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvZmlsdGVyX2J1aWxkZXIuanM/YmMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbiB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFByb3BlcnR5IGZvciBub21pbmFsIHR5cGUgc3VwcG9ydC5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2lzRXhwcmVzc2lvblwiKTtcbiAgICAvLyBQcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBleHByZXNzaW9ucyBieSB0aGUgdHlwZSB0aGV5IHJlc29sdmUgdG8uXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl92YWx1ZVwiKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyX2J1aWxkZXIuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJFeHByZXNzaW9uIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/functionName.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/functionName.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   functionName: () => (/* binding */ functionName)\n/* harmony export */ });\n\nconst functionName = Symbol.for(\"functionName\"); //# sourceMappingURL=functionName.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9mdW5jdGlvbk5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhO0FBQ04sTUFBTUEsZUFBZUMsT0FBT0MsR0FBRyxDQUFDLGdCQUFnQixDQUN2RCx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9mdW5jdGlvbk5hbWUuanM/N2IyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBjb25zdCBmdW5jdGlvbk5hbWUgPSBTeW1ib2wuZm9yKFwiZnVuY3Rpb25OYW1lXCIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25OYW1lLmpzLm1hcFxuIl0sIm5hbWVzIjpbImZ1bmN0aW9uTmFtZSIsIlN5bWJvbCIsImZvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/functionName.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/actions_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionCalls: () => (/* binding */ setupActionCalls)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\nfunction syscallArgs(requestId, functionReference, args) {\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionAddress)(functionReference);\n    return {\n        ...address,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)((0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args)),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n        requestId\n    };\n}\nfunction setupActionCalls(requestId) {\n    return {\n        runQuery: async (query, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/query\", syscallArgs(requestId, query, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        },\n        runMutation: async (mutation, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/mutation\", syscallArgs(requestId, mutation, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        },\n        runAction: async (action, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/action\", syscallArgs(requestId, action, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        }\n    };\n} //# sourceMappingURL=actions_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2FjdGlvbnNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNzRDtBQUMxQjtBQUNVO0FBQ0Q7QUFDVTtBQUM1RCxTQUFTTSxZQUFZQyxTQUFTLEVBQUVDLGlCQUFpQixFQUFFQyxJQUFJO0lBQ3JELE1BQU1DLFVBQVVMLHdFQUFrQkEsQ0FBQ0c7SUFDbkMsT0FBTztRQUNMLEdBQUdFLE9BQU87UUFDVkQsTUFBTVQsOERBQVlBLENBQUNJLDJEQUFTQSxDQUFDSztRQUM3QlAsT0FBT0EsZ0RBQUFBO1FBQ1BLO0lBQ0Y7QUFDRjtBQUNPLFNBQVNJLGlCQUFpQkosU0FBUztJQUN4QyxPQUFPO1FBQ0xLLFVBQVUsT0FBT0MsT0FBT0o7WUFDdEIsTUFBTUssU0FBUyxNQUFNWCxnRUFBbUJBLENBQ3RDLHFCQUNBRyxZQUFZQyxXQUFXTSxPQUFPSjtZQUVoQyxPQUFPUiw4REFBWUEsQ0FBQ2E7UUFDdEI7UUFDQUMsYUFBYSxPQUFPQyxVQUFVUDtZQUM1QixNQUFNSyxTQUFTLE1BQU1YLGdFQUFtQkEsQ0FDdEMsd0JBQ0FHLFlBQVlDLFdBQVdTLFVBQVVQO1lBRW5DLE9BQU9SLDhEQUFZQSxDQUFDYTtRQUN0QjtRQUNBRyxXQUFXLE9BQU9DLFFBQVFUO1lBQ3hCLE1BQU1LLFNBQVMsTUFBTVgsZ0VBQW1CQSxDQUN0QyxzQkFDQUcsWUFBWUMsV0FBV1csUUFBUVQ7WUFFakMsT0FBT1IsOERBQVlBLENBQUNhO1FBQ3RCO0lBQ0Y7QUFDRixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvYWN0aW9uc19pbXBsLmpzPzAzYzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24sIGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9wYXRocy5qc1wiO1xuZnVuY3Rpb24gc3lzY2FsbEFyZ3MocmVxdWVzdElkLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykge1xuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5hZGRyZXNzLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihwYXJzZUFyZ3MoYXJncykpLFxuICAgIHZlcnNpb24sXG4gICAgcmVxdWVzdElkXG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBY3Rpb25DYWxscyhyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBydW5RdWVyeTogYXN5bmMgKHF1ZXJ5LCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFxuICAgICAgICBcIjEuMC9hY3Rpb25zL3F1ZXJ5XCIsXG4gICAgICAgIHN5c2NhbGxBcmdzKHJlcXVlc3RJZCwgcXVlcnksIGFyZ3MpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXN1bHQpO1xuICAgIH0sXG4gICAgcnVuTXV0YXRpb246IGFzeW5jIChtdXRhdGlvbiwgYXJncykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcbiAgICAgICAgXCIxLjAvYWN0aW9ucy9tdXRhdGlvblwiLFxuICAgICAgICBzeXNjYWxsQXJncyhyZXF1ZXN0SWQsIG11dGF0aW9uLCBhcmdzKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0KTtcbiAgICB9LFxuICAgIHJ1bkFjdGlvbjogYXN5bmMgKGFjdGlvbiwgYXJncykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcbiAgICAgICAgXCIxLjAvYWN0aW9ucy9hY3Rpb25cIixcbiAgICAgICAgc3lzY2FsbEFyZ3MocmVxdWVzdElkLCBhY3Rpb24sIGFyZ3MpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXN1bHQpO1xuICAgIH1cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjdGlvbnNfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJqc29uVG9Db252ZXgiLCJ2ZXJzaW9uIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsInBhcnNlQXJncyIsImdldEZ1bmN0aW9uQWRkcmVzcyIsInN5c2NhbGxBcmdzIiwicmVxdWVzdElkIiwiZnVuY3Rpb25SZWZlcmVuY2UiLCJhcmdzIiwiYWRkcmVzcyIsInNldHVwQWN0aW9uQ2FsbHMiLCJydW5RdWVyeSIsInF1ZXJ5IiwicmVzdWx0IiwicnVuTXV0YXRpb24iLCJtdXRhdGlvbiIsInJ1bkFjdGlvbiIsImFjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/authentication_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupAuth: () => (/* binding */ setupAuth)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\n\nfunction setupAuth(requestId) {\n    return {\n        getUserIdentity: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/getUserIdentity\", {\n                requestId\n            });\n        }\n    };\n} //# sourceMappingURL=authentication_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2F1dGhlbnRpY2F0aW9uX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNzQztBQUM1QyxTQUFTQyxVQUFVQyxTQUFTO0lBQ2pDLE9BQU87UUFDTEMsaUJBQWlCO1lBQ2YsT0FBTyxNQUFNSCxnRUFBbUJBLENBQUMsdUJBQXVCO2dCQUN0REU7WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvYXV0aGVudGljYXRpb25faW1wbC5qcz82ODk0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEF1dGgocmVxdWVzdElkKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0VXNlcklkZW50aXR5OiBhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9nZXRVc2VySWRlbnRpdHlcIiwge1xuICAgICAgICByZXF1ZXN0SWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGhlbnRpY2F0aW9uX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsicGVyZm9ybUFzeW5jU3lzY2FsbCIsInNldHVwQXV0aCIsInJlcXVlc3RJZCIsImdldFVzZXJJZGVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/database_impl.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupReader: () => (/* binding */ setupReader),\n/* harmony export */   setupWriter: () => (/* binding */ setupWriter)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\n\n\n\n\nasync function get(id, isSystem) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"get\", \"id\");\n    if (typeof id !== \"string\") {\n        throw new Error(`Invalid argument \\`id\\` for \\`db.get\\`, expected string but got '${typeof id}': ${id}`);\n    }\n    const args = {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        isSystem,\n        version: _index_js__WEBPACK_IMPORTED_MODULE_4__.version\n    };\n    const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/get\", args);\n    return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n}\nfunction setupReader() {\n    const reader = (isSystem = false)=>{\n        return {\n            get: async (id)=>{\n                return await get(id, isSystem);\n            },\n            query: (tableName)=>{\n                return new TableReader(tableName, isSystem).query();\n            },\n            normalizeId: (tableName, id)=>{\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"normalizeId\", \"tableName\");\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 2, \"normalizeId\", \"id\");\n                const accessingSystemTable = tableName.startsWith(\"_\");\n                if (accessingSystemTable !== isSystem) {\n                    throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${isSystem ? \"\" : \"system.\"}normalizeId().`);\n                }\n                const syscallJSON = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/db/normalizeId\", {\n                    table: tableName,\n                    idString: id\n                });\n                const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n                return syscallResult.id;\n            },\n            // We set the system reader on the next line\n            system: null,\n            table: (tableName)=>{\n                return new TableReader(tableName, isSystem);\n            }\n        };\n    };\n    const { system: _, ...rest } = reader(true);\n    const r = reader();\n    r.system = rest;\n    return r;\n}\nasync function insert(tableName, value) {\n    if (tableName.startsWith(\"_\")) {\n        throw new Error(\"System tables (prefixed with `_`) are read-only.\");\n    }\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"insert\", \"table\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"insert\", \"value\");\n    const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/insert\", {\n        table: tableName,\n        value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n    });\n    const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n    return syscallResult._id;\n}\nasync function patch(id, value) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"patch\", \"id\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"patch\", \"value\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/shallowMerge\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_5__.patchValueToJson)(value)\n    });\n}\nasync function replace(id, value) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"replace\", \"id\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"replace\", \"value\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/replace\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n    });\n}\nasync function delete_(id) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"delete\", \"id\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/remove\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n    });\n}\nfunction setupWriter() {\n    const reader = setupReader();\n    return {\n        get: reader.get,\n        query: reader.query,\n        normalizeId: reader.normalizeId,\n        system: reader.system,\n        insert: async (table, value)=>{\n            return await insert(table, value);\n        },\n        patch: async (id, value)=>{\n            return await patch(id, value);\n        },\n        replace: async (id, value)=>{\n            return await replace(id, value);\n        },\n        delete: async (id)=>{\n            return await delete_(id);\n        },\n        table: (tableName)=>{\n            return new TableWriter(tableName, false);\n        }\n    };\n}\nclass TableReader {\n    constructor(tableName, isSystem){\n        this.tableName = tableName;\n        this.isSystem = isSystem;\n    }\n    async get(id) {\n        return get(id, this.isSystem);\n    }\n    query() {\n        const accessingSystemTable = this.tableName.startsWith(\"_\");\n        if (accessingSystemTable !== this.isSystem) {\n            throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${this.isSystem ? \"\" : \"system.\"}query().`);\n        }\n        return new _query_impl_js__WEBPACK_IMPORTED_MODULE_2__.QueryInitializerImpl(this.tableName);\n    }\n}\nclass TableWriter extends TableReader {\n    async insert(value) {\n        return insert(this.tableName, value);\n    }\n    async patch(id, value) {\n        return patch(id, value);\n    }\n    async replace(id, value) {\n        return replace(id, value);\n    }\n    async delete(id) {\n        return delete_(id);\n    }\n} //# sourceMappingURL=database_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2RhdGFiYXNlX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBYTtBQUlrQjtBQUNvQztBQUNaO0FBQ1g7QUFDSDtBQUNnQjtBQUN6RCxlQUFlUSxJQUFJQyxFQUFFLEVBQUVDLFFBQVE7SUFDN0JMLHlEQUFXQSxDQUFDSSxJQUFJLEdBQUcsT0FBTztJQUMxQixJQUFJLE9BQU9BLE9BQU8sVUFBVTtRQUMxQixNQUFNLElBQUlFLE1BQ1IsQ0FBQyxpRUFBaUUsRUFBRSxPQUFPRixHQUFHLEdBQUcsRUFBRUEsR0FBRyxDQUFDO0lBRTNGO0lBQ0EsTUFBTUcsT0FBTztRQUNYSCxJQUFJVCw4REFBWUEsQ0FBQ1M7UUFDakJDO1FBQ0FKLE9BQU9BLGdEQUFBQTtJQUNUO0lBQ0EsTUFBTU8sY0FBYyxNQUFNWCxnRUFBbUJBLENBQUMsV0FBV1U7SUFDekQsT0FBT1gsOERBQVlBLENBQUNZO0FBQ3RCO0FBQ08sU0FBU0M7SUFDZCxNQUFNQyxTQUFTLENBQUNMLFdBQVcsS0FBSztRQUM5QixPQUFPO1lBQ0xGLEtBQUssT0FBT0M7Z0JBQ1YsT0FBTyxNQUFNRCxJQUFJQyxJQUFJQztZQUN2QjtZQUNBTSxPQUFPLENBQUNDO2dCQUNOLE9BQU8sSUFBSUMsWUFBWUQsV0FBV1AsVUFBVU0sS0FBSztZQUNuRDtZQUNBRyxhQUFhLENBQUNGLFdBQVdSO2dCQUN2QkoseURBQVdBLENBQUNZLFdBQVcsR0FBRyxlQUFlO2dCQUN6Q1oseURBQVdBLENBQUNJLElBQUksR0FBRyxlQUFlO2dCQUNsQyxNQUFNVyx1QkFBdUJILFVBQVVJLFVBQVUsQ0FBQztnQkFDbEQsSUFBSUQseUJBQXlCVixVQUFVO29CQUNyQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxFQUFFUyx1QkFBdUIsV0FBVyxPQUFPLHFDQUFxQyxFQUFFVixXQUFXLEtBQUssVUFBVSxjQUFjLENBQUM7Z0JBRWhJO2dCQUNBLE1BQU1H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dUJBQXVCLElBQUksQ0FBQ0gsU0FBUyxDQUFDSSxVQUFVLENBQUM7UUFDdkQsSUFBSUQseUJBQXlCLElBQUksQ0FBQ1YsUUFBUSxFQUFFO1lBQzFDLE1BQU0sSUFBSUMsTUFDUixDQUFDLEVBQUVTLHVCQUF1QixXQUFXLE9BQU8scUNBQXFDLEVBQUUsSUFBSSxDQUFDVixRQUFRLEdBQUcsS0FBSyxVQUFVLFFBQVEsQ0FBQztRQUUvSDtRQUNBLE9BQU8sSUFBSU4sZ0VBQW9CQSxDQUFDLElBQUksQ0FBQ2EsU0FBUztJQUNoRDtBQUNGO0FBQ0EsTUFBTW9CLG9CQUFvQm5CO0lBQ3hCLE1BQU1XLE9BQU9DLEtBQUssRUFBRTtRQUNsQixPQUFPRCxPQUFPLElBQUksQ0FBQ1osU0FBUyxFQUFFYTtJQUNoQztJQUNBLE1BQU1FLE1BQU12QixFQUFFLEVBQUVxQixLQUFLLEVBQUU7UUFDckIsT0FBT0UsTUFBTXZCLElBQUlxQjtJQUNuQjtJQUNBLE1BQU1HLFFBQVF4QixFQUFFLEVBQUVxQixLQUFLLEVBQUU7UUFDdkIsT0FBT0csUUFBUXhCLElBQUlxQjtJQUNyQjtJQUNBLE1BQU1NLE9BQU8zQixFQUFFLEVBQUU7UUFDZixPQUFPeUIsUUFBUXpCO0lBQ2pCO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2RhdGFiYXNlX2ltcGwuanM/YjY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7XG4gIGNvbnZleFRvSnNvbixcbiAganNvblRvQ29udmV4XG59IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwsIHBlcmZvcm1TeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHsgUXVlcnlJbml0aWFsaXplckltcGwgfSBmcm9tIFwiLi9xdWVyeV9pbXBsLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFyZyB9IGZyb20gXCIuL3ZhbGlkYXRlLmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwYXRjaFZhbHVlVG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0KGlkLCBpc1N5c3RlbSkge1xuICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJnZXRcIiwgXCJpZFwiKTtcbiAgaWYgKHR5cGVvZiBpZCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGFyZ3VtZW50IFxcYGlkXFxgIGZvciBcXGBkYi5nZXRcXGAsIGV4cGVjdGVkIHN0cmluZyBidXQgZ290ICcke3R5cGVvZiBpZH0nOiAke2lkfWBcbiAgICApO1xuICB9XG4gIGNvbnN0IGFyZ3MgPSB7XG4gICAgaWQ6IGNvbnZleFRvSnNvbihpZCksXG4gICAgaXNTeXN0ZW0sXG4gICAgdmVyc2lvblxuICB9O1xuICBjb25zdCBzeXNjYWxsSlNPTiA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvZ2V0XCIsIGFyZ3MpO1xuICByZXR1cm4ganNvblRvQ29udmV4KHN5c2NhbGxKU09OKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFJlYWRlcigpIHtcbiAgY29uc3QgcmVhZGVyID0gKGlzU3lzdGVtID0gZmFsc2UpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGdldChpZCwgaXNTeXN0ZW0pO1xuICAgICAgfSxcbiAgICAgIHF1ZXJ5OiAodGFibGVOYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgVGFibGVSZWFkZXIodGFibGVOYW1lLCBpc1N5c3RlbSkucXVlcnkoKTtcbiAgICAgIH0sXG4gICAgICBub3JtYWxpemVJZDogKHRhYmxlTmFtZSwgaWQpID0+IHtcbiAgICAgICAgdmFsaWRhdGVBcmcodGFibGVOYW1lLCAxLCBcIm5vcm1hbGl6ZUlkXCIsIFwidGFibGVOYW1lXCIpO1xuICAgICAgICB2YWxpZGF0ZUFyZyhpZCwgMiwgXCJub3JtYWxpemVJZFwiLCBcImlkXCIpO1xuICAgICAgICBjb25zdCBhY2Nlc3NpbmdTeXN0ZW1UYWJsZSA9IHRhYmxlTmFtZS5zdGFydHNXaXRoKFwiX1wiKTtcbiAgICAgICAgaWYgKGFjY2Vzc2luZ1N5c3RlbVRhYmxlICE9PSBpc1N5c3RlbSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGAke2FjY2Vzc2luZ1N5c3RlbVRhYmxlID8gXCJTeXN0ZW1cIiA6IFwiVXNlclwifSB0YWJsZXMgY2FuIG9ubHkgYmUgYWNjZXNzZWQgZnJvbSBkYi4ke2lzU3lzdGVtID8gXCJcIiA6IFwic3lzdGVtLlwifW5vcm1hbGl6ZUlkKCkuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3lzY2FsbEpTT04gPSBwZXJmb3JtU3lzY2FsbChcIjEuMC9kYi9ub3JtYWxpemVJZFwiLCB7XG4gICAgICAgICAgdGFibGU6IHRhYmxlTmFtZSxcbiAgICAgICAgICBpZFN0cmluZzogaWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN5c2NhbGxSZXN1bHQgPSBqc29uVG9Db252ZXgoc3lzY2FsbEpTT04pO1xuICAgICAgICByZXR1cm4gc3lzY2FsbFJlc3VsdC5pZDtcbiAgICAgIH0sXG4gICAgICAvLyBXZSBzZXQgdGhlIHN5c3RlbSByZWFkZXIgb24gdGhlIG5leHQgbGluZVxuICAgICAgc3lzdGVtOiBudWxsLFxuICAgICAgdGFibGU6ICh0YWJsZU5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYWJsZVJlYWRlcih0YWJsZU5hbWUsIGlzU3lzdGVtKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCB7IHN5c3RlbTogXywgLi4ucmVzdCB9ID0gcmVhZGVyKHRydWUpO1xuICBjb25zdCByID0gcmVhZGVyKCk7XG4gIHIuc3lzdGVtID0gcmVzdDtcbiAgcmV0dXJuIHI7XG59XG5hc3luYyBmdW5jdGlvbiBpbnNlcnQodGFibGVOYW1lLCB2YWx1ZSkge1xuICBpZiAodGFibGVOYW1lLnN0YXJ0c1dpdGgoXCJfXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3lzdGVtIHRhYmxlcyAocHJlZml4ZWQgd2l0aCBgX2ApIGFyZSByZWFkLW9ubHkuXCIpO1xuICB9XG4gIHZhbGlkYXRlQXJnKHRhYmxlTmFtZSwgMSwgXCJpbnNlcnRcIiwgXCJ0YWJsZVwiKTtcbiAgdmFsaWRhdGVBcmcodmFsdWUsIDIsIFwiaW5zZXJ0XCIsIFwidmFsdWVcIik7XG4gIGNvbnN0IHN5c2NhbGxKU09OID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9pbnNlcnRcIiwge1xuICAgIHRhYmxlOiB0YWJsZU5hbWUsXG4gICAgdmFsdWU6IGNvbnZleFRvSnNvbih2YWx1ZSlcbiAgfSk7XG4gIGNvbnN0IHN5c2NhbGxSZXN1bHQgPSBqc29uVG9Db252ZXgoc3lzY2FsbEpTT04pO1xuICByZXR1cm4gc3lzY2FsbFJlc3VsdC5faWQ7XG59XG5hc3luYyBmdW5jdGlvbiBwYXRjaChpZCwgdmFsdWUpIHtcbiAgdmFsaWRhdGVBcmcoaWQsIDEsIFwicGF0Y2hcIiwgXCJpZFwiKTtcbiAgdmFsaWRhdGVBcmcodmFsdWUsIDIsIFwicGF0Y2hcIiwgXCJ2YWx1ZVwiKTtcbiAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zaGFsbG93TWVyZ2VcIiwge1xuICAgIGlkOiBjb252ZXhUb0pzb24oaWQpLFxuICAgIHZhbHVlOiBwYXRjaFZhbHVlVG9Kc29uKHZhbHVlKVxuICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlcGxhY2UoaWQsIHZhbHVlKSB7XG4gIHZhbGlkYXRlQXJnKGlkLCAxLCBcInJlcGxhY2VcIiwgXCJpZFwiKTtcbiAgdmFsaWRhdGVBcmcodmFsdWUsIDIsIFwicmVwbGFjZVwiLCBcInZhbHVlXCIpO1xuICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3JlcGxhY2VcIiwge1xuICAgIGlkOiBjb252ZXhUb0pzb24oaWQpLFxuICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlXyhpZCkge1xuICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJkZWxldGVcIiwgXCJpZFwiKTtcbiAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9yZW1vdmVcIiwgeyBpZDogY29udmV4VG9Kc29uKGlkKSB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFdyaXRlcigpIHtcbiAgY29uc3QgcmVhZGVyID0gc2V0dXBSZWFkZXIoKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IHJlYWRlci5nZXQsXG4gICAgcXVlcnk6IHJlYWRlci5xdWVyeSxcbiAgICBub3JtYWxpemVJZDogcmVhZGVyLm5vcm1hbGl6ZUlkLFxuICAgIHN5c3RlbTogcmVhZGVyLnN5c3RlbSxcbiAgICBpbnNlcnQ6IGFzeW5jICh0YWJsZSwgdmFsdWUpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBpbnNlcnQodGFibGUsIHZhbHVlKTtcbiAgICB9LFxuICAgIHBhdGNoOiBhc3luYyAoaWQsIHZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGF0Y2goaWQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGFzeW5jIChpZCwgdmFsdWUpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCByZXBsYWNlKGlkLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IGRlbGV0ZV8oaWQpO1xuICAgIH0sXG4gICAgdGFibGU6ICh0YWJsZU5hbWUpID0+IHtcbiAgICAgIHJldHVybiBuZXcgVGFibGVXcml0ZXIodGFibGVOYW1lLCBmYWxzZSk7XG4gICAgfVxuICB9O1xufVxuY2xhc3MgVGFibGVSZWFkZXIge1xuICBjb25zdHJ1Y3Rvcih0YWJsZU5hbWUsIGlzU3lzdGVtKSB7XG4gICAgdGhpcy50YWJsZU5hbWUgPSB0YWJsZU5hbWU7XG4gICAgdGhpcy5pc1N5c3RlbSA9IGlzU3lzdGVtO1xuICB9XG4gIGFzeW5jIGdldChpZCkge1xuICAgIHJldHVybiBnZXQoaWQsIHRoaXMuaXNTeXN0ZW0pO1xuICB9XG4gIHF1ZXJ5KCkge1xuICAgIGNvbnN0IGFjY2Vzc2luZ1N5c3RlbVRhYmxlID0gdGhpcy50YWJsZU5hbWUuc3RhcnRzV2l0aChcIl9cIik7XG4gICAgaWYgKGFjY2Vzc2luZ1N5c3RlbVRhYmxlICE9PSB0aGlzLmlzU3lzdGVtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGAke2FjY2Vzc2luZ1N5c3RlbVRhYmxlID8gXCJTeXN0ZW1cIiA6IFwiVXNlclwifSB0YWJsZXMgY2FuIG9ubHkgYmUgYWNjZXNzZWQgZnJvbSBkYi4ke3RoaXMuaXNTeXN0ZW0gPyBcIlwiIDogXCJzeXN0ZW0uXCJ9cXVlcnkoKS5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsKHRoaXMudGFibGVOYW1lKTtcbiAgfVxufVxuY2xhc3MgVGFibGVXcml0ZXIgZXh0ZW5kcyBUYWJsZVJlYWRlciB7XG4gIGFzeW5jIGluc2VydCh2YWx1ZSkge1xuICAgIHJldHVybiBpbnNlcnQodGhpcy50YWJsZU5hbWUsIHZhbHVlKTtcbiAgfVxuICBhc3luYyBwYXRjaChpZCwgdmFsdWUpIHtcbiAgICByZXR1cm4gcGF0Y2goaWQsIHZhbHVlKTtcbiAgfVxuICBhc3luYyByZXBsYWNlKGlkLCB2YWx1ZSkge1xuICAgIHJldHVybiByZXBsYWNlKGlkLCB2YWx1ZSk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlKGlkKSB7XG4gICAgcmV0dXJuIGRlbGV0ZV8oaWQpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhYmFzZV9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwZXJmb3JtU3lzY2FsbCIsIlF1ZXJ5SW5pdGlhbGl6ZXJJbXBsIiwidmFsaWRhdGVBcmciLCJ2ZXJzaW9uIiwicGF0Y2hWYWx1ZVRvSnNvbiIsImdldCIsImlkIiwiaXNTeXN0ZW0iLCJFcnJvciIsImFyZ3MiLCJzeXNjYWxsSlNPTiIsInNldHVwUmVhZGVyIiwicmVhZGVyIiwicXVlcnkiLCJ0YWJsZU5hbWUiLCJUYWJsZVJlYWRlciIsIm5vcm1hbGl6ZUlkIiwiYWNjZXNzaW5nU3lzdGVtVGFibGUiLCJzdGFydHNXaXRoIiwidGFibGUiLCJpZFN0cmluZyIsInN5c2NhbGxSZXN1bHQiLCJzeXN0ZW0iLCJfIiwicmVzdCIsInIiLCJpbnNlcnQiLCJ2YWx1ZSIsIl9pZCIsInBhdGNoIiwicmVwbGFjZSIsImRlbGV0ZV8iLCJzZXR1cFdyaXRlciIsImRlbGV0ZSIsIlRhYmxlV3JpdGVyIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass ExpressionImpl extends _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.Expression {\n    constructor(inner){\n        super();\n        __publicField(this, \"inner\");\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (l, r) {\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neq (l, r) {\n        return new ExpressionImpl({\n            $neq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lt (l, r) {\n        return new ExpressionImpl({\n            $lt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lte (l, r) {\n        return new ExpressionImpl({\n            $lte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gt (l, r) {\n        return new ExpressionImpl({\n            $gt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gte (l, r) {\n        return new ExpressionImpl({\n            $gte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    //  Arithmetic  //////////////////////////////////////////////////////////////\n    add (l, r) {\n        return new ExpressionImpl({\n            $add: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    sub (l, r) {\n        return new ExpressionImpl({\n            $sub: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mul (l, r) {\n        return new ExpressionImpl({\n            $mul: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    div (l, r) {\n        return new ExpressionImpl({\n            $div: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mod (l, r) {\n        return new ExpressionImpl({\n            $mod: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neg (x) {\n        return new ExpressionImpl({\n            $neg: serializeExpression(x)\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    and (...exprs) {\n        return new ExpressionImpl({\n            $and: exprs.map(serializeExpression)\n        });\n    },\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    },\n    not (x) {\n        return new ExpressionImpl({\n            $not: serializeExpression(x)\n        });\n    },\n    //  Other  ///////////////////////////////////////////////////////////////////\n    field (fieldPath) {\n        return new ExpressionImpl({\n            $field: fieldPath\n        });\n    }\n}; //# sourceMappingURL=filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2ZpbHRlcl9idWlsZGVyX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEM7QUFHbEM7QUFDdkIsTUFBTU8sdUJBQXVCRCwwREFBVUE7SUFDNUNFLFlBQVlDLEtBQUssQ0FBRTtRQUNqQixLQUFLO1FBQ0xMLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0ssS0FBSyxHQUFHQTtJQUNmO0lBQ0FDLFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQ0QsS0FBSztJQUNuQjtBQUNGO0FBQ08sU0FBU0Usb0JBQW9CQyxJQUFJO0lBQ3RDLElBQUlBLGdCQUFnQkwsZ0JBQWdCO1FBQ2xDLE9BQU9LLEtBQUtGLFNBQVM7SUFDdkIsT0FBTztRQUNMLE9BQU87WUFBRUcsVUFBVVIseUVBQXVCQSxDQUFDTztRQUFNO0lBQ25EO0FBQ0Y7QUFDTyxNQUFNRSxvQkFBb0I7SUFDL0IsOEVBQThFO0lBQzlFQyxJQUFHQyxDQUFDLEVBQUVDLENBQUM7UUFDTCxPQUFPLElBQUlWLGVBQWU7WUFDeEJXLEtBQUs7Z0JBQUNQLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN2RDtJQUNGO0lBQ0FFLEtBQUlILENBQUMsRUFBRUMsQ0FBQztRQUNOLE9BQU8sSUFBSVYsZUFBZTtZQUN4QmEsTUFBTTtnQkFBQ1Qsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQUksSUFBR0wsQ0FBQyxFQUFFQyxDQUFDO1FBQ0wsT0FBTyxJQUFJVixlQUFlO1lBQ3hCZSxLQUFLO2dCQUFDWCxvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDdkQ7SUFDRjtJQUNBTSxLQUFJUCxDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJpQixNQUFNO2dCQUFDYixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDeEQ7SUFDRjtJQUNBUSxJQUFHVCxDQUFDLEVBQUVDLENBQUM7UUFDTCxPQUFPLElBQUlWLGVBQWU7WUFDeEJtQixLQUFLO2dCQUFDZixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDdkQ7SUFDRjtJQUNBVSxLQUFJWCxDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJxQixNQUFNO2dCQUFDakIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQSw4RUFBOEU7SUFDOUVZLEtBQUliLENBQUMsRUFBRUMsQ0FBQztRQUNOLE9BQU8sSUFBSVYsZUFBZTtZQUN4QnVCLE1BQU07Z0JBQUNuQixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDeEQ7SUFDRjtJQUNBYyxLQUFJZixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJ5QixNQUFNO2dCQUFDckIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQWdCLEtBQUlqQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEIyQixNQUFNO2dCQUFDdkIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQWtCLEtBQUluQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEI2QixNQUFNO2dCQUFDekIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQW9CLEtBQUlyQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEIrQixNQUFNO2dCQUFDM0Isb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQXNCLEtBQUlDLENBQUM7UUFDSCxPQUFPLElBQUlqQyxlQUFlO1lBQUVrQyxNQUFNOUIsb0JBQW9CNkI7UUFBRztJQUMzRDtJQUNBLDhFQUE4RTtJQUM5RUUsS0FBSSxHQUFHQyxLQUFLO1FBQ1YsT0FBTyxJQUFJcEMsZUFBZTtZQUFFcUMsTUFBTUQsTUFBTUUsR0FBRyxDQUFDbEM7UUFBcUI7SUFDbkU7SUFDQW1DLElBQUcsR0FBR0gsS0FBSztRQUNULE9BQU8sSUFBSXBDLGVBQWU7WUFBRXdDLEtBQUtKLE1BQU1FLEdBQUcsQ0FBQ2xDO1FBQXFCO0lBQ2xFO0lBQ0FxQyxLQUFJUixDQUFDO1FBQ0gsT0FBTyxJQUFJakMsZUFBZTtZQUFFMEMsTUFBTXRDLG9CQUFvQjZCO1FBQUc7SUFDM0Q7SUFDQSw4RUFBOEU7SUFDOUVVLE9BQU1DLFNBQVM7UUFDYixPQUFPLElBQUk1QyxlQUFlO1lBQUU2QyxRQUFRRDtRQUFVO0lBQ2hEO0FBQ0YsRUFBRSxDQUNGLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvZmlsdGVyX2J1aWxkZXJfaW1wbC5qcz9kYjZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuaW1wb3J0IHtcbiAgRXhwcmVzc2lvblxufSBmcm9tIFwiLi4vZmlsdGVyX2J1aWxkZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uSW1wbCBleHRlbmRzIEV4cHJlc3Npb24ge1xuICBjb25zdHJ1Y3Rvcihpbm5lcikge1xuICAgIHN1cGVyKCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlubmVyXCIpO1xuICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgfVxuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5uZXI7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFeHByZXNzaW9uKGV4cHIpIHtcbiAgaWYgKGV4cHIgaW5zdGFuY2VvZiBFeHByZXNzaW9uSW1wbCkge1xuICAgIHJldHVybiBleHByLnNlcmlhbGl6ZSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7ICRsaXRlcmFsOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbihleHByKSB9O1xuICB9XG59XG5leHBvcnQgY29uc3QgZmlsdGVyQnVpbGRlckltcGwgPSB7XG4gIC8vICBDb21wYXJpc29ucyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBlcShsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkZXE6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBuZXEobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJG5lcTogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIGx0KGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRsdDogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIGx0ZShsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbHRlOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgZ3QobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGd0OiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgZ3RlKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRndGU6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICAvLyAgQXJpdGhtZXRpYyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgYWRkKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRhZGQ6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBzdWIobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJHN1YjogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG11bChsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbXVsOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgZGl2KGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRkaXY6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBtb2QobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJG1vZDogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG5lZyh4KSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRuZWc6IHNlcmlhbGl6ZUV4cHJlc3Npb24oeCkgfSk7XG4gIH0sXG4gIC8vICBMb2dpYyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBhbmQoLi4uZXhwcnMpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHsgJGFuZDogZXhwcnMubWFwKHNlcmlhbGl6ZUV4cHJlc3Npb24pIH0pO1xuICB9LFxuICBvciguLi5leHBycykge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkb3I6IGV4cHJzLm1hcChzZXJpYWxpemVFeHByZXNzaW9uKSB9KTtcbiAgfSxcbiAgbm90KHgpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHsgJG5vdDogc2VyaWFsaXplRXhwcmVzc2lvbih4KSB9KTtcbiAgfSxcbiAgLy8gIE90aGVyICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGZpZWxkKGZpZWxkUGF0aCkge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkZmllbGQ6IGZpZWxkUGF0aCB9KTtcbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlcl9idWlsZGVyX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbiIsIkV4cHJlc3Npb24iLCJFeHByZXNzaW9uSW1wbCIsImNvbnN0cnVjdG9yIiwiaW5uZXIiLCJzZXJpYWxpemUiLCJzZXJpYWxpemVFeHByZXNzaW9uIiwiZXhwciIsIiRsaXRlcmFsIiwiZmlsdGVyQnVpbGRlckltcGwiLCJlcSIsImwiLCJyIiwiJGVxIiwibmVxIiwiJG5lcSIsImx0IiwiJGx0IiwibHRlIiwiJGx0ZSIsImd0IiwiJGd0IiwiZ3RlIiwiJGd0ZSIsImFkZCIsIiRhZGQiLCJzdWIiLCIkc3ViIiwibXVsIiwiJG11bCIsImRpdiIsIiRkaXYiLCJtb2QiLCIkbW9kIiwibmVnIiwieCIsIiRuZWciLCJhbmQiLCJleHBycyIsIiRhbmQiLCJtYXAiLCJvciIsIiRvciIsIm5vdCIsIiRub3QiLCJmaWVsZCIsImZpZWxkUGF0aCIsIiRmaWVsZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRangeBuilderImpl: () => (/* binding */ IndexRangeBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _index_range_builder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index_range_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass IndexRangeBuilderImpl extends _index_range_builder_js__WEBPACK_IMPORTED_MODULE_2__.IndexRange {\n    constructor(rangeExpressions){\n        super();\n        __publicField(this, \"rangeExpressions\");\n        __publicField(this, \"isConsumed\");\n        this.rangeExpressions = rangeExpressions;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new IndexRangeBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes\");\n        }\n        this.isConsumed = true;\n    }\n    eq(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_1__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    gt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gt\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    gte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gte\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    lt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lt\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    lte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lte\",\n            fieldPath: fieldName,\n            value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.rangeExpressions;\n    }\n} //# sourceMappingURL=index_range_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2luZGV4X3JhbmdlX2J1aWxkZXJfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ25EO0FBQ1c7QUFHN0I7QUFDNUIsTUFBTVEsOEJBQThCRCwrREFBVUE7SUFDbkRFLFlBQVlDLGdCQUFnQixDQUFFO1FBQzVCLEtBQUs7UUFDTE4sY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ00sZ0JBQWdCLEdBQUdBO1FBQ3hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosc0JBQXNCLEVBQUU7SUFDckM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxHQUFHQyxTQUFTLEVBQUVoQixLQUFLLEVBQUU7UUFDbkIsSUFBSSxDQUFDYSxPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDTyxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0g7WUFDWGhCLE9BQU9NLHlFQUF1QkEsQ0FBQ047UUFDakM7SUFFSjtJQUNBb0IsR0FBR0osU0FBUyxFQUFFaEIsS0FBSyxFQUFFO1FBQ25CLElBQUksQ0FBQ2EsT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hoQixPQUFPSyw4REFBWUEsQ0FBQ0w7UUFDdEI7SUFFSjtJQUNBcUIsSUFBSUwsU0FBUyxFQUFFaEIsS0FBSyxFQUFFO1FBQ3BCLElBQUksQ0FBQ2EsT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hoQixPQUFPSyw4REFBWUEsQ0FBQ0w7UUFDdEI7SUFFSjtJQUNBc0IsR0FBR04sU0FBUyxFQUFFaEIsS0FBSyxFQUFFO1FBQ25CLElBQUksQ0FBQ2EsT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hoQixPQUFPSyw4REFBWUEsQ0FBQ0w7UUFDdEI7SUFFSjtJQUNBdUIsSUFBSVAsU0FBUyxFQUFFaEIsS0FBSyxFQUFFO1FBQ3BCLElBQUksQ0FBQ2EsT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hoQixPQUFPSyw4REFBWUEsQ0FBQ0w7UUFDdEI7SUFFSjtJQUNBd0IsU0FBUztRQUNQLElBQUksQ0FBQ1gsT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDSCxnQkFBZ0I7SUFDOUI7QUFDRixFQUNBLG9EQUFvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvaW5kZXhfcmFuZ2VfYnVpbGRlcl9pbXBsLmpzPzE2ODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY29udmV4T3JVbmRlZmluZWRUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5pbXBvcnQge1xuICBJbmRleFJhbmdlXG59IGZyb20gXCIuLi9pbmRleF9yYW5nZV9idWlsZGVyLmpzXCI7XG5leHBvcnQgY2xhc3MgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsIGV4dGVuZHMgSW5kZXhSYW5nZSB7XG4gIGNvbnN0cnVjdG9yKHJhbmdlRXhwcmVzc2lvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyYW5nZUV4cHJlc3Npb25zXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpc0NvbnN1bWVkXCIpO1xuICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucyA9IHJhbmdlRXhwcmVzc2lvbnM7XG4gICAgdGhpcy5pc0NvbnN1bWVkID0gZmFsc2U7XG4gIH1cbiAgc3RhdGljIG5ldygpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChbXSk7XG4gIH1cbiAgY29uc3VtZSgpIHtcbiAgICBpZiAodGhpcy5pc0NvbnN1bWVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSW5kZXhSYW5nZUJ1aWxkZXIgaGFzIGFscmVhZHkgYmVlbiB1c2VkISBDaGFpbiB5b3VyIG1ldGhvZCBjYWxscyBsaWtlIGBxID0+IHEuZXEoLi4uKS5lcSguLi4pYC4gU2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL2luZGV4ZXNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5pc0NvbnN1bWVkID0gdHJ1ZTtcbiAgfVxuICBlcShmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIG5ldyBJbmRleFJhbmdlQnVpbGRlckltcGwoXG4gICAgICB0aGlzLnJhbmdlRXhwcmVzc2lvbnMuY29uY2F0KHtcbiAgICAgICAgdHlwZTogXCJFcVwiLFxuICAgICAgICBmaWVsZFBhdGg6IGZpZWxkTmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uKHZhbHVlKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGd0KGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChcbiAgICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkd0XCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4VG9Kc29uKHZhbHVlKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGd0ZShmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIG5ldyBJbmRleFJhbmdlQnVpbGRlckltcGwoXG4gICAgICB0aGlzLnJhbmdlRXhwcmVzc2lvbnMuY29uY2F0KHtcbiAgICAgICAgdHlwZTogXCJHdGVcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgbHQoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiTHRcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgbHRlKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChcbiAgICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkx0ZVwiLFxuICAgICAgICBmaWVsZFBhdGg6IGZpZWxkTmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBleHBvcnQoKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2VFeHByZXNzaW9ucztcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXhfcmFuZ2VfYnVpbGRlcl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiY29udmV4VG9Kc29uIiwiY29udmV4T3JVbmRlZmluZWRUb0pzb24iLCJJbmRleFJhbmdlIiwiSW5kZXhSYW5nZUJ1aWxkZXJJbXBsIiwiY29uc3RydWN0b3IiLCJyYW5nZUV4cHJlc3Npb25zIiwiaXNDb25zdW1lZCIsIm5ldyIsImNvbnN1bWUiLCJFcnJvciIsImVxIiwiZmllbGROYW1lIiwiY29uY2F0IiwidHlwZSIsImZpZWxkUGF0aCIsImd0IiwiZ3RlIiwibHQiLCJsdGUiLCJleHBvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/query_impl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryImpl: () => (/* binding */ QueryImpl),\n/* harmony export */   QueryInitializerImpl: () => (/* binding */ QueryInitializerImpl)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\");\n/* harmony import */ var _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index_range_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\");\n/* harmony import */ var _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search_filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\nclass QueryInitializerImpl {\n    constructor(tableName){\n        __publicField(this, \"tableName\");\n        this.tableName = tableName;\n    }\n    withIndex(indexName, indexRange) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withIndex\", \"indexName\");\n        let rangeBuilder = _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__.IndexRangeBuilderImpl.new();\n        if (indexRange !== void 0) {\n            rangeBuilder = indexRange(rangeBuilder);\n        }\n        return new QueryImpl({\n            source: {\n                type: \"IndexRange\",\n                indexName: this.tableName + \".\" + indexName,\n                range: rangeBuilder.export(),\n                order: null\n            },\n            operators: []\n        });\n    }\n    withSearchIndex(indexName, searchFilter) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withSearchIndex\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(searchFilter, 2, \"withSearchIndex\", \"searchFilter\");\n        const searchFilterBuilder = _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__.SearchFilterBuilderImpl.new();\n        return new QueryImpl({\n            source: {\n                type: \"Search\",\n                indexName: this.tableName + \".\" + indexName,\n                filters: searchFilter(searchFilterBuilder).export()\n            },\n            operators: []\n        });\n    }\n    fullTableScan() {\n        return new QueryImpl({\n            source: {\n                type: \"FullTableScan\",\n                tableName: this.tableName,\n                order: null\n            },\n            operators: []\n        });\n    }\n    order(order) {\n        return this.fullTableScan().order(order);\n    }\n    // This is internal API and should not be exposed to developers yet.\n    async count() {\n        const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/count\", {\n            table: this.tableName\n        });\n        const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n        return syscallResult;\n    }\n    filter(predicate) {\n        return this.fullTableScan().filter(predicate);\n    }\n    limit(n) {\n        return this.fullTableScan().limit(n);\n    }\n    collect() {\n        return this.fullTableScan().collect();\n    }\n    take(n) {\n        return this.fullTableScan().take(n);\n    }\n    paginate(paginationOpts) {\n        return this.fullTableScan().paginate(paginationOpts);\n    }\n    first() {\n        return this.fullTableScan().first();\n    }\n    unique() {\n        return this.fullTableScan().unique();\n    }\n    [Symbol.asyncIterator]() {\n        return this.fullTableScan()[Symbol.asyncIterator]();\n    }\n}\nfunction throwClosedError(type) {\n    throw new Error(type === \"consumed\" ? \"This query is closed and can't emit any more values.\" : \"This query has been chained with another operator and can't be reused.\");\n}\nclass QueryImpl {\n    constructor(query){\n        __publicField(this, \"state\");\n        this.state = {\n            type: \"preparing\",\n            query\n        };\n    }\n    takeQuery() {\n        if (this.state.type !== \"preparing\") {\n            throw new Error(\"A query can only be chained once and can't be chained after iteration begins.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"closed\"\n        };\n        return query;\n    }\n    startQuery() {\n        if (this.state.type === \"executing\") {\n            throw new Error(\"Iteration can only begin on a query once.\");\n        }\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const query = this.state.query;\n        const { queryId } = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryStream\", {\n            query,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        this.state = {\n            type: \"executing\",\n            queryId\n        };\n        return queryId;\n    }\n    closeQuery() {\n        if (this.state.type === \"executing\") {\n            const queryId = this.state.queryId;\n            (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryCleanup\", {\n                queryId\n            });\n        }\n        this.state = {\n            type: \"consumed\"\n        };\n    }\n    order(order) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(order, 1, \"order\", \"order\");\n        const query = this.takeQuery();\n        if (query.source.type === \"Search\") {\n            throw new Error(\"Search queries must always be in relevance order. Can not set order manually.\");\n        }\n        if (query.source.order !== null) {\n            throw new Error(\"Queries may only specify order at most once\");\n        }\n        query.source.order = order;\n        return new QueryImpl(query);\n    }\n    filter(predicate) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(predicate, 1, \"filter\", \"predicate\");\n        const query = this.takeQuery();\n        query.operators.push({\n            filter: (0,_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.serializeExpression)(predicate(_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.filterBuilderImpl))\n        });\n        return new QueryImpl(query);\n    }\n    limit(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"limit\", \"n\");\n        const query = this.takeQuery();\n        query.operators.push({\n            limit: n\n        });\n        return new QueryImpl(query);\n    }\n    [Symbol.asyncIterator]() {\n        this.startQuery();\n        return this;\n    }\n    async next() {\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const queryId = this.state.type === \"preparing\" ? this.startQuery() : this.state.queryId;\n        const { value, done } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryStreamNext\", {\n            queryId\n        });\n        if (done) {\n            this.closeQuery();\n        }\n        const convexValue = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(value);\n        return {\n            value: convexValue,\n            done\n        };\n    }\n    return() {\n        this.closeQuery();\n        return Promise.resolve({\n            done: true,\n            value: void 0\n        });\n    }\n    async paginate(paginationOpts) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(paginationOpts, 1, \"paginate\", \"options\");\n        if (typeof paginationOpts?.numItems !== \"number\" || paginationOpts.numItems < 0) {\n            throw new Error(`\\`options.numItems\\` must be a positive number. Received \\`${paginationOpts?.numItems}\\`.`);\n        }\n        const query = this.takeQuery();\n        const pageSize = paginationOpts.numItems;\n        const cursor = paginationOpts.cursor;\n        const endCursor = paginationOpts?.endCursor ?? null;\n        const maximumRowsRead = paginationOpts.maximumRowsRead ?? null;\n        const { page, isDone, continueCursor, splitCursor, pageStatus } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryPage\", {\n            query,\n            cursor,\n            endCursor,\n            pageSize,\n            maximumRowsRead,\n            maximumBytesRead: paginationOpts.maximumBytesRead,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        return {\n            page: page.map((json)=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(json)),\n            isDone,\n            continueCursor,\n            splitCursor,\n            pageStatus\n        };\n    }\n    async collect() {\n        const out = [];\n        for await (const item of this){\n            out.push(item);\n        }\n        return out;\n    }\n    async take(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"take\", \"n\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArgIsNonNegativeInteger)(n, 1, \"take\", \"n\");\n        return this.limit(n).collect();\n    }\n    async first() {\n        const first_array = await this.take(1);\n        return first_array.length === 0 ? null : first_array[0];\n    }\n    async unique() {\n        const first_two_array = await this.take(2);\n        if (first_two_array.length === 0) {\n            return null;\n        }\n        if (first_two_array.length === 2) {\n            throw new Error(\"unique() query returned more than one result\");\n        }\n        return first_two_array[0];\n    }\n} //# sourceMappingURL=query_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3F1ZXJ5X2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ25EO0FBQ2M7QUFJakM7QUFHSztBQUdFO0FBQ29DO0FBQ3BDO0FBQ2xDLE1BQU1lO0lBQ1hDLFlBQVlDLFNBQVMsQ0FBRTtRQUNyQmIsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDYSxTQUFTLEdBQUdBO0lBQ25CO0lBQ0FDLFVBQVVDLFNBQVMsRUFBRUMsVUFBVSxFQUFFO1FBQy9CUix5REFBV0EsQ0FBQ08sV0FBVyxHQUFHLGFBQWE7UUFDdkMsSUFBSUUsZUFBZVgsK0VBQXFCQSxDQUFDWSxHQUFHO1FBQzVDLElBQUlGLGVBQWUsS0FBSyxHQUFHO1lBQ3pCQyxlQUFlRCxXQUFXQztRQUM1QjtRQUNBLE9BQU8sSUFBSUUsVUFBVTtZQUNuQkMsUUFBUTtnQkFDTkMsTUFBTTtnQkFDTk4sV0FBVyxJQUFJLENBQUNGLFNBQVMsR0FBRyxNQUFNRTtnQkFDbENPLE9BQU9MLGFBQWFNLE1BQU07Z0JBQzFCQyxPQUFPO1lBQ1Q7WUFDQUMsV0FBVyxFQUFFO1FBQ2Y7SUFDRjtJQUNBQyxnQkFBZ0JYLFNBQVMsRUFBRVksWUFBWSxFQUFFO1FBQ3ZDbkIseURBQVdBLENBQUNPLFdBQVcsR0FBRyxtQkFBbUI7UUFDN0NQLHlEQUFXQSxDQUFDbUIsY0FBYyxHQUFHLG1CQUFtQjtRQUNoRCxNQUFNQyxzQkFBc0JyQixtRkFBdUJBLENBQUNXLEdBQUc7UUFDdkQsT0FBTyxJQUFJQyxVQUFVO1lBQ25CQyxRQUFRO2dCQUNOQyxNQUFNO2dCQUNOTixXQUFXLElBQUksQ0FBQ0YsU0FBUyxHQUFHLE1BQU1FO2dCQUNsQ2MsU0FBU0YsYUFBYUMscUJBQXFCTCxNQUFNO1lBQ25EO1lBQ0FFLFdBQVcsRUFBRTtRQUNmO0lBQ0Y7SUFDQUssZ0JBQWdCO1FBQ2QsT0FBTyxJQUFJWCxVQUFVO1lBQ25CQyxRQUFRO2dCQUNOQyxNQUFNO2dCQUNOUixXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFDekJXLE9BQU87WUFDVDtZQUNBQyxXQUFXLEVBQUU7UUFDZjtJQUNGO0lBQ0FELE1BQU1BLEtBQUssRUFBRTtRQUNYLE9BQU8sSUFBSSxDQUFDTSxhQUFhLEdBQUdOLEtBQUssQ0FBQ0E7SUFDcEM7SUFDQSxvRUFBb0U7SUFDcEUsTUFBTU8sUUFBUTtRQUNaLE1BQU1DLGNBQWMsTUFBTTlCLGdFQUFtQkEsQ0FBQyxhQUFhO1lBQ3pEK0IsT0FBTyxJQUFJLENBQUNwQixTQUFTO1FBQ3ZCO1FBQ0EsTUFBTXFCLGdCQUFnQmpDLDhEQUFZQSxDQUFDK0I7UUFDbkMsT0FBT0U7SUFDVDtJQUNBQyxPQUFPQyxTQUFTLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUNOLGFBQWEsR0FBR0ssTUFBTSxDQUFDQztJQUNyQztJQUNBQyxNQUFNQyxDQUFDLEVBQUU7UUFDUCxPQUFPLElBQUksQ0FBQ1IsYUFBYSxHQUFHTyxLQUFLLENBQUNDO0lBQ3BDO0lBQ0FDLFVBQVU7UUFDUixPQUFPLElBQUksQ0FBQ1QsYUFBYSxHQUFHUyxPQUFPO0lBQ3JDO0lBQ0FDLEtBQUtGLENBQUMsRUFBRTtRQUNOLE9BQU8sSUFBSSxDQUFDUixhQUFhLEdBQUdVLElBQUksQ0FBQ0Y7SUFDbkM7SUFDQUcsU0FBU0MsY0FBYyxFQUFFO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDWixhQUFhLEdBQUdXLFFBQVEsQ0FBQ0M7SUFDdkM7SUFDQUMsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDYixhQUFhLEdBQUdhLEtBQUs7SUFDbkM7SUFDQUMsU0FBUztRQUNQLE9BQU8sSUFBSSxDQUFDZCxhQUFhLEdBQUdjLE1BQU07SUFDcEM7SUFDQSxDQUFDQyxPQUFPQyxhQUFhLENBQUMsR0FBRztRQUN2QixPQUFPLElBQUksQ0FBQ2hCLGFBQWEsRUFBRSxDQUFDZSxPQUFPQyxhQUFhLENBQUM7SUFDbkQ7QUFDRjtBQUNBLFNBQVNDLGlCQUFpQjFCLElBQUk7SUFDNUIsTUFBTSxJQUFJMkIsTUFDUjNCLFNBQVMsYUFBYSx5REFBeUQ7QUFFbkY7QUFDTyxNQUFNRjtJQUNYUCxZQUFZcUMsS0FBSyxDQUFFO1FBQ2pCakQsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDa0QsS0FBSyxHQUFHO1lBQUU3QixNQUFNO1lBQWE0QjtRQUFNO0lBQzFDO0lBQ0FFLFlBQVk7UUFDVixJQUFJLElBQUksQ0FBQ0QsS0FBSyxDQUFDN0IsSUFBSSxLQUFLLGFBQWE7WUFDbkMsTUFBTSxJQUFJMkIsTUFDUjtRQUVKO1FBQ0EsTUFBTUMsUUFBUSxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsS0FBSztRQUM5QixJQUFJLENBQUNDLEtBQUssR0FBRztZQUFFN0IsTUFBTTtRQUFTO1FBQzlCLE9BQU80QjtJQUNUO0lBQ0FHLGFBQWE7UUFDWCxJQUFJLElBQUksQ0FBQ0YsS0FBSyxDQUFDN0IsSUFBSSxLQUFLLGFBQWE7WUFDbkMsTUFBTSxJQUFJMkIsTUFBTTtRQUNsQjtRQUNBLElBQUksSUFBSSxDQUFDRSxLQUFLLENBQUM3QixJQUFJLEtBQUssWUFBWSxJQUFJLENBQUM2QixLQUFLLENBQUM3QixJQUFJLEtBQUssWUFBWTtZQUNsRTBCLGlCQUFpQixJQUFJLENBQUNHLEtBQUssQ0FBQzdCLElBQUk7UUFDbEM7UUFDQSxNQUFNNEIsUUFBUSxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsS0FBSztRQUM5QixNQUFNLEVBQUVJLE9BQU8sRUFBRSxHQUFHbEQsMkRBQWNBLENBQUMsbUJBQW1CO1lBQUU4QztZQUFPdkMsT0FBT0EsZ0RBQUFBO1FBQUM7UUFDdkUsSUFBSSxDQUFDd0MsS0FBSyxHQUFHO1lBQUU3QixNQUFNO1lBQWFnQztRQUFRO1FBQzFDLE9BQU9BO0lBQ1Q7SUFDQUMsYUFBYTtRQUNYLElBQUksSUFBSSxDQUFDSixLQUFLLENBQUM3QixJQUFJLEtBQUssYUFBYTtZQUNuQyxNQUFNZ0MsVUFBVSxJQUFJLENBQUNILEtBQUssQ0FBQ0csT0FBTztZQUNsQ2xELDJEQUFjQSxDQUFDLG9CQUFvQjtnQkFBRWtEO1lBQVE7UUFDL0M7UUFDQSxJQUFJLENBQUNILEtBQUssR0FBRztZQUFFN0IsTUFBTTtRQUFXO0lBQ2xDO0lBQ0FHLE1BQU1BLEtBQUssRUFBRTtRQUNYaEIseURBQVdBLENBQUNnQixPQUFPLEdBQUcsU0FBUztRQUMvQixNQUFNeUIsUUFBUSxJQUFJLENBQUNFLFNBQVM7UUFDNUIsSUFBSUYsTUFBTTdCLE1BQU0sQ0FBQ0MsSUFBSSxLQUFLLFVBQVU7WUFDbEMsTUFBTSxJQUFJMkIsTUFDUjtRQUVKO1FBQ0EsSUFBSUMsTUFBTTdCLE1BQU0sQ0FBQ0ksS0FBSyxLQUFLLE1BQU07WUFDL0IsTUFBTSxJQUFJd0IsTUFBTTtRQUNsQjtRQUNBQyxNQUFNN0IsTUFBTSxDQUFDSSxLQUFLLEdBQUdBO1FBQ3JCLE9BQU8sSUFBSUwsVUFBVThCO0lBQ3ZCO0lBQ0FkLE9BQU9DLFNBQVMsRUFBRTtRQUNoQjVCLHlEQUFXQSxDQUFDNEIsV0FBVyxHQUFHLFVBQVU7UUFDcEMsTUFBTWEsUUFBUSxJQUFJLENBQUNFLFNBQVM7UUFDNUJGLE1BQU14QixTQUFTLENBQUM4QixJQUFJLENBQUM7WUFDbkJwQixRQUFROUIsNEVBQW1CQSxDQUFDK0IsVUFBVWhDLHNFQUFpQkE7UUFDekQ7UUFDQSxPQUFPLElBQUllLFVBQVU4QjtJQUN2QjtJQUNBWixNQUFNQyxDQUFDLEVBQUU7UUFDUDlCLHlEQUFXQSxDQUFDOEIsR0FBRyxHQUFHLFNBQVM7UUFDM0IsTUFBTVcsUUFBUSxJQUFJLENBQUNFLFNBQVM7UUFDNUJGLE1BQU14QixTQUFTLENBQUM4QixJQUFJLENBQUM7WUFBRWxCLE9BQU9DO1FBQUU7UUFDaEMsT0FBTyxJQUFJbkIsVUFBVThCO0lBQ3ZCO0lBQ0EsQ0FBQ0osT0FBT0MsYUFBYSxDQUFDLEdBQUc7UUFDdkIsSUFBSSxDQUFDTSxVQUFVO1FBQ2YsT0FBTyxJQUFJO0lBQ2I7SUFDQSxNQUFNSSxPQUFPO1FBQ1gsSUFBSSxJQUFJLENBQUNOLEtBQUssQ0FBQzdCLElBQUksS0FBSyxZQUFZLElBQUksQ0FBQzZCLEtBQUssQ0FBQzdCLElBQUksS0FBSyxZQUFZO1lBQ2xFMEIsaUJBQWlCLElBQUksQ0FBQ0csS0FBSyxDQUFDN0IsSUFBSTtRQUNsQztRQUNBLE1BQU1nQyxVQUFVLElBQUksQ0FBQ0gsS0FBSyxDQUFDN0IsSUFBSSxLQUFLLGNBQWMsSUFBSSxDQUFDK0IsVUFBVSxLQUFLLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxPQUFPO1FBQ3hGLE1BQU0sRUFBRXpELEtBQUssRUFBRTZELElBQUksRUFBRSxHQUFHLE1BQU12RCxnRUFBbUJBLENBQUMsdUJBQXVCO1lBQ3ZFbUQ7UUFDRjtRQUNBLElBQUlJLE1BQU07WUFDUixJQUFJLENBQUNILFVBQVU7UUFDakI7UUFDQSxNQUFNSSxjQUFjekQsOERBQVlBLENBQUNMO1FBQ2pDLE9BQU87WUFBRUEsT0FBTzhEO1lBQWFEO1FBQUs7SUFDcEM7SUFDQUUsU0FBUztRQUNQLElBQUksQ0FBQ0wsVUFBVTtRQUNmLE9BQU9NLFFBQVFDLE9BQU8sQ0FBQztZQUFFSixNQUFNO1lBQU03RCxPQUFPLEtBQUs7UUFBRTtJQUNyRDtJQUNBLE1BQU02QyxTQUFTQyxjQUFjLEVBQUU7UUFDN0JsQyx5REFBV0EsQ0FBQ2tDLGdCQUFnQixHQUFHLFlBQVk7UUFDM0MsSUFBSSxPQUFPQSxnQkFBZ0JvQixhQUFhLFlBQVlwQixlQUFlb0IsUUFBUSxHQUFHLEdBQUc7WUFDL0UsTUFBTSxJQUFJZCxNQUNSLENBQUMsMkRBQTJELEVBQUVOLGdCQUFnQm9CLFNBQVMsR0FBRyxDQUFDO1FBRS9GO1FBQ0EsTUFBTWIsUUFBUSxJQUFJLENBQUNFLFNBQVM7UUFDNUIsTUFBTVksV0FBV3JCLGVBQWVvQixRQUFRO1FBQ3hDLE1BQU1FLFNBQVN0QixlQUFlc0IsTUFBTTtRQUNwQyxNQUFNQyxZQUFZdkIsZ0JBQWdCdUIsYUFBYTtRQUMvQyxNQUFNQyxrQkFBa0J4QixlQUFld0IsZUFBZSxJQUFJO1FBQzFELE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsV0FBVyxFQUFFQyxVQUFVLEVBQUUsR0FBRyxNQUFNckUsZ0VBQW1CQSxDQUFDLGlCQUFpQjtZQUMzRytDO1lBQ0FlO1lBQ0FDO1lBQ0FGO1lBQ0FHO1lBQ0FNLGtCQUFrQjlCLGVBQWU4QixnQkFBZ0I7WUFDakQ5RCxPQUFPQSxnREFBQUE7UUFDVDtRQUNBLE9BQU87WUFDTHlELE1BQU1BLEtBQUtNLEdBQUcsQ0FBQyxDQUFDQyxPQUFTekUsOERBQVlBLENBQUN5RTtZQUN0Q047WUFDQUM7WUFDQUM7WUFDQUM7UUFDRjtJQUNGO0lBQ0EsTUFBTWhDLFVBQVU7UUFDZCxNQUFNb0MsTUFBTSxFQUFFO1FBQ2QsV0FBVyxNQUFNQyxRQUFRLElBQUksQ0FBRTtZQUM3QkQsSUFBSXBCLElBQUksQ0FBQ3FCO1FBQ1g7UUFDQSxPQUFPRDtJQUNUO0lBQ0EsTUFBTW5DLEtBQUtGLENBQUMsRUFBRTtRQUNaOUIseURBQVdBLENBQUM4QixHQUFHLEdBQUcsUUFBUTtRQUMxQjdCLDZFQUErQkEsQ0FBQzZCLEdBQUcsR0FBRyxRQUFRO1FBQzlDLE9BQU8sSUFBSSxDQUFDRCxLQUFLLENBQUNDLEdBQUdDLE9BQU87SUFDOUI7SUFDQSxNQUFNSSxRQUFRO1FBQ1osTUFBTWtDLGNBQWMsTUFBTSxJQUFJLENBQUNyQyxJQUFJLENBQUM7UUFDcEMsT0FBT3FDLFlBQVlDLE1BQU0sS0FBSyxJQUFJLE9BQU9ELFdBQVcsQ0FBQyxFQUFFO0lBQ3pEO0lBQ0EsTUFBTWpDLFNBQVM7UUFDYixNQUFNbUMsa0JBQWtCLE1BQU0sSUFBSSxDQUFDdkMsSUFBSSxDQUFDO1FBQ3hDLElBQUl1QyxnQkFBZ0JELE1BQU0sS0FBSyxHQUFHO1lBQ2hDLE9BQU87UUFDVDtRQUNBLElBQUlDLGdCQUFnQkQsTUFBTSxLQUFLLEdBQUc7WUFDaEMsTUFBTSxJQUFJOUIsTUFBTTtRQUNsQjtRQUNBLE9BQU8rQixlQUFlLENBQUMsRUFBRTtJQUMzQjtBQUNGLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9xdWVyeV9pbXBsLmpzP2RkM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCwgcGVyZm9ybVN5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQge1xuICBmaWx0ZXJCdWlsZGVySW1wbCxcbiAgc2VyaWFsaXplRXhwcmVzc2lvblxufSBmcm9tIFwiLi9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzXCI7XG5pbXBvcnQge1xuICBJbmRleFJhbmdlQnVpbGRlckltcGxcbn0gZnJvbSBcIi4vaW5kZXhfcmFuZ2VfYnVpbGRlcl9pbXBsLmpzXCI7XG5pbXBvcnQge1xuICBTZWFyY2hGaWx0ZXJCdWlsZGVySW1wbFxufSBmcm9tIFwiLi9zZWFyY2hfZmlsdGVyX2J1aWxkZXJfaW1wbC5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcsIHZhbGlkYXRlQXJnSXNOb25OZWdhdGl2ZUludGVnZXIgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuZXhwb3J0IGNsYXNzIFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsIHtcbiAgY29uc3RydWN0b3IodGFibGVOYW1lKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRhYmxlTmFtZVwiKTtcbiAgICB0aGlzLnRhYmxlTmFtZSA9IHRhYmxlTmFtZTtcbiAgfVxuICB3aXRoSW5kZXgoaW5kZXhOYW1lLCBpbmRleFJhbmdlKSB7XG4gICAgdmFsaWRhdGVBcmcoaW5kZXhOYW1lLCAxLCBcIndpdGhJbmRleFwiLCBcImluZGV4TmFtZVwiKTtcbiAgICBsZXQgcmFuZ2VCdWlsZGVyID0gSW5kZXhSYW5nZUJ1aWxkZXJJbXBsLm5ldygpO1xuICAgIGlmIChpbmRleFJhbmdlICE9PSB2b2lkIDApIHtcbiAgICAgIHJhbmdlQnVpbGRlciA9IGluZGV4UmFuZ2UocmFuZ2VCdWlsZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiSW5kZXhSYW5nZVwiLFxuICAgICAgICBpbmRleE5hbWU6IHRoaXMudGFibGVOYW1lICsgXCIuXCIgKyBpbmRleE5hbWUsXG4gICAgICAgIHJhbmdlOiByYW5nZUJ1aWxkZXIuZXhwb3J0KCksXG4gICAgICAgIG9yZGVyOiBudWxsXG4gICAgICB9LFxuICAgICAgb3BlcmF0b3JzOiBbXVxuICAgIH0pO1xuICB9XG4gIHdpdGhTZWFyY2hJbmRleChpbmRleE5hbWUsIHNlYXJjaEZpbHRlcikge1xuICAgIHZhbGlkYXRlQXJnKGluZGV4TmFtZSwgMSwgXCJ3aXRoU2VhcmNoSW5kZXhcIiwgXCJpbmRleE5hbWVcIik7XG4gICAgdmFsaWRhdGVBcmcoc2VhcmNoRmlsdGVyLCAyLCBcIndpdGhTZWFyY2hJbmRleFwiLCBcInNlYXJjaEZpbHRlclwiKTtcbiAgICBjb25zdCBzZWFyY2hGaWx0ZXJCdWlsZGVyID0gU2VhcmNoRmlsdGVyQnVpbGRlckltcGwubmV3KCk7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiU2VhcmNoXCIsXG4gICAgICAgIGluZGV4TmFtZTogdGhpcy50YWJsZU5hbWUgKyBcIi5cIiArIGluZGV4TmFtZSxcbiAgICAgICAgZmlsdGVyczogc2VhcmNoRmlsdGVyKHNlYXJjaEZpbHRlckJ1aWxkZXIpLmV4cG9ydCgpXG4gICAgICB9LFxuICAgICAgb3BlcmF0b3JzOiBbXVxuICAgIH0pO1xuICB9XG4gIGZ1bGxUYWJsZVNjYW4oKSB7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiRnVsbFRhYmxlU2NhblwiLFxuICAgICAgICB0YWJsZU5hbWU6IHRoaXMudGFibGVOYW1lLFxuICAgICAgICBvcmRlcjogbnVsbFxuICAgICAgfSxcbiAgICAgIG9wZXJhdG9yczogW11cbiAgICB9KTtcbiAgfVxuICBvcmRlcihvcmRlcikge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5vcmRlcihvcmRlcik7XG4gIH1cbiAgLy8gVGhpcyBpcyBpbnRlcm5hbCBBUEkgYW5kIHNob3VsZCBub3QgYmUgZXhwb3NlZCB0byBkZXZlbG9wZXJzIHlldC5cbiAgYXN5bmMgY291bnQoKSB7XG4gICAgY29uc3Qgc3lzY2FsbEpTT04gPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2NvdW50XCIsIHtcbiAgICAgIHRhYmxlOiB0aGlzLnRhYmxlTmFtZVxuICAgIH0pO1xuICAgIGNvbnN0IHN5c2NhbGxSZXN1bHQgPSBqc29uVG9Db252ZXgoc3lzY2FsbEpTT04pO1xuICAgIHJldHVybiBzeXNjYWxsUmVzdWx0O1xuICB9XG4gIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkuZmlsdGVyKHByZWRpY2F0ZSk7XG4gIH1cbiAgbGltaXQobikge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5saW1pdChuKTtcbiAgfVxuICBjb2xsZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5jb2xsZWN0KCk7XG4gIH1cbiAgdGFrZShuKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbFRhYmxlU2NhbigpLnRha2Uobik7XG4gIH1cbiAgcGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkucGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpO1xuICB9XG4gIGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5maXJzdCgpO1xuICB9XG4gIHVuaXF1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkudW5pcXVlKCk7XG4gIH1cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKClbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRocm93Q2xvc2VkRXJyb3IodHlwZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgdHlwZSA9PT0gXCJjb25zdW1lZFwiID8gXCJUaGlzIHF1ZXJ5IGlzIGNsb3NlZCBhbmQgY2FuJ3QgZW1pdCBhbnkgbW9yZSB2YWx1ZXMuXCIgOiBcIlRoaXMgcXVlcnkgaGFzIGJlZW4gY2hhaW5lZCB3aXRoIGFub3RoZXIgb3BlcmF0b3IgYW5kIGNhbid0IGJlIHJldXNlZC5cIlxuICApO1xufVxuZXhwb3J0IGNsYXNzIFF1ZXJ5SW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0YXRlXCIpO1xuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwicHJlcGFyaW5nXCIsIHF1ZXJ5IH07XG4gIH1cbiAgdGFrZVF1ZXJ5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgIT09IFwicHJlcGFyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJBIHF1ZXJ5IGNhbiBvbmx5IGJlIGNoYWluZWQgb25jZSBhbmQgY2FuJ3QgYmUgY2hhaW5lZCBhZnRlciBpdGVyYXRpb24gYmVnaW5zLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuc3RhdGUucXVlcnk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdHlwZTogXCJjbG9zZWRcIiB9O1xuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuICBzdGFydFF1ZXJ5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgPT09IFwiZXhlY3V0aW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkl0ZXJhdGlvbiBjYW4gb25seSBiZWdpbiBvbiBhIHF1ZXJ5IG9uY2UuXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09PSBcImNsb3NlZFwiIHx8IHRoaXMuc3RhdGUudHlwZSA9PT0gXCJjb25zdW1lZFwiKSB7XG4gICAgICB0aHJvd0Nsb3NlZEVycm9yKHRoaXMuc3RhdGUudHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zdGF0ZS5xdWVyeTtcbiAgICBjb25zdCB7IHF1ZXJ5SWQgfSA9IHBlcmZvcm1TeXNjYWxsKFwiMS4wL3F1ZXJ5U3RyZWFtXCIsIHsgcXVlcnksIHZlcnNpb24gfSk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdHlwZTogXCJleGVjdXRpbmdcIiwgcXVlcnlJZCB9O1xuICAgIHJldHVybiBxdWVyeUlkO1xuICB9XG4gIGNsb3NlUXVlcnkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSA9PT0gXCJleGVjdXRpbmdcIikge1xuICAgICAgY29uc3QgcXVlcnlJZCA9IHRoaXMuc3RhdGUucXVlcnlJZDtcbiAgICAgIHBlcmZvcm1TeXNjYWxsKFwiMS4wL3F1ZXJ5Q2xlYW51cFwiLCB7IHF1ZXJ5SWQgfSk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwiY29uc3VtZWRcIiB9O1xuICB9XG4gIG9yZGVyKG9yZGVyKSB7XG4gICAgdmFsaWRhdGVBcmcob3JkZXIsIDEsIFwib3JkZXJcIiwgXCJvcmRlclwiKTtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMudGFrZVF1ZXJ5KCk7XG4gICAgaWYgKHF1ZXJ5LnNvdXJjZS50eXBlID09PSBcIlNlYXJjaFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiU2VhcmNoIHF1ZXJpZXMgbXVzdCBhbHdheXMgYmUgaW4gcmVsZXZhbmNlIG9yZGVyLiBDYW4gbm90IHNldCBvcmRlciBtYW51YWxseS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHF1ZXJ5LnNvdXJjZS5vcmRlciAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUXVlcmllcyBtYXkgb25seSBzcGVjaWZ5IG9yZGVyIGF0IG1vc3Qgb25jZVwiKTtcbiAgICB9XG4gICAgcXVlcnkuc291cmNlLm9yZGVyID0gb3JkZXI7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwocXVlcnkpO1xuICB9XG4gIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgICB2YWxpZGF0ZUFyZyhwcmVkaWNhdGUsIDEsIFwiZmlsdGVyXCIsIFwicHJlZGljYXRlXCIpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy50YWtlUXVlcnkoKTtcbiAgICBxdWVyeS5vcGVyYXRvcnMucHVzaCh7XG4gICAgICBmaWx0ZXI6IHNlcmlhbGl6ZUV4cHJlc3Npb24ocHJlZGljYXRlKGZpbHRlckJ1aWxkZXJJbXBsKSlcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbChxdWVyeSk7XG4gIH1cbiAgbGltaXQobikge1xuICAgIHZhbGlkYXRlQXJnKG4sIDEsIFwibGltaXRcIiwgXCJuXCIpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy50YWtlUXVlcnkoKTtcbiAgICBxdWVyeS5vcGVyYXRvcnMucHVzaCh7IGxpbWl0OiBuIH0pO1xuICAgIHJldHVybiBuZXcgUXVlcnlJbXBsKHF1ZXJ5KTtcbiAgfVxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIHRoaXMuc3RhcnRRdWVyeSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFzeW5jIG5leHQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSA9PT0gXCJjbG9zZWRcIiB8fCB0aGlzLnN0YXRlLnR5cGUgPT09IFwiY29uc3VtZWRcIikge1xuICAgICAgdGhyb3dDbG9zZWRFcnJvcih0aGlzLnN0YXRlLnR5cGUpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeUlkID0gdGhpcy5zdGF0ZS50eXBlID09PSBcInByZXBhcmluZ1wiID8gdGhpcy5zdGFydFF1ZXJ5KCkgOiB0aGlzLnN0YXRlLnF1ZXJ5SWQ7XG4gICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9xdWVyeVN0cmVhbU5leHRcIiwge1xuICAgICAgcXVlcnlJZFxuICAgIH0pO1xuICAgIGlmIChkb25lKSB7XG4gICAgICB0aGlzLmNsb3NlUXVlcnkoKTtcbiAgICB9XG4gICAgY29uc3QgY29udmV4VmFsdWUgPSBqc29uVG9Db252ZXgodmFsdWUpO1xuICAgIHJldHVybiB7IHZhbHVlOiBjb252ZXhWYWx1ZSwgZG9uZSB9O1xuICB9XG4gIHJldHVybigpIHtcbiAgICB0aGlzLmNsb3NlUXVlcnkoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHZvaWQgMCB9KTtcbiAgfVxuICBhc3luYyBwYWdpbmF0ZShwYWdpbmF0aW9uT3B0cykge1xuICAgIHZhbGlkYXRlQXJnKHBhZ2luYXRpb25PcHRzLCAxLCBcInBhZ2luYXRlXCIsIFwib3B0aW9uc1wiKTtcbiAgICBpZiAodHlwZW9mIHBhZ2luYXRpb25PcHRzPy5udW1JdGVtcyAhPT0gXCJudW1iZXJcIiB8fCBwYWdpbmF0aW9uT3B0cy5udW1JdGVtcyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFxcYG9wdGlvbnMubnVtSXRlbXNcXGAgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gUmVjZWl2ZWQgXFxgJHtwYWdpbmF0aW9uT3B0cz8ubnVtSXRlbXN9XFxgLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy50YWtlUXVlcnkoKTtcbiAgICBjb25zdCBwYWdlU2l6ZSA9IHBhZ2luYXRpb25PcHRzLm51bUl0ZW1zO1xuICAgIGNvbnN0IGN1cnNvciA9IHBhZ2luYXRpb25PcHRzLmN1cnNvcjtcbiAgICBjb25zdCBlbmRDdXJzb3IgPSBwYWdpbmF0aW9uT3B0cz8uZW5kQ3Vyc29yID8/IG51bGw7XG4gICAgY29uc3QgbWF4aW11bVJvd3NSZWFkID0gcGFnaW5hdGlvbk9wdHMubWF4aW11bVJvd3NSZWFkID8/IG51bGw7XG4gICAgY29uc3QgeyBwYWdlLCBpc0RvbmUsIGNvbnRpbnVlQ3Vyc29yLCBzcGxpdEN1cnNvciwgcGFnZVN0YXR1cyB9ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9xdWVyeVBhZ2VcIiwge1xuICAgICAgcXVlcnksXG4gICAgICBjdXJzb3IsXG4gICAgICBlbmRDdXJzb3IsXG4gICAgICBwYWdlU2l6ZSxcbiAgICAgIG1heGltdW1Sb3dzUmVhZCxcbiAgICAgIG1heGltdW1CeXRlc1JlYWQ6IHBhZ2luYXRpb25PcHRzLm1heGltdW1CeXRlc1JlYWQsXG4gICAgICB2ZXJzaW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2U6IHBhZ2UubWFwKChqc29uKSA9PiBqc29uVG9Db252ZXgoanNvbikpLFxuICAgICAgaXNEb25lLFxuICAgICAgY29udGludWVDdXJzb3IsXG4gICAgICBzcGxpdEN1cnNvcixcbiAgICAgIHBhZ2VTdGF0dXNcbiAgICB9O1xuICB9XG4gIGFzeW5jIGNvbGxlY3QoKSB7XG4gICAgY29uc3Qgb3V0ID0gW107XG4gICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHRoaXMpIHtcbiAgICAgIG91dC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIGFzeW5jIHRha2Uobikge1xuICAgIHZhbGlkYXRlQXJnKG4sIDEsIFwidGFrZVwiLCBcIm5cIik7XG4gICAgdmFsaWRhdGVBcmdJc05vbk5lZ2F0aXZlSW50ZWdlcihuLCAxLCBcInRha2VcIiwgXCJuXCIpO1xuICAgIHJldHVybiB0aGlzLmxpbWl0KG4pLmNvbGxlY3QoKTtcbiAgfVxuICBhc3luYyBmaXJzdCgpIHtcbiAgICBjb25zdCBmaXJzdF9hcnJheSA9IGF3YWl0IHRoaXMudGFrZSgxKTtcbiAgICByZXR1cm4gZmlyc3RfYXJyYXkubGVuZ3RoID09PSAwID8gbnVsbCA6IGZpcnN0X2FycmF5WzBdO1xuICB9XG4gIGFzeW5jIHVuaXF1ZSgpIHtcbiAgICBjb25zdCBmaXJzdF90d29fYXJyYXkgPSBhd2FpdCB0aGlzLnRha2UoMik7XG4gICAgaWYgKGZpcnN0X3R3b19hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZmlyc3RfdHdvX2FycmF5Lmxlbmd0aCA9PT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5pcXVlKCkgcXVlcnkgcmV0dXJuZWQgbW9yZSB0aGFuIG9uZSByZXN1bHRcIik7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdF90d29fYXJyYXlbMF07XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5X2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJqc29uVG9Db252ZXgiLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwicGVyZm9ybVN5c2NhbGwiLCJmaWx0ZXJCdWlsZGVySW1wbCIsInNlcmlhbGl6ZUV4cHJlc3Npb24iLCJJbmRleFJhbmdlQnVpbGRlckltcGwiLCJTZWFyY2hGaWx0ZXJCdWlsZGVySW1wbCIsInZhbGlkYXRlQXJnIiwidmFsaWRhdGVBcmdJc05vbk5lZ2F0aXZlSW50ZWdlciIsInZlcnNpb24iLCJRdWVyeUluaXRpYWxpemVySW1wbCIsImNvbnN0cnVjdG9yIiwidGFibGVOYW1lIiwid2l0aEluZGV4IiwiaW5kZXhOYW1lIiwiaW5kZXhSYW5nZSIsInJhbmdlQnVpbGRlciIsIm5ldyIsIlF1ZXJ5SW1wbCIsInNvdXJjZSIsInR5cGUiLCJyYW5nZSIsImV4cG9ydCIsIm9yZGVyIiwib3BlcmF0b3JzIiwid2l0aFNlYXJjaEluZGV4Iiwic2VhcmNoRmlsdGVyIiwic2VhcmNoRmlsdGVyQnVpbGRlciIsImZpbHRlcnMiLCJmdWxsVGFibGVTY2FuIiwiY291bnQiLCJzeXNjYWxsSlNPTiIsInRhYmxlIiwic3lzY2FsbFJlc3VsdCIsImZpbHRlciIsInByZWRpY2F0ZSIsImxpbWl0IiwibiIsImNvbGxlY3QiLCJ0YWtlIiwicGFnaW5hdGUiLCJwYWdpbmF0aW9uT3B0cyIsImZpcnN0IiwidW5pcXVlIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRocm93Q2xvc2VkRXJyb3IiLCJFcnJvciIsInF1ZXJ5Iiwic3RhdGUiLCJ0YWtlUXVlcnkiLCJzdGFydFF1ZXJ5IiwicXVlcnlJZCIsImNsb3NlUXVlcnkiLCJwdXNoIiwibmV4dCIsImRvbmUiLCJjb252ZXhWYWx1ZSIsInJldHVybiIsIlByb21pc2UiLCJyZXNvbHZlIiwibnVtSXRlbXMiLCJwYWdlU2l6ZSIsImN1cnNvciIsImVuZEN1cnNvciIsIm1heGltdW1Sb3dzUmVhZCIsInBhZ2UiLCJpc0RvbmUiLCJjb250aW51ZUN1cnNvciIsInNwbGl0Q3Vyc29yIiwicGFnZVN0YXR1cyIsIm1heGltdW1CeXRlc1JlYWQiLCJtYXAiLCJqc29uIiwib3V0IiwiaXRlbSIsImZpcnN0X2FycmF5IiwibGVuZ3RoIiwiZmlyc3RfdHdvX2FycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/registration_impl.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionGeneric: () => (/* binding */ actionGeneric),\n/* harmony export */   httpActionGeneric: () => (/* binding */ httpActionGeneric),\n/* harmony export */   internalActionGeneric: () => (/* binding */ internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* binding */ internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* binding */ internalQueryGeneric),\n/* harmony export */   invokeFunction: () => (/* binding */ invokeFunction),\n/* harmony export */   mutationGeneric: () => (/* binding */ mutationGeneric),\n/* harmony export */   queryGeneric: () => (/* binding */ queryGeneric),\n/* harmony export */   validateReturnValue: () => (/* binding */ validateReturnValue)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _actions_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\");\n/* harmony import */ var _vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vector_search_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\");\n/* harmony import */ var _authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authentication_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\");\n/* harmony import */ var _database_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./database_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scheduler_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\");\n/* harmony import */ var _storage_impl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./storage_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nasync function invokeMutation(func, argsStr) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const mutationCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupWriter)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupMutationScheduler)(),\n        runQuery: (reference, args2)=>runUdf(\"query\", reference, args2),\n        runMutation: (reference, args2)=>runUdf(\"mutation\", reference, args2)\n    };\n    const result = await invokeFunction(func, mutationCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nfunction validateReturnValue(v2) {\n    if (v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryInitializerImpl || v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryImpl) {\n        throw new Error(\"Return value is a Query. Results must be retrieved with `.collect()`, `.take(n), `.unique()`, or `.first()`.\");\n    }\n}\nasync function invokeFunction(func, ctx, args) {\n    let result;\n    try {\n        result = await Promise.resolve(func(ctx, ...args));\n    } catch (thrown) {\n        throw serializeConvexErrorData(thrown);\n    }\n    return result;\n}\nfunction dontCallDirectly(funcType, handler) {\n    return (ctx, args)=>{\n        globalThis.console.warn(`Convex functions should not directly call other Convex functions. Consider calling a helper function instead. e.g. \\`export const foo = ${funcType}(...); await foo(ctx);\\` is not supported. See https://docs.convex.dev/production/best-practices/#use-helper-functions-to-write-shared-code`);\n        return handler(ctx, args);\n    };\n}\nfunction serializeConvexErrorData(thrown) {\n    if (typeof thrown === \"object\" && thrown !== null && Symbol.for(\"ConvexError\") in thrown) {\n        const error = thrown;\n        error.data = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(error.data === void 0 ? null : error.data));\n        error.ConvexErrorSymbol = Symbol.for(\"ConvexError\");\n        return error;\n    } else {\n        return thrown;\n    }\n}\nfunction assertNotBrowser() {\n    if (true) {\n        return;\n    }\n    const isRealBrowser = Object.getOwnPropertyDescriptor(globalThis, \"window\")?.get?.toString().includes(\"[native code]\") ?? false;\n    if (isRealBrowser) {\n        throw new Error(\"Convex functions should not be imported in the browser.\");\n    }\n}\nfunction exportArgs(functionDefinition) {\n    return ()=>{\n        let args = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.v.any();\n        if (typeof functionDefinition === \"object\" && functionDefinition.args !== void 0) {\n            args = (0,_values_validator_js__WEBPACK_IMPORTED_MODULE_10__.asObjectValidator)(functionDefinition.args);\n        }\n        return JSON.stringify(args.json);\n    };\n}\nfunction exportReturns(functionDefinition) {\n    return ()=>{\n        let returns;\n        if (typeof functionDefinition === \"object\" && functionDefinition.returns !== void 0) {\n            returns = (0,_values_validator_js__WEBPACK_IMPORTED_MODULE_10__.asObjectValidator)(functionDefinition.returns);\n        }\n        return JSON.stringify(returns ? returns.json : null);\n    };\n}\nconst mutationGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"mutation\", handler);\n    assertNotBrowser();\n    func.isMutation = true;\n    func.isPublic = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalMutationGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalMutation\", handler);\n    assertNotBrowser();\n    func.isMutation = true;\n    func.isInternal = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeQuery(func, argsStr) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const queryCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupReader)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageReader)(requestId),\n        runQuery: (reference, args2)=>runUdf(\"query\", reference, args2)\n    };\n    const result = await invokeFunction(func, queryCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nconst queryGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"query\", handler);\n    assertNotBrowser();\n    func.isQuery = true;\n    func.isPublic = true;\n    func.invokeQuery = (argsStr)=>invokeQuery(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalQueryGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalQuery\", handler);\n    assertNotBrowser();\n    func.isQuery = true;\n    func.isInternal = true;\n    func.invokeQuery = (argsStr)=>invokeQuery(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeAction(func, requestId, argsStr) {\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    const result = await invokeFunction(func, ctx, args);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nconst actionGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"action\", handler);\n    assertNotBrowser();\n    func.isAction = true;\n    func.isPublic = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(handler, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalActionGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalAction\", handler);\n    assertNotBrowser();\n    func.isAction = true;\n    func.isInternal = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(handler, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeHttpAction(func, request) {\n    const requestId = \"\";\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    return await invokeFunction(func, ctx, [\n        request\n    ]);\n}\nconst httpActionGeneric = (func)=>{\n    const q = dontCallDirectly(\"httpAction\", func);\n    assertNotBrowser();\n    q.isHttp = true;\n    q.invokeHttpAction = (request)=>invokeHttpAction(func, request);\n    q._handler = func;\n    return q;\n};\nasync function runUdf(udfType, f, args) {\n    const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_8__.parseArgs)(args);\n    const syscallArgs = {\n        udfType,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(queryArgs),\n        ...(0,_components_paths_js__WEBPACK_IMPORTED_MODULE_11__.getFunctionAddress)(f)\n    };\n    const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_9__.performAsyncSyscall)(\"1.0/runUdf\", syscallArgs);\n    return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n} //# sourceMappingURL=registration_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBS2tCO0FBQ3NCO0FBQ2E7QUFDYjtBQUNTO0FBQ0k7QUFJckM7QUFLRjtBQUN1QjtBQUNDO0FBQ1c7QUFDRjtBQUM1RCxlQUFlbUIsZUFBZUMsSUFBSSxFQUFFQyxPQUFPO0lBQ3pDLE1BQU1DLFlBQVk7SUFDbEIsTUFBTUMsT0FBT3RCLDhEQUFZQSxDQUFDdUIsS0FBS0MsS0FBSyxDQUFDSjtJQUNyQyxNQUFNSyxjQUFjO1FBQ2xCQyxJQUFJcEIsOERBQVdBO1FBQ2ZxQixNQUFNdkIsa0VBQVNBLENBQUNpQjtRQUNoQk8sU0FBU2Ysb0VBQWtCQSxDQUFDUTtRQUM1QlEsV0FBV25CLDBFQUFzQkE7UUFDakNvQixVQUFVLENBQUNDLFdBQVdDLFFBQVVDLE9BQU8sU0FBU0YsV0FBV0M7UUFDM0RFLGFBQWEsQ0FBQ0gsV0FBV0MsUUFBVUMsT0FBTyxZQUFZRixXQUFXQztJQUNuRTtJQUNBLE1BQU1HLFNBQVMsTUFBTUMsZUFBZWpCLE1BQU1NLGFBQWFIO0lBQ3ZEZSxvQkFBb0JGO0lBQ3BCLE9BQU9aLEtBQUtlLFNBQVMsQ0FBQ3ZDLDhEQUFZQSxDQUFDb0MsV0FBVyxLQUFLLElBQUksT0FBT0E7QUFDaEU7QUFDTyxTQUFTRSxvQkFBb0JFLEVBQUU7SUFDcEMsSUFBSUEsY0FBYy9CLGdFQUFvQkEsSUFBSStCLGNBQWNoQyxxREFBU0EsRUFBRTtRQUNqRSxNQUFNLElBQUlpQyxNQUNSO0lBRUo7QUFDRjtBQUNPLGVBQWVKLGVBQWVqQixJQUFJLEVBQUVzQixHQUFHLEVBQUVuQixJQUFJO0lBQ2xELElBQUlhO0lBQ0osSUFBSTtRQUNGQSxTQUFTLE1BQU1PLFFBQVFDLE9BQU8sQ0FBQ3hCLEtBQUtzQixRQUFRbkI7SUFDOUMsRUFBRSxPQUFPc0IsUUFBUTtRQUNmLE1B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RiwyREFBU0EsQ0FBQ1E7SUFDNUIsTUFBTTJFLGNBQWM7UUFDbEJIO1FBQ0F4RSxNQUFNdkIsOERBQVlBLENBQUNpRztRQUNuQixHQUFHL0UseUVBQWtCQSxDQUFDOEUsRUFBRTtJQUMxQjtJQUNBLE1BQU01RCxTQUFTLE1BQU1wQixnRUFBbUJBLENBQUMsY0FBY2tGO0lBQ3ZELE9BQU9qRyw4REFBWUEsQ0FBQ21DO0FBQ3RCLEVBQ0EsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9yZWdpc3RyYXRpb25faW1wbC5qcz81NGE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgY29udmV4VG9Kc29uLFxuICBqc29uVG9Db252ZXgsXG4gIHZcbn0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBBY3Rpb25DYWxscyB9IGZyb20gXCIuL2FjdGlvbnNfaW1wbC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBBY3Rpb25WZWN0b3JTZWFyY2ggfSBmcm9tIFwiLi92ZWN0b3Jfc2VhcmNoX2ltcGwuanNcIjtcbmltcG9ydCB7IHNldHVwQXV0aCB9IGZyb20gXCIuL2F1dGhlbnRpY2F0aW9uX2ltcGwuanNcIjtcbmltcG9ydCB7IHNldHVwUmVhZGVyLCBzZXR1cFdyaXRlciB9IGZyb20gXCIuL2RhdGFiYXNlX2ltcGwuanNcIjtcbmltcG9ydCB7IFF1ZXJ5SW1wbCwgUXVlcnlJbml0aWFsaXplckltcGwgfSBmcm9tIFwiLi9xdWVyeV9pbXBsLmpzXCI7XG5pbXBvcnQge1xuICBzZXR1cEFjdGlvblNjaGVkdWxlcixcbiAgc2V0dXBNdXRhdGlvblNjaGVkdWxlclxufSBmcm9tIFwiLi9zY2hlZHVsZXJfaW1wbC5qc1wiO1xuaW1wb3J0IHtcbiAgc2V0dXBTdG9yYWdlQWN0aW9uV3JpdGVyLFxuICBzZXR1cFN0b3JhZ2VSZWFkZXIsXG4gIHNldHVwU3RvcmFnZVdyaXRlclxufSBmcm9tIFwiLi9zdG9yYWdlX2ltcGwuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyBhc09iamVjdFZhbGlkYXRvciB9IGZyb20gXCIuLi8uLi92YWx1ZXMvdmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9wYXRocy5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gaW52b2tlTXV0YXRpb24oZnVuYywgYXJnc1N0cikge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBhcmdzID0ganNvblRvQ29udmV4KEpTT04ucGFyc2UoYXJnc1N0cikpO1xuICBjb25zdCBtdXRhdGlvbkN0eCA9IHtcbiAgICBkYjogc2V0dXBXcml0ZXIoKSxcbiAgICBhdXRoOiBzZXR1cEF1dGgocmVxdWVzdElkKSxcbiAgICBzdG9yYWdlOiBzZXR1cFN0b3JhZ2VXcml0ZXIocmVxdWVzdElkKSxcbiAgICBzY2hlZHVsZXI6IHNldHVwTXV0YXRpb25TY2hlZHVsZXIoKSxcbiAgICBydW5RdWVyeTogKHJlZmVyZW5jZSwgYXJnczIpID0+IHJ1blVkZihcInF1ZXJ5XCIsIHJlZmVyZW5jZSwgYXJnczIpLFxuICAgIHJ1bk11dGF0aW9uOiAocmVmZXJlbmNlLCBhcmdzMikgPT4gcnVuVWRmKFwibXV0YXRpb25cIiwgcmVmZXJlbmNlLCBhcmdzMilcbiAgfTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlRnVuY3Rpb24oZnVuYywgbXV0YXRpb25DdHgsIGFyZ3MpO1xuICB2YWxpZGF0ZVJldHVyblZhbHVlKHJlc3VsdCk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZXR1cm5WYWx1ZSh2Mikge1xuICBpZiAodjIgaW5zdGFuY2VvZiBRdWVyeUluaXRpYWxpemVySW1wbCB8fCB2MiBpbnN0YW5jZW9mIFF1ZXJ5SW1wbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiUmV0dXJuIHZhbHVlIGlzIGEgUXVlcnkuIFJlc3VsdHMgbXVzdCBiZSByZXRyaWV2ZWQgd2l0aCBgLmNvbGxlY3QoKWAsIGAudGFrZShuKSwgYC51bmlxdWUoKWAsIG9yIGAuZmlyc3QoKWAuXCJcbiAgICApO1xuICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW52b2tlRnVuY3Rpb24oZnVuYywgY3R4LCBhcmdzKSB7XG4gIGxldCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZ1bmMoY3R4LCAuLi5hcmdzKSk7XG4gIH0gY2F0Y2ggKHRocm93bikge1xuICAgIHRocm93IHNlcmlhbGl6ZUNvbnZleEVycm9yRGF0YSh0aHJvd24pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkb250Q2FsbERpcmVjdGx5KGZ1bmNUeXBlLCBoYW5kbGVyKSB7XG4gIHJldHVybiAoY3R4LCBhcmdzKSA9PiB7XG4gICAgZ2xvYmFsVGhpcy5jb25zb2xlLndhcm4oXG4gICAgICBgQ29udmV4IGZ1bmN0aW9ucyBzaG91bGQgbm90IGRpcmVjdGx5IGNhbGwgb3RoZXIgQ29udmV4IGZ1bmN0aW9ucy4gQ29uc2lkZXIgY2FsbGluZyBhIGhlbHBlciBmdW5jdGlvbiBpbnN0ZWFkLiBlLmcuIFxcYGV4cG9ydCBjb25zdCBmb28gPSAke2Z1bmNUeXBlfSguLi4pOyBhd2FpdCBmb28oY3R4KTtcXGAgaXMgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3Byb2R1Y3Rpb24vYmVzdC1wcmFjdGljZXMvI3VzZS1oZWxwZXItZnVuY3Rpb25zLXRvLXdyaXRlLXNoYXJlZC1jb2RlYFxuICAgICk7XG4gICAgcmV0dXJuIGhhbmRsZXIoY3R4LCBhcmdzKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvbnZleEVycm9yRGF0YSh0aHJvd24pIHtcbiAgaWYgKHR5cGVvZiB0aHJvd24gPT09IFwib2JqZWN0XCIgJiYgdGhyb3duICE9PSBudWxsICYmIFN5bWJvbC5mb3IoXCJDb252ZXhFcnJvclwiKSBpbiB0aHJvd24pIHtcbiAgICBjb25zdCBlcnJvciA9IHRocm93bjtcbiAgICBlcnJvci5kYXRhID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICBjb252ZXhUb0pzb24oZXJyb3IuZGF0YSA9PT0gdm9pZCAwID8gbnVsbCA6IGVycm9yLmRhdGEpXG4gICAgKTtcbiAgICBlcnJvci5Db252ZXhFcnJvclN5bWJvbCA9IFN5bWJvbC5mb3IoXCJDb252ZXhFcnJvclwiKTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRocm93bjtcbiAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90QnJvd3NlcigpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIXdpbmRvdy5fX2NvbnZleEFsbG93RnVuY3Rpb25zSW5Ccm93c2VyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGlzUmVhbEJyb3dzZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbFRoaXMsIFwid2luZG93XCIpPy5nZXQ/LnRvU3RyaW5nKCkuaW5jbHVkZXMoXCJbbmF0aXZlIGNvZGVdXCIpID8/IGZhbHNlO1xuICBpZiAoaXNSZWFsQnJvd3Nlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleCBmdW5jdGlvbnMgc2hvdWxkIG5vdCBiZSBpbXBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGFyZ3MgPSB2LmFueSgpO1xuICAgIGlmICh0eXBlb2YgZnVuY3Rpb25EZWZpbml0aW9uID09PSBcIm9iamVjdFwiICYmIGZ1bmN0aW9uRGVmaW5pdGlvbi5hcmdzICE9PSB2b2lkIDApIHtcbiAgICAgIGFyZ3MgPSBhc09iamVjdFZhbGlkYXRvcihmdW5jdGlvbkRlZmluaXRpb24uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzLmpzb24pO1xuICB9O1xufVxuZnVuY3Rpb24gZXhwb3J0UmV0dXJucyhmdW5jdGlvbkRlZmluaXRpb24pIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgcmV0dXJucztcbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJvYmplY3RcIiAmJiBmdW5jdGlvbkRlZmluaXRpb24ucmV0dXJucyAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm5zID0gYXNPYmplY3RWYWxpZGF0b3IoZnVuY3Rpb25EZWZpbml0aW9uLnJldHVybnMpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmV0dXJucyA/IHJldHVybnMuanNvbiA6IG51bGwpO1xuICB9O1xufVxuZXhwb3J0IGNvbnN0IG11dGF0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcIm11dGF0aW9uXCIsIGhhbmRsZXIpO1xuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNNdXRhdGlvbiA9IHRydWU7XG4gIGZ1bmMuaXNQdWJsaWMgPSB0cnVlO1xuICBmdW5jLmludm9rZU11dGF0aW9uID0gKGFyZ3NTdHIpID0+IGludm9rZU11dGF0aW9uKGhhbmRsZXIsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcbiAgICBcImludGVybmFsTXV0YXRpb25cIixcbiAgICBoYW5kbGVyXG4gICk7XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc011dGF0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc0ludGVybmFsID0gdHJ1ZTtcbiAgZnVuYy5pbnZva2VNdXRhdGlvbiA9IChhcmdzU3RyKSA9PiBpbnZva2VNdXRhdGlvbihoYW5kbGVyLCBhcmdzU3RyKTtcbiAgZnVuYy5leHBvcnRBcmdzID0gZXhwb3J0QXJncyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLmV4cG9ydFJldHVybnMgPSBleHBvcnRSZXR1cm5zKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuX2hhbmRsZXIgPSBoYW5kbGVyO1xuICByZXR1cm4gZnVuYztcbn07XG5hc3luYyBmdW5jdGlvbiBpbnZva2VRdWVyeShmdW5jLCBhcmdzU3RyKSB7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IFwiXCI7XG4gIGNvbnN0IGFyZ3MgPSBqc29uVG9Db252ZXgoSlNPTi5wYXJzZShhcmdzU3RyKSk7XG4gIGNvbnN0IHF1ZXJ5Q3R4ID0ge1xuICAgIGRiOiBzZXR1cFJlYWRlcigpLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZVJlYWRlcihyZXF1ZXN0SWQpLFxuICAgIHJ1blF1ZXJ5OiAocmVmZXJlbmNlLCBhcmdzMikgPT4gcnVuVWRmKFwicXVlcnlcIiwgcmVmZXJlbmNlLCBhcmdzMilcbiAgfTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlRnVuY3Rpb24oZnVuYywgcXVlcnlDdHgsIGFyZ3MpO1xuICB2YWxpZGF0ZVJldHVyblZhbHVlKHJlc3VsdCk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5leHBvcnQgY29uc3QgcXVlcnlHZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGNvbnN0IGZ1bmMgPSBkb250Q2FsbERpcmVjdGx5KFwicXVlcnlcIiwgaGFuZGxlcik7XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc1F1ZXJ5ID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlUXVlcnkgPSAoYXJnc1N0cikgPT4gaW52b2tlUXVlcnkoaGFuZGxlciwgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5leHBvcnRSZXR1cm5zID0gZXhwb3J0UmV0dXJucyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsUXVlcnlHZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGNvbnN0IGZ1bmMgPSBkb250Q2FsbERpcmVjdGx5KFwiaW50ZXJuYWxRdWVyeVwiLCBoYW5kbGVyKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzUXVlcnkgPSB0cnVlO1xuICBmdW5jLmlzSW50ZXJuYWwgPSB0cnVlO1xuICBmdW5jLmludm9rZVF1ZXJ5ID0gKGFyZ3NTdHIpID0+IGludm9rZVF1ZXJ5KGhhbmRsZXIsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUFjdGlvbihmdW5jLCByZXF1ZXN0SWQsIGFyZ3NTdHIpIHtcbiAgY29uc3QgYXJncyA9IGpzb25Ub0NvbnZleChKU09OLnBhcnNlKGFyZ3NTdHIpKTtcbiAgY29uc3QgY2FsbHMgPSBzZXR1cEFjdGlvbkNhbGxzKHJlcXVlc3RJZCk7XG4gIGNvbnN0IGN0eCA9IHtcbiAgICAuLi5jYWxscyxcbiAgICBhdXRoOiBzZXR1cEF1dGgocmVxdWVzdElkKSxcbiAgICBzY2hlZHVsZXI6IHNldHVwQWN0aW9uU2NoZWR1bGVyKHJlcXVlc3RJZCksXG4gICAgc3RvcmFnZTogc2V0dXBTdG9yYWdlQWN0aW9uV3JpdGVyKHJlcXVlc3RJZCksXG4gICAgdmVjdG9yU2VhcmNoOiBzZXR1cEFjdGlvblZlY3RvclNlYXJjaChyZXF1ZXN0SWQpXG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgYXJncyk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5leHBvcnQgY29uc3QgYWN0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcImFjdGlvblwiLCBoYW5kbGVyKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzQWN0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlQWN0aW9uID0gKHJlcXVlc3RJZCwgYXJnc1N0cikgPT4gaW52b2tlQWN0aW9uKGhhbmRsZXIsIHJlcXVlc3RJZCwgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5leHBvcnRSZXR1cm5zID0gZXhwb3J0UmV0dXJucyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsQWN0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcImludGVybmFsQWN0aW9uXCIsIGhhbmRsZXIpO1xuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNBY3Rpb24gPSB0cnVlO1xuICBmdW5jLmlzSW50ZXJuYWwgPSB0cnVlO1xuICBmdW5jLmludm9rZUFjdGlvbiA9IChyZXF1ZXN0SWQsIGFyZ3NTdHIpID0+IGludm9rZUFjdGlvbihoYW5kbGVyLCByZXF1ZXN0SWQsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUh0dHBBY3Rpb24oZnVuYywgcmVxdWVzdCkge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBjYWxscyA9IHNldHVwQWN0aW9uQ2FsbHMocmVxdWVzdElkKTtcbiAgY29uc3QgY3R4ID0ge1xuICAgIC4uLmNhbGxzLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZUFjdGlvbldyaXRlcihyZXF1ZXN0SWQpLFxuICAgIHNjaGVkdWxlcjogc2V0dXBBY3Rpb25TY2hlZHVsZXIocmVxdWVzdElkKSxcbiAgICB2ZWN0b3JTZWFyY2g6IHNldHVwQWN0aW9uVmVjdG9yU2VhcmNoKHJlcXVlc3RJZClcbiAgfTtcbiAgcmV0dXJuIGF3YWl0IGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgW3JlcXVlc3RdKTtcbn1cbmV4cG9ydCBjb25zdCBodHRwQWN0aW9uR2VuZXJpYyA9IChmdW5jKSA9PiB7XG4gIGNvbnN0IHEgPSBkb250Q2FsbERpcmVjdGx5KFwiaHR0cEFjdGlvblwiLCBmdW5jKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBxLmlzSHR0cCA9IHRydWU7XG4gIHEuaW52b2tlSHR0cEFjdGlvbiA9IChyZXF1ZXN0KSA9PiBpbnZva2VIdHRwQWN0aW9uKGZ1bmMsIHJlcXVlc3QpO1xuICBxLl9oYW5kbGVyID0gZnVuYztcbiAgcmV0dXJuIHE7XG59O1xuYXN5bmMgZnVuY3Rpb24gcnVuVWRmKHVkZlR5cGUsIGYsIGFyZ3MpIHtcbiAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICBjb25zdCBzeXNjYWxsQXJncyA9IHtcbiAgICB1ZGZUeXBlLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihxdWVyeUFyZ3MpLFxuICAgIC4uLmdldEZ1bmN0aW9uQWRkcmVzcyhmKVxuICB9O1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3J1blVkZlwiLCBzeXNjYWxsQXJncyk7XG4gIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJhdGlvbl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInYiLCJzZXR1cEFjdGlvbkNhbGxzIiwic2V0dXBBY3Rpb25WZWN0b3JTZWFyY2giLCJzZXR1cEF1dGgiLCJzZXR1cFJlYWRlciIsInNldHVwV3JpdGVyIiwiUXVlcnlJbXBsIiwiUXVlcnlJbml0aWFsaXplckltcGwiLCJzZXR1cEFjdGlvblNjaGVkdWxlciIsInNldHVwTXV0YXRpb25TY2hlZHVsZXIiLCJzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIiLCJzZXR1cFN0b3JhZ2VSZWFkZXIiLCJzZXR1cFN0b3JhZ2VXcml0ZXIiLCJwYXJzZUFyZ3MiLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwiYXNPYmplY3RWYWxpZGF0b3IiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJpbnZva2VNdXRhdGlvbiIsImZ1bmMiLCJhcmdzU3RyIiwicmVxdWVzdElkIiwiYXJncyIsIkpTT04iLCJwYXJzZSIsIm11dGF0aW9uQ3R4IiwiZGIiLCJhdXRoIiwic3RvcmFnZSIsInNjaGVkdWxlciIsInJ1blF1ZXJ5IiwicmVmZXJlbmNlIiwiYXJnczIiLCJydW5VZGYiLCJydW5NdXRhdGlvbiIsInJlc3VsdCIsImludm9rZUZ1bmN0aW9uIiwidmFsaWRhdGVSZXR1cm5WYWx1ZSIsInN0cmluZ2lmeSIsInYyIiwiRXJyb3IiLCJjdHgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRocm93biIsInNlcmlhbGl6ZUNvbnZleEVycm9yRGF0YSIsImRvbnRDYWxsRGlyZWN0bHkiLCJmdW5jVHlwZSIsImhhbmRsZXIiLCJnbG9iYWxUaGlzIiwiY29uc29sZSIsIndhcm4iLCJTeW1ib2wiLCJmb3IiLCJlcnJvciIsImRhdGEiLCJDb252ZXhFcnJvclN5bWJvbCIsImFzc2VydE5vdEJyb3dzZXIiLCJ3aW5kb3ciLCJfX2NvbnZleEFsbG93RnVuY3Rpb25zSW5Ccm93c2VyIiwiaXNSZWFsQnJvd3NlciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJleHBvcnRBcmdzIiwiZnVuY3Rpb25EZWZpbml0aW9uIiwiYW55IiwianNvbiIsImV4cG9ydFJldHVybnMiLCJyZXR1cm5zIiwibXV0YXRpb25HZW5lcmljIiwiaXNNdXRhdGlvbiIsImlzUHVibGljIiwiX2hhbmRsZXIiLCJpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyIsImlzSW50ZXJuYWwiLCJpbnZva2VRdWVyeSIsInF1ZXJ5Q3R4IiwicXVlcnlHZW5lcmljIiwiaXNRdWVyeSIsImludGVybmFsUXVlcnlHZW5lcmljIiwiaW52b2tlQWN0aW9uIiwiY2FsbHMiLCJ2ZWN0b3JTZWFyY2giLCJhY3Rpb25HZW5lcmljIiwiaXNBY3Rpb24iLCJpbnRlcm5hbEFjdGlvbkdlbmVyaWMiLCJpbnZva2VIdHRwQWN0aW9uIiwicmVxdWVzdCIsImh0dHBBY3Rpb25HZW5lcmljIiwicSIsImlzSHR0cCIsInVkZlR5cGUiLCJmIiwicXVlcnlBcmdzIiwic3lzY2FsbEFyZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/scheduler_impl.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionScheduler: () => (/* binding */ setupActionScheduler),\n/* harmony export */   setupMutationScheduler: () => (/* binding */ setupMutationScheduler)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\n\nfunction setupMutationScheduler() {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = runAfterSyscallArgs(delayMs, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_4__.validateArg)(id, 1, \"cancel\", \"id\");\n            const args = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/cancel_job\", args);\n        }\n    };\n}\nfunction setupActionScheduler(requestId) {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAfterSyscallArgs(delayMs, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_4__.validateArg)(id, 1, \"cancel\", \"id\");\n            const syscallArgs = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/cancel_job\", syscallArgs);\n        }\n    };\n}\nfunction runAfterSyscallArgs(delayMs, functionReference, args) {\n    if (typeof delayMs !== \"number\") {\n        throw new Error(\"`delayMs` must be a number\");\n    }\n    if (!isFinite(delayMs)) {\n        throw new Error(\"`delayMs` must be a finite number\");\n    }\n    if (delayMs < 0) {\n        throw new Error(\"`delayMs` must be non-negative\");\n    }\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_5__.getFunctionAddress)(functionReference);\n    const ts = (Date.now() + delayMs) / 1e3;\n    return {\n        ...address,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n}\nfunction runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args) {\n    let ts;\n    if (ms_since_epoch_or_date instanceof Date) {\n        ts = ms_since_epoch_or_date.valueOf() / 1e3;\n    } else if (typeof ms_since_epoch_or_date === \"number\") {\n        ts = ms_since_epoch_or_date / 1e3;\n    } else {\n        throw new Error(\"The invoke time must a Date or a timestamp\");\n    }\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_5__.getFunctionAddress)(functionReference);\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    return {\n        ...address,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n} //# sourceMappingURL=scheduler_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NjaGVkdWxlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWE7QUFDd0M7QUFDWjtBQUNVO0FBQ0Q7QUFDTjtBQUNnQjtBQUNyRCxTQUFTTTtJQUNkLE9BQU87UUFDTEMsVUFBVSxPQUFPQyxTQUFTQyxtQkFBbUJDO1lBQzNDLE1BQU1DLGNBQWNDLG9CQUFvQkosU0FBU0MsbUJBQW1CQztZQUNwRSxPQUFPLE1BQU1SLGdFQUFtQkEsQ0FBQyxnQkFBZ0JTO1FBQ25EO1FBQ0FFLE9BQU8sT0FBT0Msd0JBQXdCTCxtQkFBbUJDO1lBQ3ZELE1BQU1DLGNBQWNJLGlCQUNsQkQsd0JBQ0FMLG1CQUNBQztZQUVGLE9BQU8sTUFBTVIsZ0VBQW1CQSxDQUFDLGdCQUFnQlM7UUFDbkQ7UUFDQUssUUFBUSxPQUFPQztZQUNiYix5REFBV0EsQ0FBQ2EsSUFBSSxHQUFHLFVBQVU7WUFDN0IsTUFBTVAsT0FBTztnQkFBRU8sSUFBSWpCLDhEQUFZQSxDQUFDaUI7WUFBSTtZQUNwQyxNQUFNZixnRUFBbUJBLENBQUMsa0JBQWtCUTtRQUM5QztJQUNGO0FBQ0Y7QUFDTyxTQUFTUSxxQkFBcUJDLFNBQVM7SUFDNUMsT0FBTztRQUNMWixVQUFVLE9BQU9DLFNBQVNDLG1CQUFtQkM7WUFDM0MsTUFBTUMsY0FBYztnQkFDbEJRO2dCQUNBLEdBQUdQLG9CQUFvQkosU0FBU0MsbUJBQW1CQyxLQUFLO1lBQzFEO1lBQ0EsT0FBTyxNQUFNUixnRUFBbUJBLENBQUMsd0JBQXdCUztRQUMzRDtRQUNBRSxPQUFPLE9BQU9DLHdCQUF3QkwsbUJBQW1CQztZQUN2RCxNQUFNQyxjQUFjO2dCQUNsQlE7Z0JBQ0EsR0FBR0osaUJBQWlCRCx3QkFBd0JMLG1CQUFtQkMsS0FBSztZQUN0RTtZQUNBLE9BQU8sTUFBTVIsZ0VBQW1CQSxDQUFDLHdCQUF3QlM7UUFDM0Q7UUFDQUssUUFBUSxPQUFPQztZQUNiYix5REFBV0EsQ0FBQ2EsSUFBSSxHQUFHLFVBQVU7WUFDN0IsTUFBTU4sY0FBYztnQkFBRU0sSUFBSWpCLDhEQUFZQSxDQUFDaUI7WUFBSTtZQUMzQyxPQUFPLE1BQU1mLGdFQUFtQkEsQ0FBQywwQkFBMEJTO1FBQzdEO0lBQ0Y7QUFDRjtBQUNBLFNBQVNDLG9CQUFvQkosT0FBTyxFQUFFQyxpQkFBaUIsRUFBRUMsSUFBSTtJQUMzRCxJQUFJLE9BQU9GLFlBQVksVUFBVTtRQUMvQixNQUFNLElBQUlZLE1BQU07SUFDbEI7SUFDQSxJQUFJLENBQUNDLFNBQVNiLFVBQVU7UUFDdEIsTUFBTSxJQUFJWSxNQUFNO0lBQ2xCO0lBQ0EsSUFBSVosVUFBVSxHQUFHO1FBQ2YsTUFBTSxJQUFJWSxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUUsZUFBZW5CLDJEQUFTQSxDQUFDTztJQUMvQixNQUFNYSxVQUFVbEIsd0VBQWtCQSxDQUFDSTtJQUNuQyxNQUFNZSxLQUFLLENBQUNDLEtBQUtDLEdBQUcsS0FBS2xCLE9BQU0sSUFBSztJQUNwQyxPQUFPO1FBQ0wsR0FBR2UsT0FBTztRQUNWQztRQUNBZCxNQUFNViw4REFBWUEsQ0FBQ3NCO1FBQ25CckIsT0FBT0EsZ0RBQUFBO0lBQ1Q7QUFDRjtBQUNBLFNBQVNjLGlCQUFpQkQsc0JBQXNCLEVBQUVMLGlCQUFpQixFQUFFQyxJQUFJO0lBQ3ZFLElBQUljO0lBQ0osSUFBSVYsa0NBQWtDVyxNQUFNO1FBQzFDRCxLQUFLVix1QkFBdUJhLE9BQU8sS0FBSztJQUMxQyxPQUFPLElBQUksT0FBT2IsMkJBQTJCLFVBQVU7UUFDckRVLEtBQUtWLHlCQUF5QjtJQUNoQyxPQUFPO1FBQ0wsTUFBTSxJQUFJTSxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUcsVUFBVWxCLHdFQUFrQkEsQ0FBQ0k7SUFDbkMsTUFBTWEsZUFBZW5CLDJEQUFTQSxDQUFDTztJQUMvQixPQUFPO1FBQ0wsR0FBR2EsT0FBTztRQUNWQztRQUNBZCxNQUFNViw4REFBWUEsQ0FBQ3NCO1FBQ25CckIsT0FBT0EsZ0RBQUFBO0lBQ1Q7QUFDRixFQUNBLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvc2NoZWR1bGVyX2ltcGwuanM/ZWM1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFyZyB9IGZyb20gXCIuL3ZhbGlkYXRlLmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9wYXRocy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwTXV0YXRpb25TY2hlZHVsZXIoKSB7XG4gIHJldHVybiB7XG4gICAgcnVuQWZ0ZXI6IGFzeW5jIChkZWxheU1zLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykgPT4ge1xuICAgICAgY29uc3Qgc3lzY2FsbEFyZ3MgPSBydW5BZnRlclN5c2NhbGxBcmdzKGRlbGF5TXMsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3NjaGVkdWxlXCIsIHN5c2NhbGxBcmdzKTtcbiAgICB9LFxuICAgIHJ1bkF0OiBhc3luYyAobXNfc2luY2VfZXBvY2hfb3JfZGF0ZSwgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0gcnVuQXRTeXNjYWxsQXJncyhcbiAgICAgICAgbXNfc2luY2VfZXBvY2hfb3JfZGF0ZSxcbiAgICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAgIGFyZ3NcbiAgICAgICk7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zY2hlZHVsZVwiLCBzeXNjYWxsQXJncyk7XG4gICAgfSxcbiAgICBjYW5jZWw6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgdmFsaWRhdGVBcmcoaWQsIDEsIFwiY2FuY2VsXCIsIFwiaWRcIik7XG4gICAgICBjb25zdCBhcmdzID0geyBpZDogY29udmV4VG9Kc29uKGlkKSB9O1xuICAgICAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9jYW5jZWxfam9iXCIsIGFyZ3MpO1xuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEFjdGlvblNjaGVkdWxlcihyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBydW5BZnRlcjogYXN5bmMgKGRlbGF5TXMsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAuLi5ydW5BZnRlclN5c2NhbGxBcmdzKGRlbGF5TXMsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2FjdGlvbnMvc2NoZWR1bGVcIiwgc3lzY2FsbEFyZ3MpO1xuICAgIH0sXG4gICAgcnVuQXQ6IGFzeW5jIChtc19zaW5jZV9lcG9jaF9vcl9kYXRlLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykgPT4ge1xuICAgICAgY29uc3Qgc3lzY2FsbEFyZ3MgPSB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgLi4ucnVuQXRTeXNjYWxsQXJncyhtc19zaW5jZV9lcG9jaF9vcl9kYXRlLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncylcbiAgICAgIH07XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9hY3Rpb25zL3NjaGVkdWxlXCIsIHN5c2NhbGxBcmdzKTtcbiAgICB9LFxuICAgIGNhbmNlbDogYXN5bmMgKGlkKSA9PiB7XG4gICAgICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJjYW5jZWxcIiwgXCJpZFwiKTtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0geyBpZDogY29udmV4VG9Kc29uKGlkKSB9O1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvYWN0aW9ucy9jYW5jZWxfam9iXCIsIHN5c2NhbGxBcmdzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBydW5BZnRlclN5c2NhbGxBcmdzKGRlbGF5TXMsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSB7XG4gIGlmICh0eXBlb2YgZGVsYXlNcyAhPT0gXCJudW1iZXJcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkZWxheU1zYCBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICB9XG4gIGlmICghaXNGaW5pdGUoZGVsYXlNcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZGVsYXlNc2AgbXVzdCBiZSBhIGZpbml0ZSBudW1iZXJcIik7XG4gIH1cbiAgaWYgKGRlbGF5TXMgPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYGRlbGF5TXNgIG11c3QgYmUgbm9uLW5lZ2F0aXZlXCIpO1xuICB9XG4gIGNvbnN0IGZ1bmN0aW9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgY29uc3QgYWRkcmVzcyA9IGdldEZ1bmN0aW9uQWRkcmVzcyhmdW5jdGlvblJlZmVyZW5jZSk7XG4gIGNvbnN0IHRzID0gKERhdGUubm93KCkgKyBkZWxheU1zKSAvIDFlMztcbiAgcmV0dXJuIHtcbiAgICAuLi5hZGRyZXNzLFxuICAgIHRzLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihmdW5jdGlvbkFyZ3MpLFxuICAgIHZlcnNpb25cbiAgfTtcbn1cbmZ1bmN0aW9uIHJ1bkF0U3lzY2FsbEFyZ3MobXNfc2luY2VfZXBvY2hfb3JfZGF0ZSwgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpIHtcbiAgbGV0IHRzO1xuICBpZiAobXNfc2luY2VfZXBvY2hfb3JfZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICB0cyA9IG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUudmFsdWVPZigpIC8gMWUzO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtc19zaW5jZV9lcG9jaF9vcl9kYXRlID09PSBcIm51bWJlclwiKSB7XG4gICAgdHMgPSBtc19zaW5jZV9lcG9jaF9vcl9kYXRlIC8gMWUzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBpbnZva2UgdGltZSBtdXN0IGEgRGF0ZSBvciBhIHRpbWVzdGFtcFwiKTtcbiAgfVxuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgY29uc3QgZnVuY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICByZXR1cm4ge1xuICAgIC4uLmFkZHJlc3MsXG4gICAgdHMsXG4gICAgYXJnczogY29udmV4VG9Kc29uKGZ1bmN0aW9uQXJncyksXG4gICAgdmVyc2lvblxuICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVyX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwidmVyc2lvbiIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwYXJzZUFyZ3MiLCJ2YWxpZGF0ZUFyZyIsImdldEZ1bmN0aW9uQWRkcmVzcyIsInNldHVwTXV0YXRpb25TY2hlZHVsZXIiLCJydW5BZnRlciIsImRlbGF5TXMiLCJmdW5jdGlvblJlZmVyZW5jZSIsImFyZ3MiLCJzeXNjYWxsQXJncyIsInJ1bkFmdGVyU3lzY2FsbEFyZ3MiLCJydW5BdCIsIm1zX3NpbmNlX2Vwb2NoX29yX2RhdGUiLCJydW5BdFN5c2NhbGxBcmdzIiwiY2FuY2VsIiwiaWQiLCJzZXR1cEFjdGlvblNjaGVkdWxlciIsInJlcXVlc3RJZCIsIkVycm9yIiwiaXNGaW5pdGUiLCJmdW5jdGlvbkFyZ3MiLCJhZGRyZXNzIiwidHMiLCJEYXRlIiwibm93IiwidmFsdWVPZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js":
/*!********************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilterBuilderImpl: () => (/* binding */ SearchFilterBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass SearchFilterBuilderImpl extends _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.SearchFilter {\n    constructor(filters){\n        super();\n        __publicField(this, \"filters\");\n        __publicField(this, \"isConsumed\");\n        this.filters = filters;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new SearchFilterBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.\");\n        }\n        this.isConsumed = true;\n    }\n    search(fieldName, query) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"search\", \"fieldName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(query, 2, \"search\", \"query\");\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Search\",\n            fieldPath: fieldName,\n            value: query\n        }));\n    }\n    eq(fieldName, value) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"eq\", \"fieldName\");\n        if (arguments.length !== 2) {\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(value, 2, \"search\", \"value\");\n        }\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.filters;\n    }\n} //# sourceMappingURL=search_filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEM7QUFHM0I7QUFDTztBQUNyQyxNQUFNUSxnQ0FBZ0NGLG1FQUFZQTtJQUN2REcsWUFBWUMsT0FBTyxDQUFFO1FBQ25CLEtBQUs7UUFDTE4sY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ00sT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosd0JBQXdCLEVBQUU7SUFDdkM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxPQUFPQyxTQUFTLEVBQUVDLEtBQUssRUFBRTtRQUN2QlYseURBQVdBLENBQUNTLFdBQVcsR0FBRyxVQUFVO1FBQ3BDVCx5REFBV0EsQ0FBQ1UsT0FBTyxHQUFHLFVBQVU7UUFDaEMsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hoQixPQUFPaUI7UUFDVDtJQUVKO0lBQ0FJLEdBQUdMLFNBQVMsRUFBRWhCLEtBQUssRUFBRTtRQUNuQk8seURBQVdBLENBQUNTLFdBQVcsR0FBRyxNQUFNO1FBQ2hDLElBQUlNLFVBQVVDLE1BQU0sS0FBSyxHQUFHO1lBQzFCaEIseURBQVdBLENBQUNQLE9BQU8sR0FBRyxVQUFVO1FBQ2xDO1FBQ0EsSUFBSSxDQUFDYSxPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hoQixPQUFPSyx5RUFBdUJBLENBQUNMO1FBQ2pDO0lBRUo7SUFDQXdCLFNBQVM7UUFDUCxJQUFJLENBQUNYLE9BQU87UUFDWixPQUFPLElBQUksQ0FBQ0gsT0FBTztJQUNyQjtBQUNGLEVBQ0Esc0RBQXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9zZWFyY2hfZmlsdGVyX2J1aWxkZXJfaW1wbC5qcz80ODI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuaW1wb3J0IHtcbiAgU2VhcmNoRmlsdGVyXG59IGZyb20gXCIuLi9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmV4cG9ydCBjbGFzcyBTZWFyY2hGaWx0ZXJCdWlsZGVySW1wbCBleHRlbmRzIFNlYXJjaEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKGZpbHRlcnMpIHtcbiAgICBzdXBlcigpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmaWx0ZXJzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpc0NvbnN1bWVkXCIpO1xuICAgIHRoaXMuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgdGhpcy5pc0NvbnN1bWVkID0gZmFsc2U7XG4gIH1cbiAgc3RhdGljIG5ldygpIHtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsKFtdKTtcbiAgfVxuICBjb25zdW1lKCkge1xuICAgIGlmICh0aGlzLmlzQ29uc3VtZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJTZWFyY2hGaWx0ZXJCdWlsZGVyIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCEgQ2hhaW4geW91ciBtZXRob2QgY2FsbHMgbGlrZSBgcSA9PiBxLnNlYXJjaCguLi4pLmVxKC4uLilgLlwiXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmlzQ29uc3VtZWQgPSB0cnVlO1xuICB9XG4gIHNlYXJjaChmaWVsZE5hbWUsIHF1ZXJ5KSB7XG4gICAgdmFsaWRhdGVBcmcoZmllbGROYW1lLCAxLCBcInNlYXJjaFwiLCBcImZpZWxkTmFtZVwiKTtcbiAgICB2YWxpZGF0ZUFyZyhxdWVyeSwgMiwgXCJzZWFyY2hcIiwgXCJxdWVyeVwiKTtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5maWx0ZXJzLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiU2VhcmNoXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogcXVlcnlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBlcShmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgdmFsaWRhdGVBcmcoZmllbGROYW1lLCAxLCBcImVxXCIsIFwiZmllbGROYW1lXCIpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XG4gICAgICB2YWxpZGF0ZUFyZyh2YWx1ZSwgMiwgXCJzZWFyY2hcIiwgXCJ2YWx1ZVwiKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIG5ldyBTZWFyY2hGaWx0ZXJCdWlsZGVySW1wbChcbiAgICAgIHRoaXMuZmlsdGVycy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkVxXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgZXhwb3J0KCkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiB0aGlzLmZpbHRlcnM7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiY29udmV4T3JVbmRlZmluZWRUb0pzb24iLCJTZWFyY2hGaWx0ZXIiLCJ2YWxpZGF0ZUFyZyIsIlNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIiwiY29uc3RydWN0b3IiLCJmaWx0ZXJzIiwiaXNDb25zdW1lZCIsIm5ldyIsImNvbnN1bWUiLCJFcnJvciIsInNlYXJjaCIsImZpZWxkTmFtZSIsInF1ZXJ5IiwiY29uY2F0IiwidHlwZSIsImZpZWxkUGF0aCIsImVxIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZXhwb3J0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/storage_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupStorageActionWriter: () => (/* binding */ setupStorageActionWriter),\n/* harmony export */   setupStorageReader: () => (/* binding */ setupStorageReader),\n/* harmony export */   setupStorageWriter: () => (/* binding */ setupStorageWriter)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\n\n\n\nfunction setupStorageReader(requestId) {\n    return {\n        getUrl: async (storageId)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(storageId, 1, \"getUrl\", \"storageId\");\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getMetadata: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetMetadata\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n}\nfunction setupStorageWriter(requestId) {\n    const reader = setupStorageReader(requestId);\n    return {\n        generateUploadUrl: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGenerateUploadUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version\n            });\n        },\n        delete: async (storageId)=>{\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageDelete\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getUrl: reader.getUrl,\n        getMetadata: reader.getMetadata\n    };\n}\nfunction setupStorageActionWriter(requestId) {\n    const writer = setupStorageWriter(requestId);\n    return {\n        ...writer,\n        store: async (blob, options)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/storeBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                blob,\n                options\n            });\n        },\n        get: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/getBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n} //# sourceMappingURL=storage_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N0b3JhZ2VfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUM0QjtBQUM0QjtBQUN6QjtBQUNyQyxTQUFTSSxtQkFBbUJDLFNBQVM7SUFDMUMsT0FBTztRQUNMQyxRQUFRLE9BQU9DO1lBQ2JKLHlEQUFXQSxDQUFDSSxXQUFXLEdBQUcsVUFBVTtZQUNwQyxPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQ3BESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUMsYUFBYSxPQUFPRDtZQUNsQixPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQywwQkFBMEI7Z0JBQ3pESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBQ08sU0FBU0UsbUJBQW1CSixTQUFTO0lBQzFDLE1BQU1LLFNBQVNOLG1CQUFtQkM7SUFDbEMsT0FBTztRQUNMTSxtQkFBbUI7WUFDakIsT0FBTyxNQUFNVixnRUFBbUJBLENBQUMsZ0NBQWdDO2dCQUMvREk7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtZQUNUO1FBQ0Y7UUFDQVksUUFBUSxPQUFPTDtZQUNiLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQzdDSTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUQsUUFBUUksT0FBT0osTUFBTTtRQUNyQkUsYUFBYUUsT0FBT0YsV0FBVztJQUNqQztBQUNGO0FBQ08sU0FBU0sseUJBQXlCUixTQUFTO0lBQ2hELE1BQU1TLFNBQVNMLG1CQUFtQko7SUFDbEMsT0FBTztRQUNMLEdBQUdTLE1BQU07UUFDVEMsT0FBTyxPQUFPQyxNQUFNQztZQUNsQixPQUFPLE1BQU1mLDZEQUFnQkEsQ0FBQyxxQkFBcUI7Z0JBQ2pERztnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQZ0I7Z0JBQ0FDO1lBQ0Y7UUFDRjtRQUNBQyxLQUFLLE9BQU9YO1lBQ1YsT0FBTyxNQUFNTCw2REFBZ0JBLENBQUMsbUJBQW1CO2dCQUMvQ0c7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtnQkFDUE87WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvc3RvcmFnZV9pbXBsLmpzPzg5MGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsLCBwZXJmb3JtSnNTeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwU3RvcmFnZVJlYWRlcihyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRVcmw6IGFzeW5jIChzdG9yYWdlSWQpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKHN0b3JhZ2VJZCwgMSwgXCJnZXRVcmxcIiwgXCJzdG9yYWdlSWRcIik7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zdG9yYWdlR2V0VXJsXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TWV0YWRhdGE6IGFzeW5jIChzdG9yYWdlSWQpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3N0b3JhZ2VHZXRNZXRhZGF0YVwiLCB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc3RvcmFnZUlkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTdG9yYWdlV3JpdGVyKHJlcXVlc3RJZCkge1xuICBjb25zdCByZWFkZXIgPSBzZXR1cFN0b3JhZ2VSZWFkZXIocmVxdWVzdElkKTtcbiAgcmV0dXJuIHtcbiAgICBnZW5lcmF0ZVVwbG9hZFVybDogYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvc3RvcmFnZUdlbmVyYXRlVXBsb2FkVXJsXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbGV0ZTogYXN5bmMgKHN0b3JhZ2VJZCkgPT4ge1xuICAgICAgYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zdG9yYWdlRGVsZXRlXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VXJsOiByZWFkZXIuZ2V0VXJsLFxuICAgIGdldE1ldGFkYXRhOiByZWFkZXIuZ2V0TWV0YWRhdGFcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIocmVxdWVzdElkKSB7XG4gIGNvbnN0IHdyaXRlciA9IHNldHVwU3RvcmFnZVdyaXRlcihyZXF1ZXN0SWQpO1xuICByZXR1cm4ge1xuICAgIC4uLndyaXRlcixcbiAgICBzdG9yZTogYXN5bmMgKGJsb2IsIG9wdGlvbnMpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtSnNTeXNjYWxsKFwic3RvcmFnZS9zdG9yZUJsb2JcIiwge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIGJsb2IsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBhc3luYyAoc3RvcmFnZUlkKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUpzU3lzY2FsbChcInN0b3JhZ2UvZ2V0QmxvYlwiLCB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc3RvcmFnZUlkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yYWdlX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsidmVyc2lvbiIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwZXJmb3JtSnNTeXNjYWxsIiwidmFsaWRhdGVBcmciLCJzZXR1cFN0b3JhZ2VSZWFkZXIiLCJyZXF1ZXN0SWQiLCJnZXRVcmwiLCJzdG9yYWdlSWQiLCJnZXRNZXRhZGF0YSIsInNldHVwU3RvcmFnZVdyaXRlciIsInJlYWRlciIsImdlbmVyYXRlVXBsb2FkVXJsIiwiZGVsZXRlIiwic2V0dXBTdG9yYWdlQWN0aW9uV3JpdGVyIiwid3JpdGVyIiwic3RvcmUiLCJibG9iIiwib3B0aW9ucyIsImdldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/syscall.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   performAsyncSyscall: () => (/* binding */ performAsyncSyscall),\n/* harmony export */   performJsSyscall: () => (/* binding */ performJsSyscall),\n/* harmony export */   performSyscall: () => (/* binding */ performSyscall)\n/* harmony export */ });\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\nfunction performSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.syscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    const resultStr = Convex.syscall(op, JSON.stringify(arg));\n    return JSON.parse(resultStr);\n}\nasync function performAsyncSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.asyncSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    let resultStr;\n    try {\n        resultStr = await Convex.asyncSyscall(op, JSON.stringify(arg));\n    } catch (e) {\n        if (e.data !== void 0) {\n            const rethrown = new _values_errors_js__WEBPACK_IMPORTED_MODULE_0__.ConvexError(e.message);\n            rethrown.data = (0,_values_value_js__WEBPACK_IMPORTED_MODULE_1__.jsonToConvex)(e.data);\n            throw rethrown;\n        }\n        throw new Error(e.message);\n    }\n    return JSON.parse(resultStr);\n}\nfunction performJsSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.jsSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    return Convex.jsSyscall(op, arg);\n} //# sourceMappingURL=syscall.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N5c2NhbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUN3QztBQUNBO0FBQzlDLFNBQVNFLGVBQWVDLEVBQUUsRUFBRUMsR0FBRztJQUNwQyxJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT0MsT0FBTyxLQUFLLEtBQUssR0FBRztRQUM5RCxNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLFlBQVlILE9BQU9DLE9BQU8sQ0FBQ0gsSUFBSU0sS0FBS0MsU0FBUyxDQUFDTjtJQUNwRCxPQUFPSyxLQUFLRSxLQUFLLENBQUNIO0FBQ3BCO0FBQ08sZUFBZUksb0JBQW9CVCxFQUFFLEVBQUVDLEdBQUc7SUFDL0MsSUFBSSxPQUFPQyxXQUFXLGVBQWVBLE9BQU9RLFlBQVksS0FBSyxLQUFLLEdBQUc7UUFDbkUsTUFBTSxJQUFJTixNQUNSO0lBRUo7SUFDQSxJQUFJQztJQUNKLElBQUk7UUFDRkEsWUFBWSxNQUFNSCxPQUFPUSxZQUFZLENBQUNWLElBQUlNLEtBQUtDLFNBQVMsQ0FBQ047SUFDM0QsRUFBRSxPQUFPVSxHQUFHO1FBQ1YsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLEtBQUssR0FBRztZQUNyQixNQUFNQyxXQUFXLElBQUloQiwwREFBV0EsQ0FBQ2MsRUFBRUcsT0FBTztZQUMxQ0QsU0FBU0QsSUFBSSxHQUFHZCw4REFBWUEsQ0FBQ2EsRUFBRUMsSUFBSTtZQUNuQyxNQUFNQztRQUNSO1FBQ0EsTUFBTSxJQUFJVCxNQUFNTyxFQUFFRyxPQUFPO0lBQzNCO0lBQ0EsT0FBT1IsS0FBS0UsS0FBSyxDQUFDSDtBQUNwQjtBQUNPLFNBQVNVLGlCQUFpQmYsRUFBRSxFQUFFQyxHQUFHO0lBQ3RDLElBQUksT0FBT0MsV0FBVyxlQUFlQSxPQUFPYyxTQUFTLEtBQUssS0FBSyxHQUFHO1FBQ2hFLE1BQU0sSUFBSVosTUFDUjtJQUVKO0lBQ0EsT0FBT0YsT0FBT2MsU0FBUyxDQUFDaEIsSUFBSUM7QUFDOUIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N5c2NhbGwuanM/NDg1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi8uLi92YWx1ZXMvdmFsdWUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtU3lzY2FsbChvcCwgYXJnKSB7XG4gIGlmICh0eXBlb2YgQ29udmV4ID09PSBcInVuZGVmaW5lZFwiIHx8IENvbnZleC5zeXNjYWxsID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoZSBDb252ZXggZGF0YWJhc2UgYW5kIGF1dGggb2JqZWN0cyBhcmUgYmVpbmcgdXNlZCBvdXRzaWRlIG9mIGEgQ29udmV4IGJhY2tlbmQuIERpZCB5b3UgbWVhbiB0byB1c2UgYHVzZVF1ZXJ5YCBvciBgdXNlTXV0YXRpb25gIHRvIGNhbGwgYSBDb252ZXggZnVuY3Rpb24/XCJcbiAgICApO1xuICB9XG4gIGNvbnN0IHJlc3VsdFN0ciA9IENvbnZleC5zeXNjYWxsKG9wLCBKU09OLnN0cmluZ2lmeShhcmcpKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0U3RyKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJmb3JtQXN5bmNTeXNjYWxsKG9wLCBhcmcpIHtcbiAgaWYgKHR5cGVvZiBDb252ZXggPT09IFwidW5kZWZpbmVkXCIgfHwgQ29udmV4LmFzeW5jU3lzY2FsbCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgQ29udmV4IGRhdGFiYXNlIGFuZCBhdXRoIG9iamVjdHMgYXJlIGJlaW5nIHVzZWQgb3V0c2lkZSBvZiBhIENvbnZleCBiYWNrZW5kLiBEaWQgeW91IG1lYW4gdG8gdXNlIGB1c2VRdWVyeWAgb3IgYHVzZU11dGF0aW9uYCB0byBjYWxsIGEgQ29udmV4IGZ1bmN0aW9uP1wiXG4gICAgKTtcbiAgfVxuICBsZXQgcmVzdWx0U3RyO1xuICB0cnkge1xuICAgIHJlc3VsdFN0ciA9IGF3YWl0IENvbnZleC5hc3luY1N5c2NhbGwob3AsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUuZGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCByZXRocm93biA9IG5ldyBDb252ZXhFcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgcmV0aHJvd24uZGF0YSA9IGpzb25Ub0NvbnZleChlLmRhdGEpO1xuICAgICAgdGhyb3cgcmV0aHJvd247XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBKU09OLnBhcnNlKHJlc3VsdFN0cik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybUpzU3lzY2FsbChvcCwgYXJnKSB7XG4gIGlmICh0eXBlb2YgQ29udmV4ID09PSBcInVuZGVmaW5lZFwiIHx8IENvbnZleC5qc1N5c2NhbGwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhlIENvbnZleCBkYXRhYmFzZSBhbmQgYXV0aCBvYmplY3RzIGFyZSBiZWluZyB1c2VkIG91dHNpZGUgb2YgYSBDb252ZXggYmFja2VuZC4gRGlkIHlvdSBtZWFuIHRvIHVzZSBgdXNlUXVlcnlgIG9yIGB1c2VNdXRhdGlvbmAgdG8gY2FsbCBhIENvbnZleCBmdW5jdGlvbj9cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIENvbnZleC5qc1N5c2NhbGwob3AsIGFyZyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeXNjYWxsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkNvbnZleEVycm9yIiwianNvblRvQ29udmV4IiwicGVyZm9ybVN5c2NhbGwiLCJvcCIsImFyZyIsIkNvbnZleCIsInN5c2NhbGwiLCJFcnJvciIsInJlc3VsdFN0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJhc3luY1N5c2NhbGwiLCJlIiwiZGF0YSIsInJldGhyb3duIiwibWVzc2FnZSIsInBlcmZvcm1Kc1N5c2NhbGwiLCJqc1N5c2NhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/validate.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateArg: () => (/* binding */ validateArg),\n/* harmony export */   validateArgIsInteger: () => (/* binding */ validateArgIsInteger),\n/* harmony export */   validateArgIsNonNegativeInteger: () => (/* binding */ validateArgIsNonNegativeInteger)\n/* harmony export */ });\n\nfunction validateArg(arg, idx, method, argName) {\n    if (arg === void 0) {\n        throw new TypeError(`Must provide arg ${idx} \\`${argName}\\` to \\`${method}\\``);\n    }\n}\nfunction validateArgIsInteger(arg, idx, method, argName) {\n    if (!Number.isInteger(arg)) {\n        throw new TypeError(`Arg ${idx} \\`${argName}\\` to \\`${method}\\` must be an integer`);\n    }\n}\nfunction validateArgIsNonNegativeInteger(arg, idx, method, argName) {\n    if (!Number.isInteger(arg) || arg < 0) {\n        throw new TypeError(`Arg ${idx} \\`${argName}\\` to \\`${method}\\` must be a non-negative integer`);\n    }\n} //# sourceMappingURL=validate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZhbGlkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFhO0FBQ04sU0FBU0EsWUFBWUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsT0FBTztJQUNuRCxJQUFJSCxRQUFRLEtBQUssR0FBRztRQUNsQixNQUFNLElBQUlJLFVBQ1IsQ0FBQyxpQkFBaUIsRUFBRUgsSUFBSSxHQUFHLEVBQUVFLFFBQVEsUUFBUSxFQUFFRCxPQUFPLEVBQUUsQ0FBQztJQUU3RDtBQUNGO0FBQ08sU0FBU0cscUJBQXFCTCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxPQUFPO0lBQzVELElBQUksQ0FBQ0csT0FBT0MsU0FBUyxDQUFDUCxNQUFNO1FBQzFCLE1BQU0sSUFBSUksVUFDUixDQUFDLElBQUksRUFBRUgsSUFBSSxHQUFHLEVBQUVFLFFBQVEsUUFBUSxFQUFFRCxPQUFPLHFCQUFxQixDQUFDO0lBRW5FO0FBQ0Y7QUFDTyxTQUFTTSxnQ0FBZ0NSLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE9BQU87SUFDdkUsSUFBSSxDQUFDRyxPQUFPQyxTQUFTLENBQUNQLFFBQVFBLE1BQU0sR0FBRztRQUNyQyxNQUFNLElBQUlJLFVBQ1IsQ0FBQyxJQUFJLEVBQUVILElBQUksR0FBRyxFQUFFRSxRQUFRLFFBQVEsRUFBRUQsT0FBTyxpQ0FBaUMsQ0FBQztJQUUvRTtBQUNGLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC92YWxpZGF0ZS5qcz9hMzZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQXJnKGFyZywgaWR4LCBtZXRob2QsIGFyZ05hbWUpIHtcbiAgaWYgKGFyZyA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIGBNdXN0IHByb3ZpZGUgYXJnICR7aWR4fSBcXGAke2FyZ05hbWV9XFxgIHRvIFxcYCR7bWV0aG9kfVxcYGBcbiAgICApO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBcmdJc0ludGVnZXIoYXJnLCBpZHgsIG1ldGhvZCwgYXJnTmFtZSkge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIoYXJnKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgQXJnICR7aWR4fSBcXGAke2FyZ05hbWV9XFxgIHRvIFxcYCR7bWV0aG9kfVxcYCBtdXN0IGJlIGFuIGludGVnZXJgXG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQXJnSXNOb25OZWdhdGl2ZUludGVnZXIoYXJnLCBpZHgsIG1ldGhvZCwgYXJnTmFtZSkge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIoYXJnKSB8fCBhcmcgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIGBBcmcgJHtpZHh9IFxcYCR7YXJnTmFtZX1cXGAgdG8gXFxgJHttZXRob2R9XFxgIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcmBcbiAgICApO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0ZUFyZyIsImFyZyIsImlkeCIsIm1ldGhvZCIsImFyZ05hbWUiLCJUeXBlRXJyb3IiLCJ2YWxpZGF0ZUFyZ0lzSW50ZWdlciIsIk51bWJlciIsImlzSW50ZWdlciIsInZhbGlkYXRlQXJnSXNOb25OZWdhdGl2ZUludGVnZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js":
/*!************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/vector_search_impl.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   VectorQueryImpl: () => (/* binding */ VectorQueryImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression),\n/* harmony export */   setupActionVectorSearch: () => (/* binding */ setupActionVectorSearch)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _vector_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vector_search.js */ \"(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nfunction setupActionVectorSearch(requestId) {\n    return async (tableName, indexName, query)=>{\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"vectorSearch\", \"tableName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(indexName, 2, \"vectorSearch\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(query, 3, \"vectorSearch\", \"query\");\n        if (!query.vector || !Array.isArray(query.vector) || query.vector.length === 0) {\n            throw Error(\"`vector` must be a non-empty Array in vectorSearch\");\n        }\n        return await new VectorQueryImpl(requestId, tableName + \".\" + indexName, query).collect();\n    };\n}\nclass VectorQueryImpl {\n    constructor(requestId, indexName, query){\n        __publicField(this, \"requestId\");\n        __publicField(this, \"state\");\n        this.requestId = requestId;\n        const filters = query.filter ? serializeExpression(query.filter(filterBuilderImpl)) : null;\n        this.state = {\n            type: \"preparing\",\n            query: {\n                indexName,\n                limit: query.limit,\n                vector: query.vector,\n                expressions: filters\n            }\n        };\n    }\n    async collect() {\n        if (this.state.type === \"consumed\") {\n            throw new Error(\"This query is closed and can't emit any more values.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"consumed\"\n        };\n        const { results } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/actions/vectorSearch\", {\n            requestId: this.requestId,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n            query\n        });\n        return results;\n    }\n}\nclass ExpressionImpl extends _vector_search_js__WEBPACK_IMPORTED_MODULE_2__.FilterExpression {\n    constructor(inner){\n        super();\n        __publicField(this, \"inner\");\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_4__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (fieldName, value) {\n        if (typeof fieldName !== \"string\") {\n            throw new Error(\"The first argument to `q.eq` must be a field name.\");\n        }\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(new ExpressionImpl({\n                    $field: fieldName\n                })),\n                serializeExpression(value)\n            ]\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    }\n}; //# sourceMappingURL=vector_search_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3JEO0FBQ1Y7QUFHWjtBQUNlO0FBQ29CO0FBQ3pELFNBQVNVLHdCQUF3QkMsU0FBUztJQUMvQyxPQUFPLE9BQU9DLFdBQVdDLFdBQVdDO1FBQ2xDTix5REFBV0EsQ0FBQ0ksV0FBVyxHQUFHLGdCQUFnQjtRQUMxQ0oseURBQVdBLENBQUNLLFdBQVcsR0FBRyxnQkFBZ0I7UUFDMUNMLHlEQUFXQSxDQUFDTSxPQUFPLEdBQUcsZ0JBQWdCO1FBQ3RDLElBQUksQ0FBQ0EsTUFBTUMsTUFBTSxJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0gsTUFBTUMsTUFBTSxLQUFLRCxNQUFNQyxNQUFNLENBQUNHLE1BQU0sS0FBSyxHQUFHO1lBQzlFLE1BQU1DLE1BQU07UUFDZDtRQUNBLE9BQU8sTUFBTSxJQUFJQyxnQkFDZlQsV0FDQUMsWUFBWSxNQUFNQyxXQUNsQkMsT0FDQU8sT0FBTztJQUNYO0FBQ0Y7QUFDTyxNQUFNRDtJQUNYRSxZQUFZWCxTQUFTLEVBQUVFLFNBQVMsRUFBRUMsS0FBSyxDQUFFO1FBQ3ZDVixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDTyxTQUFTLEdBQUdBO1FBQ2pCLE1BQU1ZLFVBQVVULE1BQU1VLE1BQU0sR0FBR0Msb0JBQW9CWCxNQUFNVSxNQUFNLENBQUNFLHNCQUFzQjtRQUN0RixJQUFJLENBQUNDLEtBQUssR0FBRztZQUNYQyxNQUFNO1lBQ05kLE9BQU87Z0JBQ0xEO2dCQUNBZ0IsT0FBT2YsTUFBTWUsS0FBSztnQkFDbEJkLFFBQVFELE1BQU1DLE1BQU07Z0JBQ3BCZSxhQUFhUDtZQUNmO1FBQ0Y7SUFDRjtJQUNBLE1BQU1GLFVBQVU7UUFDZCxJQUFJLElBQUksQ0FBQ00sS0FBSyxDQUFDQyxJQUFJLEtBQUssWUFBWTtZQUNsQyxNQUFNLElBQUlULE1BQU07UUFDbEI7UUFDQSxNQUFNTCxRQUFRLElBQUksQ0FBQ2EsS0FBSyxDQUFDYixLQUFLO1FBQzlCLElBQUksQ0FBQ2EsS0FBSyxHQUFHO1lBQUVDLE1BQU07UUFBVztRQUNoQyxNQUFNLEVBQUVHLE9BQU8sRUFBRSxHQUFHLE1BQU0xQixnRUFBbUJBLENBQUMsNEJBQTRCO1lBQ3hFTSxXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QkwsT0FBT0EsZ0RBQUFBO1lBQ1BRO1FBQ0Y7UUFDQSxPQUFPaUI7SUFDVDtBQUNGO0FBQ08sTUFBTUMsdUJBQXVCekIsK0RBQWdCQTtJQUNsRGUsWUFBWVcsS0FBSyxDQUFFO1FBQ2pCLEtBQUs7UUFDTDdCLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQzZCLEtBQUssR0FBR0E7SUFDZjtJQUNBQyxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUNELEtBQUs7SUFDbkI7QUFDRjtBQUNPLFNBQVNSLG9CQUFvQlUsSUFBSTtJQUN0QyxJQUFJQSxnQkFBZ0JILGdCQUFnQjtRQUNsQyxPQUFPRyxLQUFLRCxTQUFTO0lBQ3ZCLE9BQU87UUFDTCxPQUFPO1lBQUVFLFVBQVUzQix5RUFBdUJBLENBQUMwQjtRQUFNO0lBQ25EO0FBQ0Y7QUFDTyxNQUFNVCxvQkFBb0I7SUFDL0IsOEVBQThFO0lBQzlFVyxJQUFHQyxTQUFTLEVBQUV0QyxLQUFLO1FBQ2pCLElBQUksT0FBT3NDLGNBQWMsVUFBVTtZQUNqQyxNQUFNLElBQUluQixNQUFNO1FBQ2xCO1FBQ0EsT0FBTyxJQUFJYSxlQUFlO1lBQ3hCTyxLQUFLO2dCQUNIZCxvQkFBb0IsSUFBSU8sZUFBZTtvQkFBRVEsUUFBUUY7Z0JBQVU7Z0JBQzNEYixvQkFBb0J6QjthQUNyQjtRQUNIO0lBQ0Y7SUFDQSw4RUFBOEU7SUFDOUV5QyxJQUFHLEdBQUdDLEtBQUs7UUFDVCxPQUFPLElBQUlWLGVBQWU7WUFBRVcsS0FBS0QsTUFBTUUsR0FBRyxDQUFDbkI7UUFBcUI7SUFDbEU7QUFDRixFQUFFLENBQ0YsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC92ZWN0b3Jfc2VhcmNoX2ltcGwuanM/MTJmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgRmlsdGVyRXhwcmVzc2lvblxufSBmcm9tIFwiLi4vdmVjdG9yX3NlYXJjaC5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuaW1wb3J0IHsgY29udmV4T3JVbmRlZmluZWRUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBY3Rpb25WZWN0b3JTZWFyY2gocmVxdWVzdElkKSB7XG4gIHJldHVybiBhc3luYyAodGFibGVOYW1lLCBpbmRleE5hbWUsIHF1ZXJ5KSA9PiB7XG4gICAgdmFsaWRhdGVBcmcodGFibGVOYW1lLCAxLCBcInZlY3RvclNlYXJjaFwiLCBcInRhYmxlTmFtZVwiKTtcbiAgICB2YWxpZGF0ZUFyZyhpbmRleE5hbWUsIDIsIFwidmVjdG9yU2VhcmNoXCIsIFwiaW5kZXhOYW1lXCIpO1xuICAgIHZhbGlkYXRlQXJnKHF1ZXJ5LCAzLCBcInZlY3RvclNlYXJjaFwiLCBcInF1ZXJ5XCIpO1xuICAgIGlmICghcXVlcnkudmVjdG9yIHx8ICFBcnJheS5pc0FycmF5KHF1ZXJ5LnZlY3RvcikgfHwgcXVlcnkudmVjdG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJgdmVjdG9yYCBtdXN0IGJlIGEgbm9uLWVtcHR5IEFycmF5IGluIHZlY3RvclNlYXJjaFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBWZWN0b3JRdWVyeUltcGwoXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICB0YWJsZU5hbWUgKyBcIi5cIiArIGluZGV4TmFtZSxcbiAgICAgIHF1ZXJ5XG4gICAgKS5jb2xsZWN0KCk7XG4gIH07XG59XG5leHBvcnQgY2xhc3MgVmVjdG9yUXVlcnlJbXBsIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkLCBpbmRleE5hbWUsIHF1ZXJ5KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlcXVlc3RJZFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhdGVcIik7XG4gICAgdGhpcy5yZXF1ZXN0SWQgPSByZXF1ZXN0SWQ7XG4gICAgY29uc3QgZmlsdGVycyA9IHF1ZXJ5LmZpbHRlciA/IHNlcmlhbGl6ZUV4cHJlc3Npb24ocXVlcnkuZmlsdGVyKGZpbHRlckJ1aWxkZXJJbXBsKSkgOiBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0eXBlOiBcInByZXBhcmluZ1wiLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgaW5kZXhOYW1lLFxuICAgICAgICBsaW1pdDogcXVlcnkubGltaXQsXG4gICAgICAgIHZlY3RvcjogcXVlcnkudmVjdG9yLFxuICAgICAgICBleHByZXNzaW9uczogZmlsdGVyc1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgY29sbGVjdCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09PSBcImNvbnN1bWVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgcXVlcnkgaXMgY2xvc2VkIGFuZCBjYW4ndCBlbWl0IGFueSBtb3JlIHZhbHVlcy5cIik7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zdGF0ZS5xdWVyeTtcbiAgICB0aGlzLnN0YXRlID0geyB0eXBlOiBcImNvbnN1bWVkXCIgfTtcbiAgICBjb25zdCB7IHJlc3VsdHMgfSA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvYWN0aW9ucy92ZWN0b3JTZWFyY2hcIiwge1xuICAgICAgcmVxdWVzdElkOiB0aGlzLnJlcXVlc3RJZCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBxdWVyeVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG59XG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbkltcGwgZXh0ZW5kcyBGaWx0ZXJFeHByZXNzaW9uIHtcbiAgY29uc3RydWN0b3IoaW5uZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbm5lclwiKTtcbiAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gIH1cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiB0aGlzLmlubmVyO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRXhwcmVzc2lvbihleHByKSB7XG4gIGlmIChleHByIGluc3RhbmNlb2YgRXhwcmVzc2lvbkltcGwpIHtcbiAgICByZXR1cm4gZXhwci5zZXJpYWxpemUoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyAkbGl0ZXJhbDogY29udmV4T3JVbmRlZmluZWRUb0pzb24oZXhwcikgfTtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGZpbHRlckJ1aWxkZXJJbXBsID0ge1xuICAvLyAgQ29tcGFyaXNvbnMgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZXEoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgZmllbGROYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gYHEuZXFgIG11c3QgYmUgYSBmaWVsZCBuYW1lLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkZXE6IFtcbiAgICAgICAgc2VyaWFsaXplRXhwcmVzc2lvbihuZXcgRXhwcmVzc2lvbkltcGwoeyAkZmllbGQ6IGZpZWxkTmFtZSB9KSksXG4gICAgICAgIHNlcmlhbGl6ZUV4cHJlc3Npb24odmFsdWUpXG4gICAgICBdXG4gICAgfSk7XG4gIH0sXG4gIC8vICBMb2dpYyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBvciguLi5leHBycykge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkb3I6IGV4cHJzLm1hcChzZXJpYWxpemVFeHByZXNzaW9uKSB9KTtcbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvcl9zZWFyY2hfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJ2ZXJzaW9uIiwiRmlsdGVyRXhwcmVzc2lvbiIsInZhbGlkYXRlQXJnIiwiY29udmV4T3JVbmRlZmluZWRUb0pzb24iLCJzZXR1cEFjdGlvblZlY3RvclNlYXJjaCIsInJlcXVlc3RJZCIsInRhYmxlTmFtZSIsImluZGV4TmFtZSIsInF1ZXJ5IiwidmVjdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJWZWN0b3JRdWVyeUltcGwiLCJjb2xsZWN0IiwiY29uc3RydWN0b3IiLCJmaWx0ZXJzIiwiZmlsdGVyIiwic2VyaWFsaXplRXhwcmVzc2lvbiIsImZpbHRlckJ1aWxkZXJJbXBsIiwic3RhdGUiLCJ0eXBlIiwibGltaXQiLCJleHByZXNzaW9ucyIsInJlc3VsdHMiLCJFeHByZXNzaW9uSW1wbCIsImlubmVyIiwic2VyaWFsaXplIiwiZXhwciIsIiRsaXRlcmFsIiwiZXEiLCJmaWVsZE5hbWUiLCIkZXEiLCIkZmllbGQiLCJvciIsImV4cHJzIiwiJG9yIiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.ROUTABLE_HTTP_METHODS),\n/* harmony export */   SearchFilter: () => (/* reexport safe */ _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__.SearchFilter),\n/* harmony export */   actionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.actionGeneric),\n/* harmony export */   anyApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.anyApi),\n/* harmony export */   componentsGeneric: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.componentsGeneric),\n/* harmony export */   createFunctionHandle: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.createFunctionHandle),\n/* harmony export */   cronJobs: () => (/* reexport safe */ _cron_js__WEBPACK_IMPORTED_MODULE_5__.cronJobs),\n/* harmony export */   currentSystemUdfInComponent: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.currentSystemUdfInComponent),\n/* harmony export */   defineApp: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.defineApp),\n/* harmony export */   defineComponent: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.defineComponent),\n/* harmony export */   defineSchema: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_9__.defineSchema),\n/* harmony export */   defineTable: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_9__.defineTable),\n/* harmony export */   filterApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.filterApi),\n/* harmony export */   getFunctionAddress: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.getFunctionAddress),\n/* harmony export */   getFunctionName: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.getFunctionName),\n/* harmony export */   httpActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.httpActionGeneric),\n/* harmony export */   httpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.httpRouter),\n/* harmony export */   internalActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalQueryGeneric),\n/* harmony export */   makeFunctionReference: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.makeFunctionReference),\n/* harmony export */   mutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.mutationGeneric),\n/* harmony export */   paginationOptsValidator: () => (/* reexport safe */ _pagination_js__WEBPACK_IMPORTED_MODULE_2__.paginationOptsValidator),\n/* harmony export */   queryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.queryGeneric)\n/* harmony export */ });\n/* harmony import */ var _database_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database.js */ \"(ssr)/./node_modules/convex/dist/esm/server/database.js\");\n/* harmony import */ var _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./impl/registration_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\");\n/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pagination.js */ \"(ssr)/./node_modules/convex/dist/esm/server/pagination.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storage.js */ \"(ssr)/./node_modules/convex/dist/esm/server/storage.js\");\n/* harmony import */ var _cron_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cron.js */ \"(ssr)/./node_modules/convex/dist/esm/server/cron.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router.js */ \"(ssr)/./node_modules/convex/dist/esm/server/router.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/index.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/index.js\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./schema.js */ \"(ssr)/./node_modules/convex/dist/esm/server/schema.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ2lCO0FBU087QUFDTDtBQUNXO0FBQ2Q7QUFDUTtBQUN1QztBQU0xRDtBQU1hO0FBQ3FDO0FBQ1Q7QUFDSCxDQUN4RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcz84MzkwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGF0YWJhc2UuanNcIjtcbmV4cG9ydCB7XG4gIGFjdGlvbkdlbmVyaWMsXG4gIGh0dHBBY3Rpb25HZW5lcmljLFxuICBtdXRhdGlvbkdlbmVyaWMsXG4gIHF1ZXJ5R2VuZXJpYyxcbiAgaW50ZXJuYWxBY3Rpb25HZW5lcmljLFxuICBpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyxcbiAgaW50ZXJuYWxRdWVyeUdlbmVyaWNcbn0gZnJvbSBcIi4vaW1wbC9yZWdpc3RyYXRpb25faW1wbC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFnaW5hdGlvbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2VhcmNoX2ZpbHRlcl9idWlsZGVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zdG9yYWdlLmpzXCI7XG5leHBvcnQgeyBjcm9uSm9icyB9IGZyb20gXCIuL2Nyb24uanNcIjtcbmV4cG9ydCB7IGh0dHBSb3V0ZXIsIEh0dHBSb3V0ZXIsIFJPVVRBQkxFX0hUVFBfTUVUSE9EUyB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuZXhwb3J0IHtcbiAgYW55QXBpLFxuICBnZXRGdW5jdGlvbk5hbWUsXG4gIG1ha2VGdW5jdGlvblJlZmVyZW5jZSxcbiAgZmlsdGVyQXBpXG59IGZyb20gXCIuL2FwaS5qc1wiO1xuZXhwb3J0IHtcbiAgZGVmaW5lQXBwLFxuICBkZWZpbmVDb21wb25lbnQsXG4gIGNvbXBvbmVudHNHZW5lcmljLFxuICBjcmVhdGVGdW5jdGlvbkhhbmRsZVxufSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBkZWZpbmVUYWJsZSwgZGVmaW5lU2NoZW1hIH0gZnJvbSBcIi4vc2NoZW1hLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJhY3Rpb25HZW5lcmljIiwiaHR0cEFjdGlvbkdlbmVyaWMiLCJtdXRhdGlvbkdlbmVyaWMiLCJxdWVyeUdlbmVyaWMiLCJpbnRlcm5hbEFjdGlvbkdlbmVyaWMiLCJpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyIsImludGVybmFsUXVlcnlHZW5lcmljIiwiY3JvbkpvYnMiLCJodHRwUm91dGVyIiwiSHR0cFJvdXRlciIsIlJPVVRBQkxFX0hUVFBfTUVUSE9EUyIsImFueUFwaSIsImdldEZ1bmN0aW9uTmFtZSIsIm1ha2VGdW5jdGlvblJlZmVyZW5jZSIsImZpbHRlckFwaSIsImRlZmluZUFwcCIsImRlZmluZUNvbXBvbmVudCIsImNvbXBvbmVudHNHZW5lcmljIiwiY3JlYXRlRnVuY3Rpb25IYW5kbGUiLCJjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJkZWZpbmVUYWJsZSIsImRlZmluZVNjaGVtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index_range_builder.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRange: () => (/* binding */ IndexRange)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass IndexRange {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isIndexRange\");\n    }\n} //# sourceMappingURL=index_range_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleF9yYW5nZV9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakcsTUFBTUs7SUFDWDs7R0FFQyxHQUNEQyxhQUFjO1FBQ1oscUNBQXFDO1FBQ3JDRixjQUFjLElBQUksRUFBRTtJQUN0QjtBQUNGLEVBQ0EsK0NBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW5kZXhfcmFuZ2VfYnVpbGRlci5qcz9mNTkzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmV4cG9ydCBjbGFzcyBJbmRleFJhbmdlIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcGVydHkgZm9yIG5vbWluYWwgdHlwZSBzdXBwb3J0LlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfaXNJbmRleFJhbmdlXCIpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleF9yYW5nZV9idWlsZGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiSW5kZXhSYW5nZSIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/pagination.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/pagination.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paginationOptsValidator: () => (/* binding */ paginationOptsValidator)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\n\nconst paginationOptsValidator = _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n    numItems: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number(),\n    cursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null()),\n    endCursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null())),\n    id: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumRowsRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumBytesRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number())\n}); //# sourceMappingURL=pagination.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9wYWdpbmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDOEI7QUFDcEMsTUFBTUMsMEJBQTBCRCxtREFBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQzlDQyxVQUFVSCxtREFBQ0EsQ0FBQ0ksTUFBTTtJQUNsQkMsUUFBUUwsbURBQUNBLENBQUNNLEtBQUssQ0FBQ04sbURBQUNBLENBQUNPLE1BQU0sSUFBSVAsbURBQUNBLENBQUNRLElBQUk7SUFDbENDLFdBQVdULG1EQUFDQSxDQUFDVSxRQUFRLENBQUNWLG1EQUFDQSxDQUFDTSxLQUFLLENBQUNOLG1EQUFDQSxDQUFDTyxNQUFNLElBQUlQLG1EQUFDQSxDQUFDUSxJQUFJO0lBQ2hERyxJQUFJWCxtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtJQUN2QlEsaUJBQWlCWixtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtJQUNwQ1Msa0JBQWtCYixtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ0ksTUFBTTtBQUN2QyxHQUFHLENBQ0gsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvcGFnaW5hdGlvbi5qcz9lMTE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdiB9IGZyb20gXCIuLi92YWx1ZXMvdmFsaWRhdG9yLmpzXCI7XG5leHBvcnQgY29uc3QgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3IgPSB2Lm9iamVjdCh7XG4gIG51bUl0ZW1zOiB2Lm51bWJlcigpLFxuICBjdXJzb3I6IHYudW5pb24odi5zdHJpbmcoKSwgdi5udWxsKCkpLFxuICBlbmRDdXJzb3I6IHYub3B0aW9uYWwodi51bmlvbih2LnN0cmluZygpLCB2Lm51bGwoKSkpLFxuICBpZDogdi5vcHRpb25hbCh2Lm51bWJlcigpKSxcbiAgbWF4aW11bVJvd3NSZWFkOiB2Lm9wdGlvbmFsKHYubnVtYmVyKCkpLFxuICBtYXhpbXVtQnl0ZXNSZWFkOiB2Lm9wdGlvbmFsKHYubnVtYmVyKCkpXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidiIsInBhZ2luYXRpb25PcHRzVmFsaWRhdG9yIiwib2JqZWN0IiwibnVtSXRlbXMiLCJudW1iZXIiLCJjdXJzb3IiLCJ1bmlvbiIsInN0cmluZyIsIm51bGwiLCJlbmRDdXJzb3IiLCJvcHRpb25hbCIsImlkIiwibWF4aW11bVJvd3NSZWFkIiwibWF4aW11bUJ5dGVzUmVhZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/pagination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/router.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/router.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* binding */ HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* binding */ ROUTABLE_HTTP_METHODS),\n/* harmony export */   httpRouter: () => (/* binding */ httpRouter),\n/* harmony export */   normalizeMethod: () => (/* binding */ normalizeMethod)\n/* harmony export */ });\n/* harmony import */ var _impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./impl/syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst ROUTABLE_HTTP_METHODS = [\n    \"GET\",\n    \"POST\",\n    \"PUT\",\n    \"DELETE\",\n    \"OPTIONS\",\n    \"PATCH\"\n];\nfunction normalizeMethod(method) {\n    if (method === \"HEAD\") return \"GET\";\n    return method;\n}\nconst httpRouter = ()=>new HttpRouter();\nclass HttpRouter {\n    constructor(){\n        __publicField(this, \"exactRoutes\", /* @__PURE__ */ new Map());\n        __publicField(this, \"prefixRoutes\", /* @__PURE__ */ new Map());\n        __publicField(this, \"isRouter\", true);\n        /**\n     * Specify an HttpAction to be used to respond to requests\n     * for an HTTP method (e.g. \"GET\") and a path or pathPrefix.\n     *\n     * Paths must begin with a slash. Path prefixes must also end in a slash.\n     *\n     * ```js\n     * // matches `/profile` (but not `/profile/`)\n     * http.route({ path: \"/profile\", method: \"GET\", handler: getProfile})\n     *\n     * // matches `/profiles/`, `/profiles/abc`, and `/profiles/a/c/b` (but not `/profile`)\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile})\n     * ```\n     */ __publicField(this, \"route\", (spec)=>{\n            if (!spec.handler) throw new Error(`route requires handler`);\n            if (!spec.method) throw new Error(`route requires method`);\n            const { method, handler } = spec;\n            if (!ROUTABLE_HTTP_METHODS.includes(method)) {\n                throw new Error(`'${method}' is not an allowed HTTP method (like GET, POST, PUT etc.)`);\n            }\n            if (\"path\" in spec) {\n                if (\"pathPrefix\" in spec) {\n                    throw new Error(`Invalid httpRouter route: cannot contain both 'path' and 'pathPrefix'`);\n                }\n                if (!spec.path.startsWith(\"/\")) {\n                    throw new Error(`path '${spec.path}' does not start with a /`);\n                }\n                const methods = this.exactRoutes.has(spec.path) ? this.exactRoutes.get(spec.path) : /* @__PURE__ */ new Map();\n                if (methods.has(method)) {\n                    throw new Error(`Path '${spec.path}' for method ${method} already in use`);\n                }\n                methods.set(method, handler);\n                this.exactRoutes.set(spec.path, methods);\n            } else if (\"pathPrefix\" in spec) {\n                if (!spec.pathPrefix.startsWith(\"/\")) {\n                    throw new Error(`pathPrefix '${spec.pathPrefix}' does not start with a /`);\n                }\n                if (!spec.pathPrefix.endsWith(\"/\")) {\n                    throw new Error(`pathPrefix ${spec.pathPrefix} must end with a /`);\n                }\n                const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n                if (prefixes.has(spec.pathPrefix)) {\n                    throw new Error(`${spec.method} pathPrefix ${spec.pathPrefix} is already defined`);\n                }\n                prefixes.set(spec.pathPrefix, handler);\n                this.prefixRoutes.set(method, prefixes);\n            } else {\n                throw new Error(`Invalid httpRouter route entry: must contain either field 'path' or 'pathPrefix'`);\n            }\n        });\n        /**\n     * Returns a list of routed HTTP actions.\n     *\n     * These are used to populate the list of routes shown in the Functions page of the Convex dashboard.\n     *\n     * @returns - an array of [path, method, endpoint] tuples.\n     */ __publicField(this, \"getRoutes\", ()=>{\n            const exactPaths = [\n                ...this.exactRoutes.keys()\n            ].sort();\n            const exact = exactPaths.flatMap((path)=>[\n                    ...this.exactRoutes.get(path).keys()\n                ].sort().map((method)=>[\n                        path,\n                        method,\n                        this.exactRoutes.get(path).get(method)\n                    ]));\n            const prefixPathMethods = [\n                ...this.prefixRoutes.keys()\n            ].sort();\n            const prefixes = prefixPathMethods.flatMap((method)=>[\n                    ...this.prefixRoutes.get(method).keys()\n                ].sort().map((pathPrefix)=>[\n                        `${pathPrefix}*`,\n                        method,\n                        this.prefixRoutes.get(method).get(pathPrefix)\n                    ]));\n            return [\n                ...exact,\n                ...prefixes\n            ];\n        });\n        /**\n     * Returns the appropriate HTTP action and its routed request path and method.\n     *\n     * The path and method returned are used for logging and metrics, and should\n     * match up with one of the routes returned by `getRoutes`.\n     *\n     * For example,\n     *\n     * ```js\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile});\n     *\n     * http.lookup(\"/profile/abc\", \"GET\") // returns [getProfile, \"GET\", \"/profile/*\"]\n     *```\n     *\n     * @returns - a tuple [{@link PublicHttpAction}, method, path] or null.\n     */ __publicField(this, \"lookup\", (path, method)=>{\n            method = normalizeMethod(method);\n            const exactMatch = this.exactRoutes.get(path)?.get(method);\n            if (exactMatch) return [\n                exactMatch,\n                method,\n                path\n            ];\n            const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n            const prefixesSorted = [\n                ...prefixes.entries()\n            ].sort(([prefixA, _a], [prefixB, _b])=>prefixB.length - prefixA.length);\n            for (const [pathPrefix, endpoint] of prefixesSorted){\n                if (path.startsWith(pathPrefix)) {\n                    return [\n                        endpoint,\n                        method,\n                        `${pathPrefix}*`\n                    ];\n                }\n            }\n            return null;\n        });\n        /**\n     * Given a JSON string representation of a Request object, return a Response\n     * by routing the request and running the appropriate endpoint or returning\n     * a 404 Response.\n     *\n     * @param argsStr - a JSON string representing a Request object.\n     *\n     * @returns - a Response object.\n     */ __publicField(this, \"runRequest\", async (argsStr, requestRoute)=>{\n            const request = (0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"requestFromConvexJson\", {\n                convexJson: JSON.parse(argsStr)\n            });\n            let pathname = requestRoute;\n            if (!pathname || typeof pathname !== \"string\") {\n                pathname = new URL(request.url).pathname;\n            }\n            const method = request.method;\n            const match = this.lookup(pathname, method);\n            if (!match) {\n                const response2 = new Response(`No HttpAction routed for ${pathname}`, {\n                    status: 404\n                });\n                return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                    response: response2\n                }));\n            }\n            const [endpoint, _method, _path] = match;\n            const response = await endpoint.invokeHttpAction(request);\n            return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                response\n            }));\n        });\n    }\n} //# sourceMappingURL=router.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDOUMsTUFBTU0sd0JBQXdCO0lBQ25DO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNELENBQUM7QUFDSyxTQUFTQyxnQkFBZ0JDLE1BQU07SUFDcEMsSUFBSUEsV0FBVyxRQUFRLE9BQU87SUFDOUIsT0FBT0E7QUFDVDtBQUNPLE1BQU1DLGFBQWEsSUFBTSxJQUFJQyxhQUFhO0FBQzFDLE1BQU1BO0lBQ1hDLGFBQWM7UUFDWlAsY0FBYyxJQUFJLEVBQUUsZUFBZSxhQUFhLEdBQUcsSUFBSVE7UUFDdkRSLGNBQWMsSUFBSSxFQUFFLGdCQUFnQixhQUFhLEdBQUcsSUFBSVE7UUFDeERSLGNBQWMsSUFBSSxFQUFFLFlBQVk7UUFDaEM7Ozs7Ozs7Ozs7Ozs7S0FhQyxHQUNEQSxjQUFjLElBQUksRUFBRSxTQUFTLENBQUNTO1lBQzVCLElBQUksQ0FBQ0EsS0FBS0MsT0FBTyxFQUFFLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQzNELElBQUksQ0FBQ0YsS0FBS0wsTUFBTSxFQUFFLE1BQU0sSUFBSU8sTUFBTSxDQUFDLHFCQUFxQixDQUFDO1lBQ3pELE1BQU0sRUFBRVAsTUFBTSxFQUFFTSxPQUFPLEVBQUUsR0FBR0Q7WUFD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QUlNLFdBQVdMO1lBQ2YsSUFBSSxDQUFDSyxZQUFZLE9BQU9BLGFBQWEsVUFBVTtnQkFDN0NBLFdBQVcsSUFBSUMsSUFBSUwsUUFBUU0sR0FBRyxFQUFFRixRQUFRO1lBQzFDO1lBQ0EsTUFBTTFDLFNBQVNzQyxRQUFRdEMsTUFBTTtZQUM3QixNQUFNNkMsUUFBUSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0osVUFBVTFDO1lBQ3BDLElBQUksQ0FBQzZDLE9BQU87Z0JBQ1YsTUFBTUUsWUFBWSxJQUFJQyxTQUFTLENBQUMseUJBQXlCLEVBQUVOLFNBQVMsQ0FBQyxFQUFFO29CQUNyRU8sUUFBUTtnQkFDVjtnQkFDQSxPQUFPVCxLQUFLVSxTQUFTLENBQ25CckQsa0VBQWdCQSxDQUFDLDBCQUEwQjtvQkFBRXNELFVBQVVKO2dCQUFVO1lBRXJFO1lBQ0EsTUFBTSxDQUFDWixVQUFVaUIsU0FBU0MsTUFBTSxHQUFHUjtZQUNuQyxNQUFNTSxXQUFXLE1BQU1oQixTQUFTbUIsZ0JBQWdCLENBQUNoQjtZQUNqRCxPQUFPRSxLQUFLVSxTQUFTLENBQ25CckQsa0VBQWdCQSxDQUFDLDBCQUEwQjtnQkFBRXNEO1lBQVM7UUFFMUQ7SUFDRjtBQUNGLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJhc29yX2Nsb25lLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvcm91dGVyLmpzPzk0NjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgcGVyZm9ybUpzU3lzY2FsbCB9IGZyb20gXCIuL2ltcGwvc3lzY2FsbC5qc1wiO1xuZXhwb3J0IGNvbnN0IFJPVVRBQkxFX0hUVFBfTUVUSE9EUyA9IFtcbiAgXCJHRVRcIixcbiAgXCJQT1NUXCIsXG4gIFwiUFVUXCIsXG4gIFwiREVMRVRFXCIsXG4gIFwiT1BUSU9OU1wiLFxuICBcIlBBVENIXCJcbl07XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICBpZiAobWV0aG9kID09PSBcIkhFQURcIikgcmV0dXJuIFwiR0VUXCI7XG4gIHJldHVybiBtZXRob2Q7XG59XG5leHBvcnQgY29uc3QgaHR0cFJvdXRlciA9ICgpID0+IG5ldyBIdHRwUm91dGVyKCk7XG5leHBvcnQgY2xhc3MgSHR0cFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJleGFjdFJvdXRlc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicHJlZml4Um91dGVzXCIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpc1JvdXRlclwiLCB0cnVlKTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IGFuIEh0dHBBY3Rpb24gdG8gYmUgdXNlZCB0byByZXNwb25kIHRvIHJlcXVlc3RzXG4gICAgICogZm9yIGFuIEhUVFAgbWV0aG9kIChlLmcuIFwiR0VUXCIpIGFuZCBhIHBhdGggb3IgcGF0aFByZWZpeC5cbiAgICAgKlxuICAgICAqIFBhdGhzIG11c3QgYmVnaW4gd2l0aCBhIHNsYXNoLiBQYXRoIHByZWZpeGVzIG11c3QgYWxzbyBlbmQgaW4gYSBzbGFzaC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gbWF0Y2hlcyBgL3Byb2ZpbGVgIChidXQgbm90IGAvcHJvZmlsZS9gKVxuICAgICAqIGh0dHAucm91dGUoeyBwYXRoOiBcIi9wcm9maWxlXCIsIG1ldGhvZDogXCJHRVRcIiwgaGFuZGxlcjogZ2V0UHJvZmlsZX0pXG4gICAgICpcbiAgICAgKiAvLyBtYXRjaGVzIGAvcHJvZmlsZXMvYCwgYC9wcm9maWxlcy9hYmNgLCBhbmQgYC9wcm9maWxlcy9hL2MvYmAgKGJ1dCBub3QgYC9wcm9maWxlYClcbiAgICAgKiBodHRwLnJvdXRlKHsgcGF0aFByZWZpeDogXCIvcHJvZmlsZS9cIiwgbWV0aG9kOiBcIkdFVFwiLCBoYW5kbGVyOiBnZXRQcm9maWxlfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicm91dGVcIiwgKHNwZWMpID0+IHtcbiAgICAgIGlmICghc3BlYy5oYW5kbGVyKSB0aHJvdyBuZXcgRXJyb3IoYHJvdXRlIHJlcXVpcmVzIGhhbmRsZXJgKTtcbiAgICAgIGlmICghc3BlYy5tZXRob2QpIHRocm93IG5ldyBFcnJvcihgcm91dGUgcmVxdWlyZXMgbWV0aG9kYCk7XG4gICAgICBjb25zdCB7IG1ldGhvZCwgaGFuZGxlciB9ID0gc3BlYztcbiAgICAgIGlmICghUk9VVEFCTEVfSFRUUF9NRVRIT0RTLmluY2x1ZGVzKG1ldGhvZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGAnJHttZXRob2R9JyBpcyBub3QgYW4gYWxsb3dlZCBIVFRQIG1ldGhvZCAobGlrZSBHRVQsIFBPU1QsIFBVVCBldGMuKWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChcInBhdGhcIiBpbiBzcGVjKSB7XG4gICAgICAgIGlmIChcInBhdGhQcmVmaXhcIiBpbiBzcGVjKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEludmFsaWQgaHR0cFJvdXRlciByb3V0ZTogY2Fubm90IGNvbnRhaW4gYm90aCAncGF0aCcgYW5kICdwYXRoUHJlZml4J2BcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3BlYy5wYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYXRoICcke3NwZWMucGF0aH0nIGRvZXMgbm90IHN0YXJ0IHdpdGggYSAvYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IHRoaXMuZXhhY3RSb3V0ZXMuaGFzKHNwZWMucGF0aCkgPyB0aGlzLmV4YWN0Um91dGVzLmdldChzcGVjLnBhdGgpIDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgaWYgKG1ldGhvZHMuaGFzKG1ldGhvZCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUGF0aCAnJHtzcGVjLnBhdGh9JyBmb3IgbWV0aG9kICR7bWV0aG9kfSBhbHJlYWR5IGluIHVzZWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIG1ldGhvZHMuc2V0KG1ldGhvZCwgaGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXhhY3RSb3V0ZXMuc2V0KHNwZWMucGF0aCwgbWV0aG9kcyk7XG4gICAgICB9IGVsc2UgaWYgKFwicGF0aFByZWZpeFwiIGluIHNwZWMpIHtcbiAgICAgICAgaWYgKCFzcGVjLnBhdGhQcmVmaXguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgcGF0aFByZWZpeCAnJHtzcGVjLnBhdGhQcmVmaXh9JyBkb2VzIG5vdCBzdGFydCB3aXRoIGEgL2BcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3BlYy5wYXRoUHJlZml4LmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGF0aFByZWZpeCAke3NwZWMucGF0aFByZWZpeH0gbXVzdCBlbmQgd2l0aCBhIC9gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmVmaXhlcyA9IHRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICAgIGlmIChwcmVmaXhlcy5oYXMoc3BlYy5wYXRoUHJlZml4KSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGAke3NwZWMubWV0aG9kfSBwYXRoUHJlZml4ICR7c3BlYy5wYXRoUHJlZml4fSBpcyBhbHJlYWR5IGRlZmluZWRgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwcmVmaXhlcy5zZXQoc3BlYy5wYXRoUHJlZml4LCBoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5wcmVmaXhSb3V0ZXMuc2V0KG1ldGhvZCwgcHJlZml4ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBJbnZhbGlkIGh0dHBSb3V0ZXIgcm91dGUgZW50cnk6IG11c3QgY29udGFpbiBlaXRoZXIgZmllbGQgJ3BhdGgnIG9yICdwYXRoUHJlZml4J2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiByb3V0ZWQgSFRUUCBhY3Rpb25zLlxuICAgICAqXG4gICAgICogVGhlc2UgYXJlIHVzZWQgdG8gcG9wdWxhdGUgdGhlIGxpc3Qgb2Ygcm91dGVzIHNob3duIGluIHRoZSBGdW5jdGlvbnMgcGFnZSBvZiB0aGUgQ29udmV4IGRhc2hib2FyZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYW4gYXJyYXkgb2YgW3BhdGgsIG1ldGhvZCwgZW5kcG9pbnRdIHR1cGxlcy5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZ2V0Um91dGVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4YWN0UGF0aHMgPSBbLi4udGhpcy5leGFjdFJvdXRlcy5rZXlzKCldLnNvcnQoKTtcbiAgICAgIGNvbnN0IGV4YWN0ID0gZXhhY3RQYXRocy5mbGF0TWFwKFxuICAgICAgICAocGF0aCkgPT4gWy4uLnRoaXMuZXhhY3RSb3V0ZXMuZ2V0KHBhdGgpLmtleXMoKV0uc29ydCgpLm1hcChcbiAgICAgICAgICAobWV0aG9kKSA9PiBbcGF0aCwgbWV0aG9kLCB0aGlzLmV4YWN0Um91dGVzLmdldChwYXRoKS5nZXQobWV0aG9kKV1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHByZWZpeFBhdGhNZXRob2RzID0gWy4uLnRoaXMucHJlZml4Um91dGVzLmtleXMoKV0uc29ydCgpO1xuICAgICAgY29uc3QgcHJlZml4ZXMgPSBwcmVmaXhQYXRoTWV0aG9kcy5mbGF0TWFwKFxuICAgICAgICAobWV0aG9kKSA9PiBbLi4udGhpcy5wcmVmaXhSb3V0ZXMuZ2V0KG1ldGhvZCkua2V5cygpXS5zb3J0KCkubWFwKFxuICAgICAgICAgIChwYXRoUHJlZml4KSA9PiBbXG4gICAgICAgICAgICBgJHtwYXRoUHJlZml4fSpgLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdGhpcy5wcmVmaXhSb3V0ZXMuZ2V0KG1ldGhvZCkuZ2V0KHBhdGhQcmVmaXgpXG4gICAgICAgICAgXVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmV0dXJuIFsuLi5leGFjdCwgLi4ucHJlZml4ZXNdO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFwcHJvcHJpYXRlIEhUVFAgYWN0aW9uIGFuZCBpdHMgcm91dGVkIHJlcXVlc3QgcGF0aCBhbmQgbWV0aG9kLlxuICAgICAqXG4gICAgICogVGhlIHBhdGggYW5kIG1ldGhvZCByZXR1cm5lZCBhcmUgdXNlZCBmb3IgbG9nZ2luZyBhbmQgbWV0cmljcywgYW5kIHNob3VsZFxuICAgICAqIG1hdGNoIHVwIHdpdGggb25lIG9mIHRoZSByb3V0ZXMgcmV0dXJuZWQgYnkgYGdldFJvdXRlc2AuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSxcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaHR0cC5yb3V0ZSh7IHBhdGhQcmVmaXg6IFwiL3Byb2ZpbGUvXCIsIG1ldGhvZDogXCJHRVRcIiwgaGFuZGxlcjogZ2V0UHJvZmlsZX0pO1xuICAgICAqXG4gICAgICogaHR0cC5sb29rdXAoXCIvcHJvZmlsZS9hYmNcIiwgXCJHRVRcIikgLy8gcmV0dXJucyBbZ2V0UHJvZmlsZSwgXCJHRVRcIiwgXCIvcHJvZmlsZS8qXCJdXG4gICAgICpgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYSB0dXBsZSBbe0BsaW5rIFB1YmxpY0h0dHBBY3Rpb259LCBtZXRob2QsIHBhdGhdIG9yIG51bGwuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvb2t1cFwiLCAocGF0aCwgbWV0aG9kKSA9PiB7XG4gICAgICBtZXRob2QgPSBub3JtYWxpemVNZXRob2QobWV0aG9kKTtcbiAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPSB0aGlzLmV4YWN0Um91dGVzLmdldChwYXRoKT8uZ2V0KG1ldGhvZCk7XG4gICAgICBpZiAoZXhhY3RNYXRjaCkgcmV0dXJuIFtleGFjdE1hdGNoLCBtZXRob2QsIHBhdGhdO1xuICAgICAgY29uc3QgcHJlZml4ZXMgPSB0aGlzLnByZWZpeFJvdXRlcy5nZXQobWV0aG9kKSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgY29uc3QgcHJlZml4ZXNTb3J0ZWQgPSBbLi4ucHJlZml4ZXMuZW50cmllcygpXS5zb3J0KFxuICAgICAgICAoW3ByZWZpeEEsIF9hXSwgW3ByZWZpeEIsIF9iXSkgPT4gcHJlZml4Qi5sZW5ndGggLSBwcmVmaXhBLmxlbmd0aFxuICAgICAgKTtcbiAgICAgIGZvciAoY29uc3QgW3BhdGhQcmVmaXgsIGVuZHBvaW50XSBvZiBwcmVmaXhlc1NvcnRlZCkge1xuICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKHBhdGhQcmVmaXgpKSB7XG4gICAgICAgICAgcmV0dXJuIFtlbmRwb2ludCwgbWV0aG9kLCBgJHtwYXRoUHJlZml4fSpgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBKU09OIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIFJlcXVlc3Qgb2JqZWN0LCByZXR1cm4gYSBSZXNwb25zZVxuICAgICAqIGJ5IHJvdXRpbmcgdGhlIHJlcXVlc3QgYW5kIHJ1bm5pbmcgdGhlIGFwcHJvcHJpYXRlIGVuZHBvaW50IG9yIHJldHVybmluZ1xuICAgICAqIGEgNDA0IFJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFyZ3NTdHIgLSBhIEpTT04gc3RyaW5nIHJlcHJlc2VudGluZyBhIFJlcXVlc3Qgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBhIFJlc3BvbnNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicnVuUmVxdWVzdFwiLCBhc3luYyAoYXJnc1N0ciwgcmVxdWVzdFJvdXRlKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gcGVyZm9ybUpzU3lzY2FsbChcInJlcXVlc3RGcm9tQ29udmV4SnNvblwiLCB7XG4gICAgICAgIGNvbnZleEpzb246IEpTT04ucGFyc2UoYXJnc1N0cilcbiAgICAgIH0pO1xuICAgICAgbGV0IHBhdGhuYW1lID0gcmVxdWVzdFJvdXRlO1xuICAgICAgaWYgKCFwYXRobmFtZSB8fCB0eXBlb2YgcGF0aG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcGF0aG5hbWUgPSBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLmxvb2t1cChwYXRobmFtZSwgbWV0aG9kKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UyID0gbmV3IFJlc3BvbnNlKGBObyBIdHRwQWN0aW9uIHJvdXRlZCBmb3IgJHtwYXRobmFtZX1gLCB7XG4gICAgICAgICAgc3RhdHVzOiA0MDRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBwZXJmb3JtSnNTeXNjYWxsKFwiY29udmV4SnNvbkZyb21SZXNwb25zZVwiLCB7IHJlc3BvbnNlOiByZXNwb25zZTIgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtlbmRwb2ludCwgX21ldGhvZCwgX3BhdGhdID0gbWF0Y2g7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVuZHBvaW50Lmludm9rZUh0dHBBY3Rpb24ocmVxdWVzdCk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHBlcmZvcm1Kc1N5c2NhbGwoXCJjb252ZXhKc29uRnJvbVJlc3BvbnNlXCIsIHsgcmVzcG9uc2UgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlci5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsInBlcmZvcm1Kc1N5c2NhbGwiLCJST1VUQUJMRV9IVFRQX01FVEhPRFMiLCJub3JtYWxpemVNZXRob2QiLCJtZXRob2QiLCJodHRwUm91dGVyIiwiSHR0cFJvdXRlciIsImNvbnN0cnVjdG9yIiwiTWFwIiwic3BlYyIsImhhbmRsZXIiLCJFcnJvciIsImluY2x1ZGVzIiwicGF0aCIsInN0YXJ0c1dpdGgiLCJtZXRob2RzIiwiZXhhY3RSb3V0ZXMiLCJoYXMiLCJnZXQiLCJzZXQiLCJwYXRoUHJlZml4IiwiZW5kc1dpdGgiLCJwcmVmaXhlcyIsInByZWZpeFJvdXRlcyIsImV4YWN0UGF0aHMiLCJrZXlzIiwic29ydCIsImV4YWN0IiwiZmxhdE1hcCIsIm1hcCIsInByZWZpeFBhdGhNZXRob2RzIiwiZXhhY3RNYXRjaCIsInByZWZpeGVzU29ydGVkIiwiZW50cmllcyIsInByZWZpeEEiLCJfYSIsInByZWZpeEIiLCJfYiIsImxlbmd0aCIsImVuZHBvaW50IiwiYXJnc1N0ciIsInJlcXVlc3RSb3V0ZSIsInJlcXVlc3QiLCJjb252ZXhKc29uIiwiSlNPTiIsInBhcnNlIiwicGF0aG5hbWUiLCJVUkwiLCJ1cmwiLCJtYXRjaCIsImxvb2t1cCIsInJlc3BvbnNlMiIsIlJlc3BvbnNlIiwic3RhdHVzIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJfbWV0aG9kIiwiX3BhdGgiLCJpbnZva2VIdHRwQWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/router.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/schema.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/schema.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SchemaDefinition: () => (/* binding */ SchemaDefinition),\n/* harmony export */   TableDefinition: () => (/* binding */ TableDefinition),\n/* harmony export */   defineSchema: () => (/* binding */ defineSchema),\n/* harmony export */   defineTable: () => (/* binding */ defineTable)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nclass TableDefinition {\n    /**\n   * @internal\n   */ constructor(documentType){\n        __publicField(this, \"indexes\");\n        __publicField(this, \"searchIndexes\");\n        __publicField(this, \"vectorIndexes\");\n        // The type of documents stored in this table.\n        __publicField(this, \"validator\");\n        this.indexes = [];\n        this.searchIndexes = [];\n        this.vectorIndexes = [];\n        this.validator = documentType;\n    }\n    /**\n   * Define an index on this table.\n   *\n   * To learn about indexes, see [Defining Indexes](https://docs.convex.dev/using/indexes).\n   *\n   * @param name - The name of the index.\n   * @param fields - The fields to index, in order. Must specify at least one\n   * field.\n   * @returns A {@link TableDefinition} with this index included.\n   */ index(name, fields) {\n        this.indexes.push({\n            indexDescriptor: name,\n            fields\n        });\n        return this;\n    }\n    /**\n   * Define a search index on this table.\n   *\n   * To learn about search indexes, see [Search](https://docs.convex.dev/text-search).\n   *\n   * @param name - The name of the index.\n   * @param indexConfig - The search index configuration object.\n   * @returns A {@link TableDefinition} with this search index included.\n   */ searchIndex(name, indexConfig) {\n        this.searchIndexes.push({\n            indexDescriptor: name,\n            searchField: indexConfig.searchField,\n            filterFields: indexConfig.filterFields || []\n        });\n        return this;\n    }\n    /**\n   * Define a vector index on this table.\n   *\n   * To learn about vector indexes, see [Vector Search](https://docs.convex.dev/vector-search).\n   *\n   * @param name - The name of the index.\n   * @param indexConfig - The vector index configuration object.\n   * @returns A {@link TableDefinition} with this vector index included.\n   */ vectorIndex(name, indexConfig) {\n        this.vectorIndexes.push({\n            indexDescriptor: name,\n            vectorField: indexConfig.vectorField,\n            dimensions: indexConfig.dimensions,\n            filterFields: indexConfig.filterFields || []\n        });\n        return this;\n    }\n    /**\n   * Work around for https://github.com/microsoft/TypeScript/issues/57035\n   */ self() {\n        return this;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        return {\n            indexes: this.indexes,\n            searchIndexes: this.searchIndexes,\n            vectorIndexes: this.vectorIndexes,\n            documentType: this.validator.json\n        };\n    }\n}\nfunction defineTable(documentSchema) {\n    if ((0,_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.isValidator)(documentSchema)) {\n        return new TableDefinition(documentSchema);\n    } else {\n        return new TableDefinition(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object(documentSchema));\n    }\n}\nclass SchemaDefinition {\n    /**\n   * @internal\n   */ constructor(tables, options){\n        __publicField(this, \"tables\");\n        __publicField(this, \"strictTableNameTypes\");\n        __publicField(this, \"schemaValidation\");\n        this.tables = tables;\n        this.schemaValidation = options?.schemaValidation === void 0 ? true : options.schemaValidation;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        return JSON.stringify({\n            tables: Object.entries(this.tables).map(([tableName, definition])=>{\n                const { indexes, searchIndexes, vectorIndexes, documentType } = definition.export();\n                return {\n                    tableName,\n                    indexes,\n                    searchIndexes,\n                    vectorIndexes,\n                    documentType\n                };\n            }),\n            schemaValidation: this.schemaValidation\n        });\n    }\n}\nfunction defineSchema(schema, options) {\n    return new SchemaDefinition(schema, options);\n}\nconst _systemSchema = defineSchema({\n    _scheduled_functions: defineTable({\n        name: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        args: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.array(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.any()),\n        scheduledTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        completedTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64()),\n        state: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"pending\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"inProgress\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"success\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"failed\"),\n            error: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string()\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"canceled\")\n        }))\n    }),\n    _storage: defineTable({\n        sha256: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        size: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        contentType: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string())\n    })\n}); //# sourceMappingURL=schema.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFJeEU7QUFDekIsTUFBTU87SUFDWDs7R0FFQyxHQUNEQyxZQUFZQyxZQUFZLENBQUU7UUFDeEJMLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsOENBQThDO1FBQzlDQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNNLE9BQU8sR0FBRyxFQUFFO1FBQ2pCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEVBQUU7UUFDdkIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUNDLFNBQVMsR0FBR0o7SUFDbkI7SUFDQTs7Ozs7Ozs7O0dBU0MsR0FDREssTUFBTUMsSUFBSSxFQUFFQyxNQUFNLEVBQUU7UUFDbEIsSUFBSSxDQUFDTixPQUFPLENBQUNPLElBQUksQ0FBQztZQUFFQyxpQkFBaUJIO1lBQU1DO1FBQU87UUFDbEQsT0FBTyxJQUFJO0lBQ2I7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNERyxZQUFZSixJQUFJLEVBQUVLLFdBQVcsRUFBRTtRQUM3QixJQUFJLENBQUNULGFBQWEsQ0FBQ00sSUFBSSxDQUFDO1lBQ3RCQyxpQkFBaUJIO1lBQ2pCTSxhQUFhRCxZQUFZ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bEQsbURBQUNBLENBQUNtRCxPQUFPLENBQUM7WUFBV0MsT0FBT3BELG1EQUFDQSxDQUFDd0MsTUFBTTtRQUFHLElBQ3hEeEMsbURBQUNBLENBQUN5QixNQUFNLENBQUM7WUFBRXlCLE1BQU1sRCxtREFBQ0EsQ0FBQ21ELE9BQU8sQ0FBQztRQUFZO0lBRTNDO0lBQ0FFLFVBQVU5QixZQUFZO1FBQ3BCK0IsUUFBUXRELG1EQUFDQSxDQUFDd0MsTUFBTTtRQUNoQmUsTUFBTXZELG1EQUFDQSxDQUFDNkMsT0FBTztRQUNmVyxhQUFheEQsbURBQUNBLENBQUMrQyxRQUFRLENBQUMvQyxtREFBQ0EsQ0FBQ3dDLE1BQU07SUFDbEM7QUFDRixJQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3NjaGVtYS5qcz9iZjQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7XG4gIGlzVmFsaWRhdG9yLFxuICB2XG59IGZyb20gXCIuLi92YWx1ZXMvdmFsaWRhdG9yLmpzXCI7XG5leHBvcnQgY2xhc3MgVGFibGVEZWZpbml0aW9uIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jdW1lbnRUeXBlKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImluZGV4ZXNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNlYXJjaEluZGV4ZXNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZlY3RvckluZGV4ZXNcIik7XG4gICAgLy8gVGhlIHR5cGUgb2YgZG9jdW1lbnRzIHN0b3JlZCBpbiB0aGlzIHRhYmxlLlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ2YWxpZGF0b3JcIik7XG4gICAgdGhpcy5pbmRleGVzID0gW107XG4gICAgdGhpcy5zZWFyY2hJbmRleGVzID0gW107XG4gICAgdGhpcy52ZWN0b3JJbmRleGVzID0gW107XG4gICAgdGhpcy52YWxpZGF0b3IgPSBkb2N1bWVudFR5cGU7XG4gIH1cbiAgLyoqXG4gICAqIERlZmluZSBhbiBpbmRleCBvbiB0aGlzIHRhYmxlLlxuICAgKlxuICAgKiBUbyBsZWFybiBhYm91dCBpbmRleGVzLCBzZWUgW0RlZmluaW5nIEluZGV4ZXNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL2luZGV4ZXMpLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBpbmRleC5cbiAgICogQHBhcmFtIGZpZWxkcyAtIFRoZSBmaWVsZHMgdG8gaW5kZXgsIGluIG9yZGVyLiBNdXN0IHNwZWNpZnkgYXQgbGVhc3Qgb25lXG4gICAqIGZpZWxkLlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBUYWJsZURlZmluaXRpb259IHdpdGggdGhpcyBpbmRleCBpbmNsdWRlZC5cbiAgICovXG4gIGluZGV4KG5hbWUsIGZpZWxkcykge1xuICAgIHRoaXMuaW5kZXhlcy5wdXNoKHsgaW5kZXhEZXNjcmlwdG9yOiBuYW1lLCBmaWVsZHMgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERlZmluZSBhIHNlYXJjaCBpbmRleCBvbiB0aGlzIHRhYmxlLlxuICAgKlxuICAgKiBUbyBsZWFybiBhYm91dCBzZWFyY2ggaW5kZXhlcywgc2VlIFtTZWFyY2hdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3RleHQtc2VhcmNoKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaW5kZXguXG4gICAqIEBwYXJhbSBpbmRleENvbmZpZyAtIFRoZSBzZWFyY2ggaW5kZXggY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAqIEByZXR1cm5zIEEge0BsaW5rIFRhYmxlRGVmaW5pdGlvbn0gd2l0aCB0aGlzIHNlYXJjaCBpbmRleCBpbmNsdWRlZC5cbiAgICovXG4gIHNlYXJjaEluZGV4KG5hbWUsIGluZGV4Q29uZmlnKSB7XG4gICAgdGhpcy5zZWFyY2hJbmRleGVzLnB1c2goe1xuICAgICAgaW5kZXhEZXNjcmlwdG9yOiBuYW1lLFxuICAgICAgc2VhcmNoRmllbGQ6IGluZGV4Q29uZmlnLnNlYXJjaEZpZWxkLFxuICAgICAgZmlsdGVyRmllbGRzOiBpbmRleENvbmZpZy5maWx0ZXJGaWVsZHMgfHwgW11cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogRGVmaW5lIGEgdmVjdG9yIGluZGV4IG9uIHRoaXMgdGFibGUuXG4gICAqXG4gICAqIFRvIGxlYXJuIGFib3V0IHZlY3RvciBpbmRleGVzLCBzZWUgW1ZlY3RvciBTZWFyY2hdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3ZlY3Rvci1zZWFyY2gpLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBpbmRleC5cbiAgICogQHBhcmFtIGluZGV4Q29uZmlnIC0gVGhlIHZlY3RvciBpbmRleCBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICogQHJldHVybnMgQSB7QGxpbmsgVGFibGVEZWZpbml0aW9ufSB3aXRoIHRoaXMgdmVjdG9yIGluZGV4IGluY2x1ZGVkLlxuICAgKi9cbiAgdmVjdG9ySW5kZXgobmFtZSwgaW5kZXhDb25maWcpIHtcbiAgICB0aGlzLnZlY3RvckluZGV4ZXMucHVzaCh7XG4gICAgICBpbmRleERlc2NyaXB0b3I6IG5hbWUsXG4gICAgICB2ZWN0b3JGaWVsZDogaW5kZXhDb25maWcudmVjdG9yRmllbGQsXG4gICAgICBkaW1lbnNpb25zOiBpbmRleENvbmZpZy5kaW1lbnNpb25zLFxuICAgICAgZmlsdGVyRmllbGRzOiBpbmRleENvbmZpZy5maWx0ZXJGaWVsZHMgfHwgW11cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogV29yayBhcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNTcwMzVcbiAgICovXG4gIHNlbGYoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydCB0aGUgY29udGVudHMgb2YgdGhpcyBkZWZpbml0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBDb252ZXggZnJhbWV3b3JrLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGV4cG9ydCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXhlczogdGhpcy5pbmRleGVzLFxuICAgICAgc2VhcmNoSW5kZXhlczogdGhpcy5zZWFyY2hJbmRleGVzLFxuICAgICAgdmVjdG9ySW5kZXhlczogdGhpcy52ZWN0b3JJbmRleGVzLFxuICAgICAgZG9jdW1lbnRUeXBlOiB0aGlzLnZhbGlkYXRvci5qc29uXG4gICAgfTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVRhYmxlKGRvY3VtZW50U2NoZW1hKSB7XG4gIGlmIChpc1ZhbGlkYXRvcihkb2N1bWVudFNjaGVtYSkpIHtcbiAgICByZXR1cm4gbmV3IFRhYmxlRGVmaW5pdGlvbihkb2N1bWVudFNjaGVtYSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBUYWJsZURlZmluaXRpb24odi5vYmplY3QoZG9jdW1lbnRTY2hlbWEpKTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFNjaGVtYURlZmluaXRpb24ge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YWJsZXMsIG9wdGlvbnMpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidGFibGVzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdHJpY3RUYWJsZU5hbWVUeXBlc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2NoZW1hVmFsaWRhdGlvblwiKTtcbiAgICB0aGlzLnRhYmxlcyA9IHRhYmxlcztcbiAgICB0aGlzLnNjaGVtYVZhbGlkYXRpb24gPSBvcHRpb25zPy5zY2hlbWFWYWxpZGF0aW9uID09PSB2b2lkIDAgPyB0cnVlIDogb3B0aW9ucy5zY2hlbWFWYWxpZGF0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgdGhlIGNvbnRlbnRzIG9mIHRoaXMgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgQ29udmV4IGZyYW1ld29yay5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRhYmxlczogT2JqZWN0LmVudHJpZXModGhpcy50YWJsZXMpLm1hcCgoW3RhYmxlTmFtZSwgZGVmaW5pdGlvbl0pID0+IHtcbiAgICAgICAgY29uc3QgeyBpbmRleGVzLCBzZWFyY2hJbmRleGVzLCB2ZWN0b3JJbmRleGVzLCBkb2N1bWVudFR5cGUgfSA9IGRlZmluaXRpb24uZXhwb3J0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGFibGVOYW1lLFxuICAgICAgICAgIGluZGV4ZXMsXG4gICAgICAgICAgc2VhcmNoSW5kZXhlcyxcbiAgICAgICAgICB2ZWN0b3JJbmRleGVzLFxuICAgICAgICAgIGRvY3VtZW50VHlwZVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzY2hlbWFWYWxpZGF0aW9uOiB0aGlzLnNjaGVtYVZhbGlkYXRpb25cbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVNjaGVtYShzY2hlbWEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBTY2hlbWFEZWZpbml0aW9uKHNjaGVtYSwgb3B0aW9ucyk7XG59XG5jb25zdCBfc3lzdGVtU2NoZW1hID0gZGVmaW5lU2NoZW1hKHtcbiAgX3NjaGVkdWxlZF9mdW5jdGlvbnM6IGRlZmluZVRhYmxlKHtcbiAgICBuYW1lOiB2LnN0cmluZygpLFxuICAgIGFyZ3M6IHYuYXJyYXkodi5hbnkoKSksXG4gICAgc2NoZWR1bGVkVGltZTogdi5mbG9hdDY0KCksXG4gICAgY29tcGxldGVkVGltZTogdi5vcHRpb25hbCh2LmZsb2F0NjQoKSksXG4gICAgc3RhdGU6IHYudW5pb24oXG4gICAgICB2Lm9iamVjdCh7IGtpbmQ6IHYubGl0ZXJhbChcInBlbmRpbmdcIikgfSksXG4gICAgICB2Lm9iamVjdCh7IGtpbmQ6IHYubGl0ZXJhbChcImluUHJvZ3Jlc3NcIikgfSksXG4gICAgICB2Lm9iamVjdCh7IGtpbmQ6IHYubGl0ZXJhbChcInN1Y2Nlc3NcIikgfSksXG4gICAgICB2Lm9iamVjdCh7IGtpbmQ6IHYubGl0ZXJhbChcImZhaWxlZFwiKSwgZXJyb3I6IHYuc3RyaW5nKCkgfSksXG4gICAgICB2Lm9iamVjdCh7IGtpbmQ6IHYubGl0ZXJhbChcImNhbmNlbGVkXCIpIH0pXG4gICAgKVxuICB9KSxcbiAgX3N0b3JhZ2U6IGRlZmluZVRhYmxlKHtcbiAgICBzaGEyNTY6IHYuc3RyaW5nKCksXG4gICAgc2l6ZTogdi5mbG9hdDY0KCksXG4gICAgY29udGVudFR5cGU6IHYub3B0aW9uYWwodi5zdHJpbmcoKSlcbiAgfSlcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZW1hLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiaXNWYWxpZGF0b3IiLCJ2IiwiVGFibGVEZWZpbml0aW9uIiwiY29uc3RydWN0b3IiLCJkb2N1bWVudFR5cGUiLCJpbmRleGVzIiwic2VhcmNoSW5kZXhlcyIsInZlY3RvckluZGV4ZXMiLCJ2YWxpZGF0b3IiLCJpbmRleCIsIm5hbWUiLCJmaWVsZHMiLCJwdXNoIiwiaW5kZXhEZXNjcmlwdG9yIiwic2VhcmNoSW5kZXgiLCJpbmRleENvbmZpZyIsInNlYXJjaEZpZWxkIiwiZmlsdGVyRmllbGRzIiwidmVjdG9ySW5kZXgiLCJ2ZWN0b3JGaWVsZCIsImRpbWVuc2lvbnMiLCJzZWxmIiwiZXhwb3J0IiwianNvbiIsImRlZmluZVRhYmxlIiwiZG9jdW1lbnRTY2hlbWEiLCJvYmplY3QiLCJTY2hlbWFEZWZpbml0aW9uIiwidGFibGVzIiwib3B0aW9ucyIsInNjaGVtYVZhbGlkYXRpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZW50cmllcyIsIm1hcCIsInRhYmxlTmFtZSIsImRlZmluaXRpb24iLCJkZWZpbmVTY2hlbWEiLCJzY2hlbWEiLCJfc3lzdGVtU2NoZW1hIiwiX3NjaGVkdWxlZF9mdW5jdGlvbnMiLCJzdHJpbmciLCJhcmdzIiwiYXJyYXkiLCJhbnkiLCJzY2hlZHVsZWRUaW1lIiwiZmxvYXQ2NCIsImNvbXBsZXRlZFRpbWUiLCJvcHRpb25hbCIsInN0YXRlIiwidW5pb24iLCJraW5kIiwibGl0ZXJhbCIsImVycm9yIiwiX3N0b3JhZ2UiLCJzaGEyNTYiLCJzaXplIiwiY29udGVudFR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/search_filter_builder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilter: () => (/* binding */ SearchFilter)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass SearchFilter {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isSearchFilter\");\n    }\n} //# sourceMappingURL=search_filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUNqRyxNQUFNSztJQUNYOztHQUVDLEdBQ0RDLGFBQWM7UUFDWixxQ0FBcUM7UUFDckNGLGNBQWMsSUFBSSxFQUFFO0lBQ3RCO0FBQ0YsRUFDQSxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanM/NjBmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5leHBvcnQgY2xhc3MgU2VhcmNoRmlsdGVyIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcGVydHkgZm9yIG5vbWluYWwgdHlwZSBzdXBwb3J0LlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfaXNTZWFyY2hGaWx0ZXJcIik7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlYXJjaF9maWx0ZXJfYnVpbGRlci5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIlNlYXJjaEZpbHRlciIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/storage.js":
/*!********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/storage.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=storage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7QUFBYSxDQUNiLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3N0b3JhZ2UuanM/NTZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JhZ2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/storage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/vector_search.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/vector_search.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterExpression: () => (/* binding */ FilterExpression)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass FilterExpression {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isExpression\");\n        // Property to distinguish expressions by the type they resolve to.\n        __publicField(this, \"_value\");\n    }\n} //# sourceMappingURL=vector_search.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci92ZWN0b3Jfc2VhcmNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakcsTUFBTUs7SUFDWDs7R0FFQyxHQUNEQyxhQUFjO1FBQ1oscUNBQXFDO1FBQ3JDRixjQUFjLElBQUksRUFBRTtRQUNwQixtRUFBbUU7UUFDbkVBLGNBQWMsSUFBSSxFQUFFO0lBQ3RCO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci92ZWN0b3Jfc2VhcmNoLmpzP2Q0YzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuZXhwb3J0IGNsYXNzIEZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBQcm9wZXJ0eSBmb3Igbm9taW5hbCB0eXBlIHN1cHBvcnQuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9pc0V4cHJlc3Npb25cIik7XG4gICAgLy8gUHJvcGVydHkgdG8gZGlzdGluZ3Vpc2ggZXhwcmVzc2lvbnMgYnkgdGhlIHR5cGUgdGhleSByZXNvbHZlIHRvLlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfdmFsdWVcIik7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvcl9zZWFyY2guanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJGaWx0ZXJFeHByZXNzaW9uIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/base64.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/base64.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byteLength: () => (/* binding */ byteLength),\n/* harmony export */   fromByteArray: () => (/* binding */ fromByteArray),\n/* harmony export */   toByteArray: () => (/* binding */ toByteArray)\n/* harmony export */ });\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = Uint8Array;\nvar code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfor(var i = 0, len = code.length; i < len; ++i){\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\nrevLookup[\"-\".charCodeAt(0)] = 62;\nrevLookup[\"_\".charCodeAt(0)] = 63;\nfunction getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    }\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\nfunction byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction _byteLength(_b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for(i = 0; i < len; i += 4){\n        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    return arr;\n}\nfunction tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n}\nfunction encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for(var i = start; i < end; i += 3){\n        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n        output.push(tripletToBase64(tmp));\n    }\n    return output.join(\"\");\n}\nfunction fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3;\n    var parts = [];\n    var maxChunkLength = 16383;\n    for(var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength){\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\");\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\");\n    }\n    return parts.join(\"\");\n} //# sourceMappingURL=base64.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxTQUFTLEVBQUU7QUFDZixJQUFJQyxZQUFZLEVBQUU7QUFDbEIsSUFBSUMsTUFBTUM7QUFDVixJQUFJQyxPQUFPO0FBQ1gsSUFBSyxJQUFJQyxJQUFJLEdBQUdDLE1BQU1GLEtBQUtHLE1BQU0sRUFBRUYsSUFBSUMsS0FBSyxFQUFFRCxFQUFHO0lBQy9DTCxNQUFNLENBQUNLLEVBQUUsR0FBR0QsSUFBSSxDQUFDQyxFQUFFO0lBQ25CSixTQUFTLENBQUNHLEtBQUtJLFVBQVUsQ0FBQ0gsR0FBRyxHQUFHQTtBQUNsQztBQUNBSixTQUFTLENBQUMsSUFBSU8sVUFBVSxDQUFDLEdBQUcsR0FBRztBQUMvQlAsU0FBUyxDQUFDLElBQUlPLFVBQVUsQ0FBQyxHQUFHLEdBQUc7QUFDL0IsU0FBU0MsUUFBUUMsR0FBRztJQUNsQixJQUFJSixNQUFNSSxJQUFJSCxNQUFNO0lBQ3BCLElBQUlELE1BQU0sSUFBSSxHQUFHO1FBQ2YsTUFBTSxJQUFJSyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSUMsV0FBV0YsSUFBSUcsT0FBTyxDQUFDO0lBQzNCLElBQUlELGFBQWEsQ0FBQyxHQUFHQSxXQUFXTjtJQUNoQyxJQUFJUSxrQkFBa0JGLGFBQWFOLE1BQU0sSUFBSSxJQUFJTSxXQUFXO0lBQzVELE9BQU87UUFBQ0E7UUFBVUU7S0FBZ0I7QUFDcEM7QUFDTyxTQUFTQyxXQUFXTCxHQUFHO0lBQzVCLElBQUlNLE9BQU9QLFFBQVFDO0lBQ25CLElBQUlFLFdBQVdJLElBQUksQ0FBQyxFQUFFO0lBQ3RCLElBQUlGLGtCQUFrQkUsSUFBSSxDQUFDLEVBQUU7SUFDN0IsT0FBTyxDQUFDSixXQUFXRSxlQUFjLElBQUssSUFBSSxJQUFJQTtBQUNoRDtBQUNBLFNBQVNHLFlBQVlDLElBQUksRUFBRU4sUUFBUSxFQUFFRSxlQUFlO0lBQ2xELE9B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O1FBQ3RFRCxNQUFNSixJQUFJLENBQ1JMLFlBQ0VDLE9BQ0FyQixHQUNBQSxJQUFJOEIsaUJBQWlCQyxPQUFPQSxPQUFPL0IsSUFBSThCO0lBRzdDO0lBQ0EsSUFBSUYsZUFBZSxHQUFHO1FBQ3BCYixNQUFNTSxLQUFLLENBQUNwQixNQUFNLEVBQUU7UUFDcEI0QixNQUFNSixJQUFJLENBQUM5QixNQUFNLENBQUNvQixPQUFPLEVBQUUsR0FBR3BCLE1BQU0sQ0FBQ29CLE9BQU8sSUFBSSxHQUFHLEdBQUc7SUFDeEQsT0FBTyxJQUFJYSxlQUFlLEdBQUc7UUFDM0JiLE1BQU0sQ0FBQ00sS0FBSyxDQUFDcEIsTUFBTSxFQUFFLElBQUksS0FBS29CLEtBQUssQ0FBQ3BCLE1BQU0sRUFBRTtRQUM1QzRCLE1BQU1KLElBQUksQ0FDUjlCLE1BQU0sQ0FBQ29CLE9BQU8sR0FBRyxHQUFHcEIsTUFBTSxDQUFDb0IsT0FBTyxJQUFJLEdBQUcsR0FBR3BCLE1BQU0sQ0FBQ29CLE9BQU8sSUFBSSxHQUFHLEdBQUc7SUFFeEU7SUFDQSxPQUFPYyxNQUFNSCxJQUFJLENBQUM7QUFDcEIsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanM/ZDNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBsb29rdXAgPSBbXTtcbnZhciByZXZMb29rdXAgPSBbXTtcbnZhciBBcnIgPSBVaW50OEFycmF5O1xudmFyIGNvZGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV07XG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cbnJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXSA9IDYyO1xucmV2TG9va3VwW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gNjM7XG5mdW5jdGlvbiBnZXRMZW5zKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aDtcbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTtcbiAgfVxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZihcIj1cIik7XG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuO1xuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlbiA/IDAgOiA0IC0gdmFsaWRMZW4gJSA0O1xuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVMZW5ndGgoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpO1xuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdO1xuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTtcbiAgcmV0dXJuICh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcbn1cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoKF9iNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0J5dGVBcnJheShiNjQpIHtcbiAgdmFyIHRtcDtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NCk7XG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF07XG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdO1xuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKTtcbiAgdmFyIGN1ckJ5dGUgPSAwO1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMCA/IHZhbGlkTGVuIC0gNCA6IHZhbGlkTGVuO1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID0gcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNiB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wID4+IDE2ICYgMjU1O1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wID4+IDggJiAyNTU7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAyNTU7XG4gIH1cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMiB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQ7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAyNTU7XG4gIH1cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTAgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0IHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMjtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCA+PiA4ICYgMjU1O1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMjU1O1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgNjNdICsgbG9va3VwW251bSA+PiAxMiAmIDYzXSArIGxvb2t1cFtudW0gPj4gNiAmIDYzXSArIGxvb2t1cFtudW0gJiA2M107XG59XG5mdW5jdGlvbiBlbmNvZGVDaHVuayh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wO1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2ICYgMTY3MTE2ODApICsgKHVpbnQ4W2kgKyAxXSA8PCA4ICYgNjUyODApICsgKHVpbnQ4W2kgKyAyXSAmIDI1NSk7XG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpO1xuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQnl0ZUFycmF5KHVpbnQ4KSB7XG4gIHZhciB0bXA7XG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGg7XG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMztcbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzO1xuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChcbiAgICAgIGVuY29kZUNodW5rKFxuICAgICAgICB1aW50OCxcbiAgICAgICAgaSxcbiAgICAgICAgaSArIG1heENodW5rTGVuZ3RoID4gbGVuMiA/IGxlbjIgOiBpICsgbWF4Q2h1bmtMZW5ndGhcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV07XG4gICAgcGFydHMucHVzaChsb29rdXBbdG1wID4+IDJdICsgbG9va3VwW3RtcCA8PCA0ICYgNjNdICsgXCI9PVwiKTtcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV07XG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICsgbG9va3VwW3RtcCA+PiA0ICYgNjNdICsgbG9va3VwW3RtcCA8PCAyICYgNjNdICsgXCI9XCJcbiAgICApO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZTY0LmpzLm1hcFxuIl0sIm5hbWVzIjpbImxvb2t1cCIsInJldkxvb2t1cCIsIkFyciIsIlVpbnQ4QXJyYXkiLCJjb2RlIiwiaSIsImxlbiIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJnZXRMZW5zIiwiYjY0IiwiRXJyb3IiLCJ2YWxpZExlbiIsImluZGV4T2YiLCJwbGFjZUhvbGRlcnNMZW4iLCJieXRlTGVuZ3RoIiwibGVucyIsIl9ieXRlTGVuZ3RoIiwiX2I2NCIsInRvQnl0ZUFycmF5IiwidG1wIiwiYXJyIiwiY3VyQnl0ZSIsInRyaXBsZXRUb0Jhc2U2NCIsIm51bSIsImVuY29kZUNodW5rIiwidWludDgiLCJzdGFydCIsImVuZCIsIm91dHB1dCIsInB1c2giLCJqb2luIiwiZnJvbUJ5dGVBcnJheSIsImV4dHJhQnl0ZXMiLCJwYXJ0cyIsIm1heENodW5rTGVuZ3RoIiwibGVuMiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/base64.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/errors.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexError: () => (/* binding */ ConvexError)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a, _b;\n\nconst IDENTIFYING_FIELD = Symbol.for(\"ConvexError\");\nclass ConvexError extends (_b = Error, _a = IDENTIFYING_FIELD, _b) {\n    constructor(data){\n        super(typeof data === \"string\" ? data : (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.stringifyValueForError)(data));\n        __publicField(this, \"name\", \"ConvexError\");\n        __publicField(this, \"data\");\n        __publicField(this, _a, true);\n        this.data = data;\n    }\n} //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEcsSUFBSUssSUFBSUM7QUFDNEM7QUFDcEQsTUFBTUUsb0JBQW9CQyxPQUFPQyxHQUFHLENBQUM7QUFDOUIsTUFBTUMsb0JBQXFCTCxDQUFBQSxLQUFLTSxPQUFPUCxLQUFLRyxtQkFBbUJGLEVBQUM7SUFDckVPLFlBQVlDLElBQUksQ0FBRTtRQUNoQixLQUFLLENBQUMsT0FBT0EsU0FBUyxXQUFXQSxPQUFPUCxpRUFBc0JBLENBQUNPO1FBQy9EVixjQUFjLElBQUksRUFBRSxRQUFRO1FBQzVCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUVDLElBQUk7UUFDeEIsSUFBSSxDQUFDUyxJQUFJLEdBQUdBO0lBQ2Q7QUFDRixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2Vycm9ycy5qcz81OWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbnZhciBfYSwgX2I7XG5pbXBvcnQgeyBzdHJpbmdpZnlWYWx1ZUZvckVycm9yIH0gZnJvbSBcIi4vdmFsdWUuanNcIjtcbmNvbnN0IElERU5USUZZSU5HX0ZJRUxEID0gU3ltYm9sLmZvcihcIkNvbnZleEVycm9yXCIpO1xuZXhwb3J0IGNsYXNzIENvbnZleEVycm9yIGV4dGVuZHMgKF9iID0gRXJyb3IsIF9hID0gSURFTlRJRllJTkdfRklFTEQsIF9iKSB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBzdXBlcih0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGRhdGEgOiBzdHJpbmdpZnlWYWx1ZUZvckVycm9yKGRhdGEpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibmFtZVwiLCBcIkNvbnZleEVycm9yXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJkYXRhXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgX2EsIHRydWUpO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIl9hIiwiX2IiLCJzdHJpbmdpZnlWYWx1ZUZvckVycm9yIiwiSURFTlRJRllJTkdfRklFTEQiLCJTeW1ib2wiLCJmb3IiLCJDb252ZXhFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Base64: () => (/* reexport module object */ _base64_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   ConvexError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError),\n/* harmony export */   asObjectValidator: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.asObjectValidator),\n/* harmony export */   convexToJson: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson),\n/* harmony export */   jsonToConvex: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex),\n/* harmony export */   v: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.v)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWE7QUFDMkM7QUFDRjtBQUNoQjtBQUNwQjtBQUNVLENBQzVCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2luZGV4LmpzPzQwNTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgeyBjb252ZXhUb0pzb24sIGpzb25Ub0NvbnZleCB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5leHBvcnQgeyB2LCBhc09iamVjdFZhbGlkYXRvciB9IGZyb20gXCIuL3ZhbGlkYXRvci5qc1wiO1xuaW1wb3J0ICogYXMgQmFzZTY0IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuZXhwb3J0IHsgQmFzZTY0IH07XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInYiLCJhc09iamVjdFZhbGlkYXRvciIsIkJhc2U2NCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/validator.js":
/*!**********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validator.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asObjectValidator: () => (/* binding */ asObjectValidator),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   v: () => (/* binding */ v)\n/* harmony export */ });\n/* harmony import */ var _validators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validators.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validators.js\");\n\n\nfunction isValidator(v2) {\n    return !!v2.isConvexValidator;\n}\nfunction asObjectValidator(obj) {\n    if (isValidator(obj)) {\n        return obj;\n    } else {\n        return v.object(obj);\n    }\n}\nconst v = {\n    /**\n   * Validates that the value corresponds to an ID of a document in given table.\n   * @param tableName The name of the table.\n   */ id: (tableName)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VId({\n            isOptional: \"required\",\n            tableName\n        });\n    },\n    /**\n   * Validates that the value is of type Null.\n   */ null: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VNull({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   *\n   * Alias for `v.float64()`\n   */ number: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   */ float64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * @deprecated Use `v.int64()` instead\n   */ bigint: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Int64 (BigInt in JS).\n   */ int64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type Boolean.\n   */ boolean: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBoolean({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type String.\n   */ string: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VString({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Bytes (constructed in JS via `ArrayBuffer`).\n   */ bytes: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBytes({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is equal to the given literal value.\n   * @param literal The literal value to compare against.\n   */ literal: (literal)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VLiteral({\n            isOptional: \"required\",\n            value: literal\n        });\n    },\n    /**\n   * Validates that the value is an Array of the given element type.\n   * @param element The validator for the elements of the array.\n   */ array: (element)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VArray({\n            isOptional: \"required\",\n            element\n        });\n    },\n    /**\n   * Validates that the value is an Object with the given properties.\n   * @param fields An object specifying the validator for each property.\n   */ object: (fields)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VObject({\n            isOptional: \"required\",\n            fields\n        });\n    },\n    /**\n   * Validates that the value is a Record with keys and values that match the given types.\n   * @param keys The validator for the keys of the record. This cannot contain string literals.\n   * @param values The validator for the values of the record.\n   */ record: (keys, values)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VRecord({\n            isOptional: \"required\",\n            key: keys,\n            value: values\n        });\n    },\n    /**\n   * Validates that the value matches one of the given validators.\n   * @param members The validators to match against.\n   */ union: (...members)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VUnion({\n            isOptional: \"required\",\n            members\n        });\n    },\n    /**\n   * Does not validate the value.\n   */ any: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VAny({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Allows not specifying a value for a property in an Object.\n   * @param value The property value validator to make optional.\n   *\n   * ```typescript\n   * const objectWithOptionalFields = v.object({\n   *   requiredField: v.string(),\n   *   optionalField: v.optional(v.string()),\n   * });\n   * ```\n   */ optional: (value)=>{\n        return value.asOptional();\n    }\n}; //# sourceMappingURL=validator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhO0FBZVk7QUFDbEIsU0FBU2EsWUFBWUMsRUFBRTtJQUM1QixPQUFPLENBQUMsQ0FBQ0EsR0FBR0MsaUJBQWlCO0FBQy9CO0FBQ08sU0FBU0Msa0JBQWtCQyxHQUFHO0lBQ25DLElBQUlKLFlBQVlJLE1BQU07UUFDcEIsT0FBT0E7SUFDVCxPQUFPO1FBQ0wsT0FBT0MsRUFBRUMsTUFBTSxDQUFDRjtJQUNsQjtBQUNGO0FBQ08sTUFBTUMsSUFBSTtJQUNmOzs7R0FHQyxHQUNERSxJQUFJLENBQUNDO1FBQ0gsT0FBTyxJQUFJaEIsK0NBQUdBLENBQUM7WUFDYmlCLFlBQVk7WUFDWkQ7UUFDRjtJQUNGO0lBQ0E7O0dBRUMsR0FDREUsTUFBTTtRQUNKLE9BQU8sSUFBSWYsaURBQUtBLENBQUM7WUFBRWMsWUFBWTtRQUFXO0lBQzVDO0lBQ0E7Ozs7R0FJQyxHQUNERSxRQUFRO1FBQ04sT0FBTyxJQUFJcEIsb0RBQVFBLENBQUM7WUFBRWtCLFlBQVk7UUFBVztJQUMvQztJQUNBOztHQUVDLEdBQ0RHLFNBQVM7UUFDUCxPQUFPLElBQUlyQixvREFBUUEsQ0FBQztZQUFFa0IsWUFBWTtRQUFXO0lBQy9DO0lBQ0E7O0dBRUMsR0FDREksUUFBUTtRQUNOLE9BQU8sSUFBSXBCLGtEQUFNQSxDQUFDO1lBQUVnQixZQUFZO1FBQVc7SUFDN0M7SUFDQTs7R0FFQyxHQUNESyxPQUFPO1FBQ0wsT0FBTyxJQUFJckIsa0RBQU1BLENBQUM7WUFBRWdCLFlBQVk7UUFBVztJQUM3QztJQUNBOztHQUVDLEdBQ0RNLFNBQVM7UUFDUCxPQUFPLElBQUkxQixvREFBUUEsQ0FBQztZQUFFb0IsWUFBWTtRQUFXO0lBQy9DO0lBQ0E7O0dBRUMsR0FDRE8sUUFBUTtRQUNOLE9BQU8sSUFBSWxCLG1EQUFPQSxDQUFDO1lBQUVXLFlBQVk7UUFBVztJQUM5QztJQUNBOztHQUVDLEdBQ0RRLE9BQU87UUFDTCxPQUFPLElBQUkzQixrREFBTUEsQ0FBQztZQUFFbUIsWUFBWTtRQUFXO0lBQzdDO0lBQ0E7OztHQUdDLEdBQ0RTLFNBQVMsQ0FBQ0E7UUFDUixPQUFPLElBQUl4QixvREFBUUEsQ0FBQztZQUFFZSxZQUFZO1lBQVlVLE9BQU9EO1FBQVE7SUFDL0Q7SUFDQTs7O0dBR0MsR0FDREUsT0FBTyxDQUFDQztRQUNOLE9BQU8sSUFBSWpDLGtEQUFNQSxDQUFDO1lBQUVxQixZQUFZO1lBQVlZO1FBQVE7SUFDdEQ7SUFDQTs7O0dBR0MsR0FDRGYsUUFBUSxDQUFDZ0I7UUFDUCxPQUFPLElBQUkxQixtREFBT0EsQ0FBQztZQUFFYSxZQUFZO1lBQVlhO1FBQU87SUFDdEQ7SUFDQTs7OztHQUlDLEdBQ0RDLFFBQVEsQ0FBQ0MsTUFBTUM7UUFDYixPQUFPLElBQUk1QixtREFBT0EsQ0FBQztZQUNqQlksWUFBWTtZQUNaaUIsS0FBS0Y7WUFDTEwsT0FBT007UUFDVDtJQUNGO0lBQ0E7OztHQUdDLEdBQ0RFLE9BQU8sQ0FBQyxHQUFHQztRQUNULE9BQU8sSUFBSTdCLGtEQUFNQSxDQUFDO1lBQ2hCVSxZQUFZO1lBQ1ptQjtRQUNGO0lBQ0Y7SUFDQTs7R0FFQyxHQUNEQyxLQUFLO1FBQ0gsT0FBTyxJQUFJMUMsZ0RBQUlBLENBQUM7WUFBRXNCLFlBQVk7UUFBVztJQUMzQztJQUNBOzs7Ozs7Ozs7O0dBVUMsR0FDRHFCLFVBQVUsQ0FBQ1g7UUFDVCxPQUFPQSxNQUFNWSxVQUFVO0lBQ3pCO0FBQ0YsRUFBRSxDQUNGLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbGlkYXRvci5qcz9kNTk5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgVkFueSxcbiAgVkFycmF5LFxuICBWQm9vbGVhbixcbiAgVkJ5dGVzLFxuICBWRmxvYXQ2NCxcbiAgVklkLFxuICBWSW50NjQsXG4gIFZMaXRlcmFsLFxuICBWTnVsbCxcbiAgVk9iamVjdCxcbiAgVlJlY29yZCxcbiAgVlN0cmluZyxcbiAgVlVuaW9uXG59IGZyb20gXCIuL3ZhbGlkYXRvcnMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRvcih2Mikge1xuICByZXR1cm4gISF2Mi5pc0NvbnZleFZhbGlkYXRvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc09iamVjdFZhbGlkYXRvcihvYmopIHtcbiAgaWYgKGlzVmFsaWRhdG9yKG9iaikpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2Lm9iamVjdChvYmopO1xuICB9XG59XG5leHBvcnQgY29uc3QgdiA9IHtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBjb3JyZXNwb25kcyB0byBhbiBJRCBvZiBhIGRvY3VtZW50IGluIGdpdmVuIHRhYmxlLlxuICAgKiBAcGFyYW0gdGFibGVOYW1lIFRoZSBuYW1lIG9mIHRoZSB0YWJsZS5cbiAgICovXG4gIGlkOiAodGFibGVOYW1lKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWSWQoe1xuICAgICAgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLFxuICAgICAgdGFibGVOYW1lXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgdHlwZSBOdWxsLlxuICAgKi9cbiAgbnVsbDogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVk51bGwoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgQ29udmV4IHR5cGUgRmxvYXQ2NCAoTnVtYmVyIGluIEpTKS5cbiAgICpcbiAgICogQWxpYXMgZm9yIGB2LmZsb2F0NjQoKWBcbiAgICovXG4gIG51bWJlcjogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgQ29udmV4IHR5cGUgRmxvYXQ2NCAoTnVtYmVyIGluIEpTKS5cbiAgICovXG4gIGZsb2F0NjQ6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZGbG9hdDY0KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGB2LmludDY0KClgIGluc3RlYWRcbiAgICovXG4gIGJpZ2ludDogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkludDY0KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIENvbnZleCB0eXBlIEludDY0IChCaWdJbnQgaW4gSlMpLlxuICAgKi9cbiAgaW50NjQ6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZJbnQ2NCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiB0eXBlIEJvb2xlYW4uXG4gICAqL1xuICBib29sZWFuOiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWQm9vbGVhbih7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiB0eXBlIFN0cmluZy5cbiAgICovXG4gIHN0cmluZzogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVlN0cmluZyh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiBDb252ZXggdHlwZSBCeXRlcyAoY29uc3RydWN0ZWQgaW4gSlMgdmlhIGBBcnJheUJ1ZmZlcmApLlxuICAgKi9cbiAgYnl0ZXM6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZCeXRlcyh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBlcXVhbCB0byB0aGUgZ2l2ZW4gbGl0ZXJhbCB2YWx1ZS5cbiAgICogQHBhcmFtIGxpdGVyYWwgVGhlIGxpdGVyYWwgdmFsdWUgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgKi9cbiAgbGl0ZXJhbDogKGxpdGVyYWwpID0+IHtcbiAgICByZXR1cm4gbmV3IFZMaXRlcmFsKHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLCB2YWx1ZTogbGl0ZXJhbCB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBhbiBBcnJheSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB0eXBlLlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgdmFsaWRhdG9yIGZvciB0aGUgZWxlbWVudHMgb2YgdGhlIGFycmF5LlxuICAgKi9cbiAgYXJyYXk6IChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWQXJyYXkoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIsIGVsZW1lbnQgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgYW4gT2JqZWN0IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXMuXG4gICAqIEBwYXJhbSBmaWVsZHMgQW4gb2JqZWN0IHNwZWNpZnlpbmcgdGhlIHZhbGlkYXRvciBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICovXG4gIG9iamVjdDogKGZpZWxkcykgPT4ge1xuICAgIHJldHVybiBuZXcgVk9iamVjdCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiwgZmllbGRzIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGEgUmVjb3JkIHdpdGgga2V5cyBhbmQgdmFsdWVzIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIHR5cGVzLlxuICAgKiBAcGFyYW0ga2V5cyBUaGUgdmFsaWRhdG9yIGZvciB0aGUga2V5cyBvZiB0aGUgcmVjb3JkLiBUaGlzIGNhbm5vdCBjb250YWluIHN0cmluZyBsaXRlcmFscy5cbiAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsaWRhdG9yIGZvciB0aGUgdmFsdWVzIG9mIHRoZSByZWNvcmQuXG4gICAqL1xuICByZWNvcmQ6IChrZXlzLCB2YWx1ZXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFZSZWNvcmQoe1xuICAgICAgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLFxuICAgICAga2V5OiBrZXlzLFxuICAgICAgdmFsdWU6IHZhbHVlc1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIG1hdGNoZXMgb25lIG9mIHRoZSBnaXZlbiB2YWxpZGF0b3JzLlxuICAgKiBAcGFyYW0gbWVtYmVycyBUaGUgdmFsaWRhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICAgKi9cbiAgdW5pb246ICguLi5tZW1iZXJzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWVW5pb24oe1xuICAgICAgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLFxuICAgICAgbWVtYmVyc1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogRG9lcyBub3QgdmFsaWRhdGUgdGhlIHZhbHVlLlxuICAgKi9cbiAgYW55OiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWQW55KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuICAvKipcbiAgICogQWxsb3dzIG5vdCBzcGVjaWZ5aW5nIGEgdmFsdWUgZm9yIGEgcHJvcGVydHkgaW4gYW4gT2JqZWN0LlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHByb3BlcnR5IHZhbHVlIHZhbGlkYXRvciB0byBtYWtlIG9wdGlvbmFsLlxuICAgKlxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IG9iamVjdFdpdGhPcHRpb25hbEZpZWxkcyA9IHYub2JqZWN0KHtcbiAgICogICByZXF1aXJlZEZpZWxkOiB2LnN0cmluZygpLFxuICAgKiAgIG9wdGlvbmFsRmllbGQ6IHYub3B0aW9uYWwodi5zdHJpbmcoKSksXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIG9wdGlvbmFsOiAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gdmFsdWUuYXNPcHRpb25hbCgpO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9yLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlZBbnkiLCJWQXJyYXkiLCJWQm9vbGVhbiIsIlZCeXRlcyIsIlZGbG9hdDY0IiwiVklkIiwiVkludDY0IiwiVkxpdGVyYWwiLCJWTnVsbCIsIlZPYmplY3QiLCJWUmVjb3JkIiwiVlN0cmluZyIsIlZVbmlvbiIsImlzVmFsaWRhdG9yIiwidjIiLCJpc0NvbnZleFZhbGlkYXRvciIsImFzT2JqZWN0VmFsaWRhdG9yIiwib2JqIiwidiIsIm9iamVjdCIsImlkIiwidGFibGVOYW1lIiwiaXNPcHRpb25hbCIsIm51bGwiLCJudW1iZXIiLCJmbG9hdDY0IiwiYmlnaW50IiwiaW50NjQiLCJib29sZWFuIiwic3RyaW5nIiwiYnl0ZXMiLCJsaXRlcmFsIiwidmFsdWUiLCJhcnJheSIsImVsZW1lbnQiLCJmaWVsZHMiLCJyZWNvcmQiLCJrZXlzIiwidmFsdWVzIiwia2V5IiwidW5pb24iLCJtZW1iZXJzIiwiYW55Iiwib3B0aW9uYWwiLCJhc09wdGlvbmFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/validator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/validators.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validators.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VAny: () => (/* binding */ VAny),\n/* harmony export */   VArray: () => (/* binding */ VArray),\n/* harmony export */   VBoolean: () => (/* binding */ VBoolean),\n/* harmony export */   VBytes: () => (/* binding */ VBytes),\n/* harmony export */   VFloat64: () => (/* binding */ VFloat64),\n/* harmony export */   VId: () => (/* binding */ VId),\n/* harmony export */   VInt64: () => (/* binding */ VInt64),\n/* harmony export */   VLiteral: () => (/* binding */ VLiteral),\n/* harmony export */   VNull: () => (/* binding */ VNull),\n/* harmony export */   VObject: () => (/* binding */ VObject),\n/* harmony export */   VRecord: () => (/* binding */ VRecord),\n/* harmony export */   VString: () => (/* binding */ VString),\n/* harmony export */   VUnion: () => (/* binding */ VUnion)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nclass BaseValidator {\n    constructor({ isOptional }){\n        /**\n     * Only for TypeScript, the TS type of the JS values validated\n     * by this validator.\n     */ __publicField(this, \"type\");\n        /**\n     * Only for TypeScript, if this an Object validator, then\n     * this is the TS type of its property names.\n     */ __publicField(this, \"fieldPaths\");\n        /**\n     * Whether this is an optional Object property value validator.\n     */ __publicField(this, \"isOptional\");\n        /**\n     * Always `\"true\"`.\n     */ __publicField(this, \"isConvexValidator\");\n        this.isOptional = isOptional;\n        this.isConvexValidator = true;\n    }\n    /** @deprecated - use isOptional instead */ get optional() {\n        return this.isOptional === \"optional\" ? true : false;\n    }\n}\nclass VId extends BaseValidator {\n    /**\n   * Usually you'd use `v.id(tableName)` instead.\n   */ constructor({ isOptional, tableName }){\n        super({\n            isOptional\n        });\n        /**\n     * The name of the table that the validated IDs must belong to.\n     */ __publicField(this, \"tableName\");\n        /**\n     * The kind of validator, `\"id\"`.\n     */ __publicField(this, \"kind\", \"id\");\n        this.tableName = tableName;\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"id\",\n            tableName: this.tableName\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VId({\n            isOptional: \"optional\",\n            tableName: this.tableName\n        });\n    }\n}\nclass VFloat64 extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"float64\"`.\n     */ __publicField(this, \"kind\", \"float64\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"number\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VFloat64({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VInt64 extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"int64\"`.\n     */ __publicField(this, \"kind\", \"int64\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"bigint\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VInt64({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VBoolean extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"boolean\"`.\n     */ __publicField(this, \"kind\", \"boolean\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBoolean({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VBytes extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"bytes\"`.\n     */ __publicField(this, \"kind\", \"bytes\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBytes({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VString extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"string\"`.\n     */ __publicField(this, \"kind\", \"string\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VString({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VNull extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"null\"`.\n     */ __publicField(this, \"kind\", \"null\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VNull({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VAny extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"any\"`.\n     */ __publicField(this, \"kind\", \"any\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VAny({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VObject extends BaseValidator {\n    /**\n   * Usually you'd use `v.object({ ... })` instead.\n   */ constructor({ isOptional, fields }){\n        super({\n            isOptional\n        });\n        /**\n     * An object with the validator for each property.\n     */ __publicField(this, \"fields\");\n        /**\n     * The kind of validator, `\"object\"`.\n     */ __publicField(this, \"kind\", \"object\");\n        this.fields = fields;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([k, v])=>[\n                    k,\n                    {\n                        fieldType: v.json,\n                        optional: v.isOptional === \"optional\" ? true : false\n                    }\n                ]))\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VObject({\n            isOptional: \"optional\",\n            fields: this.fields\n        });\n    }\n}\nclass VLiteral extends BaseValidator {\n    /**\n   * Usually you'd use `v.literal(value)` instead.\n   */ constructor({ isOptional, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The value that the validated values must be equal to.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"literal\"`.\n     */ __publicField(this, \"kind\", \"literal\");\n        this.value = value;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(this.value)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VLiteral({\n            isOptional: \"optional\",\n            value: this.value\n        });\n    }\n}\nclass VArray extends BaseValidator {\n    /**\n   * Usually you'd use `v.array(element)` instead.\n   */ constructor({ isOptional, element }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the elements of the array.\n     */ __publicField(this, \"element\");\n        /**\n     * The kind of validator, `\"array\"`.\n     */ __publicField(this, \"kind\", \"array\");\n        this.element = element;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.element.json\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VArray({\n            isOptional: \"optional\",\n            element: this.element\n        });\n    }\n}\nclass VRecord extends BaseValidator {\n    /**\n   * Usually you'd use `v.record(key, value)` instead.\n   */ constructor({ isOptional, key, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the keys of the record.\n     */ __publicField(this, \"key\");\n        /**\n     * The validator for the values of the record.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"record\"`.\n     */ __publicField(this, \"kind\", \"record\");\n        if (key.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional keys\");\n        }\n        if (value.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional values\");\n        }\n        this.key = key;\n        this.value = value;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            // This cast is needed because TypeScript thinks the key type is too wide\n            keys: this.key.json,\n            values: {\n                fieldType: this.value.json,\n                optional: false\n            }\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VRecord({\n            isOptional: \"optional\",\n            key: this.key,\n            value: this.value\n        });\n    }\n}\nclass VUnion extends BaseValidator {\n    /**\n   * Usually you'd use `v.union(...members)` instead.\n   */ constructor({ isOptional, members }){\n        super({\n            isOptional\n        });\n        /**\n     * The array of validators, one of which must match the value.\n     */ __publicField(this, \"members\");\n        /**\n     * The kind of validator, `\"union\"`.\n     */ __publicField(this, \"kind\", \"union\");\n        this.members = members;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.members.map((v)=>v.json)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VUnion({\n            isOptional: \"optional\",\n            members: this.members\n        });\n    }\n} //# sourceMappingURL=validators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQzlEO0FBQzFDLE1BQU1NO0lBQ0pDLFlBQVksRUFBRUMsVUFBVSxFQUFFLENBQUU7UUFDMUI7OztLQUdDLEdBQ0RKLGNBQWMsSUFBSSxFQUFFO1FBQ3BCOzs7S0FHQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNJLFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRztJQUMzQjtJQUNBLHlDQUF5QyxHQUN6QyxJQUFJQyxXQUFXO1FBQ2IsT0FBTyxJQUFJLENBQUNGLFVBQVUsS0FBSyxhQUFhLE9BQU87SUFDakQ7QUFDRjtBQUNPLE1BQU1HLFlBQVlMO0lBQ3ZCOztHQUVDLEdBQ0RDLFlBQVksRUFDVkMsVUFBVSxFQUNWSSxTQUFTLEVBQ1YsQ0FBRTtRQUNELEtBQUssQ0FBQztZQUFFSjtRQUFXO1FBQ25COztLQUVDLEdBQ0RKLGNBQWMsSUFBSSxFQUFFO1FBQ3BCOztLQUVDLEdBQ0RBLGNBQWMsSUFBSSxFQUFFLFFBQVE7UUFDNUIsSUFBSSxDQUFDUSxTQUFTLEdBQUdB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QUdBO1FBQ1gsSUFBSSxDQUFDQyxLQUFLLEdBQUdBO0lBQ2Y7SUFDQSxjQUFjLEdBQ2QsSUFBSWEsT0FBTztRQUNULE9BQU87WUFDTEMsTUFBTSxJQUFJLENBQUNNLElBQUk7WUFDZix5RUFBeUU7WUFDekVtQixNQUFNLElBQUksQ0FBQ3hDLEdBQUcsQ0FBQ2MsSUFBSTtZQUNuQjJCLFFBQVE7Z0JBQ05QLFdBQVcsSUFBSSxDQUFDakMsS0FBSyxDQUFDYSxJQUFJO2dCQUMxQkgsVUFBVTtZQUNaO1FBQ0Y7SUFDRjtJQUNBLGNBQWMsR0FDZEssYUFBYTtRQUNYLE9BQU8sSUFBSXNCLFFBQVE7WUFDakI3QixZQUFZO1lBQ1pULEtBQUssSUFBSSxDQUFDQSxHQUFHO1lBQ2JDLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1FBQ25CO0lBQ0Y7QUFDRjtBQUNPLE1BQU15QyxlQUFlbkM7SUFDMUI7O0dBRUMsR0FDREMsWUFBWSxFQUFFQyxVQUFVLEVBQUVrQyxPQUFPLEVBQUUsQ0FBRTtRQUNuQyxLQUFLLENBQUM7WUFBRWxDO1FBQVc7UUFDbkI7O0tBRUMsR0FDREosY0FBYyxJQUFJLEVBQUU7UUFDcEI7O0tBRUMsR0FDREEsY0FBYyxJQUFJLEVBQUUsUUFBUTtRQUM1QixJQUFJLENBQUNzQyxPQUFPLEdBQUdBO0lBQ2pCO0lBQ0EsY0FBYyxHQUNkLElBQUk3QixPQUFPO1FBQ1QsT0FBTztZQUNMQyxNQUFNLElBQUksQ0FBQ00sSUFBSTtZQUNmcEIsT0FBTyxJQUFJLENBQUMwQyxPQUFPLENBQUNaLEdBQUcsQ0FBQyxDQUFDRSxJQUFNQSxFQUFFbkIsSUFBSTtRQUN2QztJQUNGO0lBQ0EsY0FBYyxHQUNkRSxhQUFhO1FBQ1gsT0FBTyxJQUFJMEIsT0FBTztZQUNoQmpDLFlBQVk7WUFDWmtDLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1FBQ3ZCO0lBQ0Y7QUFDRixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VyYXNvcl9jbG9uZS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbGlkYXRvcnMuanM/OWRhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuY2xhc3MgQmFzZVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHsgaXNPcHRpb25hbCB9KSB7XG4gICAgLyoqXG4gICAgICogT25seSBmb3IgVHlwZVNjcmlwdCwgdGhlIFRTIHR5cGUgb2YgdGhlIEpTIHZhbHVlcyB2YWxpZGF0ZWRcbiAgICAgKiBieSB0aGlzIHZhbGlkYXRvci5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidHlwZVwiKTtcbiAgICAvKipcbiAgICAgKiBPbmx5IGZvciBUeXBlU2NyaXB0LCBpZiB0aGlzIGFuIE9iamVjdCB2YWxpZGF0b3IsIHRoZW5cbiAgICAgKiB0aGlzIGlzIHRoZSBUUyB0eXBlIG9mIGl0cyBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZmllbGRQYXRoc1wiKTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgaXMgYW4gb3B0aW9uYWwgT2JqZWN0IHByb3BlcnR5IHZhbHVlIHZhbGlkYXRvci5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXNPcHRpb25hbFwiKTtcbiAgICAvKipcbiAgICAgKiBBbHdheXMgYFwidHJ1ZVwiYC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXNDb252ZXhWYWxpZGF0b3JcIik7XG4gICAgdGhpcy5pc09wdGlvbmFsID0gaXNPcHRpb25hbDtcbiAgICB0aGlzLmlzQ29udmV4VmFsaWRhdG9yID0gdHJ1ZTtcbiAgfVxuICAvKiogQGRlcHJlY2F0ZWQgLSB1c2UgaXNPcHRpb25hbCBpbnN0ZWFkICovXG4gIGdldCBvcHRpb25hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc09wdGlvbmFsID09PSBcIm9wdGlvbmFsXCIgPyB0cnVlIDogZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWSWQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LmlkKHRhYmxlTmFtZSlgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICB0YWJsZU5hbWVcbiAgfSkge1xuICAgIHN1cGVyKHsgaXNPcHRpb25hbCB9KTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdGFibGUgdGhhdCB0aGUgdmFsaWRhdGVkIElEcyBtdXN0IGJlbG9uZyB0by5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidGFibGVOYW1lXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiaWRcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJpZFwiKTtcbiAgICB0aGlzLnRhYmxlTmFtZSA9IHRhYmxlTmFtZTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiaWRcIiwgdGFibGVOYW1lOiB0aGlzLnRhYmxlTmFtZSB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZJZCh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICB0YWJsZU5hbWU6IHRoaXMudGFibGVOYW1lXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWRmxvYXQ2NCBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiZmxvYXQ2NFwiYC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwia2luZFwiLCBcImZsb2F0NjRcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcIm51bWJlclwiIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQoe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWSW50NjQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImludDY0XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiaW50NjRcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImJpZ2ludFwiIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkludDY0KHsgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVkJvb2xlYW4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJvb2xlYW5cImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJib29sZWFuXCIpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdGhpcy5raW5kIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkJvb2xlYW4oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWQnl0ZXMgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJ5dGVzXCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiYnl0ZXNcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQnl0ZXMoeyBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWU3RyaW5nIGV4dGVuZHMgQmFzZVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJzdHJpbmdcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJzdHJpbmdcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWU3RyaW5nKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIlxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVk51bGwgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcIm51bGxcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJudWxsXCIpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdGhpcy5raW5kIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVk51bGwoeyBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWQW55IGV4dGVuZHMgQmFzZVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJhbnlcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJhbnlcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQW55KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIlxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVk9iamVjdCBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYub2JqZWN0KHsgLi4uIH0pYCBpbnN0ZWFkLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGlzT3B0aW9uYWwsXG4gICAgZmllbGRzXG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggdGhlIHZhbGlkYXRvciBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZmllbGRzXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwib2JqZWN0XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwib2JqZWN0XCIpO1xuICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiBnbG9iYWxUaGlzLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyh0aGlzLmZpZWxkcykubWFwKChbaywgdl0pID0+IFtcbiAgICAgICAgICBrLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogdi5qc29uLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHYuaXNPcHRpb25hbCA9PT0gXCJvcHRpb25hbFwiID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICBdKVxuICAgICAgKVxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVk9iamVjdCh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBmaWVsZHM6IHRoaXMuZmllbGRzXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWTGl0ZXJhbCBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYubGl0ZXJhbCh2YWx1ZSlgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGlzT3B0aW9uYWwsIHZhbHVlIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIHRoYXQgdGhlIHZhbGlkYXRlZCB2YWx1ZXMgbXVzdCBiZSBlcXVhbCB0by5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidmFsdWVcIik7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJsaXRlcmFsXCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwibGl0ZXJhbFwiKTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih0aGlzLnZhbHVlKVxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkxpdGVyYWwoe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFZBcnJheSBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYuYXJyYXkoZWxlbWVudClgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICBlbGVtZW50XG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgLyoqXG4gICAgICogVGhlIHZhbGlkYXRvciBmb3IgdGhlIGVsZW1lbnRzIG9mIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZWxlbWVudFwiKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImFycmF5XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiYXJyYXlcIik7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0aGlzLmtpbmQsXG4gICAgICB2YWx1ZTogdGhpcy5lbGVtZW50Lmpzb25cbiAgICB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZBcnJheSh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFZSZWNvcmQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LnJlY29yZChrZXksIHZhbHVlKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpc09wdGlvbmFsLFxuICAgIGtleSxcbiAgICB2YWx1ZVxuICB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWxpZGF0b3IgZm9yIHRoZSBrZXlzIG9mIHRoZSByZWNvcmQuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtleVwiKTtcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsaWRhdG9yIGZvciB0aGUgdmFsdWVzIG9mIHRoZSByZWNvcmQuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZhbHVlXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwicmVjb3JkXCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwicmVjb3JkXCIpO1xuICAgIGlmIChrZXkuaXNPcHRpb25hbCA9PT0gXCJvcHRpb25hbFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmQgdmFsaWRhdG9yIGNhbm5vdCBoYXZlIG9wdGlvbmFsIGtleXNcIik7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pc09wdGlvbmFsID09PSBcIm9wdGlvbmFsXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlY29yZCB2YWxpZGF0b3IgY2Fubm90IGhhdmUgb3B0aW9uYWwgdmFsdWVzXCIpO1xuICAgIH1cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgLy8gVGhpcyBjYXN0IGlzIG5lZWRlZCBiZWNhdXNlIFR5cGVTY3JpcHQgdGhpbmtzIHRoZSBrZXkgdHlwZSBpcyB0b28gd2lkZVxuICAgICAga2V5czogdGhpcy5rZXkuanNvbixcbiAgICAgIHZhbHVlczoge1xuICAgICAgICBmaWVsZFR5cGU6IHRoaXMudmFsdWUuanNvbixcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWUmVjb3JkKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIixcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVlVuaW9uIGV4dGVuZHMgQmFzZVZhbGlkYXRvciB7XG4gIC8qKlxuICAgKiBVc3VhbGx5IHlvdSdkIHVzZSBgdi51bmlvbiguLi5tZW1iZXJzKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXNPcHRpb25hbCwgbWVtYmVycyB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB2YWxpZGF0b3JzLCBvbmUgb2Ygd2hpY2ggbXVzdCBtYXRjaCB0aGUgdmFsdWUuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm1lbWJlcnNcIik7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJ1bmlvblwiYC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwia2luZFwiLCBcInVuaW9uXCIpO1xuICAgIHRoaXMubWVtYmVycyA9IG1lbWJlcnM7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgdmFsdWU6IHRoaXMubWVtYmVycy5tYXAoKHYpID0+IHYuanNvbilcbiAgICB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZVbmlvbih7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBtZW1iZXJzOiB0aGlzLm1lbWJlcnNcbiAgICB9KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImNvbnZleFRvSnNvbiIsIkJhc2VWYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImlzT3B0aW9uYWwiLCJpc0NvbnZleFZhbGlkYXRvciIsIm9wdGlvbmFsIiwiVklkIiwidGFibGVOYW1lIiwianNvbiIsInR5cGUiLCJhc09wdGlvbmFsIiwiVkZsb2F0NjQiLCJhcmd1bWVudHMiLCJWSW50NjQiLCJWQm9vbGVhbiIsImtpbmQiLCJWQnl0ZXMiLCJWU3RyaW5nIiwiVk51bGwiLCJWQW55IiwiVk9iamVjdCIsImZpZWxkcyIsImdsb2JhbFRoaXMiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJtYXAiLCJrIiwidiIsImZpZWxkVHlwZSIsIlZMaXRlcmFsIiwiVkFycmF5IiwiZWxlbWVudCIsIlZSZWNvcmQiLCJFcnJvciIsImtleXMiLCJ2YWx1ZXMiLCJWVW5pb24iLCJtZW1iZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/validators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/value.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/value.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBigInt: () => (/* binding */ base64ToBigInt),\n/* harmony export */   bigIntToBase64: () => (/* binding */ bigIntToBase64),\n/* harmony export */   convexOrUndefinedToJson: () => (/* binding */ convexOrUndefinedToJson),\n/* harmony export */   convexToJson: () => (/* binding */ convexToJson),\n/* harmony export */   jsonToConvex: () => (/* binding */ jsonToConvex),\n/* harmony export */   modernBase64ToBigInt: () => (/* binding */ modernBase64ToBigInt),\n/* harmony export */   modernBigIntToBase64: () => (/* binding */ modernBigIntToBase64),\n/* harmony export */   patchValueToJson: () => (/* binding */ patchValueToJson),\n/* harmony export */   slowBase64ToBigInt: () => (/* binding */ slowBase64ToBigInt),\n/* harmony export */   slowBigIntToBase64: () => (/* binding */ slowBigIntToBase64),\n/* harmony export */   stringifyValueForError: () => (/* binding */ stringifyValueForError)\n/* harmony export */ });\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n\n\n\nconst LITTLE_ENDIAN = true;\nconst MIN_INT64 = BigInt(\"-9223372036854775808\");\nconst MAX_INT64 = BigInt(\"9223372036854775807\");\nconst ZERO = BigInt(\"0\");\nconst EIGHT = BigInt(\"8\");\nconst TWOFIFTYSIX = BigInt(\"256\");\nfunction isSpecial(n) {\n    return Number.isNaN(n) || !Number.isFinite(n) || Object.is(n, -0);\n}\nfunction slowBigIntToBase64(value) {\n    if (value < ZERO) {\n        value -= MIN_INT64 + MIN_INT64;\n    }\n    let hex = value.toString(16);\n    if (hex.length % 2 === 1) hex = \"0\" + hex;\n    const bytes = new Uint8Array(new ArrayBuffer(8));\n    let i = 0;\n    for (const hexByte of hex.match(/.{2}/g).reverse()){\n        bytes.set([\n            parseInt(hexByte, 16)\n        ], i++);\n        value >>= EIGHT;\n    }\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(bytes);\n}\nfunction slowBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    let value = ZERO;\n    let power = ZERO;\n    for (const byte of integerBytes){\n        value += BigInt(byte) * TWOFIFTYSIX ** power;\n        power++;\n    }\n    if (value > MAX_INT64) {\n        value += MIN_INT64 + MIN_INT64;\n    }\n    return value;\n}\nfunction modernBigIntToBase64(value) {\n    if (value < MIN_INT64 || MAX_INT64 < value) {\n        throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n    }\n    const buffer = new ArrayBuffer(8);\n    new DataView(buffer).setBigInt64(0, value, true);\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer));\n}\nfunction modernBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    const intBytesView = new DataView(integerBytes.buffer);\n    return intBytesView.getBigInt64(0, true);\n}\nconst bigIntToBase64 = DataView.prototype.setBigInt64 ? modernBigIntToBase64 : slowBigIntToBase64;\nconst base64ToBigInt = DataView.prototype.getBigInt64 ? modernBase64ToBigInt : slowBase64ToBigInt;\nconst MAX_IDENTIFIER_LEN = 1024;\nfunction validateObjectField(k) {\n    if (k.length > MAX_IDENTIFIER_LEN) {\n        throw new Error(`Field name ${k} exceeds maximum field name length ${MAX_IDENTIFIER_LEN}.`);\n    }\n    if (k.startsWith(\"$\")) {\n        throw new Error(`Field name ${k} starts with a '$', which is reserved.`);\n    }\n    for(let i = 0; i < k.length; i += 1){\n        const charCode = k.charCodeAt(i);\n        if (charCode < 32 || charCode >= 127) {\n            throw new Error(`Field name ${k} has invalid character '${k[i]}': Field names can only contain non-control ASCII characters`);\n        }\n    }\n}\nfunction jsonToConvex(value) {\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2)=>jsonToConvex(value2));\n    }\n    if (typeof value !== \"object\") {\n        throw new Error(`Unexpected type of ${value}`);\n    }\n    const entries = Object.entries(value);\n    if (entries.length === 1) {\n        const key = entries[0][0];\n        if (key === \"$bytes\") {\n            if (typeof value.$bytes !== \"string\") {\n                throw new Error(`Malformed $bytes field on ${value}`);\n            }\n            return _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$bytes).buffer;\n        }\n        if (key === \"$integer\") {\n            if (typeof value.$integer !== \"string\") {\n                throw new Error(`Malformed $integer field on ${value}`);\n            }\n            return base64ToBigInt(value.$integer);\n        }\n        if (key === \"$float\") {\n            if (typeof value.$float !== \"string\") {\n                throw new Error(`Malformed $float field on ${value}`);\n            }\n            const floatBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$float);\n            if (floatBytes.byteLength !== 8) {\n                throw new Error(`Received ${floatBytes.byteLength} bytes, expected 8 for $float`);\n            }\n            const floatBytesView = new DataView(floatBytes.buffer);\n            const float = floatBytesView.getFloat64(0, LITTLE_ENDIAN);\n            if (!isSpecial(float)) {\n                throw new Error(`Float ${float} should be encoded as a number`);\n            }\n            return float;\n        }\n        if (key === \"$set\") {\n            throw new Error(`Received a Set which is no longer supported as a Convex type.`);\n        }\n        if (key === \"$map\") {\n            throw new Error(`Received a Map which is no longer supported as a Convex type.`);\n        }\n    }\n    const out = {};\n    for (const [k, v] of Object.entries(value)){\n        validateObjectField(k);\n        out[k] = jsonToConvex(v);\n    }\n    return out;\n}\nfunction stringifyValueForError(value) {\n    return JSON.stringify(value, (_key, value2)=>{\n        if (value2 === void 0) {\n            return \"undefined\";\n        }\n        if (typeof value2 === \"bigint\") {\n            return `${value2.toString()}n`;\n        }\n        return value2;\n    });\n}\nfunction convexToJsonInternal(value, originalValue, context, includeTopLevelUndefined) {\n    if (value === void 0) {\n        const contextText = context && ` (present at path ${context} in original object ${stringifyValueForError(originalValue)})`;\n        throw new Error(`undefined is not a valid Convex value${contextText}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);\n    }\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"bigint\") {\n        if (value < MIN_INT64 || MAX_INT64 < value) {\n            throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n        }\n        return {\n            $integer: bigIntToBase64(value)\n        };\n    }\n    if (typeof value === \"number\") {\n        if (isSpecial(value)) {\n            const buffer = new ArrayBuffer(8);\n            new DataView(buffer).setFloat64(0, value, LITTLE_ENDIAN);\n            return {\n                $float: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer))\n            };\n        } else {\n            return value;\n        }\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (value instanceof ArrayBuffer) {\n        return {\n            $bytes: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(value))\n        };\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2, i)=>convexToJsonInternal(value2, originalValue, context + `[${i}]`, false));\n    }\n    if (value instanceof Set) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Set\", [\n            ...value\n        ], originalValue));\n    }\n    if (value instanceof Map) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Map\", [\n            ...value\n        ], originalValue));\n    }\n    if (!(0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleObject)(value)) {\n        const theType = value?.constructor?.name;\n        const typeName = theType ? `${theType} ` : \"\";\n        throw new Error(errorMessageForUnsupportedType(context, typeName, value, originalValue));\n    }\n    const out = {};\n    const entries = Object.entries(value);\n    entries.sort(([k1, _v1], [k2, _v2])=>k1 === k2 ? 0 : k1 < k2 ? -1 : 1);\n    for (const [k, v] of entries){\n        if (v !== void 0) {\n            validateObjectField(k);\n            out[k] = convexToJsonInternal(v, originalValue, context + `.${k}`, false);\n        } else if (includeTopLevelUndefined) {\n            validateObjectField(k);\n            out[k] = convexOrUndefinedToJsonInternal(v, originalValue, context + `.${k}`);\n        }\n    }\n    return out;\n}\nfunction errorMessageForUnsupportedType(context, typeName, value, originalValue) {\n    if (context) {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type (present at path ${context} in original object ${stringifyValueForError(originalValue)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`;\n    } else {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type.`;\n    }\n}\nfunction convexOrUndefinedToJsonInternal(value, originalValue, context) {\n    if (value === void 0) {\n        return {\n            $undefined: null\n        };\n    } else {\n        if (originalValue === void 0) {\n            throw new Error(`Programming error. Current value is ${stringifyValueForError(value)} but original value is undefined`);\n        }\n        return convexToJsonInternal(value, originalValue, context, false);\n    }\n}\nfunction convexToJson(value) {\n    return convexToJsonInternal(value, value, \"\", false);\n}\nfunction convexOrUndefinedToJson(value) {\n    return convexOrUndefinedToJsonInternal(value, value, \"\");\n}\nfunction patchValueToJson(value) {\n    return convexToJsonInternal(value, value, \"\", true);\n} //# sourceMappingURL=value.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDeUI7QUFDYztBQUNwRCxNQUFNRSxnQkFBZ0I7QUFDdEIsTUFBTUMsWUFBWUMsT0FBTztBQUN6QixNQUFNQyxZQUFZRCxPQUFPO0FBQ3pCLE1BQU1FLE9BQU9GLE9BQU87QUFDcEIsTUFBTUcsUUFBUUgsT0FBTztBQUNyQixNQUFNSSxjQUFjSixPQUFPO0FBQzNCLFNBQVNLLFVBQVVDLENBQUM7SUFDbEIsT0FBT0MsT0FBT0MsS0FBSyxDQUFDRixNQUFNLENBQUNDLE9BQU9FLFFBQVEsQ0FBQ0gsTUFBTUksT0FBT0MsRUFBRSxDQUFDTCxHQUFHLENBQUM7QUFDakU7QUFDTyxTQUFTTSxtQkFBbUJDLEtBQUs7SUFDdEMsSUFBSUEsUUFBUVgsTUFBTTtRQUNoQlcsU0FBU2QsWUFBWUE7SUFDdkI7SUFDQSxJQUFJZSxNQUFNRCxNQUFNRSxRQUFRLENBQUM7SUFDekIsSUFBSUQsSUFBSUUsTUFBTSxHQUFHLE1BQU0sR0FBR0YsTUFBTSxNQUFNQTtJQUN0QyxNQUFNRyxRQUFRLElBQUlDLFdBQVcsSUFBSUMsWUFBWTtJQUM3QyxJQUFJQyxJQUFJO0lBQ1IsS0FBSyxNQUFNQyxXQUFXUCxJQUFJUSxLQUFLLENBQUMsU0FBU0MsT0FBTyxHQUFJO1FBQ2xETixNQUFNTyxHQUFHLENBQUM7WUFBQ0MsU0FBU0osU0FBUztTQUFJLEVBQUVEO1FBQ25DUCxVQUFVVjtJQUNaO0lBQ0EsT0FBT1AscURBQW9CLENBQUNxQjtBQUM5QjtBQUNPLFNBQVNVLG1CQUFtQkMsT0FBTztJQUN4QyxNQUFNQyxlQUFlakMsbURBQWtCLENBQUNnQztJQUN4QyxJQUFJQyxhQUFhRSxVQUFVLEtBQUssR0FBRztRQUNqQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxTQUFTLEVBQUVILGFBQWFFLFVBQVUsQ0FBQywrQkFBK0IsQ0FBQztJQUV4RTtJ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Q3JDdEQsT0FDQSxnQ0FBZ0MsQ0FBQztRQUV2QztRQUNBLE9BQU8wRCxxQkFBcUIxRCxPQUFPMkQsZUFBZUMsU0FBUztJQUM3RDtBQUNGO0FBQ08sU0FBU2tCLGFBQWE5RSxLQUFLO0lBQ2hDLE9BQU8wRCxxQkFBcUIxRCxPQUFPQSxPQUFPLElBQUk7QUFDaEQ7QUFDTyxTQUFTK0Usd0JBQXdCL0UsS0FBSztJQUMzQyxPQUFPNEUsZ0NBQWdDNUUsT0FBT0EsT0FBTztBQUN2RDtBQUNPLFNBQVNnRixpQkFBaUJoRixLQUFLO0lBQ3BDLE9BQU8wRCxxQkFBcUIxRCxPQUFPQSxPQUFPLElBQUk7QUFDaEQsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcmFzb3JfY2xvbmUvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWx1ZS5qcz8xNWIzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0ICogYXMgQmFzZTY0IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuaW1wb3J0IHsgaXNTaW1wbGVPYmplY3QgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5jb25zdCBMSVRUTEVfRU5ESUFOID0gdHJ1ZTtcbmNvbnN0IE1JTl9JTlQ2NCA9IEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpO1xuY29uc3QgTUFYX0lOVDY0ID0gQmlnSW50KFwiOTIyMzM3MjAzNjg1NDc3NTgwN1wiKTtcbmNvbnN0IFpFUk8gPSBCaWdJbnQoXCIwXCIpO1xuY29uc3QgRUlHSFQgPSBCaWdJbnQoXCI4XCIpO1xuY29uc3QgVFdPRklGVFlTSVggPSBCaWdJbnQoXCIyNTZcIik7XG5mdW5jdGlvbiBpc1NwZWNpYWwobikge1xuICByZXR1cm4gTnVtYmVyLmlzTmFOKG4pIHx8ICFOdW1iZXIuaXNGaW5pdGUobikgfHwgT2JqZWN0LmlzKG4sIC0wKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzbG93QmlnSW50VG9CYXNlNjQodmFsdWUpIHtcbiAgaWYgKHZhbHVlIDwgWkVSTykge1xuICAgIHZhbHVlIC09IE1JTl9JTlQ2NCArIE1JTl9JTlQ2NDtcbiAgfVxuICBsZXQgaGV4ID0gdmFsdWUudG9TdHJpbmcoMTYpO1xuICBpZiAoaGV4Lmxlbmd0aCAlIDIgPT09IDEpIGhleCA9IFwiMFwiICsgaGV4O1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcig4KSk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChjb25zdCBoZXhCeXRlIG9mIGhleC5tYXRjaCgvLnsyfS9nKS5yZXZlcnNlKCkpIHtcbiAgICBieXRlcy5zZXQoW3BhcnNlSW50KGhleEJ5dGUsIDE2KV0sIGkrKyk7XG4gICAgdmFsdWUgPj49IEVJR0hUO1xuICB9XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShieXRlcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2xvd0Jhc2U2NFRvQmlnSW50KGVuY29kZWQpIHtcbiAgY29uc3QgaW50ZWdlckJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KGVuY29kZWQpO1xuICBpZiAoaW50ZWdlckJ5dGVzLmJ5dGVMZW5ndGggIT09IDgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgJHtpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aH0gYnl0ZXMsIGV4cGVjdGVkIDggZm9yICRpbnRlZ2VyYFxuICAgICk7XG4gIH1cbiAgbGV0IHZhbHVlID0gWkVSTztcbiAgbGV0IHBvd2VyID0gWkVSTztcbiAgZm9yIChjb25zdCBieXRlIG9mIGludGVnZXJCeXRlcykge1xuICAgIHZhbHVlICs9IEJpZ0ludChieXRlKSAqIFRXT0ZJRlRZU0lYICoqIHBvd2VyO1xuICAgIHBvd2VyKys7XG4gIH1cbiAgaWYgKHZhbHVlID4gTUFYX0lOVDY0KSB7XG4gICAgdmFsdWUgKz0gTUlOX0lOVDY0ICsgTUlOX0lOVDY0O1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtb2Rlcm5CaWdJbnRUb0Jhc2U2NCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPCBNSU5fSU5UNjQgfHwgTUFYX0lOVDY0IDwgdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQmlnSW50ICR7dmFsdWV9IGRvZXMgbm90IGZpdCBpbnRvIGEgNjQtYml0IHNpZ25lZCBpbnRlZ2VyLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcbiAgbmV3IERhdGFWaWV3KGJ1ZmZlcikuc2V0QmlnSW50NjQoMCwgdmFsdWUsIHRydWUpO1xuICByZXR1cm4gQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbW9kZXJuQmFzZTY0VG9CaWdJbnQoZW5jb2RlZCkge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkoZW5jb2RlZCk7XG4gIGlmIChpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBSZWNlaXZlZCAke2ludGVnZXJCeXRlcy5ieXRlTGVuZ3RofSBieXRlcywgZXhwZWN0ZWQgOCBmb3IgJGludGVnZXJgXG4gICAgKTtcbiAgfVxuICBjb25zdCBpbnRCeXRlc1ZpZXcgPSBuZXcgRGF0YVZpZXcoaW50ZWdlckJ5dGVzLmJ1ZmZlcik7XG4gIHJldHVybiBpbnRCeXRlc1ZpZXcuZ2V0QmlnSW50NjQoMCwgdHJ1ZSk7XG59XG5leHBvcnQgY29uc3QgYmlnSW50VG9CYXNlNjQgPSBEYXRhVmlldy5wcm90b3R5cGUuc2V0QmlnSW50NjQgPyBtb2Rlcm5CaWdJbnRUb0Jhc2U2NCA6IHNsb3dCaWdJbnRUb0Jhc2U2NDtcbmV4cG9ydCBjb25zdCBiYXNlNjRUb0JpZ0ludCA9IERhdGFWaWV3LnByb3RvdHlwZS5nZXRCaWdJbnQ2NCA/IG1vZGVybkJhc2U2NFRvQmlnSW50IDogc2xvd0Jhc2U2NFRvQmlnSW50O1xuY29uc3QgTUFYX0lERU5USUZJRVJfTEVOID0gMTAyNDtcbmZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0RmllbGQoaykge1xuICBpZiAoay5sZW5ndGggPiBNQVhfSURFTlRJRklFUl9MRU4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmllbGQgbmFtZSAke2t9IGV4Y2VlZHMgbWF4aW11bSBmaWVsZCBuYW1lIGxlbmd0aCAke01BWF9JREVOVElGSUVSX0xFTn0uYFxuICAgICk7XG4gIH1cbiAgaWYgKGsuc3RhcnRzV2l0aChcIiRcIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZpZWxkIG5hbWUgJHtrfSBzdGFydHMgd2l0aCBhICckJywgd2hpY2ggaXMgcmVzZXJ2ZWQuYCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgY2hhckNvZGUgPSBrLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNoYXJDb2RlIDwgMzIgfHwgY2hhckNvZGUgPj0gMTI3KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGaWVsZCBuYW1lICR7a30gaGFzIGludmFsaWQgY2hhcmFjdGVyICcke2tbaV19JzogRmllbGQgbmFtZXMgY2FuIG9ubHkgY29udGFpbiBub24tY29udHJvbCBBU0NJSSBjaGFyYWN0ZXJzYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9Db252ZXgodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2YWx1ZTIpID0+IGpzb25Ub0NvbnZleCh2YWx1ZTIpKTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgb2YgJHt2YWx1ZX1gKTtcbiAgfVxuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWUpO1xuICBpZiAoZW50cmllcy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBrZXkgPSBlbnRyaWVzWzBdWzBdO1xuICAgIGlmIChrZXkgPT09IFwiJGJ5dGVzXCIpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUuJGJ5dGVzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkICRieXRlcyBmaWVsZCBvbiAke3ZhbHVlfWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEJhc2U2NC50b0J5dGVBcnJheSh2YWx1ZS4kYnl0ZXMpLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkaW50ZWdlclwiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLiRpbnRlZ2VyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkICRpbnRlZ2VyIGZpZWxkIG9uICR7dmFsdWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZTY0VG9CaWdJbnQodmFsdWUuJGludGVnZXIpO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRmbG9hdFwiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLiRmbG9hdCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCAkZmxvYXQgZmllbGQgb24gJHt2YWx1ZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZsb2F0Qnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkodmFsdWUuJGZsb2F0KTtcbiAgICAgIGlmIChmbG9hdEJ5dGVzLmJ5dGVMZW5ndGggIT09IDgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSZWNlaXZlZCAke2Zsb2F0Qnl0ZXMuYnl0ZUxlbmd0aH0gYnl0ZXMsIGV4cGVjdGVkIDggZm9yICRmbG9hdGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZsb2F0Qnl0ZXNWaWV3ID0gbmV3IERhdGFWaWV3KGZsb2F0Qnl0ZXMuYnVmZmVyKTtcbiAgICAgIGNvbnN0IGZsb2F0ID0gZmxvYXRCeXRlc1ZpZXcuZ2V0RmxvYXQ2NCgwLCBMSVRUTEVfRU5ESUFOKTtcbiAgICAgIGlmICghaXNTcGVjaWFsKGZsb2F0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZsb2F0ICR7ZmxvYXR9IHNob3VsZCBiZSBlbmNvZGVkIGFzIGEgbnVtYmVyYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvYXQ7XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiJHNldFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBSZWNlaXZlZCBhIFNldCB3aGljaCBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFzIGEgQ29udmV4IHR5cGUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkbWFwXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlY2VpdmVkIGEgTWFwIHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBjb25zdCBvdXQgPSB7fTtcbiAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgdmFsaWRhdGVPYmplY3RGaWVsZChrKTtcbiAgICBvdXRba10gPSBqc29uVG9Db252ZXgodik7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlWYWx1ZUZvckVycm9yKHZhbHVlKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgKF9rZXksIHZhbHVlMikgPT4ge1xuICAgIGlmICh2YWx1ZTIgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUyID09PSBcImJpZ2ludFwiKSB7XG4gICAgICByZXR1cm4gYCR7dmFsdWUyLnRvU3RyaW5nKCl9bmA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTI7XG4gIH0pO1xufVxuZnVuY3Rpb24gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQsIGluY2x1ZGVUb3BMZXZlbFVuZGVmaW5lZCkge1xuICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgIGNvbnN0IGNvbnRleHRUZXh0ID0gY29udGV4dCAmJiBgIChwcmVzZW50IGF0IHBhdGggJHtjb250ZXh0fSBpbiBvcmlnaW5hbCBvYmplY3QgJHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgb3JpZ2luYWxWYWx1ZVxuICAgICl9KWA7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHVuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBDb252ZXggdmFsdWUke2NvbnRleHRUZXh0fS4gVG8gbGVhcm4gYWJvdXQgQ29udmV4J3Mgc3VwcG9ydGVkIHR5cGVzLCBzZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvdXNpbmcvdHlwZXMuYFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICBpZiAodmFsdWUgPCBNSU5fSU5UNjQgfHwgTUFYX0lOVDY0IDwgdmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEJpZ0ludCAke3ZhbHVlfSBkb2VzIG5vdCBmaXQgaW50byBhIDY0LWJpdCBzaWduZWQgaW50ZWdlci5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyAkaW50ZWdlcjogYmlnSW50VG9CYXNlNjQodmFsdWUpIH07XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmIChpc1NwZWNpYWwodmFsdWUpKSB7XG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRGbG9hdDY0KDAsIHZhbHVlLCBMSVRUTEVfRU5ESUFOKTtcbiAgICAgIHJldHVybiB7ICRmbG9hdDogQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIHsgJGJ5dGVzOiBCYXNlNjQuZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2YWx1ZSkpIH07XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcChcbiAgICAgICh2YWx1ZTIsIGkpID0+IGNvbnZleFRvSnNvbkludGVybmFsKHZhbHVlMiwgb3JpZ2luYWxWYWx1ZSwgY29udGV4dCArIGBbJHtpfV1gLCBmYWxzZSlcbiAgICApO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yTWVzc2FnZUZvclVuc3VwcG9ydGVkVHlwZShjb250ZXh0LCBcIlNldFwiLCBbLi4udmFsdWVdLCBvcmlnaW5hbFZhbHVlKVxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIFwiTWFwXCIsIFsuLi52YWx1ZV0sIG9yaWdpbmFsVmFsdWUpXG4gICAgKTtcbiAgfVxuICBpZiAoIWlzU2ltcGxlT2JqZWN0KHZhbHVlKSkge1xuICAgIGNvbnN0IHRoZVR5cGUgPSB2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWU7XG4gICAgY29uc3QgdHlwZU5hbWUgPSB0aGVUeXBlID8gYCR7dGhlVHlwZX0gYCA6IFwiXCI7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIHR5cGVOYW1lLCB2YWx1ZSwgb3JpZ2luYWxWYWx1ZSlcbiAgICApO1xuICB9XG4gIGNvbnN0IG91dCA9IHt9O1xuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWUpO1xuICBlbnRyaWVzLnNvcnQoKFtrMSwgX3YxXSwgW2syLCBfdjJdKSA9PiBrMSA9PT0gazIgPyAwIDogazEgPCBrMiA/IC0xIDogMSk7XG4gIGZvciAoY29uc3QgW2ssIHZdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodiAhPT0gdm9pZCAwKSB7XG4gICAgICB2YWxpZGF0ZU9iamVjdEZpZWxkKGspO1xuICAgICAgb3V0W2tdID0gY29udmV4VG9Kc29uSW50ZXJuYWwodiwgb3JpZ2luYWxWYWx1ZSwgY29udGV4dCArIGAuJHtrfWAsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGluY2x1ZGVUb3BMZXZlbFVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdGVPYmplY3RGaWVsZChrKTtcbiAgICAgIG91dFtrXSA9IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwoXG4gICAgICAgIHYsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGNvbnRleHQgKyBgLiR7a31gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIHR5cGVOYW1lLCB2YWx1ZSwgb3JpZ2luYWxWYWx1ZSkge1xuICBpZiAoY29udGV4dCkge1xuICAgIHJldHVybiBgJHt0eXBlTmFtZX0ke3N0cmluZ2lmeVZhbHVlRm9yRXJyb3IoXG4gICAgICB2YWx1ZVxuICAgICl9IGlzIG5vdCBhIHN1cHBvcnRlZCBDb252ZXggdHlwZSAocHJlc2VudCBhdCBwYXRoICR7Y29udGV4dH0gaW4gb3JpZ2luYWwgb2JqZWN0ICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIG9yaWdpbmFsVmFsdWVcbiAgICApfSkuIFRvIGxlYXJuIGFib3V0IENvbnZleCdzIHN1cHBvcnRlZCB0eXBlcywgc2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL3R5cGVzLmA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3R5cGVOYW1lfSR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIHZhbHVlXG4gICAgKX0gaXMgbm90IGEgc3VwcG9ydGVkIENvbnZleCB0eXBlLmA7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4geyAkdW5kZWZpbmVkOiBudWxsIH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUHJvZ3JhbW1pbmcgZXJyb3IuIEN1cnJlbnQgdmFsdWUgaXMgJHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgICl9IGJ1dCBvcmlnaW5hbCB2YWx1ZSBpcyB1bmRlZmluZWRgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQsIGZhbHNlKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZleFRvSnNvbih2YWx1ZSkge1xuICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIHZhbHVlLCBcIlwiLCBmYWxzZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpIHtcbiAgcmV0dXJuIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uSW50ZXJuYWwodmFsdWUsIHZhbHVlLCBcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaFZhbHVlVG9Kc29uKHZhbHVlKSB7XG4gIHJldHVybiBjb252ZXhUb0pzb25JbnRlcm5hbCh2YWx1ZSwgdmFsdWUsIFwiXCIsIHRydWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsdWUuanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZTY0IiwiaXNTaW1wbGVPYmplY3QiLCJMSVRUTEVfRU5ESUFOIiwiTUlOX0lOVDY0IiwiQmlnSW50IiwiTUFYX0lOVDY0IiwiWkVSTyIsIkVJR0hUIiwiVFdPRklGVFlTSVgiLCJpc1NwZWNpYWwiLCJuIiwiTnVtYmVyIiwiaXNOYU4iLCJpc0Zpbml0ZSIsIk9iamVjdCIsImlzIiwic2xvd0JpZ0ludFRvQmFzZTY0IiwidmFsdWUiLCJoZXgiLCJ0b1N0cmluZyIsImxlbmd0aCIsImJ5dGVzIiwiVWludDhBcnJheSIsIkFycmF5QnVmZmVyIiwiaSIsImhleEJ5dGUiLCJtYXRjaCIsInJldmVyc2UiLCJzZXQiLCJwYXJzZUludCIsImZyb21CeXRlQXJyYXkiLCJzbG93QmFzZTY0VG9CaWdJbnQiLCJlbmNvZGVkIiwiaW50ZWdlckJ5dGVzIiwidG9CeXRlQXJyYXkiLCJieXRlTGVuZ3RoIiwiRXJyb3IiLCJwb3dlciIsImJ5dGUiLCJtb2Rlcm5CaWdJbnRUb0Jhc2U2NCIsImJ1ZmZlciIsIkRhdGFWaWV3Iiwic2V0QmlnSW50NjQiLCJtb2Rlcm5CYXNlNjRUb0JpZ0ludCIsImludEJ5dGVzVmlldyIsImdldEJpZ0ludDY0IiwiYmlnSW50VG9CYXNlNjQiLCJwcm90b3R5cGUiLCJiYXNlNjRUb0JpZ0ludCIsIk1BWF9JREVOVElGSUVSX0xFTiIsInZhbGlkYXRlT2JqZWN0RmllbGQiLCJrIiwic3RhcnRzV2l0aCIsImNoYXJDb2RlIiwiY2hhckNvZGVBdCIsImpzb25Ub0NvbnZleCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInZhbHVlMiIsImVudHJpZXMiLCJrZXkiLCIkYnl0ZXMiLCIkaW50ZWdlciIsIiRmbG9hdCIsImZsb2F0Qnl0ZXMiLCJmbG9hdEJ5dGVzVmlldyIsImZsb2F0IiwiZ2V0RmxvYXQ2NCIsIm91dCIsInYiLCJzdHJpbmdpZnlWYWx1ZUZvckVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9rZXkiLCJjb252ZXhUb0pzb25JbnRlcm5hbCIsIm9yaWdpbmFsVmFsdWUiLCJjb250ZXh0IiwiaW5jbHVkZVRvcExldmVsVW5kZWZpbmVkIiwiY29udGV4dFRleHQiLCJzZXRGbG9hdDY0IiwiU2V0IiwiZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlIiwiTWFwIiwidGhlVHlwZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInR5cGVOYW1lIiwic29ydCIsImsxIiwiX3YxIiwiazIiLCJfdjIiLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsIiwiJHVuZGVmaW5lZCIsImNvbnZleFRvSnNvbiIsImNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIiwicGF0Y2hWYWx1ZVRvSnNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/value.js\n");

/***/ })

};
;