"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(routes)/workspace/[fileId]/page",{

/***/ "(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx":
/*!*******************************************************!*\
  !*** ./app/(routes)/workspace/_components/Canvas.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-draggable */ \"(app-pages-browser)/./node_modules/react-draggable/build/cjs/cjs.js\");\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_draggable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dnd */ \"(app-pages-browser)/./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! html2canvas */ \"(app-pages-browser)/./node_modules/html2canvas/dist/html2canvas.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-out.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-in.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/move.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nconst Canvas = (param)=>{\n    let { fileId, onDragStart, draggedImage, onDropComplete, onComponentAdd, components, onComponentDelete } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [positions, setPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [rotations, setRotations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [zoomLevel, setZoomLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1); // 1 = 100% zoom\n    const [panOffset, setPanOffset] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isPanning, setIsPanning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastMousePosition, setLastMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cursorStyle, setCursorStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"default\");\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visible: false,\n        x: 0,\n        y: 0,\n        instanceId: \"\"\n    });\n    // Constants for zoom\n    const MIN_ZOOM = 0.5; // 50% minimum zoom\n    const MAX_ZOOM = 3.0; // 300% maximum zoom\n    const ZOOM_STEP = 0.1; // 10% zoom per scroll step\n    // Functions to convert between screen and canvas coordinates\n    const screenToCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((screenX, screenY)=>{\n        if (!canvasRef.current) return {\n            x: 0,\n            y: 0\n        };\n        const canvasRect = canvasRef.current.getBoundingClientRect();\n        // Adjust for current pan offset and zoom\n        const x = (screenX - canvasRect.left - panOffset.x) / zoomLevel;\n        const y = (screenY - canvasRect.top - panOffset.y) / zoomLevel;\n        return {\n            x,\n            y\n        };\n    }, [\n        zoomLevel,\n        panOffset\n    ]);\n    // Toggle between pan tool and selection tool\n    const togglePanTool = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!components) return;\n        const initialPositions = {};\n        const initialRotations = {};\n        components.forEach((comp)=>{\n            if (comp) {\n                initialPositions[comp.instanceId] = {\n                    x: comp.x,\n                    y: comp.y\n                };\n                initialRotations[comp.instanceId] = comp.rotation || 0;\n            }\n        });\n        setPositions(initialPositions);\n        setRotations(initialRotations);\n    }, [\n        components\n    ]);\n    // Handle mouse wheel for zooming - now with focus point zoom\n    const handleWheel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        var _canvasContainerRef_current;\n        e.preventDefault();\n        if (e.buttons === 4 || e.buttons === 1 && e.altKey) {\n            // If middle button is pressed during scroll, handle panning instead\n            const deltaX = e.deltaX;\n            const deltaY = e.deltaY;\n            setPanOffset((prev)=>({\n                    x: prev.x - deltaX,\n                    y: prev.y - deltaY\n                }));\n            return;\n        }\n        const containerRect = (_canvasContainerRef_current = canvasContainerRef.current) === null || _canvasContainerRef_current === void 0 ? void 0 : _canvasContainerRef_current.getBoundingClientRect();\n        if (!containerRect) return;\n        // Get mouse position relative to container\n        const mouseX = e.clientX - containerRect.left;\n        const mouseY = e.clientY - containerRect.top;\n        // Calculate position before zoom\n        const beforeX = (mouseX - panOffset.x) / zoomLevel;\n        const beforeY = (mouseY - panOffset.y) / zoomLevel;\n        // Determine zoom direction\n        const delta = e.deltaY < 0 ? ZOOM_STEP : -ZOOM_STEP;\n        // Calculate new zoom level with constraints\n        const newZoom = Math.min(MAX_ZOOM, Math.max(MIN_ZOOM, zoomLevel + delta));\n        // Calculate position after zoom\n        const afterX = (mouseX - panOffset.x) / newZoom;\n        const afterY = (mouseY - panOffset.y) / newZoom;\n        // Adjust pan offset to keep the point under mouse in the same position\n        const newPanOffsetX = panOffset.x - (afterX - beforeX) * newZoom;\n        const newPanOffsetY = panOffset.y - (afterY - beforeY) * newZoom;\n        setZoomLevel(newZoom);\n        setPanOffset({\n            x: newPanOffsetX,\n            y: newPanOffsetY\n        });\n    }, [\n        zoomLevel,\n        panOffset\n    ]);\n    // Handle mouse events for panning\n    const handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        // Middle mouse button (button 1) or left mouse with Alt key for panning\n        if (e.button === 1 || e.button === 0 && (e.altKey || cursorStyle === \"grab\")) {\n            e.preventDefault();\n            setIsPanning(true);\n            setLastMousePosition({\n                x: e.clientX,\n                y: e.clientY\n            });\n            setCursorStyle(\"grabbing\");\n        }\n    }, [\n        cursorStyle\n    ]);\n    const handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        if (isPanning && lastMousePosition) {\n            const deltaX = e.clientX - lastMousePosition.x;\n            const deltaY = e.clientY - lastMousePosition.y;\n            setPanOffset((prev)=>({\n                    x: prev.x + deltaX,\n                    y: prev.y + deltaY\n                }));\n            setLastMousePosition({\n                x: e.clientX,\n                y: e.clientY\n            });\n        }\n    }, [\n        isPanning,\n        lastMousePosition\n    ]);\n    const handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (isPanning) {\n            setIsPanning(false);\n            setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n        }\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Also stop panning if mouse leaves the canvas area\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (isPanning) {\n            setIsPanning(false);\n            setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n        }\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Register global mouse up to handle cases where mouse is released outside the component\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleGlobalMouseUp = ()=>{\n            if (isPanning) {\n                setIsPanning(false);\n                setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n            }\n        };\n        window.addEventListener(\"mouseup\", handleGlobalMouseUp);\n        return ()=>{\n            window.removeEventListener(\"mouseup\", handleGlobalMouseUp);\n        };\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Zoom in button handler\n    const handleZoomIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const newZoom = Math.min(MAX_ZOOM, zoomLevel + ZOOM_STEP);\n        setZoomLevel(newZoom);\n    }, [\n        zoomLevel\n    ]);\n    // Zoom out button handler\n    const handleZoomOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const newZoom = Math.max(MIN_ZOOM, zoomLevel - ZOOM_STEP);\n        setZoomLevel(newZoom);\n    }, [\n        zoomLevel\n    ]);\n    // Reset zoom and pan button handler\n    const resetZoomAndPan = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setZoomLevel(1);\n        setPanOffset({\n            x: 0,\n            y: 0\n        });\n    }, []);\n    // Modified handleDrop function to account for zoom level and pan offset\n    const handleDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((item, dropX, dropY)=>{\n        if (onComponentAdd) {\n            var _item_specs, _item_specs1, _item_specs2;\n            // Calculate the center point offset based on item dimensions\n            const centerOffsetX = (item.width || 100) / 2;\n            const centerOffsetY = (item.height || 100) / 2;\n            // Convert screen coordinates to canvas coordinates\n            const canvasCoords = screenToCanvas(dropX, dropY);\n            // Adjust the drop position for component center\n            const adjustedX = Math.max(0, canvasCoords.x - centerOffsetX);\n            const adjustedY = Math.max(0, canvasCoords.y - centerOffsetY);\n            // Ensure the item has all required specs\n            const newComponent = {\n                ...item,\n                x: adjustedX,\n                y: adjustedY,\n                instanceId: \"\".concat(item.id, \"-\").concat(Date.now()),\n                rotation: 0.0,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_item_specs = item.specs) === null || _item_specs === void 0 ? void 0 : _item_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_item_specs1 = item.specs) === null || _item_specs1 === void 0 ? void 0 : _item_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_item_specs2 = item.specs) === null || _item_specs2 === void 0 ? void 0 : _item_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...item.specs\n                }\n            };\n            onComponentAdd(newComponent, \"add\");\n        }\n        onDropComplete();\n    }, [\n        onComponentAdd,\n        onDropComplete,\n        screenToCanvas\n    ]);\n    const [{ isOver }, drop] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop)(()=>({\n            accept: \"libraryItem\",\n            drop: (item, monitor)=>{\n                const offset = monitor.getClientOffset();\n                if (offset && canvasRef.current) {\n                    handleDrop(item, offset.x, offset.y);\n                }\n            },\n            collect: (monitor)=>({\n                    isOver: !!monitor.isOver()\n                })\n        }), [\n        handleDrop\n    ]);\n    const handleDragStop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((instanceId, data)=>{\n        if (!components) return;\n        const updatedPositions = {\n            ...positions,\n            [instanceId]: {\n                x: data.x,\n                y: data.y\n            }\n        };\n        setPositions(updatedPositions);\n        const component = components.find((comp)=>comp.instanceId === instanceId);\n        if (component && onComponentAdd) {\n            var _component_specs, _component_specs1, _component_specs2;\n            onComponentAdd({\n                ...component,\n                x: data.x,\n                y: data.y,\n                rotation: rotations[instanceId] || 0.0,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_component_specs = component.specs) === null || _component_specs === void 0 ? void 0 : _component_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_component_specs1 = component.specs) === null || _component_specs1 === void 0 ? void 0 : _component_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_component_specs2 = component.specs) === null || _component_specs2 === void 0 ? void 0 : _component_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...component.specs\n                }\n            }, \"move\");\n        }\n    }, [\n        components,\n        positions,\n        rotations,\n        onComponentAdd\n    ]);\n    const handleRotate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((instanceId, degrees)=>{\n        const currentRotation = rotations[instanceId] || 0;\n        const newRotation = (currentRotation + degrees) % 360;\n        setRotations((prev)=>({\n                ...prev,\n                [instanceId]: newRotation\n            }));\n        const component = components.find((comp)=>comp.instanceId === instanceId);\n        if (component && onComponentAdd) {\n            var _positions_instanceId, _positions_instanceId1, _component_specs, _component_specs1, _component_specs2;\n            onComponentAdd({\n                ...component,\n                rotation: newRotation,\n                x: ((_positions_instanceId = positions[instanceId]) === null || _positions_instanceId === void 0 ? void 0 : _positions_instanceId.x) || component.x,\n                y: ((_positions_instanceId1 = positions[instanceId]) === null || _positions_instanceId1 === void 0 ? void 0 : _positions_instanceId1.y) || component.y,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_component_specs = component.specs) === null || _component_specs === void 0 ? void 0 : _component_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_component_specs1 = component.specs) === null || _component_specs1 === void 0 ? void 0 : _component_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_component_specs2 = component.specs) === null || _component_specs2 === void 0 ? void 0 : _component_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...component.specs\n                }\n            }, \"move\");\n        }\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0,\n            instanceId: \"\"\n        });\n    }, [\n        components,\n        positions,\n        rotations,\n        onComponentAdd\n    ]);\n    const saveAsPNG = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const link = document.createElement(\"a\");\n            link.download = \"canvas.png\";\n            link.href = canvas.toDataURL(\"image/png\");\n            link.click();\n        });\n    }, []);\n    const printCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const newWindow = window.open();\n            if (newWindow) {\n                newWindow.document.body.innerHTML = '<img src=\"'.concat(canvas.toDataURL(), '\" style=\"width:100%; height:auto;\">');\n                newWindow.print();\n            }\n        });\n    }, []);\n    // Handle right-click to open context menu\n    const handleContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e, instanceId)=>{\n        e.preventDefault();\n        setContextMenu({\n            visible: true,\n            x: e.clientX,\n            y: e.clientY,\n            instanceId\n        });\n    }, []);\n    // Handle delete from context menu\n    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (contextMenu.instanceId && onComponentDelete) {\n            onComponentDelete(contextMenu.instanceId);\n        }\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0,\n            instanceId: \"\"\n        });\n    }, [\n        contextMenu.instanceId,\n        onComponentDelete\n    ]);\n    // Hide context menu when clicking elsewhere\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClick = ()=>{\n            if (contextMenu.visible) {\n                setContextMenu({\n                    visible: false,\n                    x: 0,\n                    y: 0,\n                    instanceId: \"\"\n                });\n            }\n        };\n        document.addEventListener(\"click\", handleClick);\n        return ()=>{\n            document.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        contextMenu.visible\n    ]);\n    // Keyboard shortcuts for panning and zooming\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            // Space bar toggle pan mode\n            if (e.code === \"Space\" && !e.repeat) {\n                e.preventDefault();\n                setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n            }\n            // + key for zoom in\n            if (e.key === \"+\" || e.key === \"=\") {\n                e.preventDefault();\n                handleZoomIn();\n            }\n            // - key for zoom out\n            if (e.key === \"-\" || e.key === \"_\") {\n                e.preventDefault();\n                handleZoomOut();\n            }\n            // 0 or r key for reset\n            if (e.key === \"0\" || e.key === \"r\") {\n                e.preventDefault();\n                resetZoomAndPan();\n            }\n        };\n        const handleKeyUp = (e)=>{\n            // Release space bar\n            if (e.code === \"Space\") {\n                e.preventDefault();\n                if (!isPanning) {\n                    setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n                }\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n        };\n    }, [\n        handleZoomIn,\n        handleZoomOut,\n        resetZoomAndPan,\n        isPanning\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full max-h-screen\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-gray-100 p-2 flex items-center justify-between mb-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleZoomOut,\n                                disabled: zoomLevel <= MIN_ZOOM,\n                                className: \"p-1 rounded \".concat(zoomLevel <= MIN_ZOOM ? \"text-gray-400\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Zoom Out (- key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 427,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 421,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium w-16 text-center\",\n                                children: [\n                                    Math.round(zoomLevel * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleZoomIn,\n                                disabled: zoomLevel >= MAX_ZOOM,\n                                className: \"p-1 rounded \".concat(zoomLevel >= MAX_ZOOM ? \"text-gray-400\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Zoom In (+ key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 440,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: togglePanTool,\n                                className: \"p-1 rounded \".concat(cursorStyle === \"grab\" || cursorStyle === \"grabbing\" ? \"bg-blue-500 text-white\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Pan Tool (Space key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 448,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: resetZoomAndPan,\n                                className: \"text-xs text-blue-600 hover:underline\",\n                                title: \"Reset View (0 key)\",\n                                children: \"Reset\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 451,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 420,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 hidden md:inline\",\n                        children: \"(Middle-click to pan, scroll to zoom)\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 461,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: saveAsPNG,\n                                className: \"flex items-center space-x-1 bg-blue-500 text-white px-2 py-1 rounded shadow hover:bg-blue-600 text-sm\",\n                                title: \"Save as PNG\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 472,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"PNG\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 473,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 467,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: printCanvas,\n                                className: \"flex items-center space-x-1 bg-green-500 text-white px-2 py-1 rounded shadow hover:bg-green-600 text-sm\",\n                                title: \"Print Canvas\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Print\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 481,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 475,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 466,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                lineNumber: 418,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: canvasContainerRef,\n                className: \"flex-grow w-full p-1 overflow-auto\",\n                style: {\n                    height: \"calc(100vh - 110px)\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: (node)=>{\n                        drop(node);\n                        canvasRef.current = node;\n                    },\n                    className: \"relative bg-[#eff0f1] \".concat(isOver ? \"border-2 border-blue-500\" : \"\"),\n                    style: {\n                        width: \"100%\",\n                        height: \"100%\",\n                        transform: \"scale(\".concat(zoomLevel, \")\"),\n                        transformOrigin: \"top left\",\n                        transition: \"transform 0.1s ease-out\",\n                        cursor: cursorStyle,\n                        marginLeft: panOffset.x,\n                        marginTop: panOffset.y\n                    },\n                    onWheel: handleWheel,\n                    onMouseDown: handleMouseDown,\n                    onMouseMove: handleMouseMove,\n                    onMouseUp: handleMouseUp,\n                    onMouseLeave: handleMouseLeave,\n                    children: [\n                        \"// Update to component rendering in Canvas.tsx // Find this section in the Canvas.tsx component and replace it\",\n                        components === null || components === void 0 ? void 0 : components.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_draggable__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                defaultPosition: {\n                                    x: item.x,\n                                    y: item.y\n                                },\n                                position: positions[item.instanceId],\n                                onStop: (e, data)=>handleDragStop(item.instanceId, data),\n                                bounds: \"parent\",\n                                handle: \".drag-handle\",\n                                scale: zoomLevel,\n                                disabled: isPanning || cursorStyle === \"grab\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute cursor-move\",\n                                    onContextMenu: (e)=>handleContextMenu(e, item.instanceId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"drag-handle relative\",\n                                        style: {\n                                            backgroundImage: \"url(\".concat(item.svg, \")\"),\n                                            backgroundSize: \"contain\",\n                                            backgroundRepeat: \"no-repeat\",\n                                            backgroundPosition: \"center\",\n                                            width: \"\".concat(item.width || 100, \"px\"),\n                                            height: \"\".concat(item.height || 100, \"px\"),\n                                            transform: \"rotate(\".concat(rotations[item.instanceId] || 0, \"deg)\"),\n                                            transition: \"transform 0.3s ease\",\n                                            cursor: isPanning || cursorStyle === \"grab\" ? cursorStyle : \"move\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 534,\n                                        columnNumber: 7\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 5\n                                }, undefined)\n                            }, item.instanceId, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 520,\n                                columnNumber: 3\n                            }, undefined)),\n                        contextMenu.visible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"fixed bg-white shadow-lg rounded-md py-2 z-50\",\n                            style: {\n                                top: contextMenu.y,\n                                left: contextMenu.x\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 90),\n                                    children: \"Rotate 90\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 564,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 180),\n                                    children: \"Rotate 180\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600\",\n                                    onClick: handleDelete,\n                                    children: \"Delete\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 576,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                            lineNumber: 560,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                    lineNumber: 492,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                lineNumber: 487,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n        lineNumber: 416,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"kCvLO0WcvrnyvjJBrJnhy+gmJfE=\", false, function() {\n    return [\n        react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop\n    ];\n});\n_c = Canvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocm91dGVzKS93b3Jrc3BhY2UvX2NvbXBvbmVudHMvQ2FudmFzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ2hDO0FBQ0o7QUFFRTtBQUc4QjtBQW1CcEUsTUFBTWEsU0FBZ0M7UUFBQyxFQUNyQ0MsTUFBTSxFQUNOQyxXQUFXLEVBQ1hDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLFVBQVUsRUFDVkMsaUJBQWlCLEVBQ2xCOztJQUNDLE1BQU1DLFlBQVlwQiw2Q0FBTUEsQ0FBd0I7SUFDaEQsTUFBTXFCLHFCQUFxQnJCLDZDQUFNQSxDQUF3QjtJQUN6RCxNQUFNLENBQUNzQixXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBMkMsQ0FBQztJQUN0RixNQUFNLENBQUNzQixXQUFXQyxhQUFhLEdBQUd2QiwrQ0FBUUEsQ0FBeUIsQ0FBQztJQUNwRSxNQUFNLENBQUN3QixXQUFXQyxhQUFhLEdBQUd6QiwrQ0FBUUEsQ0FBUyxJQUFJLGdCQUFnQjtJQUN2RSxNQUFNLENBQUMwQixXQUFXQyxhQUFhLEdBQUczQiwrQ0FBUUEsQ0FBMkI7UUFBRTRCLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ2xGLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHL0IsK0NBQVFBLENBQVU7SUFDcEQsTUFBTSxDQUFDZ0MsbUJBQW1CQyxxQkFBcUIsR0FBR2pDLCtDQUFRQSxDQUFrQztJQUM1RixNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBUztJQUN2RCxNQUFNLENBQUNvQyxhQUFhQyxlQUFlLEdBQUdyQywrQ0FBUUEsQ0FLM0M7UUFDRHNDLFNBQVM7UUFDVFYsR0FBRztRQUNIQyxHQUFHO1FBQ0hVLFlBQVk7SUFDZDtJQUVBLHFCQUFxQjtJQUNyQixNQUFNQyxXQUFXLEtBQU0sbUJBQW1CO0lBQzFDLE1BQU1DLFdBQVcsS0FBTSxvQkFBb0I7SUFDM0MsTUFBTUMsWUFB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R0FBRTs0Q0FDckQ4SCxZQUFZOzRDQUNaQyxRQUFReEksYUFBYUksZ0JBQWdCLFNBQVNBLGNBQWM7d0NBQzlEOzs7Ozs7Ozs7OzsrQkF6QkM0RCxLQUFLdkQsVUFBVTs7Ozs7d0JBc0NiSCxZQUFZRSxPQUFPLGtCQUNsQiw4REFBQ2tIOzRCQUNDQyxXQUFVOzRCQUNWUSxPQUFPO2dDQUFFL0csS0FBS2QsWUFBWVAsQ0FBQztnQ0FBRW9CLE1BQU1iLFlBQVlSLENBQUM7NEJBQUM7OzhDQUVqRCw4REFBQ3NEO29DQUNDdUUsV0FBVTtvQ0FDVkMsU0FBUyxJQUFNOUIsYUFBYXhGLFlBQVlHLFVBQVUsRUFBRTs4Q0FDckQ7Ozs7Ozs4Q0FHRCw4REFBQzJDO29DQUNDdUUsV0FBVTtvQ0FDVkMsU0FBUyxJQUFNOUIsYUFBYXhGLFlBQVlHLFVBQVUsRUFBRTs4Q0FDckQ7Ozs7Ozs4Q0FHRCw4REFBQzJDO29DQUNDdUUsV0FBVTtvQ0FDVkMsU0FBU1Q7OENBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2Y7R0FqakJNdkk7O1FBMk51QlAsOENBQU9BOzs7S0EzTjlCTztBQW1qQk4sK0RBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwLyhyb3V0ZXMpL3dvcmtzcGFjZS9fY29tcG9uZW50cy9DYW52YXMudHN4P2E0ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IERyYWdnYWJsZSBmcm9tIFwicmVhY3QtZHJhZ2dhYmxlXCI7XHJcbmltcG9ydCB7IHVzZURyb3AgfSBmcm9tIFwicmVhY3QtZG5kXCI7XHJcbmltcG9ydCB7IExpYnJhcnlJdGVtIH0gZnJvbSBcIi4vQ2FudmFzU2lkZWJhci9MaWJyYXJ5SXRlbXNcIjtcclxuaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gXCJodG1sMmNhbnZhc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2NvbnZleC9fZ2VuZXJhdGVkL2FwaSc7XHJcbmltcG9ydCB7IElkIH0gZnJvbSAnQC9jb252ZXgvX2dlbmVyYXRlZC9kYXRhTW9kZWwnO1xyXG5pbXBvcnQgeyBab29tSW4sIFpvb21PdXQsIE1vdmUsIFNhdmUsIFByaW50ZXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIENhbnZhc0NvbXBvbmVudCBleHRlbmRzIExpYnJhcnlJdGVtIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIGluc3RhbmNlSWQ6IHN0cmluZztcclxuICByb3RhdGlvbj86IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIENhbnZhc1Byb3BzIHtcclxuICBmaWxlSWQ6IElkPFwiZmlsZXNcIj47XHJcbiAgb25EcmFnU3RhcnQ6IChlOiBSZWFjdC5EcmFnRXZlbnQ8SFRNTEltYWdlRWxlbWVudD4sIHNyYzogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGRyYWdnZWRJbWFnZTogc3RyaW5nIHwgbnVsbDtcclxuICBvbkRyb3BDb21wbGV0ZTogKCkgPT4gdm9pZDtcclxuICBvbkNvbXBvbmVudEFkZD86IChjb21wb25lbnQ6IGFueSwgYWN0aW9uVHlwZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGNvbXBvbmVudHM6IENhbnZhc0NvbXBvbmVudFtdO1xyXG4gIG9uQ29tcG9uZW50RGVsZXRlPzogKGluc3RhbmNlSWQ6IHN0cmluZykgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgQ2FudmFzOiBSZWFjdC5GQzxDYW52YXNQcm9wcz4gPSAoe1xyXG4gIGZpbGVJZCxcclxuICBvbkRyYWdTdGFydCxcclxuICBkcmFnZ2VkSW1hZ2UsXHJcbiAgb25Ecm9wQ29tcGxldGUsXHJcbiAgb25Db21wb25lbnRBZGQsXHJcbiAgY29tcG9uZW50cyxcclxuICBvbkNvbXBvbmVudERlbGV0ZVxyXG59KSA9PiB7XHJcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgY2FudmFzQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3Bvc2l0aW9ucywgc2V0UG9zaXRpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4+KHt9KTtcclxuICBjb25zdCBbcm90YXRpb25zLCBzZXRSb3RhdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pO1xyXG4gIGNvbnN0IFt6b29tTGV2ZWwsIHNldFpvb21MZXZlbF0gPSB1c2VTdGF0ZTxudW1iZXI+KDEpOyAvLyAxID0gMTAwJSB6b29tXHJcbiAgY29uc3QgW3Bhbk9mZnNldCwgc2V0UGFuT2Zmc2V0XSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4oeyB4OiAwLCB5OiAwIH0pO1xyXG4gIGNvbnN0IFtpc1Bhbm5pbmcsIHNldElzUGFubmluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2xhc3RNb3VzZVBvc2l0aW9uLCBzZXRMYXN0TW91c2VQb3NpdGlvbl0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbY3Vyc29yU3R5bGUsIHNldEN1cnNvclN0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJkZWZhdWx0XCIpO1xyXG4gIGNvbnN0IFtjb250ZXh0TWVudSwgc2V0Q29udGV4dE1lbnVdID0gdXNlU3RhdGU8e1xyXG4gICAgdmlzaWJsZTogYm9vbGVhbjtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGluc3RhbmNlSWQ6IHN0cmluZztcclxuICB9Pih7XHJcbiAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgaW5zdGFuY2VJZDogJydcclxuICB9KTtcclxuXHJcbiAgLy8gQ29uc3RhbnRzIGZvciB6b29tXHJcbiAgY29uc3QgTUlOX1pPT00gPSAwLjU7ICAvLyA1MCUgbWluaW11bSB6b29tXHJcbiAgY29uc3QgTUFYX1pPT00gPSAzLjA7ICAvLyAzMDAlIG1heGltdW0gem9vbVxyXG4gIGNvbnN0IFpPT01fU1RFUCA9IDAuMTsgLy8gMTAlIHpvb20gcGVyIHNjcm9sbCBzdGVwXHJcbiAgXHJcbiAgLy8gRnVuY3Rpb25zIHRvIGNvbnZlcnQgYmV0d2VlbiBzY3JlZW4gYW5kIGNhbnZhcyBjb29yZGluYXRlc1xyXG4gIGNvbnN0IHNjcmVlblRvQ2FudmFzID0gdXNlQ2FsbGJhY2soKHNjcmVlblg6IG51bWJlciwgc2NyZWVuWTogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50KSByZXR1cm4geyB4OiAwLCB5OiAwIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXNSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIFxyXG4gICAgLy8gQWRqdXN0IGZvciBjdXJyZW50IHBhbiBvZmZzZXQgYW5kIHpvb21cclxuICAgIGNvbnN0IHggPSAoc2NyZWVuWCAtIGNhbnZhc1JlY3QubGVmdCAtIHBhbk9mZnNldC54KSAvIHpvb21MZXZlbDtcclxuICAgIGNvbnN0IHkgPSAoc2NyZWVuWSAtIGNhbnZhc1JlY3QudG9wIC0gcGFuT2Zmc2V0LnkpIC8gem9vbUxldmVsO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgfSwgW3pvb21MZXZlbCwgcGFuT2Zmc2V0XSk7XHJcblxyXG4gIC8vIFRvZ2dsZSBiZXR3ZWVuIHBhbiB0b29sIGFuZCBzZWxlY3Rpb24gdG9vbFxyXG4gIGNvbnN0IHRvZ2dsZVBhblRvb2wgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRDdXJzb3JTdHlsZShwcmV2ID0+IHByZXYgPT09IFwiZ3JhYlwiID8gXCJkZWZhdWx0XCIgOiBcImdyYWJcIik7XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjb21wb25lbnRzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbnM6IFJlY29yZDxzdHJpbmcsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4gPSB7fTtcclxuICAgIGNvbnN0IGluaXRpYWxSb3RhdGlvbnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICAgIGNvbXBvbmVudHMuZm9yRWFjaChjb21wID0+IHtcclxuICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICBpbml0aWFsUG9zaXRpb25zW2NvbXAuaW5zdGFuY2VJZF0gPSB7IHg6IGNvbXAueCwgeTogY29tcC55IH07XHJcbiAgICAgICAgaW5pdGlhbFJvdGF0aW9uc1tjb21wLmluc3RhbmNlSWRdID0gY29tcC5yb3RhdGlvbiB8fCAwO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNldFBvc2l0aW9ucyhpbml0aWFsUG9zaXRpb25zKTtcclxuICAgIHNldFJvdGF0aW9ucyhpbml0aWFsUm90YXRpb25zKTtcclxuICB9LCBbY29tcG9uZW50c10pO1xyXG5cclxuICAvLyBIYW5kbGUgbW91c2Ugd2hlZWwgZm9yIHpvb21pbmcgLSBub3cgd2l0aCBmb2N1cyBwb2ludCB6b29tXHJcbiAgY29uc3QgaGFuZGxlV2hlZWwgPSB1c2VDYWxsYmFjaygoZTogUmVhY3QuV2hlZWxFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgaWYgKGUuYnV0dG9ucyA9PT0gNCB8fCAoZS5idXR0b25zID09PSAxICYmIGUuYWx0S2V5KSkge1xyXG4gICAgICAvLyBJZiBtaWRkbGUgYnV0dG9uIGlzIHByZXNzZWQgZHVyaW5nIHNjcm9sbCwgaGFuZGxlIHBhbm5pbmcgaW5zdGVhZFxyXG4gICAgICBjb25zdCBkZWx0YVggPSBlLmRlbHRhWDtcclxuICAgICAgY29uc3QgZGVsdGFZID0gZS5kZWx0YVk7XHJcbiAgICAgIHNldFBhbk9mZnNldChwcmV2ID0+ICh7XHJcbiAgICAgICAgeDogcHJldi54IC0gZGVsdGFYLFxyXG4gICAgICAgIHk6IHByZXYueSAtIGRlbHRhWVxyXG4gICAgICB9KSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNhbnZhc0NvbnRhaW5lclJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGlmICghY29udGFpbmVyUmVjdCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgbW91c2UgcG9zaXRpb24gcmVsYXRpdmUgdG8gY29udGFpbmVyXHJcbiAgICBjb25zdCBtb3VzZVggPSBlLmNsaWVudFggLSBjb250YWluZXJSZWN0LmxlZnQ7XHJcbiAgICBjb25zdCBtb3VzZVkgPSBlLmNsaWVudFkgLSBjb250YWluZXJSZWN0LnRvcDtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGJlZm9yZSB6b29tXHJcbiAgICBjb25zdCBiZWZvcmVYID0gKG1vdXNlWCAtIHBhbk9mZnNldC54KSAvIHpvb21MZXZlbDtcclxuICAgIGNvbnN0IGJlZm9yZVkgPSAobW91c2VZIC0gcGFuT2Zmc2V0LnkpIC8gem9vbUxldmVsO1xyXG4gICAgXHJcbiAgICAvLyBEZXRlcm1pbmUgem9vbSBkaXJlY3Rpb25cclxuICAgIGNvbnN0IGRlbHRhID0gZS5kZWx0YVkgPCAwID8gWk9PTV9TVEVQIDogLVpPT01fU1RFUDtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIG5ldyB6b29tIGxldmVsIHdpdGggY29uc3RyYWludHNcclxuICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihNQVhfWk9PTSwgTWF0aC5tYXgoTUlOX1pPT00sIHpvb21MZXZlbCArIGRlbHRhKSk7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBhZnRlciB6b29tXHJcbiAgICBjb25zdCBhZnRlclggPSAobW91c2VYIC0gcGFuT2Zmc2V0LngpIC8gbmV3Wm9vbTtcclxuICAgIGNvbnN0IGFmdGVyWSA9IChtb3VzZVkgLSBwYW5PZmZzZXQueSkgLyBuZXdab29tO1xyXG4gICAgXHJcbiAgICAvLyBBZGp1c3QgcGFuIG9mZnNldCB0byBrZWVwIHRoZSBwb2ludCB1bmRlciBtb3VzZSBpbiB0aGUgc2FtZSBwb3NpdGlvblxyXG4gICAgY29uc3QgbmV3UGFuT2Zmc2V0WCA9IHBhbk9mZnNldC54IC0gKGFmdGVyWCAtIGJlZm9yZVgpICogbmV3Wm9vbTtcclxuICAgIGNvbnN0IG5ld1Bhbk9mZnNldFkgPSBwYW5PZmZzZXQueSAtIChhZnRlclkgLSBiZWZvcmVZKSAqIG5ld1pvb207XHJcbiAgICBcclxuICAgIHNldFpvb21MZXZlbChuZXdab29tKTtcclxuICAgIHNldFBhbk9mZnNldCh7IHg6IG5ld1Bhbk9mZnNldFgsIHk6IG5ld1Bhbk9mZnNldFkgfSk7XHJcbiAgfSwgW3pvb21MZXZlbCwgcGFuT2Zmc2V0XSk7XHJcblxyXG4gIC8vIEhhbmRsZSBtb3VzZSBldmVudHMgZm9yIHBhbm5pbmdcclxuICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSB1c2VDYWxsYmFjaygoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcclxuICAgIC8vIE1pZGRsZSBtb3VzZSBidXR0b24gKGJ1dHRvbiAxKSBvciBsZWZ0IG1vdXNlIHdpdGggQWx0IGtleSBmb3IgcGFubmluZ1xyXG4gICAgaWYgKGUuYnV0dG9uID09PSAxIHx8IChlLmJ1dHRvbiA9PT0gMCAmJiAoZS5hbHRLZXkgfHwgY3Vyc29yU3R5bGUgPT09IFwiZ3JhYlwiKSkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZXRJc1Bhbm5pbmcodHJ1ZSk7XHJcbiAgICAgIHNldExhc3RNb3VzZVBvc2l0aW9uKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSk7XHJcbiAgICAgIHNldEN1cnNvclN0eWxlKFwiZ3JhYmJpbmdcIik7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnNvclN0eWxlXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgaWYgKGlzUGFubmluZyAmJiBsYXN0TW91c2VQb3NpdGlvbikge1xyXG4gICAgICBjb25zdCBkZWx0YVggPSBlLmNsaWVudFggLSBsYXN0TW91c2VQb3NpdGlvbi54O1xyXG4gICAgICBjb25zdCBkZWx0YVkgPSBlLmNsaWVudFkgLSBsYXN0TW91c2VQb3NpdGlvbi55O1xyXG4gICAgICBcclxuICAgICAgc2V0UGFuT2Zmc2V0KHByZXYgPT4gKHtcclxuICAgICAgICB4OiBwcmV2LnggKyBkZWx0YVgsXHJcbiAgICAgICAgeTogcHJldi55ICsgZGVsdGFZXHJcbiAgICAgIH0pKTtcclxuICAgICAgXHJcbiAgICAgIHNldExhc3RNb3VzZVBvc2l0aW9uKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2lzUGFubmluZywgbGFzdE1vdXNlUG9zaXRpb25dKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTW91c2VVcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmIChpc1Bhbm5pbmcpIHtcclxuICAgICAgc2V0SXNQYW5uaW5nKGZhbHNlKTtcclxuICAgICAgc2V0Q3Vyc29yU3R5bGUoY3Vyc29yU3R5bGUgPT09IFwiZ3JhYmJpbmdcIiA/IFwiZ3JhYlwiIDogXCJkZWZhdWx0XCIpO1xyXG4gICAgfVxyXG4gIH0sIFtpc1Bhbm5pbmcsIGN1cnNvclN0eWxlXSk7XHJcblxyXG4gIC8vIEFsc28gc3RvcCBwYW5uaW5nIGlmIG1vdXNlIGxlYXZlcyB0aGUgY2FudmFzIGFyZWFcclxuICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGlzUGFubmluZykge1xyXG4gICAgICBzZXRJc1Bhbm5pbmcoZmFsc2UpO1xyXG4gICAgICBzZXRDdXJzb3JTdHlsZShjdXJzb3JTdHlsZSA9PT0gXCJncmFiYmluZ1wiID8gXCJncmFiXCIgOiBcImRlZmF1bHRcIik7XHJcbiAgICB9XHJcbiAgfSwgW2lzUGFubmluZywgY3Vyc29yU3R5bGVdKTtcclxuXHJcbiAgLy8gUmVnaXN0ZXIgZ2xvYmFsIG1vdXNlIHVwIHRvIGhhbmRsZSBjYXNlcyB3aGVyZSBtb3VzZSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBjb21wb25lbnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlR2xvYmFsTW91c2VVcCA9ICgpID0+IHtcclxuICAgICAgaWYgKGlzUGFubmluZykge1xyXG4gICAgICAgIHNldElzUGFubmluZyhmYWxzZSk7XHJcbiAgICAgICAgc2V0Q3Vyc29yU3R5bGUoY3Vyc29yU3R5bGUgPT09IFwiZ3JhYmJpbmdcIiA/IFwiZ3JhYlwiIDogXCJkZWZhdWx0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZUdsb2JhbE1vdXNlVXApO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVHbG9iYWxNb3VzZVVwKTtcclxuICAgIH07XHJcbiAgfSwgW2lzUGFubmluZywgY3Vyc29yU3R5bGVdKTtcclxuXHJcbiAgLy8gWm9vbSBpbiBidXR0b24gaGFuZGxlclxyXG4gIGNvbnN0IGhhbmRsZVpvb21JbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihNQVhfWk9PTSwgem9vbUxldmVsICsgWk9PTV9TVEVQKTtcclxuICAgIHNldFpvb21MZXZlbChuZXdab29tKTtcclxuICB9LCBbem9vbUxldmVsXSk7XHJcblxyXG4gIC8vIFpvb20gb3V0IGJ1dHRvbiBoYW5kbGVyXHJcbiAgY29uc3QgaGFuZGxlWm9vbU91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1heChNSU5fWk9PTSwgem9vbUxldmVsIC0gWk9PTV9TVEVQKTtcclxuICAgIHNldFpvb21MZXZlbChuZXdab29tKTtcclxuICB9LCBbem9vbUxldmVsXSk7XHJcblxyXG4gIC8vIFJlc2V0IHpvb20gYW5kIHBhbiBidXR0b24gaGFuZGxlclxyXG4gIGNvbnN0IHJlc2V0Wm9vbUFuZFBhbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFpvb21MZXZlbCgxKTtcclxuICAgIHNldFBhbk9mZnNldCh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBNb2RpZmllZCBoYW5kbGVEcm9wIGZ1bmN0aW9uIHRvIGFjY291bnQgZm9yIHpvb20gbGV2ZWwgYW5kIHBhbiBvZmZzZXRcclxuICBjb25zdCBoYW5kbGVEcm9wID0gdXNlQ2FsbGJhY2soKGl0ZW06IExpYnJhcnlJdGVtLCBkcm9wWDogbnVtYmVyLCBkcm9wWTogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAob25Db21wb25lbnRBZGQpIHtcclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBjZW50ZXIgcG9pbnQgb2Zmc2V0IGJhc2VkIG9uIGl0ZW0gZGltZW5zaW9uc1xyXG4gICAgICBjb25zdCBjZW50ZXJPZmZzZXRYID0gKGl0ZW0ud2lkdGggfHwgMTAwKSAvIDI7XHJcbiAgICAgIGNvbnN0IGNlbnRlck9mZnNldFkgPSAoaXRlbS5oZWlnaHQgfHwgMTAwKSAvIDI7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDb252ZXJ0IHNjcmVlbiBjb29yZGluYXRlcyB0byBjYW52YXMgY29vcmRpbmF0ZXNcclxuICAgICAgY29uc3QgY2FudmFzQ29vcmRzID0gc2NyZWVuVG9DYW52YXMoZHJvcFgsIGRyb3BZKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFkanVzdCB0aGUgZHJvcCBwb3NpdGlvbiBmb3IgY29tcG9uZW50IGNlbnRlclxyXG4gICAgICBjb25zdCBhZGp1c3RlZFggPSBNYXRoLm1heCgwLCBjYW52YXNDb29yZHMueCAtIGNlbnRlck9mZnNldFgpO1xyXG4gICAgICBjb25zdCBhZGp1c3RlZFkgPSBNYXRoLm1heCgwLCBjYW52YXNDb29yZHMueSAtIGNlbnRlck9mZnNldFkpO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5zdXJlIHRoZSBpdGVtIGhhcyBhbGwgcmVxdWlyZWQgc3BlY3NcclxuICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0ge1xyXG4gICAgICAgIC4uLml0ZW0sXHJcbiAgICAgICAgeDogYWRqdXN0ZWRYLFxyXG4gICAgICAgIHk6IGFkanVzdGVkWSxcclxuICAgICAgICBpbnN0YW5jZUlkOiBgJHtpdGVtLmlkfS0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICByb3RhdGlvbjogMC4wLFxyXG4gICAgICAgIC8vIEVuc3VyZSBzcGVjcyBvYmplY3QgaGFzIGFsbCByZXF1aXJlZCBmaWVsZHNcclxuICAgICAgICBzcGVjczoge1xyXG4gICAgICAgICAgcG93ZXI6IGl0ZW0uc3BlY3M/LnBvd2VyIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICByZXNpc3RhbmNlOiBpdGVtLnNwZWNzPy5yZXNpc3RhbmNlIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICB0b2xlcmFuY2U6IGl0ZW0uc3BlY3M/LnRvbGVyYW5jZSB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgLi4uaXRlbS5zcGVjc1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgb25Db21wb25lbnRBZGQobmV3Q29tcG9uZW50LCAnYWRkJyk7XHJcbiAgICB9XHJcbiAgICBvbkRyb3BDb21wbGV0ZSgpO1xyXG4gIH0sIFtvbkNvbXBvbmVudEFkZCwgb25Ecm9wQ29tcGxldGUsIHNjcmVlblRvQ2FudmFzXSk7XHJcbiAgXHJcbiAgY29uc3QgW3sgaXNPdmVyIH0sIGRyb3BdID0gdXNlRHJvcCgoKSA9PiAoe1xyXG4gICAgYWNjZXB0OiBcImxpYnJhcnlJdGVtXCIsXHJcbiAgICBkcm9wOiAoaXRlbTogTGlicmFyeUl0ZW0sIG1vbml0b3IpID0+IHtcclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gbW9uaXRvci5nZXRDbGllbnRPZmZzZXQoKTtcclxuICAgICAgaWYgKG9mZnNldCAmJiBjYW52YXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGhhbmRsZURyb3AoaXRlbSwgb2Zmc2V0LngsIG9mZnNldC55KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbGxlY3Q6IChtb25pdG9yKSA9PiAoe1xyXG4gICAgICBpc092ZXI6ICEhbW9uaXRvci5pc092ZXIoKSxcclxuICAgIH0pLFxyXG4gIH0pLCBbaGFuZGxlRHJvcF0pO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZURyYWdTdG9wID0gdXNlQ2FsbGJhY2soKGluc3RhbmNlSWQ6IHN0cmluZywgZGF0YTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XHJcbiAgICBpZiAoIWNvbXBvbmVudHMpIHJldHVybjtcclxuICBcclxuICAgIGNvbnN0IHVwZGF0ZWRQb3NpdGlvbnMgPSB7XHJcbiAgICAgIC4uLnBvc2l0aW9ucyxcclxuICAgICAgW2luc3RhbmNlSWRdOiB7IHg6IGRhdGEueCwgeTogZGF0YS55IH1cclxuICAgIH07XHJcbiAgICBzZXRQb3NpdGlvbnModXBkYXRlZFBvc2l0aW9ucyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHMuZmluZChjb21wID0+IGNvbXAuaW5zdGFuY2VJZCA9PT0gaW5zdGFuY2VJZCk7XHJcbiAgICBpZiAoY29tcG9uZW50ICYmIG9uQ29tcG9uZW50QWRkKSB7XHJcbiAgICAgIG9uQ29tcG9uZW50QWRkKHsgXHJcbiAgICAgICAgLi4uY29tcG9uZW50LCBcclxuICAgICAgICB4OiBkYXRhLngsIFxyXG4gICAgICAgIHk6IGRhdGEueSxcclxuICAgICAgICByb3RhdGlvbjogcm90YXRpb25zW2luc3RhbmNlSWRdIHx8IDAuMCxcclxuICAgICAgICAvLyBFbnN1cmUgc3BlY3Mgb2JqZWN0IGhhcyBhbGwgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgICAgc3BlY3M6IHtcclxuICAgICAgICAgIHBvd2VyOiBjb21wb25lbnQuc3BlY3M/LnBvd2VyIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICByZXNpc3RhbmNlOiBjb21wb25lbnQuc3BlY3M/LnJlc2lzdGFuY2UgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIHRvbGVyYW5jZTogY29tcG9uZW50LnNwZWNzPy50b2xlcmFuY2UgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIC4uLmNvbXBvbmVudC5zcGVjc1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ21vdmUnKTtcclxuICAgIH1cclxuICB9LCBbY29tcG9uZW50cywgcG9zaXRpb25zLCByb3RhdGlvbnMsIG9uQ29tcG9uZW50QWRkXSk7XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlUm90YXRlID0gdXNlQ2FsbGJhY2soKGluc3RhbmNlSWQ6IHN0cmluZywgZGVncmVlczogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50Um90YXRpb24gPSByb3RhdGlvbnNbaW5zdGFuY2VJZF0gfHwgMDtcclxuICAgIGNvbnN0IG5ld1JvdGF0aW9uID0gKGN1cnJlbnRSb3RhdGlvbiArIGRlZ3JlZXMpICUgMzYwO1xyXG4gICAgXHJcbiAgICBzZXRSb3RhdGlvbnMocHJldiA9PiAoe1xyXG4gICAgICAuLi5wcmV2LFxyXG4gICAgICBbaW5zdGFuY2VJZF06IG5ld1JvdGF0aW9uXHJcbiAgICB9KSk7XHJcbiAgXHJcbiAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzLmZpbmQoY29tcCA9PiBjb21wLmluc3RhbmNlSWQgPT09IGluc3RhbmNlSWQpO1xyXG4gICAgaWYgKGNvbXBvbmVudCAmJiBvbkNvbXBvbmVudEFkZCkge1xyXG4gICAgICBvbkNvbXBvbmVudEFkZCh7XHJcbiAgICAgICAgLi4uY29tcG9uZW50LFxyXG4gICAgICAgIHJvdGF0aW9uOiBuZXdSb3RhdGlvbixcclxuICAgICAgICB4OiBwb3NpdGlvbnNbaW5zdGFuY2VJZF0/LnggfHwgY29tcG9uZW50LngsXHJcbiAgICAgICAgeTogcG9zaXRpb25zW2luc3RhbmNlSWRdPy55IHx8IGNvbXBvbmVudC55LFxyXG4gICAgICAgIC8vIEVuc3VyZSBzcGVjcyBvYmplY3QgaGFzIGFsbCByZXF1aXJlZCBmaWVsZHNcclxuICAgICAgICBzcGVjczoge1xyXG4gICAgICAgICAgcG93ZXI6IGNvbXBvbmVudC5zcGVjcz8ucG93ZXIgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIHJlc2lzdGFuY2U6IGNvbXBvbmVudC5zcGVjcz8ucmVzaXN0YW5jZSB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgdG9sZXJhbmNlOiBjb21wb25lbnQuc3BlY3M/LnRvbGVyYW5jZSB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgLi4uY29tcG9uZW50LnNwZWNzXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnbW92ZScpO1xyXG4gICAgfVxyXG4gICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCwgaW5zdGFuY2VJZDogJycgfSk7XHJcbiAgfSwgW2NvbXBvbmVudHMsIHBvc2l0aW9ucywgcm90YXRpb25zLCBvbkNvbXBvbmVudEFkZF0pO1xyXG5cclxuICBjb25zdCBzYXZlQXNQTkcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBodG1sMmNhbnZhcyhjYW52YXNSZWYuY3VycmVudCkudGhlbigoY2FudmFzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgbGluay5kb3dubG9hZCA9IFwiY2FudmFzLnBuZ1wiO1xyXG4gICAgICBsaW5rLmhyZWYgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHByaW50Q2FudmFzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgaHRtbDJjYW52YXMoY2FudmFzUmVmLmN1cnJlbnQpLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBuZXdXaW5kb3cgPSB3aW5kb3cub3BlbigpO1xyXG4gICAgICBpZiAobmV3V2luZG93KSB7XHJcbiAgICAgICAgbmV3V2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtjYW52YXMudG9EYXRhVVJMKCl9XCIgc3R5bGU9XCJ3aWR0aDoxMDAlOyBoZWlnaHQ6YXV0bztcIj5gO1xyXG4gICAgICAgIG5ld1dpbmRvdy5wcmludCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEhhbmRsZSByaWdodC1jbGljayB0byBvcGVuIGNvbnRleHQgbWVudVxyXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51ID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGluc3RhbmNlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0Q29udGV4dE1lbnUoe1xyXG4gICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICB4OiBlLmNsaWVudFgsXHJcbiAgICAgIHk6IGUuY2xpZW50WSxcclxuICAgICAgaW5zdGFuY2VJZFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBIYW5kbGUgZGVsZXRlIGZyb20gY29udGV4dCBtZW51XHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGNvbnRleHRNZW51Lmluc3RhbmNlSWQgJiYgb25Db21wb25lbnREZWxldGUpIHtcclxuICAgICAgb25Db21wb25lbnREZWxldGUoY29udGV4dE1lbnUuaW5zdGFuY2VJZCk7XHJcbiAgICB9XHJcbiAgICBzZXRDb250ZXh0TWVudSh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwLCBpbnN0YW5jZUlkOiAnJyB9KTtcclxuICB9LCBbY29udGV4dE1lbnUuaW5zdGFuY2VJZCwgb25Db21wb25lbnREZWxldGVdKTtcclxuXHJcbiAgLy8gSGlkZSBjb250ZXh0IG1lbnUgd2hlbiBjbGlja2luZyBlbHNld2hlcmVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChjb250ZXh0TWVudS52aXNpYmxlKSB7XHJcbiAgICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCwgaW5zdGFuY2VJZDogJycgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcclxuICAgIH07XHJcbiAgfSwgW2NvbnRleHRNZW51LnZpc2libGVdKTtcclxuXHJcbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzIGZvciBwYW5uaW5nIGFuZCB6b29taW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAvLyBTcGFjZSBiYXIgdG9nZ2xlIHBhbiBtb2RlXHJcbiAgICAgIGlmIChlLmNvZGUgPT09ICdTcGFjZScgJiYgIWUucmVwZWF0KSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNldEN1cnNvclN0eWxlKHByZXYgPT4gcHJldiA9PT0gXCJncmFiXCIgPyBcImRlZmF1bHRcIiA6IFwiZ3JhYlwiKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gKyBrZXkgZm9yIHpvb20gaW5cclxuICAgICAgaWYgKGUua2V5ID09PSAnKycgfHwgZS5rZXkgPT09ICc9Jykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoYW5kbGVab29tSW4oKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gLSBrZXkgZm9yIHpvb20gb3V0XHJcbiAgICAgIGlmIChlLmtleSA9PT0gJy0nIHx8IGUua2V5ID09PSAnXycpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaGFuZGxlWm9vbU91dCgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyAwIG9yIHIga2V5IGZvciByZXNldFxyXG4gICAgICBpZiAoZS5rZXkgPT09ICcwJyB8fCBlLmtleSA9PT0gJ3InKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJlc2V0Wm9vbUFuZFBhbigpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVLZXlVcCA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIFJlbGVhc2Ugc3BhY2UgYmFyXHJcbiAgICAgIGlmIChlLmNvZGUgPT09ICdTcGFjZScpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKCFpc1Bhbm5pbmcpIHtcclxuICAgICAgICAgIHNldEN1cnNvclN0eWxlKHByZXYgPT4gcHJldiA9PT0gXCJncmFiXCIgPyBcImRlZmF1bHRcIiA6IFwiZ3JhYlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXlVcCk7XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleVVwKTtcclxuICAgIH07XHJcbiAgfSwgW2hhbmRsZVpvb21JbiwgaGFuZGxlWm9vbU91dCwgcmVzZXRab29tQW5kUGFuLCBpc1Bhbm5pbmddKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgbWF4LWgtc2NyZWVuXCI+XHJcbiAgICAgIHsvKiBUb3AgQ29udHJvbHMgQmFyIC0gQ29tYmluZWQgem9vbSBjb250cm9scyBhbmQgZXhwb3J0IGJ1dHRvbnMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMTAwIHAtMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMVwiPlxyXG4gICAgICAgIHsvKiBMZWZ0IHNpZGU6IFpvb20gY29udHJvbHMgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVpvb21PdXR9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXt6b29tTGV2ZWwgPD0gTUlOX1pPT019XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMSByb3VuZGVkICR7em9vbUxldmVsIDw9IE1JTl9aT09NID8gJ3RleHQtZ3JheS00MDAnIDogJ3RleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS0xMDAnfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiWm9vbSBPdXQgKC0ga2V5KVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxab29tT3V0IHNpemU9ezE4fSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB3LTE2IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIHtNYXRoLnJvdW5kKHpvb21MZXZlbCAqIDEwMCl9JVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVpvb21Jbn1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e3pvb21MZXZlbCA+PSBNQVhfWk9PTX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0xIHJvdW5kZWQgJHt6b29tTGV2ZWwgPj0gTUFYX1pPT00gPyAndGV4dC1ncmF5LTQwMCcgOiAndGV4dC1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTEwMCd9YH1cclxuICAgICAgICAgICAgdGl0bGU9XCJab29tIEluICgrIGtleSlcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8Wm9vbUluIHNpemU9ezE4fSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlUGFuVG9vbH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0xIHJvdW5kZWQgJHtjdXJzb3JTdHlsZSA9PT0gXCJncmFiXCIgfHwgY3Vyc29yU3R5bGUgPT09IFwiZ3JhYmJpbmdcIiA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICd0ZXh0LWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtMTAwJ31gfVxyXG4gICAgICAgICAgICB0aXRsZT1cIlBhbiBUb29sIChTcGFjZSBrZXkpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE1vdmUgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtyZXNldFpvb21BbmRQYW59XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIlxyXG4gICAgICAgICAgICB0aXRsZT1cIlJlc2V0IFZpZXcgKDAga2V5KVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFJlc2V0XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICB7LyogQ2VudGVyOiBJbmZvICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGhpZGRlbiBtZDppbmxpbmVcIj5cclxuICAgICAgICAgIChNaWRkbGUtY2xpY2sgdG8gcGFuLCBzY3JvbGwgdG8gem9vbSlcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICB7LyogUmlnaHQgc2lkZTogRXhwb3J0IGJ1dHRvbnMgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17c2F2ZUFzUE5HfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBweC0yIHB5LTEgcm91bmRlZCBzaGFkb3cgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgIHRpdGxlPVwiU2F2ZSBhcyBQTkdcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8U2F2ZSBzaXplPXsxNn0gLz5cclxuICAgICAgICAgICAgPHNwYW4+UE5HPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3ByaW50Q2FudmFzfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcHgtMiBweS0xIHJvdW5kZWQgc2hhZG93IGhvdmVyOmJnLWdyZWVuLTYwMCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgdGl0bGU9XCJQcmludCBDYW52YXNcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8UHJpbnRlciBzaXplPXsxNn0gLz5cclxuICAgICAgICAgICAgPHNwYW4+UHJpbnQ8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICB7LyogQ2FudmFzIENvbnRhaW5lciB3aXRoIE92ZXJmbG93ICovfVxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIHJlZj17Y2FudmFzQ29udGFpbmVyUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyB3LWZ1bGwgcC0xIG92ZXJmbG93LWF1dG9cIlxyXG4gICAgICAgIHN0eWxlPXt7IGhlaWdodDogXCJjYWxjKDEwMHZoIC0gMTEwcHgpXCIgfX0gLy8gQWRqdXN0ZWQgaGVpZ2h0IHRvIGZpdCBpbiB2aWV3cG9ydFxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgcmVmPXsobm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBkcm9wKG5vZGUpO1xyXG4gICAgICAgICAgICBjYW52YXNSZWYuY3VycmVudCA9IG5vZGU7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgYmctWyNlZmYwZjFdICR7XHJcbiAgICAgICAgICAgIGlzT3ZlciA/IFwiYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwXCIgOiBcIlwiXHJcbiAgICAgICAgICB9YH1cclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tTGV2ZWx9KWAsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCJ0b3AgbGVmdFwiLFxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcInRyYW5zZm9ybSAwLjFzIGVhc2Utb3V0XCIsXHJcbiAgICAgICAgICAgIGN1cnNvcjogY3Vyc29yU3R5bGUsXHJcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IHBhbk9mZnNldC54LFxyXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IHBhbk9mZnNldC55XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25XaGVlbD17aGFuZGxlV2hlZWx9XHJcbiAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlTW91c2VEb3dufVxyXG4gICAgICAgICAgb25Nb3VzZU1vdmU9e2hhbmRsZU1vdXNlTW92ZX1cclxuICAgICAgICAgIG9uTW91c2VVcD17aGFuZGxlTW91c2VVcH1cclxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICAvLyBVcGRhdGUgdG8gY29tcG9uZW50IHJlbmRlcmluZyBpbiBDYW52YXMudHN4XHJcbi8vIEZpbmQgdGhpcyBzZWN0aW9uIGluIHRoZSBDYW52YXMudHN4IGNvbXBvbmVudCBhbmQgcmVwbGFjZSBpdFxyXG5cclxue2NvbXBvbmVudHM/Lm1hcCgoaXRlbSkgPT4gKFxyXG4gIDxEcmFnZ2FibGVcclxuICAgIGtleT17aXRlbS5pbnN0YW5jZUlkfVxyXG4gICAgZGVmYXVsdFBvc2l0aW9uPXt7IHg6IGl0ZW0ueCwgeTogaXRlbS55IH19XHJcbiAgICBwb3NpdGlvbj17cG9zaXRpb25zW2l0ZW0uaW5zdGFuY2VJZF19XHJcbiAgICBvblN0b3A9eyhlLCBkYXRhKSA9PiBoYW5kbGVEcmFnU3RvcChpdGVtLmluc3RhbmNlSWQsIGRhdGEpfVxyXG4gICAgYm91bmRzPVwicGFyZW50XCJcclxuICAgIGhhbmRsZT1cIi5kcmFnLWhhbmRsZVwiXHJcbiAgICBzY2FsZT17em9vbUxldmVsfSAvLyBTY2FsZSBmYWN0b3IgZm9yIERyYWdnYWJsZVxyXG4gICAgZGlzYWJsZWQ9e2lzUGFubmluZyB8fCBjdXJzb3JTdHlsZSA9PT0gXCJncmFiXCJ9IC8vIERpc2FibGUgZHJhZ2dpbmcgd2hlbiBwYW5uaW5nXHJcbiAgPlxyXG4gICAgPGRpdiBcclxuICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgY3Vyc29yLW1vdmVcIlxyXG4gICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4gaGFuZGxlQ29udGV4dE1lbnUoZSwgaXRlbS5pbnN0YW5jZUlkKX1cclxuICAgID5cclxuICAgICAgPGRpdiBcclxuICAgICAgICBjbGFzc05hbWU9XCJkcmFnLWhhbmRsZSByZWxhdGl2ZVwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke2l0ZW0uc3ZnfSlgLFxyXG4gICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxyXG4gICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcclxuICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCJjZW50ZXJcIixcclxuICAgICAgICAgIHdpZHRoOiBgJHtpdGVtLndpZHRoIHx8IDEwMH1weGAsXHJcbiAgICAgICAgICBoZWlnaHQ6IGAke2l0ZW0uaGVpZ2h0IHx8IDEwMH1weGAsXHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoJHtyb3RhdGlvbnNbaXRlbS5pbnN0YW5jZUlkXSB8fCAwfWRlZylgLFxyXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjNzIGVhc2UnLFxyXG4gICAgICAgICAgY3Vyc29yOiBpc1Bhbm5pbmcgfHwgY3Vyc29yU3R5bGUgPT09IFwiZ3JhYlwiID8gY3Vyc29yU3R5bGUgOiBcIm1vdmVcIlxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7LyogT3B0aW9uYWw6IEFkZCBlbGVtZW50IGxhYmVsIGZvciBkZWJ1Z2dpbmcgKi99XHJcbiAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHRleHQteHMgYmctYmxhY2svNTAgdGV4dC13aGl0ZSBweC0xXCI+XHJcbiAgICAgICAgICB7aXRlbS53aWR0aH14e2l0ZW0uaGVpZ2h0fVxyXG4gICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L0RyYWdnYWJsZT5cclxuXHJcbiAgICAgICAgICApKX1cclxuXHJcbiAgICAgICAgICB7LyogQ29udGV4dCBNZW51ICovfVxyXG4gICAgICAgICAge2NvbnRleHRNZW51LnZpc2libGUgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJnLXdoaXRlIHNoYWRvdy1sZyByb3VuZGVkLW1kIHB5LTIgei01MFwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgdG9wOiBjb250ZXh0TWVudS55LCBsZWZ0OiBjb250ZXh0TWVudS54IH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDBcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUm90YXRlKGNvbnRleHRNZW51Lmluc3RhbmNlSWQsIDkwKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBSb3RhdGUgOTDCsFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSb3RhdGUoY29udGV4dE1lbnUuaW5zdGFuY2VJZCwgMTgwKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBSb3RhdGUgMTgwwrBcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgdGV4dC1yZWQtNjAwXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkRyYWdnYWJsZSIsInVzZURyb3AiLCJodG1sMmNhbnZhcyIsIlpvb21JbiIsIlpvb21PdXQiLCJNb3ZlIiwiU2F2ZSIsIlByaW50ZXIiLCJDYW52YXMiLCJmaWxlSWQiLCJvbkRyYWdTdGFydCIsImRyYWdnZWRJbWFnZSIsIm9uRHJvcENvbXBsZXRlIiwib25Db21wb25lbnRBZGQiLCJjb21wb25lbnRzIiwib25Db21wb25lbnREZWxldGUiLCJjYW52YXNSZWYiLCJjYW52YXNDb250YWluZXJSZWYiLCJwb3NpdGlvbnMiLCJzZXRQb3NpdGlvbnMiLCJyb3RhdGlvbnMiLCJzZXRSb3RhdGlvbnMiLCJ6b29tTGV2ZWwiLCJzZXRab29tTGV2ZWwiLCJwYW5PZmZzZXQiLCJzZXRQYW5PZmZzZXQiLCJ4IiwieSIsImlzUGFubmluZyIsInNldElzUGFubmluZyIsImxhc3RNb3VzZVBvc2l0aW9uIiwic2V0TGFzdE1vdXNlUG9zaXRpb24iLCJjdXJzb3JTdHlsZSIsInNldEN1cnNvclN0eWxlIiwiY29udGV4dE1lbnUiLCJzZXRDb250ZXh0TWVudSIsInZpc2libGUiLCJpbnN0YW5jZUlkIiwiTUlOX1pPT00iLCJNQVhfWk9PTSIsIlpPT01fU1RFUCIsInNjcmVlblRvQ2FudmFzIiwic2NyZWVuWCIsInNjcmVlblkiLCJjdXJyZW50IiwiY2FudmFzUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ0b2dnbGVQYW5Ub29sIiwicHJldiIsImluaXRpYWxQb3NpdGlvbnMiLCJpbml0aWFsUm90YXRpb25zIiwiZm9yRWFjaCIsImNvbXAiLCJyb3RhdGlvbiIsImhhbmRsZVdoZWVsIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9ucyIsImFsdEtleSIsImRlbHRhWCIsImRlbHRhWSIsImNvbnRhaW5lclJlY3QiLCJtb3VzZVgiLCJjbGllbnRYIiwibW91c2VZIiwiY2xpZW50WSIsImJlZm9yZVgiLCJiZWZvcmVZIiwiZGVsdGEiLCJuZXdab29tIiwiTWF0aCIsIm1pbiIsIm1heCIsImFmdGVyWCIsImFmdGVyWSIsIm5ld1Bhbk9mZnNldFgiLCJuZXdQYW5PZmZzZXRZIiwiaGFuZGxlTW91c2VEb3duIiwiYnV0dG9uIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdXNlTGVhdmUiLCJoYW5kbGVHbG9iYWxNb3VzZVVwIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVab29tSW4iLCJoYW5kbGVab29tT3V0IiwicmVzZXRab29tQW5kUGFuIiwiaGFuZGxlRHJvcCIsIml0ZW0iLCJkcm9wWCIsImRyb3BZIiwiY2VudGVyT2Zmc2V0WCIsIndpZHRoIiwiY2VudGVyT2Zmc2V0WSIsImhlaWdodCIsImNhbnZhc0Nvb3JkcyIsImFkanVzdGVkWCIsImFkanVzdGVkWSIsIm5ld0NvbXBvbmVudCIsIkRhdGUiLCJpZCIsIm5vdyIsInNwZWNzIiwicG93ZXIiLCJyZXNpc3RhbmNlIiwidG9sZXJhbmNlIiwiaXNPdmVyIiwiZHJvcCIsImFjY2VwdCIsIm1vbml0b3IiLCJvZmZzZXQiLCJnZXRDbGllbnRPZmZzZXQiLCJjb2xsZWN0IiwiaGFuZGxlRHJhZ1N0b3AiLCJkYXRhIiwidXBkYXRlZFBvc2l0aW9ucyIsImNvbXBvbmVudCIsImZpbmQiLCJoYW5kbGVSb3RhdGUiLCJkZWdyZWVzIiwiY3VycmVudFJvdGF0aW9uIiwibmV3Um90YXRpb24iLCJzYXZlQXNQTkciLCJ0aGVuIiwiY2FudmFzIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsInRvRGF0YVVSTCIsImNsaWNrIiwicHJpbnRDYW52YXMiLCJuZXdXaW5kb3ciLCJvcGVuIiwiYm9keSIsImlubmVySFRNTCIsInByaW50IiwiaGFuZGxlQ29udGV4dE1lbnUiLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVDbGljayIsImhhbmRsZUtleURvd24iLCJjb2RlIiwicmVwZWF0Iiwia2V5IiwiaGFuZGxlS2V5VXAiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInNpemUiLCJyb3VuZCIsInNwYW4iLCJyZWYiLCJzdHlsZSIsIm5vZGUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJ0cmFuc2l0aW9uIiwiY3Vyc29yIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsIm9uV2hlZWwiLCJvbk1vdXNlRG93biIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIiwibWFwIiwiZGVmYXVsdFBvc2l0aW9uIiwicG9zaXRpb24iLCJvblN0b3AiLCJib3VuZHMiLCJoYW5kbGUiLCJzY2FsZSIsIm9uQ29udGV4dE1lbnUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJzdmciLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx\n"));

/***/ })

});