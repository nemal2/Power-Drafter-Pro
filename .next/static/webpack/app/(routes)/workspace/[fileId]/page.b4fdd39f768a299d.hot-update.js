"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(routes)/workspace/[fileId]/page",{

/***/ "(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx":
/*!*******************************************************!*\
  !*** ./app/(routes)/workspace/_components/Canvas.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-draggable */ \"(app-pages-browser)/./node_modules/react-draggable/build/cjs/cjs.js\");\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_draggable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dnd */ \"(app-pages-browser)/./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! html2canvas */ \"(app-pages-browser)/./node_modules/html2canvas/dist/html2canvas.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_3__);\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst Canvas = (param)=>{\n    let { fileId, onDragStart, draggedImage, onDropComplete, onComponentAdd, components, onComponentDelete } = param;\n    _s();\n    var _s1 = $RefreshSig$();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [positions, setPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [rotations, setRotations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visible: false,\n        x: 0,\n        y: 0,\n        instanceId: \"\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!components) return;\n        const initialPositions = {};\n        const initialRotations = {};\n        components.forEach((comp)=>{\n            if (comp) {\n                initialPositions[comp.instanceId] = {\n                    x: comp.x,\n                    y: comp.y\n                };\n                initialRotations[comp.instanceId] = comp.rotation || 0;\n            }\n        });\n        setPositions(initialPositions);\n        setRotations(initialRotations);\n    }, [\n        components\n    ]);\n    const handleDrop = (item, dropX, dropY)=>{\n        if (onComponentAdd) {\n            const newComponent = {\n                ...item,\n                x: dropX,\n                y: dropY,\n                instanceId: \"\".concat(item.id, \"-\").concat(Date.now()),\n                rotation: 0\n            };\n            onComponentAdd(newComponent, \"add\");\n        }\n        onDropComplete();\n    };\n    const handleDragStop = (instanceId, data)=>{\n        _s1();\n        if (!components) return;\n        const updatedPositions = {\n            ...positions,\n            [instanceId]: {\n                x: data.x,\n                y: data.y\n            }\n        };\n        setPositions(updatedPositions);\n        const handleRotate1 = (instanceId, degrees)=>{\n            const currentRotation = rotations[instanceId] || 0;\n            const newRotation = (currentRotation + degrees) % 360;\n            setRotations((prev)=>({\n                    ...prev,\n                    [instanceId]: newRotation\n                }));\n            const component = components.find((comp)=>comp.instanceId === instanceId);\n            if (component && onComponentAdd) {\n                onComponentAdd({\n                    ...component,\n                    rotation: newRotation\n                }, \"move\");\n            }\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0,\n                instanceId: \"\"\n            });\n        };\n        const [{ isOver: isOver1 }, drop1] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop)(()=>({\n                accept: \"libraryItem\",\n                drop: (item, monitor)=>{\n                    const offset = monitor.getClientOffset();\n                    if (offset && canvasRef.current) {\n                        const rect = canvasRef.current.getBoundingClientRect();\n                        const x = offset.x - rect.left;\n                        const y = offset.y - rect.top;\n                        handleDrop(item, x, y);\n                    }\n                },\n                collect: (monitor)=>({\n                        isOver: !!monitor.isOver()\n                    })\n            }));\n    };\n    _s1(handleDragStop, \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function() {\n        return [\n            react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop\n        ];\n    });\n    const saveAsPNG = ()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const link = document.createElement(\"a\");\n            link.download = \"canvas.png\";\n            link.href = canvas.toDataURL(\"image/png\");\n            link.click();\n        });\n    };\n    const printCanvas = ()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const newWindow = window.open();\n            if (newWindow) {\n                newWindow.document.body.innerHTML = '<img src=\"'.concat(canvas.toDataURL(), '\" style=\"width:100%; height:auto;\">');\n                newWindow.print();\n            }\n        });\n    };\n    // Handle right-click to open context menu\n    // Handle right-click to open context menu\n    const handleContextMenu = (e, instanceId)=>{\n        e.preventDefault();\n        setContextMenu({\n            visible: true,\n            x: e.clientX,\n            y: e.clientY,\n            instanceId\n        });\n    };\n    // Handle delete from context menu\n    const handleDelete = ()=>{\n        if (contextMenu.instanceId && onComponentDelete) {\n            onComponentDelete(contextMenu.instanceId);\n        }\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0,\n            instanceId: \"\"\n        });\n    };\n    // Hide context menu when clicking elsewhere\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClick = ()=>{\n            if (contextMenu.visible) {\n                setContextMenu({\n                    visible: false,\n                    x: 0,\n                    y: 0,\n                    instanceId: \"\"\n                });\n            }\n        };\n        document.addEventListener(\"click\", handleClick);\n        return ()=>{\n            document.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        contextMenu.visible\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full p-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: (node)=>{\n                        drop(node);\n                        canvasRef.current = node;\n                    },\n                    className: \"relative bg-[#eff0f1] w-full h-[560px] \".concat(isOver ? \"border-2 border-blue-500\" : \"\"),\n                    children: [\n                        components === null || components === void 0 ? void 0 : components.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_draggable__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                defaultPosition: {\n                                    x: item.x,\n                                    y: item.y\n                                },\n                                position: positions[item.instanceId],\n                                onStop: (e, data)=>handleDragStop(item.instanceId, data),\n                                bounds: \"parent\",\n                                handle: \".drag-handle\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute cursor-move\",\n                                    onContextMenu: (e)=>handleContextMenu(e, item.instanceId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"drag-handle w-12 h-12 relative\",\n                                        style: {\n                                            backgroundImage: \"url(\".concat(item.svg, \")\"),\n                                            backgroundSize: \"contain\",\n                                            backgroundRepeat: \"no-repeat\",\n                                            backgroundPosition: \"center\",\n                                            transform: \"rotate(\".concat(rotations[item.instanceId] || 0, \"deg)\"),\n                                            transition: \"transform 0.3s ease\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 203,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 199,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, item.instanceId, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 191,\n                                columnNumber: 13\n                            }, undefined)),\n                        contextMenu.visible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"fixed bg-white shadow-lg rounded-md py-2 z-50\",\n                            style: {\n                                top: contextMenu.y,\n                                left: contextMenu.x\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 90),\n                                    children: \"Rotate 90\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 224,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 180),\n                                    children: \"Rotate 180\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 230,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600\",\n                                    onClick: handleDelete,\n                                    children: \"Delete\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                            lineNumber: 220,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                    lineNumber: 181,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: saveAsPNG,\n                            className: \"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600\",\n                            children: \"Save as PNG\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                            lineNumber: 247,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: printCanvas,\n                            className: \"bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600\",\n                            children: \"Print Canvas\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                            lineNumber: 253,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                    lineNumber: 246,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_4\\\\newest\\\\erasor_clone-main_new - update\\\\powerdrafter\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n        lineNumber: 179,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"2vX9dbZPCFMnzUCMyq4uMwrgUXY=\");\n_c = Canvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocm91dGVzKS93b3Jrc3BhY2UvX2NvbXBvbmVudHMvQ2FudmFzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3RTtBQUNoQztBQUNKO0FBRUU7QUFxQnRDLE1BQU1PLFNBQWdDO1FBQUMsRUFDckNDLE1BQU0sRUFDTkMsV0FBVyxFQUNYQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxVQUFVLEVBQ1ZDLGlCQUFpQixFQUNsQjs7O0lBQ0MsTUFBTUMsWUFBWWQsNkNBQU1BLENBQXdCO0lBQ2hELE1BQU0sQ0FBQ2UsV0FBV0MsYUFBYSxHQUFHZCwrQ0FBUUEsQ0FBMkMsQ0FBQztJQUN0RixNQUFNLENBQUNlLFdBQVdDLGFBQWEsR0FBR2hCLCtDQUFRQSxDQUF5QixDQUFDO0lBQ3BFLE1BQU0sQ0FBQ2lCLGFBQWFDLGVBQWUsR0FBR2xCLCtDQUFRQSxDQUszQztRQUNEbUIsU0FBUztRQUNUQyxHQUFHO1FBQ0hDLEdBQUc7UUFDSEMsWUFBWTtJQUNkO0lBRUF2QixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ1csWUFBWTtRQUVqQixNQUFNYSxtQkFBNkQsQ0FBQztRQUNwRSxNQUFNQyxtQkFBMkMsQ0FBQztRQUNsRGQsV0FBV2UsT0FBTyxDQUFDQyxDQUFBQTtZQUNqQixJQUFJQSxNQUFNO2dCQUNSSCxnQkFBZ0IsQ0FBQ0csS0FBS0osVUFBVSxDQUFDLEdBQUc7b0JBQUVGLEdBQUdNLEtBQUtOLENBQUM7b0JBQUVDLEdBQUdLLEtBQUtMLENBQUM7Z0JBQUM7Z0JBQzNERyxnQkFBZ0IsQ0FBQ0UsS0FBS0osVUFBVSxDQUFDLEdBQUdJLEtBQUtDLFFBQVEsSUFBSTtZQUN2RDtRQUNGO1FBQ0FiLGFBQWFTO1FBQ2JQLGFBQWFRO0lBQ2YsR0FBRztRQUFDZDtLQUFXO0lBRWYsTUFBTWtCLGFBQWEsQ0FBQ0MsTUFBbUJDLE9BQWVDO1FBQ3BELElBQUl0QixnQkFBZ0I7WUFDbEIsTUFBTXVCLGVBQWU7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T01qRjtLQUFBQTtBQStPTiwrREFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvKHJvdXRlcykvd29ya3NwYWNlL19jb21wb25lbnRzL0NhbnZhcy50c3g/YTRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IERyYWdnYWJsZSBmcm9tIFwicmVhY3QtZHJhZ2dhYmxlXCI7XG5pbXBvcnQgeyB1c2VEcm9wIH0gZnJvbSBcInJlYWN0LWRuZFwiO1xuaW1wb3J0IHsgTGlicmFyeUl0ZW0gfSBmcm9tIFwiLi9DYW52YXNTaWRlYmFyL0NvbXBvbmVudFBhbmVsXCI7XG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSBcImh0bWwyY2FudmFzXCI7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2NvbnZleC9fZ2VuZXJhdGVkL2FwaSc7XG5pbXBvcnQgeyBJZCB9IGZyb20gJ0AvY29udmV4L19nZW5lcmF0ZWQvZGF0YU1vZGVsJztcblxuaW50ZXJmYWNlIENhbnZhc0NvbXBvbmVudCBleHRlbmRzIExpYnJhcnlJdGVtIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGluc3RhbmNlSWQ6IHN0cmluZztcbiAgcm90YXRpb24/OiBudW1iZXI7IC8vIEFkZCByb3RhdGlvbiBwcm9wZXJ0eVxufVxuXG5pbnRlcmZhY2UgQ2FudmFzUHJvcHMge1xuICBmaWxlSWQ6IElkPFwiZmlsZXNcIj47XG4gIG9uRHJhZ1N0YXJ0OiAoZTogUmVhY3QuRHJhZ0V2ZW50PEhUTUxJbWFnZUVsZW1lbnQ+LCBzcmM6IHN0cmluZykgPT4gdm9pZDtcbiAgZHJhZ2dlZEltYWdlOiBzdHJpbmcgfCBudWxsO1xuICBvbkRyb3BDb21wbGV0ZTogKCkgPT4gdm9pZDtcbiAgb25Db21wb25lbnRBZGQ/OiAoY29tcG9uZW50OiBhbnksIGFjdGlvblR5cGU6IHN0cmluZykgPT4gdm9pZDtcbiAgY29tcG9uZW50czogQ2FudmFzQ29tcG9uZW50W107XG4gIG9uQ29tcG9uZW50RGVsZXRlPzogKGluc3RhbmNlSWQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuY29uc3QgQ2FudmFzOiBSZWFjdC5GQzxDYW52YXNQcm9wcz4gPSAoe1xuICBmaWxlSWQsXG4gIG9uRHJhZ1N0YXJ0LFxuICBkcmFnZ2VkSW1hZ2UsXG4gIG9uRHJvcENvbXBsZXRlLFxuICBvbkNvbXBvbmVudEFkZCxcbiAgY29tcG9uZW50cyxcbiAgb25Db21wb25lbnREZWxldGVcbn0pID0+IHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwb3NpdGlvbnMsIHNldFBvc2l0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+Pih7fSk7XG4gIGNvbnN0IFtyb3RhdGlvbnMsIHNldFJvdGF0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSk7XG4gIGNvbnN0IFtjb250ZXh0TWVudSwgc2V0Q29udGV4dE1lbnVdID0gdXNlU3RhdGU8e1xuICAgIHZpc2libGU6IGJvb2xlYW47XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICBpbnN0YW5jZUlkOiBzdHJpbmc7XG4gIH0+KHtcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgaW5zdGFuY2VJZDogJydcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbXBvbmVudHMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBpbml0aWFsUG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+ID0ge307XG4gICAgY29uc3QgaW5pdGlhbFJvdGF0aW9uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIGNvbXBvbmVudHMuZm9yRWFjaChjb21wID0+IHtcbiAgICAgIGlmIChjb21wKSB7XG4gICAgICAgIGluaXRpYWxQb3NpdGlvbnNbY29tcC5pbnN0YW5jZUlkXSA9IHsgeDogY29tcC54LCB5OiBjb21wLnkgfTtcbiAgICAgICAgaW5pdGlhbFJvdGF0aW9uc1tjb21wLmluc3RhbmNlSWRdID0gY29tcC5yb3RhdGlvbiB8fCAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldFBvc2l0aW9ucyhpbml0aWFsUG9zaXRpb25zKTtcbiAgICBzZXRSb3RhdGlvbnMoaW5pdGlhbFJvdGF0aW9ucyk7XG4gIH0sIFtjb21wb25lbnRzXSk7XG5cbiAgY29uc3QgaGFuZGxlRHJvcCA9IChpdGVtOiBMaWJyYXJ5SXRlbSwgZHJvcFg6IG51bWJlciwgZHJvcFk6IG51bWJlcikgPT4ge1xuICAgIGlmIChvbkNvbXBvbmVudEFkZCkge1xuICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICB4OiBkcm9wWCxcbiAgICAgICAgeTogZHJvcFksXG4gICAgICAgIGluc3RhbmNlSWQ6IGAke2l0ZW0uaWR9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICByb3RhdGlvbjogMFxuICAgICAgfTtcbiAgICAgIG9uQ29tcG9uZW50QWRkKG5ld0NvbXBvbmVudCwgJ2FkZCcpO1xuICAgIH1cbiAgICBvbkRyb3BDb21wbGV0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdTdG9wID0gKGluc3RhbmNlSWQ6IHN0cmluZywgZGF0YTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XG4gICAgaWYgKCFjb21wb25lbnRzKSByZXR1cm47XG5cbiAgICBjb25zdCB1cGRhdGVkUG9zaXRpb25zID0ge1xuICAgICAgLi4ucG9zaXRpb25zLFxuICAgICAgW2luc3RhbmNlSWRdOiB7IHg6IGRhdGEueCwgeTogZGF0YS55IH1cbiAgICB9O1xuICAgIHNldFBvc2l0aW9ucyh1cGRhdGVkUG9zaXRpb25zKTtcblxuICAgIGNvbnN0IGhhbmRsZVJvdGF0ZSA9IChpbnN0YW5jZUlkOiBzdHJpbmcsIGRlZ3JlZXM6IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFJvdGF0aW9uID0gcm90YXRpb25zW2luc3RhbmNlSWRdIHx8IDA7XG4gICAgICBjb25zdCBuZXdSb3RhdGlvbiA9IChjdXJyZW50Um90YXRpb24gKyBkZWdyZWVzKSAlIDM2MDtcbiAgICAgIFxuICAgICAgc2V0Um90YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2luc3RhbmNlSWRdOiBuZXdSb3RhdGlvblxuICAgICAgfSkpO1xuICAgIFxuICAgICAgY29uc3QgY29tcG9uZW50ID0gY29tcG9uZW50cy5maW5kKGNvbXAgPT4gY29tcC5pbnN0YW5jZUlkID09PSBpbnN0YW5jZUlkKTtcbiAgICAgIGlmIChjb21wb25lbnQgJiYgb25Db21wb25lbnRBZGQpIHtcbiAgICAgICAgb25Db21wb25lbnRBZGQoe1xuICAgICAgICAgIC4uLmNvbXBvbmVudCxcbiAgICAgICAgICByb3RhdGlvbjogbmV3Um90YXRpb25cbiAgICAgICAgfSwgJ21vdmUnKTtcbiAgICAgIH1cbiAgICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAsIGluc3RhbmNlSWQ6ICcnIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgW3sgaXNPdmVyIH0sIGRyb3BdID0gdXNlRHJvcCgoKSA9PiAoe1xuICAgICAgYWNjZXB0OiBcImxpYnJhcnlJdGVtXCIsXG4gICAgICBkcm9wOiAoaXRlbTogTGlicmFyeUl0ZW0sIG1vbml0b3IpID0+IHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbW9uaXRvci5nZXRDbGllbnRPZmZzZXQoKTtcbiAgICAgICAgaWYgKG9mZnNldCAmJiBjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXNSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBjb25zdCB4ID0gb2Zmc2V0LnggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgY29uc3QgeSA9IG9mZnNldC55IC0gcmVjdC50b3A7XG4gICAgICAgICAgaGFuZGxlRHJvcChpdGVtLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Q6IChtb25pdG9yKSA9PiAoe1xuICAgICAgICBpc092ZXI6ICEhbW9uaXRvci5pc092ZXIoKSxcbiAgICAgIH0pLFxuICAgIH0pKTtcbiAgfTtcbiAgY29uc3Qgc2F2ZUFzUE5HID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBodG1sMmNhbnZhcyhjYW52YXNSZWYuY3VycmVudCkudGhlbigoY2FudmFzKSA9PiB7XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICBsaW5rLmRvd25sb2FkID0gXCJjYW52YXMucG5nXCI7XG4gICAgICBsaW5rLmhyZWYgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgICAgbGluay5jbGljaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHByaW50Q2FudmFzID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBodG1sMmNhbnZhcyhjYW52YXNSZWYuY3VycmVudCkudGhlbigoY2FudmFzKSA9PiB7XG4gICAgICBjb25zdCBuZXdXaW5kb3cgPSB3aW5kb3cub3BlbigpO1xuICAgICAgaWYgKG5ld1dpbmRvdykge1xuICAgICAgICBuZXdXaW5kb3cuZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2NhbnZhcy50b0RhdGFVUkwoKX1cIiBzdHlsZT1cIndpZHRoOjEwMCU7IGhlaWdodDphdXRvO1wiPmA7XG4gICAgICAgIG5ld1dpbmRvdy5wcmludCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEhhbmRsZSByaWdodC1jbGljayB0byBvcGVuIGNvbnRleHQgbWVudVxuICAvLyBIYW5kbGUgcmlnaHQtY2xpY2sgdG8gb3BlbiBjb250ZXh0IG1lbnVcbiAgY29uc3QgaGFuZGxlQ29udGV4dE1lbnUgPSAoZTogUmVhY3QuTW91c2VFdmVudCwgaW5zdGFuY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldENvbnRleHRNZW51KHtcbiAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICB4OiBlLmNsaWVudFgsXG4gICAgICB5OiBlLmNsaWVudFksXG4gICAgICBpbnN0YW5jZUlkXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGRlbGV0ZSBmcm9tIGNvbnRleHQgbWVudVxuICBjb25zdCBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKGNvbnRleHRNZW51Lmluc3RhbmNlSWQgJiYgb25Db21wb25lbnREZWxldGUpIHtcbiAgICAgIG9uQ29tcG9uZW50RGVsZXRlKGNvbnRleHRNZW51Lmluc3RhbmNlSWQpO1xuICAgIH1cbiAgICBzZXRDb250ZXh0TWVudSh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwLCBpbnN0YW5jZUlkOiAnJyB9KTtcbiAgfTtcblxuICAvLyBIaWRlIGNvbnRleHQgbWVudSB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgICAgaWYgKGNvbnRleHRNZW51LnZpc2libGUpIHtcbiAgICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCwgaW5zdGFuY2VJZDogJycgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcbiAgICB9O1xuICB9LCBbY29udGV4dE1lbnUudmlzaWJsZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBwLTJcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17KG5vZGUpID0+IHtcbiAgICAgICAgICAgIGRyb3Aobm9kZSk7XG4gICAgICAgICAgICBjYW52YXNSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBiZy1bI2VmZjBmMV0gdy1mdWxsIGgtWzU2MHB4XSAke1xuICAgICAgICAgICAgaXNPdmVyID8gXCJib3JkZXItMiBib3JkZXItYmx1ZS01MDBcIiA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIHtjb21wb25lbnRzPy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgIDxEcmFnZ2FibGVcbiAgICAgICAgICAgICAga2V5PXtpdGVtLmluc3RhbmNlSWR9XG4gICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbj17eyB4OiBpdGVtLngsIHk6IGl0ZW0ueSB9fVxuICAgICAgICAgICAgICBwb3NpdGlvbj17cG9zaXRpb25zW2l0ZW0uaW5zdGFuY2VJZF19XG4gICAgICAgICAgICAgIG9uU3RvcD17KGUsIGRhdGEpID0+IGhhbmRsZURyYWdTdG9wKGl0ZW0uaW5zdGFuY2VJZCwgZGF0YSl9XG4gICAgICAgICAgICAgIGJvdW5kcz1cInBhcmVudFwiXG4gICAgICAgICAgICAgIGhhbmRsZT1cIi5kcmFnLWhhbmRsZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgY3Vyc29yLW1vdmVcIlxuICAgICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiBoYW5kbGVDb250ZXh0TWVudShlLCBpdGVtLmluc3RhbmNlSWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyYWctaGFuZGxlIHctMTIgaC0xMiByZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtpdGVtLnN2Z30pYCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3JvdGF0aW9uc1tpdGVtLmluc3RhbmNlSWRdIHx8IDB9ZGVnKWAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4zcyBlYXNlJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuICAgICAgICAgICkpfVxuXG4gICAgICAgICAgey8qIENvbnRleHQgTWVudSAqL31cbiAgICAgICAgICB7Y29udGV4dE1lbnUudmlzaWJsZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBiZy13aGl0ZSBzaGFkb3ctbGcgcm91bmRlZC1tZCBweS0yIHotNTBcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB0b3A6IGNvbnRleHRNZW51LnksIGxlZnQ6IGNvbnRleHRNZW51LnggfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUm90YXRlKGNvbnRleHRNZW51Lmluc3RhbmNlSWQsIDkwKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJvdGF0ZSA5MMKwXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSb3RhdGUoY29udGV4dE1lbnUuaW5zdGFuY2VJZCwgMTgwKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJvdGF0ZSAxODDCsFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMCB0ZXh0LXJlZC02MDBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGdhcC00XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17c2F2ZUFzUE5HfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZCBzaGFkb3cgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFNhdmUgYXMgUE5HXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17cHJpbnRDYW52YXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZCBzaGFkb3cgaG92ZXI6YmctZ3JlZW4tNjAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBQcmludCBDYW52YXNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhczsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkRyYWdnYWJsZSIsInVzZURyb3AiLCJodG1sMmNhbnZhcyIsIkNhbnZhcyIsImZpbGVJZCIsIm9uRHJhZ1N0YXJ0IiwiZHJhZ2dlZEltYWdlIiwib25Ecm9wQ29tcGxldGUiLCJvbkNvbXBvbmVudEFkZCIsImNvbXBvbmVudHMiLCJvbkNvbXBvbmVudERlbGV0ZSIsImNhbnZhc1JlZiIsInBvc2l0aW9ucyIsInNldFBvc2l0aW9ucyIsInJvdGF0aW9ucyIsInNldFJvdGF0aW9ucyIsImNvbnRleHRNZW51Iiwic2V0Q29udGV4dE1lbnUiLCJ2aXNpYmxlIiwieCIsInkiLCJpbnN0YW5jZUlkIiwiaW5pdGlhbFBvc2l0aW9ucyIsImluaXRpYWxSb3RhdGlvbnMiLCJmb3JFYWNoIiwiY29tcCIsInJvdGF0aW9uIiwiaGFuZGxlRHJvcCIsIml0ZW0iLCJkcm9wWCIsImRyb3BZIiwibmV3Q29tcG9uZW50IiwiRGF0ZSIsImlkIiwibm93IiwiaGFuZGxlRHJhZ1N0b3AiLCJkYXRhIiwidXBkYXRlZFBvc2l0aW9ucyIsImhhbmRsZVJvdGF0ZSIsImRlZ3JlZXMiLCJjdXJyZW50Um90YXRpb24iLCJuZXdSb3RhdGlvbiIsInByZXYiLCJjb21wb25lbnQiLCJmaW5kIiwiaXNPdmVyIiwiZHJvcCIsImFjY2VwdCIsIm1vbml0b3IiLCJvZmZzZXQiLCJnZXRDbGllbnRPZmZzZXQiLCJjdXJyZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJjb2xsZWN0Iiwic2F2ZUFzUE5HIiwidGhlbiIsImNhbnZhcyIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkb3dubG9hZCIsImhyZWYiLCJ0b0RhdGFVUkwiLCJjbGljayIsInByaW50Q2FudmFzIiwibmV3V2luZG93Iiwid2luZG93Iiwib3BlbiIsImJvZHkiLCJpbm5lckhUTUwiLCJwcmludCIsImhhbmRsZUNvbnRleHRNZW51IiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2xpZW50WCIsImNsaWVudFkiLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwibm9kZSIsIm1hcCIsImRlZmF1bHRQb3NpdGlvbiIsInBvc2l0aW9uIiwib25TdG9wIiwiYm91bmRzIiwiaGFuZGxlIiwib25Db250ZXh0TWVudSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwic3ZnIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx\n"));

/***/ })

});