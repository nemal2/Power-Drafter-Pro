"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(routes)/workspace/[fileId]/page",{

/***/ "(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx":
/*!*******************************************************!*\
  !*** ./app/(routes)/workspace/_components/Canvas.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-draggable */ \"(app-pages-browser)/./node_modules/react-draggable/build/cjs/cjs.js\");\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_draggable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dnd */ \"(app-pages-browser)/./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! html2canvas */ \"(app-pages-browser)/./node_modules/html2canvas/dist/html2canvas.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-out.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-in.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/move.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Move,Printer,Save,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nconst Canvas = (param)=>{\n    let { fileId, onDragStart, draggedImage, onDropComplete, onComponentAdd, components, onComponentDelete } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [positions, setPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [rotations, setRotations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [zoomLevel, setZoomLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1); // 1 = 100% zoom\n    const [panOffset, setPanOffset] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isPanning, setIsPanning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastMousePosition, setLastMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cursorStyle, setCursorStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"default\");\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visible: false,\n        x: 0,\n        y: 0,\n        instanceId: \"\",\n        componentRect: undefined\n    });\n    // Constants for zoom\n    const MIN_ZOOM = 0.5; // 50% minimum zoom\n    const MAX_ZOOM = 3.0; // 300% maximum zoom\n    const ZOOM_STEP = 0.1; // 10% zoom per scroll step\n    // Functions to convert between screen and canvas coordinates\n    const screenToCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((screenX, screenY)=>{\n        if (!canvasRef.current) return {\n            x: 0,\n            y: 0\n        };\n        const canvasRect = canvasRef.current.getBoundingClientRect();\n        // Adjust for current pan offset and zoom\n        const x = (screenX - canvasRect.left - panOffset.x) / zoomLevel;\n        const y = (screenY - canvasRect.top - panOffset.y) / zoomLevel;\n        return {\n            x,\n            y\n        };\n    }, [\n        zoomLevel,\n        panOffset\n    ]);\n    // Toggle between pan tool and selection tool\n    const togglePanTool = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!components) return;\n        const initialPositions = {};\n        const initialRotations = {};\n        components.forEach((comp)=>{\n            if (comp) {\n                initialPositions[comp.instanceId] = {\n                    x: comp.x,\n                    y: comp.y\n                };\n                initialRotations[comp.instanceId] = comp.rotation || 0;\n            }\n        });\n        setPositions(initialPositions);\n        setRotations(initialRotations);\n    }, [\n        components\n    ]);\n    // Handle mouse wheel for zooming - now with focus point zoom\n    const handleWheel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        var _canvasContainerRef_current;\n        e.preventDefault();\n        if (e.buttons === 4 || e.buttons === 1 && e.altKey) {\n            // If middle button is pressed during scroll, handle panning instead\n            const deltaX = e.deltaX;\n            const deltaY = e.deltaY;\n            setPanOffset((prev)=>({\n                    x: prev.x - deltaX,\n                    y: prev.y - deltaY\n                }));\n            return;\n        }\n        const containerRect = (_canvasContainerRef_current = canvasContainerRef.current) === null || _canvasContainerRef_current === void 0 ? void 0 : _canvasContainerRef_current.getBoundingClientRect();\n        if (!containerRect) return;\n        // Get mouse position relative to container\n        const mouseX = e.clientX - containerRect.left;\n        const mouseY = e.clientY - containerRect.top;\n        // Calculate position before zoom\n        const beforeX = (mouseX - panOffset.x) / zoomLevel;\n        const beforeY = (mouseY - panOffset.y) / zoomLevel;\n        // Determine zoom direction\n        const delta = e.deltaY < 0 ? ZOOM_STEP : -ZOOM_STEP;\n        // Calculate new zoom level with constraints\n        const newZoom = Math.min(MAX_ZOOM, Math.max(MIN_ZOOM, zoomLevel + delta));\n        // Calculate position after zoom\n        const afterX = (mouseX - panOffset.x) / newZoom;\n        const afterY = (mouseY - panOffset.y) / newZoom;\n        // Adjust pan offset to keep the point under mouse in the same position\n        const newPanOffsetX = panOffset.x - (afterX - beforeX) * newZoom;\n        const newPanOffsetY = panOffset.y - (afterY - beforeY) * newZoom;\n        setZoomLevel(newZoom);\n        setPanOffset({\n            x: newPanOffsetX,\n            y: newPanOffsetY\n        });\n    }, [\n        zoomLevel,\n        panOffset\n    ]);\n    // Handle mouse events for panning\n    const handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        // Middle mouse button (button 1) or left mouse with Alt key for panning\n        if (e.button === 1 || e.button === 0 && (e.altKey || cursorStyle === \"grab\")) {\n            e.preventDefault();\n            setIsPanning(true);\n            setLastMousePosition({\n                x: e.clientX,\n                y: e.clientY\n            });\n            setCursorStyle(\"grabbing\");\n        }\n    }, [\n        cursorStyle\n    ]);\n    const handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        if (isPanning && lastMousePosition) {\n            const deltaX = e.clientX - lastMousePosition.x;\n            const deltaY = e.clientY - lastMousePosition.y;\n            setPanOffset((prev)=>({\n                    x: prev.x + deltaX,\n                    y: prev.y + deltaY\n                }));\n            setLastMousePosition({\n                x: e.clientX,\n                y: e.clientY\n            });\n        }\n    }, [\n        isPanning,\n        lastMousePosition\n    ]);\n    const handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (isPanning) {\n            setIsPanning(false);\n            setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n        }\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Also stop panning if mouse leaves the canvas area\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (isPanning) {\n            setIsPanning(false);\n            setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n        }\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Register global mouse up to handle cases where mouse is released outside the component\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleGlobalMouseUp = ()=>{\n            if (isPanning) {\n                setIsPanning(false);\n                setCursorStyle(cursorStyle === \"grabbing\" ? \"grab\" : \"default\");\n            }\n        };\n        window.addEventListener(\"mouseup\", handleGlobalMouseUp);\n        return ()=>{\n            window.removeEventListener(\"mouseup\", handleGlobalMouseUp);\n        };\n    }, [\n        isPanning,\n        cursorStyle\n    ]);\n    // Zoom in button handler\n    const handleZoomIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const newZoom = Math.min(MAX_ZOOM, zoomLevel + ZOOM_STEP);\n        setZoomLevel(newZoom);\n    }, [\n        zoomLevel\n    ]);\n    // Zoom out button handler\n    const handleZoomOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const newZoom = Math.max(MIN_ZOOM, zoomLevel - ZOOM_STEP);\n        setZoomLevel(newZoom);\n    }, [\n        zoomLevel\n    ]);\n    // Reset zoom and pan button handler\n    const resetZoomAndPan = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setZoomLevel(1);\n        setPanOffset({\n            x: 0,\n            y: 0\n        });\n    }, []);\n    // Modified handleDrop function to account for zoom level and pan offset\n    const handleDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((item, dropX, dropY)=>{\n        if (onComponentAdd) {\n            var _item_specs, _item_specs1, _item_specs2;\n            // Calculate the center point offset based on item dimensions\n            const centerOffsetX = (item.width || 100) / 2;\n            const centerOffsetY = (item.height || 100) / 2;\n            // Convert screen coordinates to canvas coordinates\n            const canvasCoords = screenToCanvas(dropX, dropY);\n            // Adjust the drop position for component center\n            const adjustedX = Math.max(0, canvasCoords.x - centerOffsetX);\n            const adjustedY = Math.max(0, canvasCoords.y - centerOffsetY);\n            // Ensure the item has all required specs\n            const newComponent = {\n                ...item,\n                x: adjustedX,\n                y: adjustedY,\n                instanceId: \"\".concat(item.id, \"-\").concat(Date.now()),\n                rotation: 0.0,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_item_specs = item.specs) === null || _item_specs === void 0 ? void 0 : _item_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_item_specs1 = item.specs) === null || _item_specs1 === void 0 ? void 0 : _item_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_item_specs2 = item.specs) === null || _item_specs2 === void 0 ? void 0 : _item_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...item.specs\n                }\n            };\n            onComponentAdd(newComponent, \"add\");\n        }\n        onDropComplete();\n    }, [\n        onComponentAdd,\n        onDropComplete,\n        screenToCanvas\n    ]);\n    const [{ isOver }, drop] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop)(()=>({\n            accept: \"libraryItem\",\n            drop: (item, monitor)=>{\n                const offset = monitor.getClientOffset();\n                if (offset && canvasRef.current) {\n                    handleDrop(item, offset.x, offset.y);\n                }\n            },\n            collect: (monitor)=>({\n                    isOver: !!monitor.isOver()\n                })\n        }), [\n        handleDrop\n    ]);\n    const handleDragStop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((instanceId, data)=>{\n        if (!components) return;\n        const updatedPositions = {\n            ...positions,\n            [instanceId]: {\n                x: data.x,\n                y: data.y\n            }\n        };\n        setPositions(updatedPositions);\n        const component = components.find((comp)=>comp.instanceId === instanceId);\n        if (component && onComponentAdd) {\n            var _component_specs, _component_specs1, _component_specs2;\n            onComponentAdd({\n                ...component,\n                x: data.x,\n                y: data.y,\n                rotation: rotations[instanceId] || 0.0,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_component_specs = component.specs) === null || _component_specs === void 0 ? void 0 : _component_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_component_specs1 = component.specs) === null || _component_specs1 === void 0 ? void 0 : _component_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_component_specs2 = component.specs) === null || _component_specs2 === void 0 ? void 0 : _component_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...component.specs\n                }\n            }, \"move\");\n        }\n    }, [\n        components,\n        positions,\n        rotations,\n        onComponentAdd\n    ]);\n    const handleRotate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((instanceId, degrees)=>{\n        const currentRotation = rotations[instanceId] || 0;\n        const newRotation = (currentRotation + degrees) % 360;\n        setRotations((prev)=>({\n                ...prev,\n                [instanceId]: newRotation\n            }));\n        const component = components.find((comp)=>comp.instanceId === instanceId);\n        if (component && onComponentAdd) {\n            var _positions_instanceId, _positions_instanceId1, _component_specs, _component_specs1, _component_specs2;\n            onComponentAdd({\n                ...component,\n                rotation: newRotation,\n                x: ((_positions_instanceId = positions[instanceId]) === null || _positions_instanceId === void 0 ? void 0 : _positions_instanceId.x) || component.x,\n                y: ((_positions_instanceId1 = positions[instanceId]) === null || _positions_instanceId1 === void 0 ? void 0 : _positions_instanceId1.y) || component.y,\n                // Ensure specs object has all required fields\n                specs: {\n                    power: ((_component_specs = component.specs) === null || _component_specs === void 0 ? void 0 : _component_specs.power) || [\n                        \"default\"\n                    ],\n                    resistance: ((_component_specs1 = component.specs) === null || _component_specs1 === void 0 ? void 0 : _component_specs1.resistance) || [\n                        \"default\"\n                    ],\n                    tolerance: ((_component_specs2 = component.specs) === null || _component_specs2 === void 0 ? void 0 : _component_specs2.tolerance) || [\n                        \"default\"\n                    ],\n                    ...component.specs\n                }\n            }, \"move\");\n        }\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0,\n            instanceId: \"\"\n        });\n    }, [\n        components,\n        positions,\n        rotations,\n        onComponentAdd\n    ]);\n    const saveAsPNG = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const link = document.createElement(\"a\");\n            link.download = \"canvas.png\";\n            link.href = canvas.toDataURL(\"image/png\");\n            link.click();\n        });\n    }, []);\n    const printCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current) return;\n        html2canvas__WEBPACK_IMPORTED_MODULE_3___default()(canvasRef.current).then((canvas)=>{\n            const newWindow = window.open();\n            if (newWindow) {\n                newWindow.document.body.innerHTML = '<img src=\"'.concat(canvas.toDataURL(), '\" style=\"width:100%; height:auto;\">');\n                newWindow.print();\n            }\n        });\n    }, []);\n    // Handle right-click to open context menu - IMPROVED POSITIONING\n    const handleContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e, instanceId, elementRect)=>{\n        e.preventDefault();\n        // Position menu relative to the click point instead of the element's edge\n        // This keeps it close to where the user clicked\n        const menuX = e.clientX;\n        const menuY = e.clientY;\n        setContextMenu({\n            visible: true,\n            x: menuX,\n            y: menuY,\n            instanceId,\n            componentRect: elementRect\n        });\n    }, []);\n    // Handle delete from context menu\n    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (contextMenu.instanceId && onComponentDelete) {\n            onComponentDelete(contextMenu.instanceId);\n        }\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0,\n            instanceId: \"\"\n        });\n    }, [\n        contextMenu.instanceId,\n        onComponentDelete\n    ]);\n    // Hide context menu when clicking elsewhere\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClick = ()=>{\n            if (contextMenu.visible) {\n                setContextMenu({\n                    visible: false,\n                    x: 0,\n                    y: 0,\n                    instanceId: \"\"\n                });\n            }\n        };\n        document.addEventListener(\"click\", handleClick);\n        return ()=>{\n            document.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        contextMenu.visible\n    ]);\n    // Keyboard shortcuts for panning and zooming\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            // Space bar toggle pan mode\n            if (e.code === \"Space\" && !e.repeat) {\n                e.preventDefault();\n                setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n            }\n            // + key for zoom in\n            if (e.key === \"+\" || e.key === \"=\") {\n                e.preventDefault();\n                handleZoomIn();\n            }\n            // - key for zoom out\n            if (e.key === \"-\" || e.key === \"_\") {\n                e.preventDefault();\n                handleZoomOut();\n            }\n            // 0 or r key for reset\n            if (e.key === \"0\" || e.key === \"r\") {\n                e.preventDefault();\n                resetZoomAndPan();\n            }\n        };\n        const handleKeyUp = (e)=>{\n            // Release space bar\n            if (e.code === \"Space\") {\n                e.preventDefault();\n                if (!isPanning) {\n                    setCursorStyle((prev)=>prev === \"grab\" ? \"default\" : \"grab\");\n                }\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n        };\n    }, [\n        handleZoomIn,\n        handleZoomOut,\n        resetZoomAndPan,\n        isPanning\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full max-h-screen\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-gray-100 p-2 flex items-center justify-between mb-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleZoomOut,\n                                disabled: zoomLevel <= MIN_ZOOM,\n                                className: \"p-1 rounded \".concat(zoomLevel <= MIN_ZOOM ? \"text-gray-400\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Zoom Out (- key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 436,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium w-16 text-center\",\n                                children: [\n                                    Math.round(zoomLevel * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleZoomIn,\n                                disabled: zoomLevel >= MAX_ZOOM,\n                                className: \"p-1 rounded \".concat(zoomLevel >= MAX_ZOOM ? \"text-gray-400\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Zoom In (+ key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 449,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: togglePanTool,\n                                className: \"p-1 rounded \".concat(cursorStyle === \"grab\" || cursorStyle === \"grabbing\" ? \"bg-blue-500 text-white\" : \"text-blue-600 hover:bg-blue-100\"),\n                                title: \"Pan Tool (Space key)\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    size: 18\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 457,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 452,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: resetZoomAndPan,\n                                className: \"text-xs text-blue-600 hover:underline\",\n                                title: \"Reset View (0 key)\",\n                                children: \"Reset\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 460,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 429,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 hidden md:inline\",\n                        children: \"(Middle-click to pan, scroll to zoom)\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 470,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: saveAsPNG,\n                                className: \"flex items-center space-x-1 bg-blue-500 text-white px-2 py-1 rounded shadow hover:bg-blue-600 text-sm\",\n                                title: \"Save as PNG\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 481,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"PNG\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 482,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 476,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: printCanvas,\n                                className: \"flex items-center space-x-1 bg-green-500 text-white px-2 py-1 rounded shadow hover:bg-green-600 text-sm\",\n                                title: \"Print Canvas\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Move_Printer_Save_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 489,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Print\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 490,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 484,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                        lineNumber: 475,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                lineNumber: 427,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: canvasContainerRef,\n                className: \"flex-grow w-full p-1 overflow-auto\",\n                style: {\n                    height: \"calc(100vh - 110px)\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: (node)=>{\n                        drop(node);\n                        canvasRef.current = node;\n                    },\n                    className: \"relative bg-[#eff0f1] \".concat(isOver ? \"border-2 border-blue-500\" : \"\"),\n                    style: {\n                        width: \"100%\",\n                        height: \"100%\",\n                        transform: \"scale(\".concat(zoomLevel, \")\"),\n                        transformOrigin: \"top left\",\n                        transition: \"transform 0.1s ease-out\",\n                        cursor: cursorStyle,\n                        marginLeft: panOffset.x,\n                        marginTop: panOffset.y\n                    },\n                    onWheel: handleWheel,\n                    onMouseDown: handleMouseDown,\n                    onMouseMove: handleMouseMove,\n                    onMouseUp: handleMouseUp,\n                    onMouseLeave: handleMouseLeave,\n                    children: [\n                        components === null || components === void 0 ? void 0 : components.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_draggable__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                defaultPosition: {\n                                    x: item.x,\n                                    y: item.y\n                                },\n                                position: positions[item.instanceId],\n                                onStop: (e, data)=>handleDragStop(item.instanceId, data),\n                                bounds: \"parent\",\n                                handle: \".drag-handle\",\n                                scale: zoomLevel,\n                                disabled: isPanning || cursorStyle === \"grab\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute cursor-move\",\n                                    onContextMenu: (e)=>{\n                                        // Get the element's bounding rectangle to position the context menu better\n                                        const rect = e.currentTarget.getBoundingClientRect();\n                                        handleContextMenu(e, item.instanceId, rect);\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"drag-handle relative\",\n                                        style: {\n                                            backgroundImage: \"url(\".concat(item.svg, \")\"),\n                                            backgroundSize: \"contain\",\n                                            backgroundRepeat: \"no-repeat\",\n                                            backgroundPosition: \"center\",\n                                            width: \"\".concat(item.width || 100, \"px\"),\n                                            height: \"\".concat(item.height || 100, \"px\"),\n                                            transform: \"rotate(\".concat(rotations[item.instanceId] || 0, \"deg)\"),\n                                            transition: \"transform 0.3s ease\",\n                                            cursor: isPanning || cursorStyle === \"grab\" ? cursorStyle : \"move\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                        lineNumber: 544,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 536,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, item.instanceId, false, {\n                                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 13\n                            }, undefined)),\n                        contextMenu.visible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"fixed bg-white shadow-lg rounded-md py-2 z-50\",\n                            style: {\n                                top: \"\".concat(contextMenu.y, \"px\"),\n                                left: \"\".concat(contextMenu.x, \"px\")\n                            },\n                            onClick: (e)=>e.stopPropagation(),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 90),\n                                    children: \"Rotate 90\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 577,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100\",\n                                    onClick: ()=>handleRotate(contextMenu.instanceId, 180),\n                                    children: \"Rotate 180\\xb0\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600\",\n                                    onClick: handleDelete,\n                                    children: \"Delete\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                                    lineNumber: 589,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                            lineNumber: 569,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                    lineNumber: 501,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n                lineNumber: 496,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\6_semester\\\\software_project\\\\sprint_6\\\\final\\\\5\\\\Power-Drafter-Pro\\\\app\\\\(routes)\\\\workspace\\\\_components\\\\Canvas.tsx\",\n        lineNumber: 425,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"gSm5QxH8jFGx/59zh2tsq5Fqszo=\", false, function() {\n    return [\n        react_dnd__WEBPACK_IMPORTED_MODULE_4__.useDrop\n    ];\n});\n_c = Canvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocm91dGVzKS93b3Jrc3BhY2UvX2NvbXBvbmVudHMvQ2FudmFzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ2hDO0FBQ0o7QUFFRTtBQUc4QjtBQW1CcEUsTUFBTWEsU0FBZ0M7UUFBQyxFQUNyQ0MsTUFBTSxFQUNOQyxXQUFXLEVBQ1hDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLFVBQVUsRUFDVkMsaUJBQWlCLEVBQ2xCOztJQUNDLE1BQU1DLFlBQVlwQiw2Q0FBTUEsQ0FBd0I7SUFDaEQsTUFBTXFCLHFCQUFxQnJCLDZDQUFNQSxDQUF3QjtJQUN6RCxNQUFNLENBQUNzQixXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBMkMsQ0FBQztJQUN0RixNQUFNLENBQUNzQixXQUFXQyxhQUFhLEdBQUd2QiwrQ0FBUUEsQ0FBeUIsQ0FBQztJQUNwRSxNQUFNLENBQUN3QixXQUFXQyxhQUFhLEdBQUd6QiwrQ0FBUUEsQ0FBUyxJQUFJLGdCQUFnQjtJQUN2RSxNQUFNLENBQUMwQixXQUFXQyxhQUFhLEdBQUczQiwrQ0FBUUEsQ0FBMkI7UUFBRTRCLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ2xGLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHL0IsK0NBQVFBLENBQVU7SUFDcEQsTUFBTSxDQUFDZ0MsbUJBQW1CQyxxQkFBcUIsR0FBR2pDLCtDQUFRQSxDQUFrQztJQUM1RixNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBUztJQUN2RCxNQUFNLENBQUNvQyxhQUFhQyxlQUFlLEdBQUdyQywrQ0FBUUEsQ0FNM0M7UUFDRHNDLFNBQVM7UUFDVFYsR0FBRztRQUNIQyxHQUFHO1FBQ0hVLFlBQVk7UUFDWkMsZUFBZUM7SUFDakI7SUFFQSxxQkFBcUI7SUFDckIsTUFBTUMsV0FBVyxLQUFNLG1CQUFtQjtJQUMxQyxNQUFNQyxXQUFXLEtBQU0sb0JBQW9CO0lB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Q0FDbEJDLG9CQUFvQjs0Q0FDcEI3RixPQUFPLEdBQXFCLE9BQWxCSixLQUFLSSxLQUFLLElBQUksS0FBSTs0Q0FDNUJFLFFBQVEsR0FBc0IsT0FBbkJOLEtBQUtNLE1BQU0sSUFBSSxLQUFJOzRDQUM5QmtFLFdBQVcsVUFBMEMsT0FBaENsSixTQUFTLENBQUMwRSxLQUFLekQsVUFBVSxDQUFDLElBQUksR0FBRTs0Q0FDckRtSSxZQUFZOzRDQUNaQyxRQUFRN0ksYUFBYUksZ0JBQWdCLFNBQVNBLGNBQWM7d0NBQzlEOzs7Ozs7Ozs7OzsrQkE3QkM4RCxLQUFLekQsVUFBVTs7Ozs7d0JBeUN2QkgsWUFBWUUsT0FBTyxrQkFDbEIsOERBQUN1SDs0QkFDQ0MsV0FBVTs0QkFDVlEsT0FBTztnQ0FDTGxILEtBQUssR0FBaUIsT0FBZGhCLFlBQVlQLENBQUMsRUFBQztnQ0FDdEJzQixNQUFNLEdBQWlCLE9BQWRmLFlBQVlSLENBQUMsRUFBQzs0QkFDekI7NEJBQ0FtSSxTQUFTLENBQUNsRyxJQUFNQSxFQUFFcUksZUFBZTs7OENBRWpDLDhEQUFDOUc7b0NBQ0MwRSxXQUFVO29DQUNWQyxTQUFTLElBQU1qQyxhQUFhMUYsWUFBWUcsVUFBVSxFQUFFOzhDQUNyRDs7Ozs7OzhDQUdELDhEQUFDNkM7b0NBQ0MwRSxXQUFVO29DQUNWQyxTQUFTLElBQU1qQyxhQUFhMUYsWUFBWUcsVUFBVSxFQUFFOzhDQUNyRDs7Ozs7OzhDQUdELDhEQUFDNkM7b0NBQ0MwRSxXQUFVO29DQUNWQyxTQUFTVDs4Q0FDVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTZjtHQTlqQk01STs7UUE2TnVCUCw4Q0FBT0E7OztLQTdOOUJPO0FBZ2tCTiwrREFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvKHJvdXRlcykvd29ya3NwYWNlL19jb21wb25lbnRzL0NhbnZhcy50c3g/YTRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gXCJyZWFjdC1kcmFnZ2FibGVcIjtcclxuaW1wb3J0IHsgdXNlRHJvcCB9IGZyb20gXCJyZWFjdC1kbmRcIjtcclxuaW1wb3J0IHsgTGlicmFyeUl0ZW0gfSBmcm9tIFwiLi9DYW52YXNTaWRlYmFyL0xpYnJhcnlJdGVtc1wiO1xyXG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSBcImh0bWwyY2FudmFzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gJ0AvY29udmV4L19nZW5lcmF0ZWQvYXBpJztcclxuaW1wb3J0IHsgSWQgfSBmcm9tICdAL2NvbnZleC9fZ2VuZXJhdGVkL2RhdGFNb2RlbCc7XHJcbmltcG9ydCB7IFpvb21JbiwgWm9vbU91dCwgTW92ZSwgU2F2ZSwgUHJpbnRlciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcblxyXG5pbnRlcmZhY2UgQ2FudmFzQ29tcG9uZW50IGV4dGVuZHMgTGlicmFyeUl0ZW0ge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgaW5zdGFuY2VJZDogc3RyaW5nO1xyXG4gIHJvdGF0aW9uPzogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FudmFzUHJvcHMge1xyXG4gIGZpbGVJZDogSWQ8XCJmaWxlc1wiPjtcclxuICBvbkRyYWdTdGFydDogKGU6IFJlYWN0LkRyYWdFdmVudDxIVE1MSW1hZ2VFbGVtZW50Piwgc3JjOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgZHJhZ2dlZEltYWdlOiBzdHJpbmcgfCBudWxsO1xyXG4gIG9uRHJvcENvbXBsZXRlOiAoKSA9PiB2b2lkO1xyXG4gIG9uQ29tcG9uZW50QWRkPzogKGNvbXBvbmVudDogYW55LCBhY3Rpb25UeXBlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgY29tcG9uZW50czogQ2FudmFzQ29tcG9uZW50W107XHJcbiAgb25Db21wb25lbnREZWxldGU/OiAoaW5zdGFuY2VJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBDYW52YXM6IFJlYWN0LkZDPENhbnZhc1Byb3BzPiA9ICh7XHJcbiAgZmlsZUlkLFxyXG4gIG9uRHJhZ1N0YXJ0LFxyXG4gIGRyYWdnZWRJbWFnZSxcclxuICBvbkRyb3BDb21wbGV0ZSxcclxuICBvbkNvbXBvbmVudEFkZCxcclxuICBjb21wb25lbnRzLFxyXG4gIG9uQ29tcG9uZW50RGVsZXRlXHJcbn0pID0+IHtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBjYW52YXNDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcG9zaXRpb25zLCBzZXRQb3NpdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgeyB4OiBudW1iZXI7IHk6IG51bWJlciB9Pj4oe30pO1xyXG4gIGNvbnN0IFtyb3RhdGlvbnMsIHNldFJvdGF0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSk7XHJcbiAgY29uc3QgW3pvb21MZXZlbCwgc2V0Wm9vbUxldmVsXSA9IHVzZVN0YXRlPG51bWJlcj4oMSk7IC8vIDEgPSAxMDAlIHpvb21cclxuICBjb25zdCBbcGFuT2Zmc2V0LCBzZXRQYW5PZmZzZXRdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9Pih7IHg6IDAsIHk6IDAgfSk7XHJcbiAgY29uc3QgW2lzUGFubmluZywgc2V0SXNQYW5uaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbbGFzdE1vdXNlUG9zaXRpb24sIHNldExhc3RNb3VzZVBvc2l0aW9uXSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjdXJzb3JTdHlsZSwgc2V0Q3Vyc29yU3R5bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcImRlZmF1bHRcIik7XHJcbiAgY29uc3QgW2NvbnRleHRNZW51LCBzZXRDb250ZXh0TWVudV0gPSB1c2VTdGF0ZTx7XHJcbiAgICB2aXNpYmxlOiBib29sZWFuO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgaW5zdGFuY2VJZDogc3RyaW5nO1xyXG4gICAgY29tcG9uZW50UmVjdD86IERPTVJlY3Q7XHJcbiAgfT4oe1xyXG4gICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIGluc3RhbmNlSWQ6ICcnLFxyXG4gICAgY29tcG9uZW50UmVjdDogdW5kZWZpbmVkXHJcbiAgfSk7XHJcblxyXG4gIC8vIENvbnN0YW50cyBmb3Igem9vbVxyXG4gIGNvbnN0IE1JTl9aT09NID0gMC41OyAgLy8gNTAlIG1pbmltdW0gem9vbVxyXG4gIGNvbnN0IE1BWF9aT09NID0gMy4wOyAgLy8gMzAwJSBtYXhpbXVtIHpvb21cclxuICBjb25zdCBaT09NX1NURVAgPSAwLjE7IC8vIDEwJSB6b29tIHBlciBzY3JvbGwgc3RlcFxyXG4gIFxyXG4gIC8vIEZ1bmN0aW9ucyB0byBjb252ZXJ0IGJldHdlZW4gc2NyZWVuIGFuZCBjYW52YXMgY29vcmRpbmF0ZXNcclxuICBjb25zdCBzY3JlZW5Ub0NhbnZhcyA9IHVzZUNhbGxiYWNrKChzY3JlZW5YOiBudW1iZXIsIHNjcmVlblk6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBjYW52YXNSZWN0ID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBcclxuICAgIC8vIEFkanVzdCBmb3IgY3VycmVudCBwYW4gb2Zmc2V0IGFuZCB6b29tXHJcbiAgICBjb25zdCB4ID0gKHNjcmVlblggLSBjYW52YXNSZWN0LmxlZnQgLSBwYW5PZmZzZXQueCkgLyB6b29tTGV2ZWw7XHJcbiAgICBjb25zdCB5ID0gKHNjcmVlblkgLSBjYW52YXNSZWN0LnRvcCAtIHBhbk9mZnNldC55KSAvIHpvb21MZXZlbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gIH0sIFt6b29tTGV2ZWwsIHBhbk9mZnNldF0pO1xyXG5cclxuICAvLyBUb2dnbGUgYmV0d2VlbiBwYW4gdG9vbCBhbmQgc2VsZWN0aW9uIHRvb2xcclxuICBjb25zdCB0b2dnbGVQYW5Ub29sID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0Q3Vyc29yU3R5bGUocHJldiA9PiBwcmV2ID09PSBcImdyYWJcIiA/IFwiZGVmYXVsdFwiIDogXCJncmFiXCIpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghY29tcG9uZW50cykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbml0aWFsUG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+ID0ge307XHJcbiAgICBjb25zdCBpbml0aWFsUm90YXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgICBjb21wb25lbnRzLmZvckVhY2goY29tcCA9PiB7XHJcbiAgICAgIGlmIChjb21wKSB7XHJcbiAgICAgICAgaW5pdGlhbFBvc2l0aW9uc1tjb21wLmluc3RhbmNlSWRdID0geyB4OiBjb21wLngsIHk6IGNvbXAueSB9O1xyXG4gICAgICAgIGluaXRpYWxSb3RhdGlvbnNbY29tcC5pbnN0YW5jZUlkXSA9IGNvbXAucm90YXRpb24gfHwgMDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBzZXRQb3NpdGlvbnMoaW5pdGlhbFBvc2l0aW9ucyk7XHJcbiAgICBzZXRSb3RhdGlvbnMoaW5pdGlhbFJvdGF0aW9ucyk7XHJcbiAgfSwgW2NvbXBvbmVudHNdKTtcclxuXHJcbiAgLy8gSGFuZGxlIG1vdXNlIHdoZWVsIGZvciB6b29taW5nIC0gbm93IHdpdGggZm9jdXMgcG9pbnQgem9vbVxyXG4gIGNvbnN0IGhhbmRsZVdoZWVsID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LldoZWVsRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGlmIChlLmJ1dHRvbnMgPT09IDQgfHwgKGUuYnV0dG9ucyA9PT0gMSAmJiBlLmFsdEtleSkpIHtcclxuICAgICAgLy8gSWYgbWlkZGxlIGJ1dHRvbiBpcyBwcmVzc2VkIGR1cmluZyBzY3JvbGwsIGhhbmRsZSBwYW5uaW5nIGluc3RlYWRcclxuICAgICAgY29uc3QgZGVsdGFYID0gZS5kZWx0YVg7XHJcbiAgICAgIGNvbnN0IGRlbHRhWSA9IGUuZGVsdGFZO1xyXG4gICAgICBzZXRQYW5PZmZzZXQocHJldiA9PiAoe1xyXG4gICAgICAgIHg6IHByZXYueCAtIGRlbHRhWCxcclxuICAgICAgICB5OiBwcmV2LnkgLSBkZWx0YVlcclxuICAgICAgfSkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBjYW52YXNDb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBpZiAoIWNvbnRhaW5lclJlY3QpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gR2V0IG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGNvbnRhaW5lclxyXG4gICAgY29uc3QgbW91c2VYID0gZS5jbGllbnRYIC0gY29udGFpbmVyUmVjdC5sZWZ0O1xyXG4gICAgY29uc3QgbW91c2VZID0gZS5jbGllbnRZIC0gY29udGFpbmVyUmVjdC50b3A7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBiZWZvcmUgem9vbVxyXG4gICAgY29uc3QgYmVmb3JlWCA9IChtb3VzZVggLSBwYW5PZmZzZXQueCkgLyB6b29tTGV2ZWw7XHJcbiAgICBjb25zdCBiZWZvcmVZID0gKG1vdXNlWSAtIHBhbk9mZnNldC55KSAvIHpvb21MZXZlbDtcclxuICAgIFxyXG4gICAgLy8gRGV0ZXJtaW5lIHpvb20gZGlyZWN0aW9uXHJcbiAgICBjb25zdCBkZWx0YSA9IGUuZGVsdGFZIDwgMCA/IFpPT01fU1RFUCA6IC1aT09NX1NURVA7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBuZXcgem9vbSBsZXZlbCB3aXRoIGNvbnN0cmFpbnRzXHJcbiAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oTUFYX1pPT00sIE1hdGgubWF4KE1JTl9aT09NLCB6b29tTGV2ZWwgKyBkZWx0YSkpO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gYWZ0ZXIgem9vbVxyXG4gICAgY29uc3QgYWZ0ZXJYID0gKG1vdXNlWCAtIHBhbk9mZnNldC54KSAvIG5ld1pvb207XHJcbiAgICBjb25zdCBhZnRlclkgPSAobW91c2VZIC0gcGFuT2Zmc2V0LnkpIC8gbmV3Wm9vbTtcclxuICAgIFxyXG4gICAgLy8gQWRqdXN0IHBhbiBvZmZzZXQgdG8ga2VlcCB0aGUgcG9pbnQgdW5kZXIgbW91c2UgaW4gdGhlIHNhbWUgcG9zaXRpb25cclxuICAgIGNvbnN0IG5ld1Bhbk9mZnNldFggPSBwYW5PZmZzZXQueCAtIChhZnRlclggLSBiZWZvcmVYKSAqIG5ld1pvb207XHJcbiAgICBjb25zdCBuZXdQYW5PZmZzZXRZID0gcGFuT2Zmc2V0LnkgLSAoYWZ0ZXJZIC0gYmVmb3JlWSkgKiBuZXdab29tO1xyXG4gICAgXHJcbiAgICBzZXRab29tTGV2ZWwobmV3Wm9vbSk7XHJcbiAgICBzZXRQYW5PZmZzZXQoeyB4OiBuZXdQYW5PZmZzZXRYLCB5OiBuZXdQYW5PZmZzZXRZIH0pO1xyXG4gIH0sIFt6b29tTGV2ZWwsIHBhbk9mZnNldF0pO1xyXG5cclxuICAvLyBIYW5kbGUgbW91c2UgZXZlbnRzIGZvciBwYW5uaW5nXHJcbiAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICAvLyBNaWRkbGUgbW91c2UgYnV0dG9uIChidXR0b24gMSkgb3IgbGVmdCBtb3VzZSB3aXRoIEFsdCBrZXkgZm9yIHBhbm5pbmdcclxuICAgIGlmIChlLmJ1dHRvbiA9PT0gMSB8fCAoZS5idXR0b24gPT09IDAgJiYgKGUuYWx0S2V5IHx8IGN1cnNvclN0eWxlID09PSBcImdyYWJcIikpKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgc2V0SXNQYW5uaW5nKHRydWUpO1xyXG4gICAgICBzZXRMYXN0TW91c2VQb3NpdGlvbih7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pO1xyXG4gICAgICBzZXRDdXJzb3JTdHlsZShcImdyYWJiaW5nXCIpO1xyXG4gICAgfVxyXG4gIH0sIFtjdXJzb3JTdHlsZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSB1c2VDYWxsYmFjaygoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcclxuICAgIGlmIChpc1Bhbm5pbmcgJiYgbGFzdE1vdXNlUG9zaXRpb24pIHtcclxuICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gbGFzdE1vdXNlUG9zaXRpb24ueDtcclxuICAgICAgY29uc3QgZGVsdGFZID0gZS5jbGllbnRZIC0gbGFzdE1vdXNlUG9zaXRpb24ueTtcclxuICAgICAgXHJcbiAgICAgIHNldFBhbk9mZnNldChwcmV2ID0+ICh7XHJcbiAgICAgICAgeDogcHJldi54ICsgZGVsdGFYLFxyXG4gICAgICAgIHk6IHByZXYueSArIGRlbHRhWVxyXG4gICAgICB9KSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRMYXN0TW91c2VQb3NpdGlvbih7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtpc1Bhbm5pbmcsIGxhc3RNb3VzZVBvc2l0aW9uXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoaXNQYW5uaW5nKSB7XHJcbiAgICAgIHNldElzUGFubmluZyhmYWxzZSk7XHJcbiAgICAgIHNldEN1cnNvclN0eWxlKGN1cnNvclN0eWxlID09PSBcImdyYWJiaW5nXCIgPyBcImdyYWJcIiA6IFwiZGVmYXVsdFwiKTtcclxuICAgIH1cclxuICB9LCBbaXNQYW5uaW5nLCBjdXJzb3JTdHlsZV0pO1xyXG5cclxuICAvLyBBbHNvIHN0b3AgcGFubmluZyBpZiBtb3VzZSBsZWF2ZXMgdGhlIGNhbnZhcyBhcmVhXHJcbiAgY29uc3QgaGFuZGxlTW91c2VMZWF2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmIChpc1Bhbm5pbmcpIHtcclxuICAgICAgc2V0SXNQYW5uaW5nKGZhbHNlKTtcclxuICAgICAgc2V0Q3Vyc29yU3R5bGUoY3Vyc29yU3R5bGUgPT09IFwiZ3JhYmJpbmdcIiA/IFwiZ3JhYlwiIDogXCJkZWZhdWx0XCIpO1xyXG4gICAgfVxyXG4gIH0sIFtpc1Bhbm5pbmcsIGN1cnNvclN0eWxlXSk7XHJcblxyXG4gIC8vIFJlZ2lzdGVyIGdsb2JhbCBtb3VzZSB1cCB0byBoYW5kbGUgY2FzZXMgd2hlcmUgbW91c2UgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgY29tcG9uZW50XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUdsb2JhbE1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChpc1Bhbm5pbmcpIHtcclxuICAgICAgICBzZXRJc1Bhbm5pbmcoZmFsc2UpO1xyXG4gICAgICAgIHNldEN1cnNvclN0eWxlKGN1cnNvclN0eWxlID09PSBcImdyYWJiaW5nXCIgPyBcImdyYWJcIiA6IFwiZGVmYXVsdFwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVHbG9iYWxNb3VzZVVwKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlR2xvYmFsTW91c2VVcCk7XHJcbiAgICB9O1xyXG4gIH0sIFtpc1Bhbm5pbmcsIGN1cnNvclN0eWxlXSk7XHJcblxyXG4gIC8vIFpvb20gaW4gYnV0dG9uIGhhbmRsZXJcclxuICBjb25zdCBoYW5kbGVab29tSW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oTUFYX1pPT00sIHpvb21MZXZlbCArIFpPT01fU1RFUCk7XHJcbiAgICBzZXRab29tTGV2ZWwobmV3Wm9vbSk7XHJcbiAgfSwgW3pvb21MZXZlbF0pO1xyXG5cclxuICAvLyBab29tIG91dCBidXR0b24gaGFuZGxlclxyXG4gIGNvbnN0IGhhbmRsZVpvb21PdXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdab29tID0gTWF0aC5tYXgoTUlOX1pPT00sIHpvb21MZXZlbCAtIFpPT01fU1RFUCk7XHJcbiAgICBzZXRab29tTGV2ZWwobmV3Wm9vbSk7XHJcbiAgfSwgW3pvb21MZXZlbF0pO1xyXG5cclxuICAvLyBSZXNldCB6b29tIGFuZCBwYW4gYnV0dG9uIGhhbmRsZXJcclxuICBjb25zdCByZXNldFpvb21BbmRQYW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRab29tTGV2ZWwoMSk7XHJcbiAgICBzZXRQYW5PZmZzZXQoeyB4OiAwLCB5OiAwIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gTW9kaWZpZWQgaGFuZGxlRHJvcCBmdW5jdGlvbiB0byBhY2NvdW50IGZvciB6b29tIGxldmVsIGFuZCBwYW4gb2Zmc2V0XHJcbiAgY29uc3QgaGFuZGxlRHJvcCA9IHVzZUNhbGxiYWNrKChpdGVtOiBMaWJyYXJ5SXRlbSwgZHJvcFg6IG51bWJlciwgZHJvcFk6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKG9uQ29tcG9uZW50QWRkKSB7XHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY2VudGVyIHBvaW50IG9mZnNldCBiYXNlZCBvbiBpdGVtIGRpbWVuc2lvbnNcclxuICAgICAgY29uc3QgY2VudGVyT2Zmc2V0WCA9IChpdGVtLndpZHRoIHx8IDEwMCkgLyAyO1xyXG4gICAgICBjb25zdCBjZW50ZXJPZmZzZXRZID0gKGl0ZW0uaGVpZ2h0IHx8IDEwMCkgLyAyO1xyXG4gICAgICBcclxuICAgICAgLy8gQ29udmVydCBzY3JlZW4gY29vcmRpbmF0ZXMgdG8gY2FudmFzIGNvb3JkaW5hdGVzXHJcbiAgICAgIGNvbnN0IGNhbnZhc0Nvb3JkcyA9IHNjcmVlblRvQ2FudmFzKGRyb3BYLCBkcm9wWSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZGp1c3QgdGhlIGRyb3AgcG9zaXRpb24gZm9yIGNvbXBvbmVudCBjZW50ZXJcclxuICAgICAgY29uc3QgYWRqdXN0ZWRYID0gTWF0aC5tYXgoMCwgY2FudmFzQ29vcmRzLnggLSBjZW50ZXJPZmZzZXRYKTtcclxuICAgICAgY29uc3QgYWRqdXN0ZWRZID0gTWF0aC5tYXgoMCwgY2FudmFzQ29vcmRzLnkgLSBjZW50ZXJPZmZzZXRZKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEVuc3VyZSB0aGUgaXRlbSBoYXMgYWxsIHJlcXVpcmVkIHNwZWNzXHJcbiAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IHtcclxuICAgICAgICAuLi5pdGVtLFxyXG4gICAgICAgIHg6IGFkanVzdGVkWCxcclxuICAgICAgICB5OiBhZGp1c3RlZFksXHJcbiAgICAgICAgaW5zdGFuY2VJZDogYCR7aXRlbS5pZH0tJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgcm90YXRpb246IDAuMCxcclxuICAgICAgICAvLyBFbnN1cmUgc3BlY3Mgb2JqZWN0IGhhcyBhbGwgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgICAgc3BlY3M6IHtcclxuICAgICAgICAgIHBvd2VyOiBpdGVtLnNwZWNzPy5wb3dlciB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgcmVzaXN0YW5jZTogaXRlbS5zcGVjcz8ucmVzaXN0YW5jZSB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgdG9sZXJhbmNlOiBpdGVtLnNwZWNzPy50b2xlcmFuY2UgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIC4uLml0ZW0uc3BlY3NcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIG9uQ29tcG9uZW50QWRkKG5ld0NvbXBvbmVudCwgJ2FkZCcpO1xyXG4gICAgfVxyXG4gICAgb25Ecm9wQ29tcGxldGUoKTtcclxuICB9LCBbb25Db21wb25lbnRBZGQsIG9uRHJvcENvbXBsZXRlLCBzY3JlZW5Ub0NhbnZhc10pO1xyXG4gIFxyXG4gIGNvbnN0IFt7IGlzT3ZlciB9LCBkcm9wXSA9IHVzZURyb3AoKCkgPT4gKHtcclxuICAgIGFjY2VwdDogXCJsaWJyYXJ5SXRlbVwiLFxyXG4gICAgZHJvcDogKGl0ZW06IExpYnJhcnlJdGVtLCBtb25pdG9yKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IG1vbml0b3IuZ2V0Q2xpZW50T2Zmc2V0KCk7XHJcbiAgICAgIGlmIChvZmZzZXQgJiYgY2FudmFzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBoYW5kbGVEcm9wKGl0ZW0sIG9mZnNldC54LCBvZmZzZXQueSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb2xsZWN0OiAobW9uaXRvcikgPT4gKHtcclxuICAgICAgaXNPdmVyOiAhIW1vbml0b3IuaXNPdmVyKCksXHJcbiAgICB9KSxcclxuICB9KSwgW2hhbmRsZURyb3BdKTtcclxuICBcclxuICBjb25zdCBoYW5kbGVEcmFnU3RvcCA9IHVzZUNhbGxiYWNrKChpbnN0YW5jZUlkOiBzdHJpbmcsIGRhdGE6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgaWYgKCFjb21wb25lbnRzKSByZXR1cm47XHJcbiAgXHJcbiAgICBjb25zdCB1cGRhdGVkUG9zaXRpb25zID0ge1xyXG4gICAgICAuLi5wb3NpdGlvbnMsXHJcbiAgICAgIFtpbnN0YW5jZUlkXTogeyB4OiBkYXRhLngsIHk6IGRhdGEueSB9XHJcbiAgICB9O1xyXG4gICAgc2V0UG9zaXRpb25zKHVwZGF0ZWRQb3NpdGlvbnMpO1xyXG4gICAgXHJcbiAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzLmZpbmQoY29tcCA9PiBjb21wLmluc3RhbmNlSWQgPT09IGluc3RhbmNlSWQpO1xyXG4gICAgaWYgKGNvbXBvbmVudCAmJiBvbkNvbXBvbmVudEFkZCkge1xyXG4gICAgICBvbkNvbXBvbmVudEFkZCh7IFxyXG4gICAgICAgIC4uLmNvbXBvbmVudCwgXHJcbiAgICAgICAgeDogZGF0YS54LCBcclxuICAgICAgICB5OiBkYXRhLnksXHJcbiAgICAgICAgcm90YXRpb246IHJvdGF0aW9uc1tpbnN0YW5jZUlkXSB8fCAwLjAsXHJcbiAgICAgICAgLy8gRW5zdXJlIHNwZWNzIG9iamVjdCBoYXMgYWxsIHJlcXVpcmVkIGZpZWxkc1xyXG4gICAgICAgIHNwZWNzOiB7XHJcbiAgICAgICAgICBwb3dlcjogY29tcG9uZW50LnNwZWNzPy5wb3dlciB8fCBbXCJkZWZhdWx0XCJdLFxyXG4gICAgICAgICAgcmVzaXN0YW5jZTogY29tcG9uZW50LnNwZWNzPy5yZXNpc3RhbmNlIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICB0b2xlcmFuY2U6IGNvbXBvbmVudC5zcGVjcz8udG9sZXJhbmNlIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICAuLi5jb21wb25lbnQuc3BlY3NcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdtb3ZlJyk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbXBvbmVudHMsIHBvc2l0aW9ucywgcm90YXRpb25zLCBvbkNvbXBvbmVudEFkZF0pO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVJvdGF0ZSA9IHVzZUNhbGxiYWNrKChpbnN0YW5jZUlkOiBzdHJpbmcsIGRlZ3JlZXM6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFJvdGF0aW9uID0gcm90YXRpb25zW2luc3RhbmNlSWRdIHx8IDA7XHJcbiAgICBjb25zdCBuZXdSb3RhdGlvbiA9IChjdXJyZW50Um90YXRpb24gKyBkZWdyZWVzKSAlIDM2MDtcclxuICAgIFxyXG4gICAgc2V0Um90YXRpb25zKHByZXYgPT4gKHtcclxuICAgICAgLi4ucHJldixcclxuICAgICAgW2luc3RhbmNlSWRdOiBuZXdSb3RhdGlvblxyXG4gICAgfSkpO1xyXG4gIFxyXG4gICAgY29uc3QgY29tcG9uZW50ID0gY29tcG9uZW50cy5maW5kKGNvbXAgPT4gY29tcC5pbnN0YW5jZUlkID09PSBpbnN0YW5jZUlkKTtcclxuICAgIGlmIChjb21wb25lbnQgJiYgb25Db21wb25lbnRBZGQpIHtcclxuICAgICAgb25Db21wb25lbnRBZGQoe1xyXG4gICAgICAgIC4uLmNvbXBvbmVudCxcclxuICAgICAgICByb3RhdGlvbjogbmV3Um90YXRpb24sXHJcbiAgICAgICAgeDogcG9zaXRpb25zW2luc3RhbmNlSWRdPy54IHx8IGNvbXBvbmVudC54LFxyXG4gICAgICAgIHk6IHBvc2l0aW9uc1tpbnN0YW5jZUlkXT8ueSB8fCBjb21wb25lbnQueSxcclxuICAgICAgICAvLyBFbnN1cmUgc3BlY3Mgb2JqZWN0IGhhcyBhbGwgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgICAgc3BlY3M6IHtcclxuICAgICAgICAgIHBvd2VyOiBjb21wb25lbnQuc3BlY3M/LnBvd2VyIHx8IFtcImRlZmF1bHRcIl0sXHJcbiAgICAgICAgICByZXNpc3RhbmNlOiBjb21wb25lbnQuc3BlY3M/LnJlc2lzdGFuY2UgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIHRvbGVyYW5jZTogY29tcG9uZW50LnNwZWNzPy50b2xlcmFuY2UgfHwgW1wiZGVmYXVsdFwiXSxcclxuICAgICAgICAgIC4uLmNvbXBvbmVudC5zcGVjc1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ21vdmUnKTtcclxuICAgIH1cclxuICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAsIGluc3RhbmNlSWQ6ICcnIH0pO1xyXG4gIH0sIFtjb21wb25lbnRzLCBwb3NpdGlvbnMsIHJvdGF0aW9ucywgb25Db21wb25lbnRBZGRdKTtcclxuXHJcbiAgY29uc3Qgc2F2ZUFzUE5HID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgaHRtbDJjYW52YXMoY2FudmFzUmVmLmN1cnJlbnQpLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBcImNhbnZhcy5wbmdcIjtcclxuICAgICAgbGluay5ocmVmID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcclxuICAgICAgbGluay5jbGljaygpO1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBwcmludENhbnZhcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIGh0bWwyY2FudmFzKGNhbnZhc1JlZi5jdXJyZW50KS50aGVuKChjYW52YXMpID0+IHtcclxuICAgICAgY29uc3QgbmV3V2luZG93ID0gd2luZG93Lm9wZW4oKTtcclxuICAgICAgaWYgKG5ld1dpbmRvdykge1xyXG4gICAgICAgIG5ld1dpbmRvdy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7Y2FudmFzLnRvRGF0YVVSTCgpfVwiIHN0eWxlPVwid2lkdGg6MTAwJTsgaGVpZ2h0OmF1dG87XCI+YDtcclxuICAgICAgICBuZXdXaW5kb3cucHJpbnQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBIYW5kbGUgcmlnaHQtY2xpY2sgdG8gb3BlbiBjb250ZXh0IG1lbnUgLSBJTVBST1ZFRCBQT1NJVElPTklOR1xyXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51ID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGluc3RhbmNlSWQ6IHN0cmluZywgZWxlbWVudFJlY3Q6IERPTVJlY3QpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgLy8gUG9zaXRpb24gbWVudSByZWxhdGl2ZSB0byB0aGUgY2xpY2sgcG9pbnQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCdzIGVkZ2VcclxuICAgIC8vIFRoaXMga2VlcHMgaXQgY2xvc2UgdG8gd2hlcmUgdGhlIHVzZXIgY2xpY2tlZFxyXG4gICAgY29uc3QgbWVudVggPSBlLmNsaWVudFg7XHJcbiAgICBjb25zdCBtZW51WSA9IGUuY2xpZW50WTtcclxuICAgIFxyXG4gICAgc2V0Q29udGV4dE1lbnUoe1xyXG4gICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICB4OiBtZW51WCxcclxuICAgICAgeTogbWVudVksXHJcbiAgICAgIGluc3RhbmNlSWQsXHJcbiAgICAgIGNvbXBvbmVudFJlY3Q6IGVsZW1lbnRSZWN0XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEhhbmRsZSBkZWxldGUgZnJvbSBjb250ZXh0IG1lbnVcclxuICBjb25zdCBoYW5kbGVEZWxldGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoY29udGV4dE1lbnUuaW5zdGFuY2VJZCAmJiBvbkNvbXBvbmVudERlbGV0ZSkge1xyXG4gICAgICBvbkNvbXBvbmVudERlbGV0ZShjb250ZXh0TWVudS5pbnN0YW5jZUlkKTtcclxuICAgIH1cclxuICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAsIGluc3RhbmNlSWQ6ICcnIH0pO1xyXG4gIH0sIFtjb250ZXh0TWVudS5pbnN0YW5jZUlkLCBvbkNvbXBvbmVudERlbGV0ZV0pO1xyXG5cclxuICAvLyBIaWRlIGNvbnRleHQgbWVudSB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcclxuICAgICAgaWYgKGNvbnRleHRNZW51LnZpc2libGUpIHtcclxuICAgICAgICBzZXRDb250ZXh0TWVudSh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwLCBpbnN0YW5jZUlkOiAnJyB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xyXG4gICAgfTtcclxuICB9LCBbY29udGV4dE1lbnUudmlzaWJsZV0pO1xyXG5cclxuICAvLyBLZXlib2FyZCBzaG9ydGN1dHMgZm9yIHBhbm5pbmcgYW5kIHpvb21pbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIFNwYWNlIGJhciB0b2dnbGUgcGFuIG1vZGVcclxuICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJyAmJiAhZS5yZXBlYXQpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2V0Q3Vyc29yU3R5bGUocHJldiA9PiBwcmV2ID09PSBcImdyYWJcIiA/IFwiZGVmYXVsdFwiIDogXCJncmFiXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyArIGtleSBmb3Igem9vbSBpblxyXG4gICAgICBpZiAoZS5rZXkgPT09ICcrJyB8fCBlLmtleSA9PT0gJz0nKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGhhbmRsZVpvb21JbigpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyAtIGtleSBmb3Igem9vbSBvdXRcclxuICAgICAgaWYgKGUua2V5ID09PSAnLScgfHwgZS5rZXkgPT09ICdfJykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoYW5kbGVab29tT3V0KCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIDAgb3IgciBrZXkgZm9yIHJlc2V0XHJcbiAgICAgIGlmIChlLmtleSA9PT0gJzAnIHx8IGUua2V5ID09PSAncicpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmVzZXRab29tQW5kUGFuKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGhhbmRsZUtleVVwID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgLy8gUmVsZWFzZSBzcGFjZSBiYXJcclxuICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoIWlzUGFubmluZykge1xyXG4gICAgICAgICAgc2V0Q3Vyc29yU3R5bGUocHJldiA9PiBwcmV2ID09PSBcImdyYWJcIiA/IFwiZGVmYXVsdFwiIDogXCJncmFiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleVVwKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGFuZGxlS2V5VXApO1xyXG4gICAgfTtcclxuICB9LCBbaGFuZGxlWm9vbUluLCBoYW5kbGVab29tT3V0LCByZXNldFpvb21BbmRQYW4sIGlzUGFubmluZ10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbCBtYXgtaC1zY3JlZW5cIj5cclxuICAgICAgey8qIFRvcCBDb250cm9scyBCYXIgLSBDb21iaW5lZCB6b29tIGNvbnRyb2xzIGFuZCBleHBvcnQgYnV0dG9ucyAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0xMDAgcC0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0xXCI+XHJcbiAgICAgICAgey8qIExlZnQgc2lkZTogWm9vbSBjb250cm9scyAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlWm9vbU91dH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e3pvb21MZXZlbCA8PSBNSU5fWk9PTX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0xIHJvdW5kZWQgJHt6b29tTGV2ZWwgPD0gTUlOX1pPT00gPyAndGV4dC1ncmF5LTQwMCcgOiAndGV4dC1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTEwMCd9YH1cclxuICAgICAgICAgICAgdGl0bGU9XCJab29tIE91dCAoLSBrZXkpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFpvb21PdXQgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHctMTYgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAge01hdGgucm91bmQoem9vbUxldmVsICogMTAwKX0lXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlWm9vbUlufVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17em9vbUxldmVsID49IE1BWF9aT09NfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BwLTEgcm91bmRlZCAke3pvb21MZXZlbCA+PSBNQVhfWk9PTSA/ICd0ZXh0LWdyYXktNDAwJyA6ICd0ZXh0LWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtMTAwJ31gfVxyXG4gICAgICAgICAgICB0aXRsZT1cIlpvb20gSW4gKCsga2V5KVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxab29tSW4gc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVQYW5Ub29sfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BwLTEgcm91bmRlZCAke2N1cnNvclN0eWxlID09PSBcImdyYWJcIiB8fCBjdXJzb3JTdHlsZSA9PT0gXCJncmFiYmluZ1wiID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIDogJ3RleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS0xMDAnfWB9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiUGFuIFRvb2wgKFNwYWNlIGtleSlcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TW92ZSBzaXplPXsxOH0gLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3Jlc2V0Wm9vbUFuZFBhbn1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZVwiXHJcbiAgICAgICAgICAgIHRpdGxlPVwiUmVzZXQgVmlldyAoMCBrZXkpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgUmVzZXRcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBDZW50ZXI6IEluZm8gKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgaGlkZGVuIG1kOmlubGluZVwiPlxyXG4gICAgICAgICAgKE1pZGRsZS1jbGljayB0byBwYW4sIHNjcm9sbCB0byB6b29tKVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBSaWdodCBzaWRlOiBFeHBvcnQgYnV0dG9ucyAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtzYXZlQXNQTkd9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHB4LTIgcHktMSByb3VuZGVkIHNoYWRvdyBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgdGl0bGU9XCJTYXZlIGFzIFBOR1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxTYXZlIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICA8c3Bhbj5QTkc8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17cHJpbnRDYW52YXN9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBweC0yIHB5LTEgcm91bmRlZCBzaGFkb3cgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtc21cIlxyXG4gICAgICAgICAgICB0aXRsZT1cIlByaW50IENhbnZhc1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxQcmludGVyIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICA8c3Bhbj5QcmludDwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIHsvKiBDYW52YXMgQ29udGFpbmVyIHdpdGggT3ZlcmZsb3cgKi99XHJcbiAgICAgIDxkaXYgXHJcbiAgICAgICAgcmVmPXtjYW52YXNDb250YWluZXJSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1ncm93IHctZnVsbCBwLTEgb3ZlcmZsb3ctYXV0b1wiXHJcbiAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcImNhbGMoMTAwdmggLSAxMTBweClcIiB9fSAvLyBBZGp1c3RlZCBoZWlnaHQgdG8gZml0IGluIHZpZXdwb3J0XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICByZWY9eyhub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Aobm9kZSk7XHJcbiAgICAgICAgICAgIGNhbnZhc1JlZi5jdXJyZW50ID0gbm9kZTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBiZy1bI2VmZjBmMV0gJHtcclxuICAgICAgICAgICAgaXNPdmVyID8gXCJib3JkZXItMiBib3JkZXItYmx1ZS01MDBcIiA6IFwiXCJcclxuICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke3pvb21MZXZlbH0pYCxcclxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBcInRvcCBsZWZ0XCIsXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IFwidHJhbnNmb3JtIDAuMXMgZWFzZS1vdXRcIixcclxuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3JTdHlsZSxcclxuICAgICAgICAgICAgbWFyZ2luTGVmdDogcGFuT2Zmc2V0LngsXHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogcGFuT2Zmc2V0LnlcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbldoZWVsPXtoYW5kbGVXaGVlbH1cclxuICAgICAgICAgIG9uTW91c2VEb3duPXtoYW5kbGVNb3VzZURvd259XHJcbiAgICAgICAgICBvbk1vdXNlTW92ZT17aGFuZGxlTW91c2VNb3ZlfVxyXG4gICAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVNb3VzZVVwfVxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHtjb21wb25lbnRzPy5tYXAoKGl0ZW0pID0+IChcclxuICAgICAgICAgICAgPERyYWdnYWJsZVxyXG4gICAgICAgICAgICAgIGtleT17aXRlbS5pbnN0YW5jZUlkfVxyXG4gICAgICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbj17eyB4OiBpdGVtLngsIHk6IGl0ZW0ueSB9fVxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbnNbaXRlbS5pbnN0YW5jZUlkXX1cclxuICAgICAgICAgICAgICBvblN0b3A9eyhlLCBkYXRhKSA9PiBoYW5kbGVEcmFnU3RvcChpdGVtLmluc3RhbmNlSWQsIGRhdGEpfVxyXG4gICAgICAgICAgICAgIGJvdW5kcz1cInBhcmVudFwiXHJcbiAgICAgICAgICAgICAgaGFuZGxlPVwiLmRyYWctaGFuZGxlXCJcclxuICAgICAgICAgICAgICBzY2FsZT17em9vbUxldmVsfSAvLyBTY2FsZSBmYWN0b3IgZm9yIERyYWdnYWJsZVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1Bhbm5pbmcgfHwgY3Vyc29yU3R5bGUgPT09IFwiZ3JhYlwifSAvLyBEaXNhYmxlIGRyYWdnaW5nIHdoZW4gcGFubmluZ1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGN1cnNvci1tb3ZlXCJcclxuICAgICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZWxlbWVudCdzIGJvdW5kaW5nIHJlY3RhbmdsZSB0byBwb3NpdGlvbiB0aGUgY29udGV4dCBtZW51IGJldHRlclxyXG4gICAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICBoYW5kbGVDb250ZXh0TWVudShlLCBpdGVtLmluc3RhbmNlSWQsIHJlY3QpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcmFnLWhhbmRsZSByZWxhdGl2ZVwiXHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7aXRlbS5zdmd9KWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtpdGVtLndpZHRoIHx8IDEwMH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtpdGVtLmhlaWdodCB8fCAxMDB9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3JvdGF0aW9uc1tpdGVtLmluc3RhbmNlSWRdIHx8IDB9ZGVnKWAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjNzIGVhc2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogaXNQYW5uaW5nIHx8IGN1cnNvclN0eWxlID09PSBcImdyYWJcIiA/IGN1cnNvclN0eWxlIDogXCJtb3ZlXCJcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgey8qIE9wdGlvbmFsOiBBZGQgZWxlbWVudCBsYWJlbCBmb3IgZGVidWdnaW5nICovfVxyXG4gICAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgdGV4dC14cyBiZy1ibGFjay81MCB0ZXh0LXdoaXRlIHB4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICB7aXRlbS53aWR0aH14e2l0ZW0uaGVpZ2h0fVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9EcmFnZ2FibGU+XHJcbiAgICAgICAgICApKX1cclxuXHJcbiAgICAgICAgICB7LyogQ29udGV4dCBNZW51IC0gTm93IHBvc2l0aW9uZWQgYXQgdGhlIG1vdXNlIGNsaWNrIHBvaW50ICovfVxyXG4gICAgICAgICAge2NvbnRleHRNZW51LnZpc2libGUgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJnLXdoaXRlIHNoYWRvdy1sZyByb3VuZGVkLW1kIHB5LTIgei01MFwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHRvcDogYCR7Y29udGV4dE1lbnUueX1weGAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBgJHtjb250ZXh0TWVudS54fXB4YCxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJvdGF0ZShjb250ZXh0TWVudS5pbnN0YW5jZUlkLCA5MCl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgUm90YXRlIDkwwrBcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDBcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUm90YXRlKGNvbnRleHRNZW51Lmluc3RhbmNlSWQsIDE4MCl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgUm90YXRlIDE4MMKwXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwIHRleHQtcmVkLTYwMFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGV9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgRGVsZXRlXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJEcmFnZ2FibGUiLCJ1c2VEcm9wIiwiaHRtbDJjYW52YXMiLCJab29tSW4iLCJab29tT3V0IiwiTW92ZSIsIlNhdmUiLCJQcmludGVyIiwiQ2FudmFzIiwiZmlsZUlkIiwib25EcmFnU3RhcnQiLCJkcmFnZ2VkSW1hZ2UiLCJvbkRyb3BDb21wbGV0ZSIsIm9uQ29tcG9uZW50QWRkIiwiY29tcG9uZW50cyIsIm9uQ29tcG9uZW50RGVsZXRlIiwiY2FudmFzUmVmIiwiY2FudmFzQ29udGFpbmVyUmVmIiwicG9zaXRpb25zIiwic2V0UG9zaXRpb25zIiwicm90YXRpb25zIiwic2V0Um90YXRpb25zIiwiem9vbUxldmVsIiwic2V0Wm9vbUxldmVsIiwicGFuT2Zmc2V0Iiwic2V0UGFuT2Zmc2V0IiwieCIsInkiLCJpc1Bhbm5pbmciLCJzZXRJc1Bhbm5pbmciLCJsYXN0TW91c2VQb3NpdGlvbiIsInNldExhc3RNb3VzZVBvc2l0aW9uIiwiY3Vyc29yU3R5bGUiLCJzZXRDdXJzb3JTdHlsZSIsImNvbnRleHRNZW51Iiwic2V0Q29udGV4dE1lbnUiLCJ2aXNpYmxlIiwiaW5zdGFuY2VJZCIsImNvbXBvbmVudFJlY3QiLCJ1bmRlZmluZWQiLCJNSU5fWk9PTSIsIk1BWF9aT09NIiwiWk9PTV9TVEVQIiwic2NyZWVuVG9DYW52YXMiLCJzY3JlZW5YIiwic2NyZWVuWSIsImN1cnJlbnQiLCJjYW52YXNSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsInRvZ2dsZVBhblRvb2wiLCJwcmV2IiwiaW5pdGlhbFBvc2l0aW9ucyIsImluaXRpYWxSb3RhdGlvbnMiLCJmb3JFYWNoIiwiY29tcCIsInJvdGF0aW9uIiwiaGFuZGxlV2hlZWwiLCJlIiwicHJldmVudERlZmF1bHQiLCJidXR0b25zIiwiYWx0S2V5IiwiZGVsdGFYIiwiZGVsdGFZIiwiY29udGFpbmVyUmVjdCIsIm1vdXNlWCIsImNsaWVudFgiLCJtb3VzZVkiLCJjbGllbnRZIiwiYmVmb3JlWCIsImJlZm9yZVkiLCJkZWx0YSIsIm5ld1pvb20iLCJNYXRoIiwibWluIiwibWF4IiwiYWZ0ZXJYIiwiYWZ0ZXJZIiwibmV3UGFuT2Zmc2V0WCIsIm5ld1Bhbk9mZnNldFkiLCJoYW5kbGVNb3VzZURvd24iLCJidXR0b24iLCJoYW5kbGVNb3VzZU1vdmUiLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTW91c2VMZWF2ZSIsImhhbmRsZUdsb2JhbE1vdXNlVXAiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVpvb21JbiIsImhhbmRsZVpvb21PdXQiLCJyZXNldFpvb21BbmRQYW4iLCJoYW5kbGVEcm9wIiwiaXRlbSIsImRyb3BYIiwiZHJvcFkiLCJjZW50ZXJPZmZzZXRYIiwid2lkdGgiLCJjZW50ZXJPZmZzZXRZIiwiaGVpZ2h0IiwiY2FudmFzQ29vcmRzIiwiYWRqdXN0ZWRYIiwiYWRqdXN0ZWRZIiwibmV3Q29tcG9uZW50IiwiRGF0ZSIsImlkIiwibm93Iiwic3BlY3MiLCJwb3dlciIsInJlc2lzdGFuY2UiLCJ0b2xlcmFuY2UiLCJpc092ZXIiLCJkcm9wIiwiYWNjZXB0IiwibW9uaXRvciIsIm9mZnNldCIsImdldENsaWVudE9mZnNldCIsImNvbGxlY3QiLCJoYW5kbGVEcmFnU3RvcCIsImRhdGEiLCJ1cGRhdGVkUG9zaXRpb25zIiwiY29tcG9uZW50IiwiZmluZCIsImhhbmRsZVJvdGF0ZSIsImRlZ3JlZXMiLCJjdXJyZW50Um90YXRpb24iLCJuZXdSb3RhdGlvbiIsInNhdmVBc1BORyIsInRoZW4iLCJjYW52YXMiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZG93bmxvYWQiLCJocmVmIiwidG9EYXRhVVJMIiwiY2xpY2siLCJwcmludENhbnZhcyIsIm5ld1dpbmRvdyIsIm9wZW4iLCJib2R5IiwiaW5uZXJIVE1MIiwicHJpbnQiLCJoYW5kbGVDb250ZXh0TWVudSIsImVsZW1lbnRSZWN0IiwibWVudVgiLCJtZW51WSIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUNsaWNrIiwiaGFuZGxlS2V5RG93biIsImNvZGUiLCJyZXBlYXQiLCJrZXkiLCJoYW5kbGVLZXlVcCIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInRpdGxlIiwic2l6ZSIsInJvdW5kIiwic3BhbiIsInJlZiIsInN0eWxlIiwibm9kZSIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU9yaWdpbiIsInRyYW5zaXRpb24iLCJjdXJzb3IiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwib25XaGVlbCIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJtYXAiLCJkZWZhdWx0UG9zaXRpb24iLCJwb3NpdGlvbiIsIm9uU3RvcCIsImJvdW5kcyIsImhhbmRsZSIsInNjYWxlIiwib25Db250ZXh0TWVudSIsInJlY3QiLCJjdXJyZW50VGFyZ2V0IiwiYmFja2dyb3VuZEltYWdlIiwic3ZnIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwic3RvcFByb3BhZ2F0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(routes)/workspace/_components/Canvas.tsx\n"));

/***/ })

});